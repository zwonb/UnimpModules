if("undefined"==typeof Promise||Promise.prototype.finally||(Promise.prototype.finally=function(e){const t=this.constructor;return this.then((a=>t.resolve(e()).then((()=>a))),(a=>t.resolve(e()).then((()=>{throw a}))))}),"undefined"!=typeof uni&&uni&&uni.requireGlobal){const e=uni.requireGlobal();ArrayBuffer=e.ArrayBuffer,Int8Array=e.Int8Array,Uint8Array=e.Uint8Array,Uint8ClampedArray=e.Uint8ClampedArray,Int16Array=e.Int16Array,Uint16Array=e.Uint16Array,Int32Array=e.Int32Array,Uint32Array=e.Uint32Array,Float32Array=e.Float32Array,Float64Array=e.Float64Array,BigInt64Array=e.BigInt64Array,BigUint64Array=e.BigUint64Array}uni.restoreGlobal&&uni.restoreGlobal(Vue,weex,plus,setTimeout,clearTimeout,setInterval,clearInterval),function(e){"use strict";function t(e){return weex.requireModule(e)}function a(e,t,...a){uni.__log__?uni.__log__(e,t,...a):console[e].apply(console,[...a,t])}function l(e,t){return"string"==typeof e?t:e}const o=(t=>(a,l=e.getCurrentInstance())=>{!e.isInSSRComponentSetup&&e.injectHook(t,a,l)})("onLoad"),n=(e,t)=>{const a=e.__vccOpts||e;for(const[l,o]of t)a[l]=o;return a};const s=n({data:()=>({config:{Bg:"hide",Box:"hide",iconCss:"",iconFont:"",title:"",tips:"",tips2:"",tips3:"",bindLeftBtn:"",bindLeftBtnCss:"",leftBtn:"",bindRightBtn:"",rightBtn:"",bindRightBtnCss:""}}),props:{config:{type:Object,default:{Bg:"hide",Box:"hide",iconCss:"",iconFont:"",title:"",tips:"",tips2:"",tips3:"",bindLeftBtn:"",bindLeftBtnCss:"",leftBtn:"",bindRightBtn:"",rightBtn:"",bindRightBtnCss:""}}},methods:{close:function(e){this.$emit("btnClose")},bgClose:function(){this.$emit("btnBgClose")},sure:function(e){this.$emit("btnSure")}}},[["render",function(t,a,l,o,n,s){return e.openBlock(),e.createElementBlock(e.Fragment,null,[e.createElementVNode("view",{class:e.normalizeClass(["sysTemBg",l.config.Bg]),onClick:a[0]||(a[0]=(...e)=>s.bgClose&&s.bgClose(...e))},null,2),e.createElementVNode("view",{class:e.normalizeClass(["sysTemBox",l.config.Box])},[l.config.showRtClose?(e.openBlock(),e.createElementBlock("text",{key:0,class:"iconfont icon-guanbi",onClick:a[1]||(a[1]=(...e)=>s.bgClose&&s.bgClose(...e))})):e.createCommentVNode("",!0),e.createElementVNode("view",{class:e.normalizeClass(["weiXinLogo",l.config.iconCss?l.config.iconCss:"red"])},[e.createElementVNode("text",{class:e.normalizeClass(["iconfont",l.config.iconFont?l.config.iconFont:"icon-gantanhao"])},null,2)],2),e.createElementVNode("view",{class:"sysTitle"},e.toDisplayString(l.config.title?l.config.title:"温馨提示"),1),e.createElementVNode("view",{class:"sysTipsBox"},[e.createElementVNode("view",{class:e.normalizeClass(["sysTips",l.config.tipsAlign])},e.toDisplayString(l.config.tips?l.config.tips:""),3),e.createElementVNode("view",{class:e.normalizeClass(["sysTips",l.config.tipsAlign])},e.toDisplayString(l.config.tips2?l.config.tips2:""),3),e.createElementVNode("view",{class:e.normalizeClass(["sysTips",l.config.tipsAlign])},e.toDisplayString(l.config.tips3?l.config.tips3:""),3),(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(l.config.otherTips,(t=>(e.openBlock(),e.createElementBlock("view",{class:e.normalizeClass(["sysTips",l.config.tipsAlign])},e.toDisplayString(t),3)))),256))]),e.createElementVNode("view",{class:"sysBtnBox"},[l.config.showLeftBtn?(e.openBlock(),e.createElementBlock("view",{key:0,class:e.normalizeClass(["sysLeftBtn",l.config.showRightBtn?"":"coverWidth",l.config.bindLeftBtnCss?l.config.bindLeftBtnCss:"bg-greys-JB"]),onClick:a[2]||(a[2]=(...e)=>s.close&&s.close(...e))},e.toDisplayString(l.config.leftBtn?l.config.leftBtn:"关闭"),3)):e.createCommentVNode("",!0),l.config.showRightBtn?(e.openBlock(),e.createElementBlock("view",{key:1,class:e.normalizeClass(["sysRightBtn fr",l.config.showLeftBtn?"":"coverWidth",l.config.bindRightBtnCss?l.config.bindRightBtnCss:"bg-reds-JB"]),onClick:a[3]||(a[3]=(...e)=>s.sure&&s.sure(...e))},e.toDisplayString(l.config.rightBtn?l.config.rightBtn:"确定"),3)):e.createCommentVNode("",!0)])],2)],64)}],["__scopeId","data-v-3614bf2c"]]);var i,c,r;const d=n({data:()=>({version:"",statusBarHeight:0,bannerList:[],appJson:"",sysTipsConfig:{},tipsType:1,serverRoomName:"",phoneType:"huawei",isShowCzSet:1,hideTxtArr:[],mesTxtArr:[],lists:[],layoutArr:[],staffLayout:0,upDetailBool:!0,isOpenBaPingBox:!1,baPing:{},workStatus:{}}),onLoad(){i=getApp(),this.title=i.globalData.env,this.statusBarHeight=i.globalData.statusBarHeight,this.sysTipsConfig=i.getInitSysTipsConfig(),this.phoneType=uni.getDeviceInfo().deviceBrand,this.appJson=uni.getStorageSync("isSetCz"),i.updateAuth(),this.version=i.globalData.appVersion;try{c=t("AppModule"),r=t("WiFiModule")}catch(e){}this.isWifiSignalTips(),this.getSysPhoneSet()},onShow(){i.changeTabbadge(),this.getData()},methods:{imgerror(e,t){this.lists[e].lists[t].icon="/static/images/defaultIcon.png"},isWifiSignalTips(){i.goPost("settings/isWifiSignalTips",{hideLoading:1},(function(e){i.globalData.isWifiCuePlay=e.isWifiCuePlay,r&&1==e.isWifiCuePlay&&(r.registerNetworkListener(),a("log","at pages/index/index.vue:185","registerNetworkListener - OK"),i.wifiWeakSignal())}))},getData(){let e=this;i.goPost("index/getauth",{},(function(t){e.bannerList=t.bannerList,e.lists=t.lists,e.baPing=t.baPing,e.layoutArr=t.layoutArr,e.staffLayout=t.staffLayout,e.workStatus=t.workStatus,1==t.hasBaPing&&e.openBaPingBox()}))},getSysPhoneSet:function(){let e=this;i.goPost("settings/getJsSetting",{},(function(t){e.mesTxtArr=t.mesTxtArr,e.hideTxtArr=t.hideTxtArr,e.isShowCzSet,e.isShowCzSet=2}))},clickBanner(e){let t=this.bannerList[e.currentTarget.dataset.index];0==t.type?uni.navigateTo({url:t.url}):i.goToH5({title:t.title,url:t.url})},clickWork(e){let t=this.workList[e.currentTarget.dataset.index];0==t.type?uni.navigateTo({url:t.path}):i.goToH5({title:t.title,url:t.path})},clickMenu(e){let t=this.lists,a=e.currentTarget.dataset.index,l=e.currentTarget.dataset.index2,o=t[a].lists[l];0==o.type?uni.navigateTo({url:o.pages}):i.goToH5({title:o.name,url:o.pages})},lookNoticePower:function(){if(!c)return!1;"ios"==uni.getSystemInfoSync().platform||(t("NotificationModule").areNotificationsEnabled()?this.appJson||this.openChangzhuBtn():this.openSysBoxBtn())},openSysBoxBtn(){let e=this.phoneType,t=this.sysTipsConfig;var a=this.mesTxtArr,l=["1、请找到[通知管理]","2、开启[允许通知]","3、设置所有通知类型","4、关闭[静默通知]","5、允许打扰"];a.android[e]&&(l=a.android[e]),t.Bg="",t.Box="",t.iconCss="orange",t.iconFont="icon-gantanhao",t.title="消息通知异常",t.tips="",t.otherTips=l,t.tipsAlign="content",t.leftBtn="关闭",t.bindLeftBtnCss="bg-orange-JB",t.showRightBtn=!0,t.rightBtn="设置",t.bindRightBtnCss="bg-red-JB",this.sysTipsConfig=t,this.tipsType=1},openChangzhuBtn(){let e=this.phoneType,t=this.sysTipsConfig;var a=this.hideTxtArr,l=["1、为了保证服务提醒稳定运行，需设置允许App后台运行，并锁定App，关闭省电模式","2、点击设置","3、在[应用启动管理]找到[调理师叮客云智慧足道]","4、关闭[自动管理]，弹窗后开启[允许自启动]、[允许关联启动]、[允许后台活动]，确定即可","切到多任务窗口，滑动到调理师App，往下拉锁定App"];a.android[e]&&(l=a.android[e]),t.Bg="",t.Box="",t.iconCss="orange",t.iconFont="icon-gantanhao",t.title="APP常驻提示",t.tips="",t.otherTips=l,t.tipsAlign="left",t.leftBtn="不会设置",t.bindLeftBtnCss="bg-orange-JB",t.showRightBtn=!0,t.rightBtn="设置",t.bindRightBtnCss="bg-red-JB",this.sysTipsConfig=t,this.tipsType=2},notLikelyset:function(){let e=this.sysTipsConfig;e.Bg="",e.Box="",e.iconCss="orange",e.iconFont="icon-gantanhao",e.title="温馨提示",e.tips="",e.otherTips=["如果不设置App后台运行，使用此方案可能会给手机带来更多的耗电，是否继续？"],e.tipsAlign="left",e.leftBtn="返回",e.bindLeftBtnCss="",e.showRightBtn=!0,e.rightBtn="确定",e.bindRightBtnCss="bg-red-JB",this.sysTipsConfig=e,this.tipsType=4},sureCZset:function(){let e=this.sysTipsConfig;e.Bg="",e.Box="",e.iconCss="orange",e.iconFont="icon-gantanhao",e.title="我已设置完成",e.tips="",e.otherTips=[],e.tipsAlign="left",e.leftBtn="返回",e.bindLeftBtnCss="",e.showRightBtn=!0,e.rightBtn="确定",e.bindRightBtnCss="bg-red-JB",this.sysTipsConfig=e,this.tipsType=5},sureSysBoxBtn(){var e=this;1==e.tipsType?"ios"==uni.getSystemInfoSync().platform?e.iosGoNotificationsEnabled():i.goToAppByAndroid("notificationSetting"):2==e.tipsType?(e.sureCZset(),i.goToAppByAndroid("keepAliveSetting")):3==e.tipsType?e.roomCall():4==e.tipsType?(e.hideRunChange(1),c.appKeepAlive(),c.appBatteryOptimization(),e.closeSysTips()):5==e.tipsType&&(e.hideRunChange(2),c.appKeepAliveRelease(),c.appBatteryOptimization(),e.closeSysTips())},sysleftBtn:function(){var e=this;if(1==e.tipsType&&"ios"!=uni.getSystemInfoSync().platform){if(!e.appJson)return e.openChangzhuBtn(),!1}else{if(2==e.tipsType)return e.notLikelyset(),!1;if(4==e.tipsType||5==e.tipsType)return e.openChangzhuBtn(),!1}e.closeSysTips()},closeSysTips:function(){var e=this.sysTipsConfig;e.Bg="hide",e.Box="hide",this.sysTipsConfig=e},goNews:function(){uni.navigateTo({url:"/pages/news/news"})},goGgNews:function(e){uni.navigateTo({url:"/pages/noticedetail/noticedetail?num="+e})},roomCall(){let e=this,t={roomNum:e.serverRoomName};i.goPost("voice/roomCall",t,(function(){e.closeSysTips()}))},chaServerOrder(){let e=this,t=this.sysTipsConfig;t.Bg="",t.Box="",t.iconCss="orange",t.iconFont="icon-gantanhao",t.tips="",t.otherTips="",t.bindLeftBtnCss="bg-orange-JB",t.bindRightBtnCss="bg-red-JB";i.goPost("order/getnoworder",{hideLoading:1},(function(a){if(a.lists.length>0){let l=a.lists[0].room_name;e.serverRoomName=l,t.title="当前【"+l+"】号房，是否呼叫前台",t.rightBtn="呼叫前台",t.showLeftBtn=!0,t.showRightBtn=!0}else t.leftBtn="确认",t.rightBtn="",t.title="无上钟订单",t.showLeftBtn=!0,t.showRightBtn=!1;e.sysTipsConfig=t,e.tipsType=3}))},iosGoNotificationsEnabled(){var e=plus.ios.import("UIApplication"),t=plus.ios.import("NSURL").URLWithString("app-settings:"),a=e.sharedApplication();a.openURL(t),plus.ios.deleteObject(t),plus.ios.deleteObject(a)},hideRunChange(e){if(1!=e&&2!=e)return void i.showMsg("参数错误");let t={run:e};this.appJson||(this.appJson=e),uni.setStorageSync("isSetCz",e),i.goPost("settings/runChange",t)},openBaPingBox(){this.isOpenBaPingBox=!0},closeBaPingBox(){this.isOpenBaPingBox=!1,this.updateBaPingRead()},goBaPingDetail(){this.closeBaPingBox();let e=this.baPing;""!=e.url&&uni.navigateTo({url:e.url})},updateBaPingRead(){let e={bpId:this.baPing.id,hideLoading:1};i.goPost("oaapply/updatebapingread",e,(function(e){}))},chaLayout:function(){let e=this,t=i.showActionSheetParams({itemList:e.layoutArr,success:function(t){e.upStaffLayout(t.tapIndex)},fail:function(e){}});e.upDetailBool&&(e.upDetailBool=!1,uni.showActionSheet(t),setTimeout((function(){e.upDetailBool=!0}),1e3))},upStaffLayout(e){let t=this,a={staffLayout:e,hideLoading:1};i.goPost("index/upStaffLayout",a,(function(a){t.staffLayout=e}))}}},[["render",function(t,a,o,n,i,c){const r=l(e.resolveDynamicComponent("ydSystemTips"),s);return e.openBlock(),e.createElementBlock(e.Fragment,null,[e.createElementVNode("view",{class:"topTitleBox",style:e.normalizeStyle({"padding-top":i.statusBarHeight+12+"px"})},[e.createElementVNode("view",{class:e.normalizeClass(["workStatus",i.workStatus.text_color])},[e.createElementVNode("text",{class:e.normalizeClass(["i",i.workStatus.icon_color])},null,2),e.createTextVNode(e.toDisplayString(i.workStatus.text),1)],2),e.createElementVNode("text",{class:"iconfont icon-duanxin hide",onClick:a[0]||(a[0]=e=>c.goNews())}),e.createElementVNode("text",{class:"iconfont icon-qrcode_fill",onClick:a[1]||(a[1]=(...e)=>c.chaLayout&&c.chaLayout(...e))}),e.createElementVNode("text",{class:"iconfont icon-dianhua",onClick:a[2]||(a[2]=(...e)=>c.chaServerOrder&&c.chaServerOrder(...e))})],4),e.createElementVNode("swiper",{class:"banner",circular:!0,"indicator-dots":!1,autoplay:!1,duration:100},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(i.bannerList,((t,l)=>(e.openBlock(),e.createElementBlock("swiper-item",{class:"swiper-item",key:t.id,"data-index":l,onClick:a[3]||(a[3]=(...e)=>c.clickBanner&&c.clickBanner(...e))},[e.createElementVNode("image",{class:"filled-image",mode:"aspectFill",src:t.pic},null,8,["src"])],8,["data-index"])))),128))]),e.createElementVNode("view",{class:"allModelBox"},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(i.lists,((t,l)=>(e.openBlock(),e.createElementBlock("view",{class:"allModelBox-box"},[e.createElementVNode("view",{class:"modelTop"},e.toDisplayString(t.name),1),(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(t.lists,((t,o)=>(e.openBlock(),e.createElementBlock("view",{class:e.normalizeClass(["modelList","layout"+i.staffLayout]),"data-index":l,"data-index2":o,onClick:a[4]||(a[4]=(...e)=>c.clickMenu&&c.clickMenu(...e))},[e.createElementVNode("view",{class:"modelIcon"},[e.createElementVNode("image",{class:"img",onError:e=>c.imgerror(l,o),src:t.icon?t.icon:"/static/images/defaultIcon.png",mode:"widthFix"},null,40,["onError","src"])]),e.createElementVNode("view",{class:"modelTitle"},e.toDisplayString(t.name),1),t.nums>0?(e.openBlock(),e.createElementBlock("text",{key:0,class:"jiaoBiao"},e.toDisplayString(t.nums),1)):e.createCommentVNode("",!0)],10,["data-index","data-index2"])))),256))])))),256))]),e.createElementVNode("view",{class:"IOSBottom"}),e.createVNode(r,{config:i.sysTipsConfig,onBtnSure:c.sureSysBoxBtn,onBtnClose:c.sysleftBtn,onBtnBgClose:c.sysleftBtn},null,8,["config","onBtnSure","onBtnClose","onBtnBgClose"]),i.isOpenBaPingBox?(e.openBlock(),e.createElementBlock("view",{key:0,class:"prompt"},[e.createElementVNode("view",{class:"prompt-shadow"}),e.createElementVNode("view",{class:"pos-middle prompt-box-w90"},[e.createElementVNode("view",{class:"prompt-title text-center"},e.toDisplayString(i.baPing.title),1),e.createElementVNode("view",{class:"prompt-content"},[0==i.baPing.type?(e.openBlock(),e.createElementBlock("text",{key:0,class:"bpText"},e.toDisplayString(i.baPing.content),1)):e.createCommentVNode("",!0),1==i.baPing.type?(e.openBlock(),e.createElementBlock("view",{key:1,class:"bpImg"},[e.createElementVNode("image",{class:"filled-image",mode:"widthFix",src:i.baPing.pic},null,8,["src"])])):e.createCommentVNode("",!0)]),e.createElementVNode("view",{class:"prompt-btn"},[e.createElementVNode("view",{class:"btn-item-full orange",onClick:a[5]||(a[5]=(...e)=>c.goBaPingDetail&&c.goBaPingDetail(...e))},"查看详情")])])])):e.createCommentVNode("",!0)],64)}]]);var m,u,p;const h=n({data:()=>({statusBarHeight:0,appVersion:"",user:{},networkType:"",phoneType:"",notify:!1,mesTxtArr:[],noSettingTxt:"",os:"",env:"",isApproveApp:0,tipsType:"",tipsBool:!1,config:{showRightBtn:!0,showLeftBtn:!0},clickCount:0,lastClickTime:0}),onLoad(){m=getApp(),this.statusBarHeight=m.globalData.statusBarHeight;let e="develop"==m.globalData.env?m.globalData.env+"-":"";this.appVersion=e+m.globalData.appVersion,this.isApproveApp=m.globalData.isApproveApp;try{u=t("AppModule"),p=t("NotificationModule")}catch(l){a("log","at pages/my/my.vue:275","AppModule或NotificationModule加载失败",l)}this.os=m.globalData.os,this.phoneType=uni.getDeviceInfo().deviceBrand,this.env="production",this.getSettingsData()},onShow(){m.changeTabbadge(),this.getData(),this.updateNetworkType(),this.checkNotify()},methods:{updateNetworkType(){let e=this;uni.getNetworkType({success:function(t){e.networkType=t.networkType}})},getData(){let e=this;m.goPost("login/getinfo",{},(function(t){t=m.arrayDecrypt(t),e.user=t,a("log","at pages/my/my.vue:318",t)}))},getSettingsData(){let e=this;m.goPost("settings/getJsSetting",{hideLoading:1},(function(t){e.mesTxtArr=t.mesTxtArr[e.os],e.noSettingTxt=t.noSettingTxt}))},goUrl(e){let t="";if(2==e&&"ios"==m.globalData.os)return m.showMsg("该功能暂不支持当前手机系统"),!1;switch(e){case 1:t="/pages/settings/settings";break;case 2:t="/pages/yuancheng/yuancheng";break;case 3:t="/pages/servicetel/servicetel";break;case 4:t="/pages/appset/appset";break;case 5:t="/pages/auth/auth?hasBack=1";break;case 6:t="/pages/phoneprod/phoneprod";break;case 7:t="/pages/kefu/kefu"}uni.navigateTo({url:t})},goZiZhi(){let e=this;"h5"==e.user.license_type?m.goToH5({title:"资质信息",url:e.user.license_url}):uni.navigateTo({url:e.user.license_url})},logout(){uni.showModal({title:"温馨提示",content:"是否确认退出登录",success(e){e.confirm&&(m.globalData.wifiNoticeBssidArr=[],m.goToLogin())}})},handleClick(){const e=(new Date).getTime();e-this.lastClickTime>1e3?this.clickCount=1:this.clickCount++,this.lastClickTime=e,8===this.clickCount&&(uni.navigateTo({url:"/pages/apptest/apptest"}),this.clickCount=0)},checkNotify(){let e=this;if(!u)return!1;if("ios"==e.os)return e.checkNotifyForIos(),!1;try{e.notify=p.areNotificationsEnabled()}catch(t){a("log","at pages/my/my.vue:464","NotificationModule.areNotificationsEnabled失败",t)}},checkNotifyForIos(){let e=this,t=plus.ios.import("UIApplication").sharedApplication(),a=0;if(t.currentUserNotificationSettings){a=t.currentUserNotificationSettings().plusGetAttribute("types")}else a=t.enabledRemoteNotificationTypes();plus.ios.deleteObject(t),e.notify=0!=a},showTips(e){let t=this,l=this.os,o=this.phoneType;t.config.tips="",t.config.otherTips=[],t.config.showRtClose=!0,t.config.showLeftBtn=!0,t.config.leftBtn="关闭",t.config.rightBtn="设置",t.config.bindLeftBtnCss="bg-orange-JB",t.config.bindRightBtnCss="bg-red-JB",t.config.title="温馨提示";let n="qita";o&&-1!==["huawei","xiaomi","oppo","vivo","honor","oneplus"].indexOf(o)&&(n=o),a("log","at pages/my/my.vue:523","phoneType:"+o),a("log","at pages/my/my.vue:524","tipsKey:"+n),1==e&&(t.config.otherTips="android"==l?t.mesTxtArr[n]:t.mesTxtArr,t.config.showLeftBtn=!1),t.tipsType=e,t.tipsBool=!0},lSure(){that.closeTips()},rSure(){1==this.tipsType&&m.goToApp("notificationSetting"),this.closeTips()},closeTips(){let e=this;e.tipsType="",e.tipsBool=!1,e.config.otherTips=[]},clickTipsBg(){1==this.tipsType&&this.closeTips()},cancelAccount(){uni.showModal({title:"温馨提示",content:"请谨慎操作，是否确认要注销账号?",success(e){e.confirm&&(m.globalData.wifiNoticeBssidArr=[],m.goToLogin("cancelAccount"))}})}}},[["render",function(t,a,o,n,i,c){const r=l(e.resolveDynamicComponent("ydSystemTips"),s);return e.openBlock(),e.createElementBlock(e.Fragment,null,[e.createElementVNode("view",{class:"topTitleBox",style:e.normalizeStyle({paddingTop:i.statusBarHeight+"px"})},[e.createElementVNode("view",{class:"titleName"},"我的"),e.createElementVNode("view",{class:"tipsIcon network",onClick:a[0]||(a[0]=(...e)=>c.updateNetworkType&&c.updateNetworkType(...e))},[e.createElementVNode("text",{class:"icon"}),e.createTextVNode("网络类型："+e.toDisplayString(i.networkType),1)])],4),e.createElementVNode("view",{class:"userBox"},[e.createElementVNode("view",{class:"nameRow"},[e.createElementVNode("text",{class:"name"},e.toDisplayString(i.user.name),1),e.createElementVNode("view",{class:"auth light-green"})]),e.createElementVNode("view",{class:"company"},e.toDisplayString(i.user.company),1),e.createElementVNode("view",{class:"headimg"},[e.createElementVNode("image",{class:"filled-image",src:i.user.head_img?i.user.head_img:"/static/images/defaultHead.png"},null,8,["src"])]),t.menuPerm(210)?(e.openBlock(),e.createElementBlock("view",{key:0,class:"ziZhi",onClick:a[1]||(a[1]=(...e)=>c.goZiZhi&&c.goZiZhi(...e))},[1==i.user.shi_ming?(e.openBlock(),e.createElementBlock(e.Fragment,{key:0},[e.createElementVNode("text",{class:"iconfont icon-dagou2 light-green"}),e.createElementVNode("text",{class:"txt light-green"},"已实名")],64)):e.createCommentVNode("",!0),1!=i.user.shi_ming?(e.openBlock(),e.createElementBlock("text",{key:1,class:"txt"},"待认证")):e.createCommentVNode("",!0),e.createElementVNode("text",{class:"iconfont icon-youbian1"})])):e.createCommentVNode("",!0),e.createElementVNode("view",{class:"other"},[e.createElementVNode("view",{class:"item"},[e.createElementVNode("view",{class:"t"},e.toDisplayString(i.user.work_grade),1),e.createElementVNode("view",{class:"b"},"调理师工种")]),e.createElementVNode("view",{class:"item"},[e.createElementVNode("view",{class:"t"},e.toDisplayString(i.user.job_num),1),e.createElementVNode("view",{class:"b"},"工号")]),e.createElementVNode("view",{class:"item"},[e.createElementVNode("view",{class:"t"},e.toDisplayString(i.user.banci),1),e.createElementVNode("view",{class:"b"},e.toDisplayString(i.user.banci_name),1)])])]),t.menuPerm(373)?(e.openBlock(),e.createElementBlock("view",{key:0,class:"list"},[e.createElementVNode("view",{class:"item",onClick:a[2]||(a[2]=e=>c.goUrl(6))},[e.createElementVNode("text",{class:"leftIcon iconfont icon-dianhua"}),e.createElementVNode("text",{class:"txt"},"来电提醒"),e.createElementVNode("text",{class:"rightIcon"},[e.createElementVNode("text",{class:"rightIconTxt red"},"推荐使用"),e.createElementVNode("text",{class:"iconfont icon-youbian1 ml5"})])])])):e.createCommentVNode("",!0),e.createElementVNode("view",{class:"list"},[t.menuPerm(385)?(e.openBlock(),e.createElementBlock("view",{key:0,class:"item",onClick:a[3]||(a[3]=e=>c.goUrl(5))},[e.createElementVNode("text",{class:"leftIcon iconfont icon-shezhi"}),e.createElementVNode("text",{class:"txt"},"环境检测"),e.createElementVNode("text",{class:"rightIcon"},[e.createElementVNode("text",{class:"rightIconTxt orange"},"一键检测"),e.createElementVNode("text",{class:"iconfont icon-youbian1 ml5"})])])):e.createCommentVNode("",!0),t.menuPerm(293)?(e.openBlock(),e.createElementBlock("view",{key:1,class:"item",onClick:a[4]||(a[4]=e=>c.goUrl(3))},[e.createElementVNode("text",{class:"leftIcon iconfont icon-dianhua"}),e.createElementVNode("text",{class:"txt"},"服务电话"),e.createElementVNode("text",{class:"rightIcon"},[e.createElementVNode("text",{class:"rightIconTxt"},"内线电话"),e.createElementVNode("text",{class:"iconfont icon-youbian1 ml5"})])])):e.createCommentVNode("",!0),"android"!=i.os&&"development"!=i.env||!t.menuPerm(386)?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock("view",{key:2,class:"item",onClick:a[5]||(a[5]=e=>c.goUrl(4))},[e.createElementVNode("text",{class:"leftIcon iconfont icon-shezhi2"}),e.createElementVNode("text",{class:"txt"},"权限申请"),e.createElementVNode("view",{class:"rightIcon"},[e.createElementVNode("text",{class:"rightIconTxt yellow"},"使用前，请先设置"),e.createElementVNode("text",{class:"iconfont icon-youbian1 ml5"})])])),t.menuPerm(211)?(e.openBlock(),e.createElementBlock("view",{key:3,class:"item",onClick:a[6]||(a[6]=e=>c.goUrl(1))},[e.createElementVNode("text",{class:"leftIcon iconfont icon-shezhifuben"}),e.createElementVNode("text",{class:"txt"},"系统设置"),e.createElementVNode("view",{class:"rightIcon"},[e.createElementVNode("text",{class:"rightIconTxt"},"推送/播报"),e.createElementVNode("text",{class:"iconfont icon-youbian1 ml5"})])])):e.createCommentVNode("",!0),t.menuPerm(388)?(e.openBlock(),e.createElementBlock("view",{key:4,class:"item",onClick:a[7]||(a[7]=e=>c.goUrl(2))},[e.createElementVNode("text",{class:"leftIcon iconfont icon-fuzhi"}),e.createElementVNode("text",{class:"txt"},"远程协助"),e.createElementVNode("view",{class:"rightIcon"},[e.createElementVNode("text",{class:"rightIconTxt"},"请联系主管操作"),e.createElementVNode("text",{class:"iconfont icon-youbian1 ml5"})])])):e.createCommentVNode("",!0),"ios"!=i.os&&"development"!=i.env||!t.menuPerm(387)?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock("view",{key:5,class:"item",onClick:a[8]||(a[8]=e=>c.showTips(1))},[e.createElementVNode("text",{class:"leftIcon iconfont icon-pinglun"}),e.createElementVNode("text",{class:"txt"},"消息通知"),e.createElementVNode("view",{class:"rightIcon"},[i.notify?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock("text",{key:0,class:"rightIconTxt red"},"未开启")),i.notify?(e.openBlock(),e.createElementBlock("text",{key:1,class:"rightIconTxt light-green"},"已开启")):e.createCommentVNode("",!0),e.createElementVNode("text",{class:"iconfont icon-youbian1 ml5"})])]))]),e.createElementVNode("view",{class:"list"},[e.createElementVNode("view",{class:"item",onClick:a[9]||(a[9]=(...e)=>c.handleClick&&c.handleClick(...e))},[e.createElementVNode("text",{class:"leftIcon lg iconfont icon-yuyue1"}),e.createElementVNode("text",{class:"txt"},"版本号"),e.createElementVNode("text",{class:"rightIcon gray"},e.toDisplayString(i.appVersion),1)]),t.menuPerm(444)?(e.openBlock(),e.createElementBlock("view",{key:0,class:"item",onClick:a[10]||(a[10]=e=>c.goUrl(7))},[e.createElementVNode("text",{class:"leftIcon lg iconfont icon-kefu"}),e.createElementVNode("text",{class:"txt"},"在线客服"),e.createElementVNode("view",{class:"rightIcon"},[e.createElementVNode("text",{class:"rightIconTxt"},"官方客服"),e.createElementVNode("text",{class:"iconfont icon-youbian1 ml5"})])])):e.createCommentVNode("",!0),e.createElementVNode("view",{class:"item",onClick:a[11]||(a[11]=(...e)=>c.logout&&c.logout(...e))},[e.createElementVNode("text",{class:"leftIcon lg iconfont icon-zhanghuzhuxiao-mianxing"}),e.createElementVNode("text",{class:"txt"},"退出登录"),e.createElementVNode("text",{class:"rightIcon"},[e.createElementVNode("text",{class:"iconfont icon-youbian1 ml5"})])])]),e.createElementVNode("view",{class:"icp"},"ICP备案号：粤ICP备14053156号-9A"),e.createElementVNode("view",{style:{height:"50px"}}),i.tipsBool?(e.openBlock(),e.createBlock(r,{key:1,config:i.config,onBtnSure:c.rSure,onBtnClose:c.lSure,onBtnBgClose:c.clickTipsBg},null,8,["config","onBtnSure","onBtnClose","onBtnBgClose"])):e.createCommentVNode("",!0)],64)}]]);var g,v;const y=n({data:()=>({busNum:"00000",phone:"",codeNum:"",password:"",codeBtnTxt:"获取验证码",disGetCode:!1,codeTime:60,statusBarHeight:0,hidePwd:1,env:"",isApproveApp:0,isOpenDomainBox:!1,lanHost:"",appPortNei:"",xcxPortNei:"",lanTrue:!1,editLan:{lanHost:"",appPortNei:"",xcxPortNei:""}}),onLoad(){g=getApp();try{v=t("AppModule")}catch(n){}this.statusBarHeight=g.globalData.statusBarHeight,this.env=g.globalData.env,this.isApproveApp=g.globalData.isApproveApp,""!=g.getReqToken()&&uni.reLaunch({url:"/pages/index/index"});let e=uni.getStorageSync("loginPhone");""!=e&&(this.phone=e);let l=uni.getStorageSync("busNum");""!=l&&(this.busNum=l);let o=g.getLanConfig();this.lanTrue=o.lanTrue,a("log","at pages/login/login.vue:161","lanConfig",o),""!=o.lanHost&&(this.lanHost=o.lanHost),""!=o.appPortNei&&(this.appPortNei=o.appPortNei),""!=o.xcxPortNei&&(this.xcxPortNei=o.xcxPortNei)},methods:{inputData:function(e){this[e.currentTarget.dataset.key]=e.detail.value},getCode:function(){let e=this,t=e.$data.phone;if(1==e.$data.disGetCode)return void g.showMsg("请"+e.$data.codeBtnTxt);if(""==t)return void g.showMsg("请输入手机号码");if(!g.checkPhone(t))return void g.showMsg("手机号码格式错误");let a={account:t,busNum:e.busNum};g.goPost("login/getcode",a,(function(t){var a=e.$data.codeTime;e.codeBtnTxt=a+"秒后重新获取",e.disGetCode=!0;var l=setInterval((function(){--a<=0&&clearInterval(l),e.codeBtnTxt=a<=0?"获取验证码":a+"秒后重新获取",e.disGetCode=!(a<=0)}),1e3)}))},goLogin:function(){let e=this,t=e.$data.phone;var l=e.$data.codeNum;if(""==t)return void g.showMsg("请输入手机号码");if(!g.checkPhone(t))return void g.showMsg("手机号码格式错误");if(!e.lanTrue&&""==l)return void g.showMsg("请输入验证码");if(e.lanTrue&&""==e.password)return void g.showMsg("请输入密码");let o={account:t,code:l,busNum:e.busNum,password:e.password,lanHost:e.lanHost,appPort:e.appPortNei,xcxPort:e.xcxPortNei,lanTrue:e.lanTrue};g.goPost("login/login",o,(function(l){uni.setStorageSync("account",g.decrypt(l.account)),uni.setStorageSync("loginPhone",t),uni.setStorageSync("userName",g.decrypt(l.name)),uni.setStorageSync("headImg",g.decrypt(l.head_img)),uni.setStorageSync("busNum",e.busNum);let o=g.decrypt(l.accessToken);if(g.saveLoginToken(o),l.hasOwnProperty("requestUrl")&&""!=l.requestUrl&&(g.globalData.apiUrl=g.decrypt(l.requestUrl)+g.globalData.apiFile+"?s="),g.saveApiUrl(g.globalData.apiUrl),l.hasOwnProperty("h5Url")&&""!=l.h5Url&&(g.globalData.h5Url=g.decrypt(l.h5Url)),g.saveH5Url(g.globalData.h5Url),l.hasOwnProperty("lanInfo")){let t=g.decrypt(l.lanInfo.lanHost),o=g.decrypt(l.lanInfo.appPort),n=g.decrypt(l.lanInfo.xcxPort);e.lanHost=t,e.appPortNei=o,e.xcxPortNei=n,a("log","at pages/login/login.vue:300","lanInfo",t,o,n),g.saveLanConfig(e.lanHost,e.appPortNei,e.xcxPortNei,e.lanTrue),e.lanTrue&&g.resetApiUrl()}else uni.setStorageSync("lanConfig","");if(v){g.checkUpdate();try{let e=g.decrypt(l.ts.gtcid);a("log","at pages/login/login.vue:322","cid",e),a("log","at pages/login/login.vue:325","AppModule.pushBindAlias",v.pushBindAlias(e)),g.saveMqttTopic(e)}catch(n){a("log","at pages/login/login.vue:330","回调app失败",n)}}setTimeout((function(){if(v&&1!=g.globalData.isApproveApp){let e=1;const t=uni.getAppAuthorizeSetting();if("authorized"!=t.locationAuthorized&&(e=0),"authorized"!=t.cameraAuthorized&&(e=0),0==e)return uni.reLaunch({url:"/pages/auth/auth"}),!1}g.globalData.checkLoginComplete=1,getCurrentPages().length>1?uni.navigateBack():uni.reLaunch({url:"/pages/index/index"})}),1e3)}))},oninput(e){let t=e.currentTarget.dataset.key;this.editLan[t]=e.detail.value},openDomainBox(){this.editLan.lanHost=this.lanHost,this.editLan.appPortNei=this.appPortNei,this.editLan.xcxPortNei=this.xcxPortNei,this.isOpenDomainBox=!0},closeDomainBox(){this.editLan={lanHost:"",appPortNei:"",xcxPortNei:""},this.isOpenDomainBox=!1},async changeLoginType(e){let t=this;if(t.lanTrue)t.lanTrue=!1;else{let e=await t.checkLanConfig();if(!0!==e)return g.showMsg(e),!1;t.lanTrue=!0}},saveLanConfig(e){let t=this;return""==t.editLan.lanHost?(g.showMsg("请设置服务器"),!1):""==t.editLan.appPortNei?(g.showMsg("请设置端口一"),!1):""==t.editLan.xcxPortNei?(g.showMsg("请设置端口二"),!1):void g.ping({ip:t.editLan.lanHost,timeout:500,surePing:1,success:e=>{if(0==e&&t.lanTrue)return g.showMsg("当前服务器地址不能访问"),!1;t.lanHost=t.editLan.lanHost,t.appPortNei=t.editLan.appPortNei,t.xcxPortNei=t.editLan.xcxPortNei,g.showMsg("保存成功")}})},checkLanConfig(){let e=this;return new Promise((t=>""==e.editLan.lanHost?(t("请设置服务器"),!1):""==e.editLan.appPortNei?(t("请设置端口一"),!1):""==e.editLan.xcxPortNei?(t("请设置端口二"),!1):void g.ping({ip:e.editLan.lanHost,timeout:500,surePing:1,success:e=>{t(1==e||"当前服务器地址不能访问")}})))},notSaveLanConfig(){let e=this;g.saveLanConfig(e.lanHost,e.appPortNei,e.xcxPortNei,e.lanTrue),e.password="",e.codeNum="",g.resetApiUrl(),e.closeDomainBox()},failTips(e){uni.showModal({title:"温馨提示",content:e,showCancel:!1,confirmText:"我知道了",success(){}})},changeHidePwd(){this.hidePwd=1==this.hidePwd?0:1}}},[["render",function(t,a,l,o,n,s){return e.openBlock(),e.createElementBlock("view",{class:"content"},[e.createElementVNode("view",{class:"banner",style:e.normalizeStyle({paddingTop:n.statusBarHeight+"px"})},[e.createElementVNode("image",{class:"img",src:"https://xcx.wx.dkyun.cc/public/images/zyapp_loginBg.png"})],4),n.isOpenDomainBox?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock("view",{key:0,class:"login"},[e.createElementVNode("view",{class:"top_title"},"欢迎登录"),n.lanTrue?(e.openBlock(),e.createElementBlock("view",{key:0,class:"lanMode light-green"},[e.createElementVNode("text",{class:"iconfont icon-wifi"}),e.createTextVNode(" 内网模式")])):e.createCommentVNode("",!0),e.createElementVNode("view",{class:"input_box"},[e.createElementVNode("view",{class:"item"},[e.createElementVNode("input",{class:"inp",type:"number",maxlength:"10",onInput:a[0]||(a[0]=(...e)=>s.inputData&&s.inputData(...e)),"data-key":"busNum",placeholder:"请输入企业编号",value:n.busNum},null,40,["value"])]),e.createElementVNode("view",{class:"item"},[e.createElementVNode("input",{class:"inp",type:"number",maxlength:"11",onInput:a[1]||(a[1]=(...e)=>s.inputData&&s.inputData(...e)),"data-key":"phone",placeholder:"请输入手机号码",value:n.phone},null,40,["value"])]),n.lanTrue?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock("view",{key:0,class:"item"},[e.createElementVNode("input",{class:"inp",type:"number",maxlength:"6",onInput:a[2]||(a[2]=(...e)=>s.inputData&&s.inputData(...e)),"data-key":"codeNum",placeholder:"请输入验证码",value:n.codeNum},null,40,["value"]),e.createElementVNode("view",{class:e.normalizeClass(["codeBtn",n.disGetCode?"disGetCode":""]),onClick:a[3]||(a[3]=e=>s.getCode())},e.toDisplayString(n.codeBtnTxt),3)])),n.lanTrue?(e.openBlock(),e.createElementBlock("view",{key:1,class:"item"},[e.withDirectives(e.createElementVNode("input",{class:"inp",type:[1==n.hidePwd?"password":"text"],maxlength:"50",placeholder:"请输入密码","onUpdate:modelValue":a[4]||(a[4]=e=>n.password=e)},null,8,["type"]),[[e.vModelDynamic,n.password]]),e.createElementVNode("view",{class:e.normalizeClass(["iconfont pwdIcon",1==n.hidePwd?"icon-xianshi":"icon-yincang"]),onClick:a[5]||(a[5]=(...e)=>s.changeHidePwd&&s.changeHidePwd(...e))},null,2)])):e.createCommentVNode("",!0),e.createElementVNode("view",{class:"agreement"},[0==n.isApproveApp?(e.openBlock(),e.createElementBlock(e.Fragment,{key:0},[e.createTextVNode(" 登录即视为同意 "),e.createElementVNode("navigator",{url:"/pages/agreement/agreement?type=1",class:"text_blue","hover-class":"none"},"《隐私协议》"),e.createTextVNode("和 "),e.createElementVNode("navigator",{url:"/pages/agreement/agreement?type=2",class:"text_blue","hover-class":"none"},"《服务协议》 "),e.createTextVNode("。 ")],64)):e.createCommentVNode("",!0)]),e.createElementVNode("view",{class:"btns"},[e.createElementVNode("view",{class:"btn bg-red-JB",onClick:a[6]||(a[6]=e=>s.goLogin())},e.toDisplayString(1==n.isApproveApp?"登录":"同意协议并登录"),1)]),0==n.isApproveApp?(e.openBlock(),e.createElementBlock("view",{key:2,class:"btns2 red",onClick:a[7]||(a[7]=(...e)=>s.openDomainBox&&s.openDomainBox(...e))},"变更域名")):e.createCommentVNode("",!0)])])),n.isOpenDomainBox?(e.openBlock(),e.createElementBlock("view",{key:1,class:"login"},[e.createElementVNode("view",{class:"top_tips red"},"请在专业人员指导下配置，请勿乱改!"),e.createElementVNode("view",{class:"input_box"},[e.createElementVNode("view",{class:"item"},[e.createElementVNode("input",{class:"inp",type:"text",maxlength:"20",placeholder:"服务器",value:n.editLan.lanHost,"data-key":"lanHost",onInput:a[8]||(a[8]=(...e)=>s.oninput&&s.oninput(...e))},null,40,["value"])]),e.createElementVNode("view",{class:"item"},[e.createElementVNode("input",{class:"inp",type:"number",maxlength:"20",placeholder:"端口一",value:n.editLan.appPortNei,"data-key":"appPortNei",onInput:a[9]||(a[9]=(...e)=>s.oninput&&s.oninput(...e))},null,40,["value"])]),e.createElementVNode("view",{class:"item"},[e.createElementVNode("input",{class:"inp",type:"number",maxlength:"20",placeholder:"端口二",value:n.editLan.xcxPortNei,"data-key":"xcxPortNei",onInput:a[10]||(a[10]=(...e)=>s.oninput&&s.oninput(...e))},null,40,["value"])]),e.createElementVNode("view",{class:"lanRow"},[e.createElementVNode("text",{class:e.normalizeClass(["label",n.lanTrue?"checked":""]),onClick:a[11]||(a[11]=(...e)=>s.changeLoginType&&s.changeLoginType(...e))},null,2),e.createElementVNode("text",{onClick:a[12]||(a[12]=(...e)=>s.changeLoginType&&s.changeLoginType(...e))},"是否启用内网登录")]),e.createElementVNode("view",{class:"btn_row"},[e.createElementVNode("view",{class:"btn_sm bg-reds-JB",onClick:a[13]||(a[13]=(...e)=>s.saveLanConfig&&s.saveLanConfig(...e))},"保存设置"),e.createElementVNode("view",{class:"btn_sm bg-reds-JB",onClick:a[14]||(a[14]=(...e)=>s.notSaveLanConfig&&s.notSaveLanConfig(...e))},"返回登录")])])])):e.createCommentVNode("",!0),"release"!=n.env?(e.openBlock(),e.createElementBlock("view",{key:2,class:"debug"},e.toDisplayString(n.env),1)):e.createCommentVNode("",!0)])}]]),k=[{label:"北京市",value:"北京市",children:[{label:"东城区",value:"东城区"},{label:"西城区",value:"西城区"},{label:"朝阳区",value:"朝阳区"},{label:"丰台区",value:"丰台区"},{label:"石景山区",value:"石景山区"},{label:"海淀区",value:"海淀区"},{label:"门头沟区",value:"门头沟区"},{label:"房山区",value:"房山区"},{label:"通州区",value:"通州区"},{label:"顺义区",value:"顺义区"},{label:"昌平区",value:"昌平区"},{label:"大兴区",value:"大兴区"},{label:"怀柔区",value:"怀柔区"},{label:"平谷区",value:"平谷区"},{label:"密云区",value:"密云区"},{label:"延庆区",value:"延庆区"},{label:"北京市",value:"北京市"}]},{label:"天津市",value:"天津市",children:[{label:"和平区",value:"和平区"},{label:"河东区",value:"河东区"},{label:"河西区",value:"河西区"},{label:"南开区",value:"南开区"},{label:"河北区",value:"河北区"},{label:"红桥区",value:"红桥区"},{label:"东丽区",value:"东丽区"},{label:"西青区",value:"西青区"},{label:"津南区",value:"津南区"},{label:"北辰区",value:"北辰区"},{label:"武清区",value:"武清区"},{label:"宝坻区",value:"宝坻区"},{label:"滨海新区",value:"滨海新区"},{label:"宁河区",value:"宁河区"},{label:"静海区",value:"静海区"},{label:"蓟州区",value:"蓟州区"},{label:"天津市",value:"天津市"}]},{label:"河北省",value:"河北省",children:[{label:"石家庄市",value:"石家庄市",children:[{label:"长安区",value:"长安区"},{label:"桥西区",value:"桥西区"},{label:"新华区",value:"新华区"},{label:"井陉矿区",value:"井陉矿区"},{label:"裕华区",value:"裕华区"},{label:"藁城区",value:"藁城区"},{label:"鹿泉区",value:"鹿泉区"},{label:"栾城区",value:"栾城区"},{label:"井陉县",value:"井陉县"},{label:"正定县",value:"正定县"},{label:"行唐县",value:"行唐县"},{label:"灵寿县",value:"灵寿县"},{label:"高邑县",value:"高邑县"},{label:"深泽县",value:"深泽县"},{label:"赞皇县",value:"赞皇县"},{label:"无极县",value:"无极县"},{label:"平山县",value:"平山县"},{label:"元氏县",value:"元氏县"},{label:"赵县",value:"赵县"},{label:"辛集市",value:"辛集市"},{label:"晋州市",value:"晋州市"},{label:"新乐市",value:"新乐市"}]},{label:"唐山市",value:"唐山市",children:[{label:"路南区",value:"路南区"},{label:"路北区",value:"路北区"},{label:"古冶区",value:"古冶区"},{label:"开平区",value:"开平区"},{label:"丰南区",value:"丰南区"},{label:"丰润区",value:"丰润区"},{label:"曹妃甸区",value:"曹妃甸区"},{label:"滦县",value:"滦县"},{label:"滦南县",value:"滦南县"},{label:"乐亭县",value:"乐亭县"},{label:"迁西县",value:"迁西县"},{label:"玉田县",value:"玉田县"},{label:"遵化市",value:"遵化市"},{label:"迁安市",value:"迁安市"}]},{label:"秦皇岛市",value:"秦皇岛市",children:[{label:"海港区",value:"海港区"},{label:"山海关区",value:"山海关区"},{label:"北戴河区",value:"北戴河区"},{label:"抚宁区",value:"抚宁区"},{label:"青龙满族自治县",value:"青龙满族自治县"},{label:"昌黎县",value:"昌黎县"},{label:"卢龙县",value:"卢龙县"}]},{label:"邯郸市",value:"邯郸市",children:[{label:"邯山区",value:"邯山区"},{label:"丛台区",value:"丛台区"},{label:"复兴区",value:"复兴区"},{label:"峰峰矿区",value:"峰峰矿区"},{label:"肥乡区",value:"肥乡区"},{label:"永年区",value:"永年区"},{label:"临漳县",value:"临漳县"},{label:"成安县",value:"成安县"},{label:"大名县",value:"大名县"},{label:"涉县",value:"涉县"},{label:"磁县",value:"磁县"},{label:"邱县",value:"邱县"},{label:"鸡泽县",value:"鸡泽县"},{label:"广平县",value:"广平县"},{label:"馆陶县",value:"馆陶县"},{label:"魏县",value:"魏县"},{label:"曲周县",value:"曲周县"},{label:"武安市",value:"武安市"}]},{label:"邢台市",value:"邢台市",children:[{label:"桥东区",value:"桥东区"},{label:"桥西区",value:"桥西区"},{label:"邢台县",value:"邢台县"},{label:"临城县",value:"临城县"},{label:"内丘县",value:"内丘县"},{label:"柏乡县",value:"柏乡县"},{label:"隆尧县",value:"隆尧县"},{label:"任县",value:"任县"},{label:"南和县",value:"南和县"},{label:"宁晋县",value:"宁晋县"},{label:"巨鹿县",value:"巨鹿县"},{label:"新河县",value:"新河县"},{label:"广宗县",value:"广宗县"},{label:"平乡县",value:"平乡县"},{label:"威县",value:"威县"},{label:"清河县",value:"清河县"},{label:"临西县",value:"临西县"},{label:"南宫市",value:"南宫市"},{label:"沙河市",value:"沙河市"}]},{label:"保定市",value:"保定市",children:[{label:"竞秀区",value:"竞秀区"},{label:"莲池区",value:"莲池区"},{label:"满城区",value:"满城区"},{label:"清苑区",value:"清苑区"},{label:"徐水区",value:"徐水区"},{label:"涞水县",value:"涞水县"},{label:"阜平县",value:"阜平县"},{label:"定兴县",value:"定兴县"},{label:"唐县",value:"唐县"},{label:"高阳县",value:"高阳县"},{label:"容城县",value:"容城县"},{label:"涞源县",value:"涞源县"},{label:"望都县",value:"望都县"},{label:"安新县",value:"安新县"},{label:"易县",value:"易县"},{label:"曲阳县",value:"曲阳县"},{label:"蠡县",value:"蠡县"},{label:"顺平县",value:"顺平县"},{label:"博野县",value:"博野县"},{label:"雄县",value:"雄县"},{label:"涿州市",value:"涿州市"},{label:"定州市",value:"定州市"},{label:"安国市",value:"安国市"},{label:"高碑店市",value:"高碑店市"}]},{label:"张家口市",value:"张家口市",children:[{label:"桥东区",value:"桥东区"},{label:"桥西区",value:"桥西区"},{label:"宣化区",value:"宣化区"},{label:"下花园区",value:"下花园区"},{label:"万全区",value:"万全区"},{label:"崇礼区",value:"崇礼区"},{label:"张北县",value:"张北县"},{label:"康保县",value:"康保县"},{label:"沽源县",value:"沽源县"},{label:"尚义县",value:"尚义县"},{label:"蔚县",value:"蔚县"},{label:"阳原县",value:"阳原县"},{label:"怀安县",value:"怀安县"},{label:"怀来县",value:"怀来县"},{label:"涿鹿县",value:"涿鹿县"},{label:"赤城县",value:"赤城县"}]},{label:"承德市",value:"承德市",children:[{label:"双桥区",value:"双桥区"},{label:"双滦区",value:"双滦区"},{label:"鹰手营子矿区",value:"鹰手营子矿区"},{label:"承德县",value:"承德县"},{label:"兴隆县",value:"兴隆县"},{label:"滦平县",value:"滦平县"},{label:"隆化县",value:"隆化县"},{label:"丰宁满族自治县",value:"丰宁满族自治县"},{label:"宽城满族自治县",value:"宽城满族自治县"},{label:"围场满族蒙古族自治县",value:"围场满族蒙古族自治县"},{label:"平泉市",value:"平泉市"}]},{label:"沧州市",value:"沧州市",children:[{label:"新华区",value:"新华区"},{label:"运河区",value:"运河区"},{label:"沧县",value:"沧县"},{label:"青县",value:"青县"},{label:"东光县",value:"东光县"},{label:"海兴县",value:"海兴县"},{label:"盐山县",value:"盐山县"},{label:"肃宁县",value:"肃宁县"},{label:"南皮县",value:"南皮县"},{label:"吴桥县",value:"吴桥县"},{label:"献县",value:"献县"},{label:"孟村回族自治县",value:"孟村回族自治县"},{label:"泊头市",value:"泊头市"},{label:"任丘市",value:"任丘市"},{label:"黄骅市",value:"黄骅市"},{label:"河间市",value:"河间市"}]},{label:"廊坊市",value:"廊坊市",children:[{label:"安次区",value:"安次区"},{label:"广阳区",value:"广阳区"},{label:"固安县",value:"固安县"},{label:"永清县",value:"永清县"},{label:"香河县",value:"香河县"},{label:"大城县",value:"大城县"},{label:"文安县",value:"文安县"},{label:"大厂回族自治县",value:"大厂回族自治县"},{label:"霸州市",value:"霸州市"},{label:"三河市",value:"三河市"}]},{label:"衡水市",value:"衡水市",children:[{label:"桃城区",value:"桃城区"},{label:"冀州区",value:"冀州区"},{label:"枣强县",value:"枣强县"},{label:"武邑县",value:"武邑县"},{label:"武强县",value:"武强县"},{label:"饶阳县",value:"饶阳县"},{label:"安平县",value:"安平县"},{label:"故城县",value:"故城县"},{label:"景县",value:"景县"},{label:"阜城县",value:"阜城县"},{label:"深州市",value:"深州市"}]}]},{label:"山西省",value:"山西省",children:[{label:"太原市",value:"太原市",children:[{label:"小店区",value:"小店区"},{label:"迎泽区",value:"迎泽区"},{label:"杏花岭区",value:"杏花岭区"},{label:"尖草坪区",value:"尖草坪区"},{label:"万柏林区",value:"万柏林区"},{label:"晋源区",value:"晋源区"},{label:"清徐县",value:"清徐县"},{label:"阳曲县",value:"阳曲县"},{label:"娄烦县",value:"娄烦县"},{label:"古交市",value:"古交市"}]},{label:"大同市",value:"大同市",children:[{label:"城区",value:"城区"},{label:"矿区",value:"矿区"},{label:"南郊区",value:"南郊区"},{label:"新荣区",value:"新荣区"},{label:"阳高县",value:"阳高县"},{label:"天镇县",value:"天镇县"},{label:"广灵县",value:"广灵县"},{label:"灵丘县",value:"灵丘县"},{label:"浑源县",value:"浑源县"},{label:"左云县",value:"左云县"},{label:"大同县",value:"大同县"}]},{label:"阳泉市",value:"阳泉市",children:[{label:"城区",value:"城区"},{label:"矿区",value:"矿区"},{label:"郊区",value:"郊区"},{label:"平定县",value:"平定县"},{label:"盂县",value:"盂县"}]},{label:"长治市",value:"长治市",children:[{label:"城区",value:"城区"},{label:"郊区",value:"郊区"},{label:"长治县",value:"长治县"},{label:"襄垣县",value:"襄垣县"},{label:"屯留县",value:"屯留县"},{label:"平顺县",value:"平顺县"},{label:"黎城县",value:"黎城县"},{label:"壶关县",value:"壶关县"},{label:"长子县",value:"长子县"},{label:"武乡县",value:"武乡县"},{label:"沁县",value:"沁县"},{label:"沁源县",value:"沁源县"},{label:"潞城市",value:"潞城市"}]},{label:"晋城市",value:"晋城市",children:[{label:"城区",value:"城区"},{label:"沁水县",value:"沁水县"},{label:"阳城县",value:"阳城县"},{label:"陵川县",value:"陵川县"},{label:"泽州县",value:"泽州县"},{label:"高平市",value:"高平市"}]},{label:"朔州市",value:"朔州市",children:[{label:"朔城区",value:"朔城区"},{label:"平鲁区",value:"平鲁区"},{label:"山阴县",value:"山阴县"},{label:"应县",value:"应县"},{label:"右玉县",value:"右玉县"},{label:"怀仁县",value:"怀仁县"}]},{label:"晋中市",value:"晋中市",children:[{label:"榆次区",value:"榆次区"},{label:"榆社县",value:"榆社县"},{label:"左权县",value:"左权县"},{label:"和顺县",value:"和顺县"},{label:"昔阳县",value:"昔阳县"},{label:"寿阳县",value:"寿阳县"},{label:"太谷县",value:"太谷县"},{label:"祁县",value:"祁县"},{label:"平遥县",value:"平遥县"},{label:"灵石县",value:"灵石县"},{label:"介休市",value:"介休市"}]},{label:"运城市",value:"运城市",children:[{label:"盐湖区",value:"盐湖区"},{label:"临猗县",value:"临猗县"},{label:"万荣县",value:"万荣县"},{label:"闻喜县",value:"闻喜县"},{label:"稷山县",value:"稷山县"},{label:"新绛县",value:"新绛县"},{label:"绛县",value:"绛县"},{label:"垣曲县",value:"垣曲县"},{label:"夏县",value:"夏县"},{label:"平陆县",value:"平陆县"},{label:"芮城县",value:"芮城县"},{label:"永济市",value:"永济市"},{label:"河津市",value:"河津市"}]},{label:"忻州市",value:"忻州市",children:[{label:"忻府区",value:"忻府区"},{label:"定襄县",value:"定襄县"},{label:"五台县",value:"五台县"},{label:"代县",value:"代县"},{label:"繁峙县",value:"繁峙县"},{label:"宁武县",value:"宁武县"},{label:"静乐县",value:"静乐县"},{label:"神池县",value:"神池县"},{label:"五寨县",value:"五寨县"},{label:"岢岚县",value:"岢岚县"},{label:"河曲县",value:"河曲县"},{label:"保德县",value:"保德县"},{label:"偏关县",value:"偏关县"},{label:"原平市",value:"原平市"}]},{label:"临汾市",value:"临汾市",children:[{label:"尧都区",value:"尧都区"},{label:"曲沃县",value:"曲沃县"},{label:"翼城县",value:"翼城县"},{label:"襄汾县",value:"襄汾县"},{label:"洪洞县",value:"洪洞县"},{label:"古县",value:"古县"},{label:"安泽县",value:"安泽县"},{label:"浮山县",value:"浮山县"},{label:"吉县",value:"吉县"},{label:"乡宁县",value:"乡宁县"},{label:"大宁县",value:"大宁县"},{label:"隰县",value:"隰县"},{label:"永和县",value:"永和县"},{label:"蒲县",value:"蒲县"},{label:"汾西县",value:"汾西县"},{label:"侯马市",value:"侯马市"},{label:"霍州市",value:"霍州市"}]},{label:"吕梁市",value:"吕梁市",children:[{label:"离石区",value:"离石区"},{label:"文水县",value:"文水县"},{label:"交城县",value:"交城县"},{label:"兴县",value:"兴县"},{label:"临县",value:"临县"},{label:"柳林县",value:"柳林县"},{label:"石楼县",value:"石楼县"},{label:"岚县",value:"岚县"},{label:"方山县",value:"方山县"},{label:"中阳县",value:"中阳县"},{label:"交口县",value:"交口县"},{label:"孝义市",value:"孝义市"},{label:"汾阳市",value:"汾阳市"}]}]},{label:"内蒙古",value:"内蒙古",children:[{label:"呼和浩特市",value:"呼和浩特市",children:[{label:"新城区",value:"新城区"},{label:"回民区",value:"回民区"},{label:"玉泉区",value:"玉泉区"},{label:"赛罕区",value:"赛罕区"},{label:"土默特左旗",value:"土默特左旗"},{label:"托克托县",value:"托克托县"},{label:"和林格尔县",value:"和林格尔县"},{label:"清水河县",value:"清水河县"},{label:"武川县",value:"武川县"}]},{label:"包头市",value:"包头市",children:[{label:"东河区",value:"东河区"},{label:"昆都仑区",value:"昆都仑区"},{label:"青山区",value:"青山区"},{label:"石拐区",value:"石拐区"},{label:"白云鄂博矿区",value:"白云鄂博矿区"},{label:"九原区",value:"九原区"},{label:"土默特右旗",value:"土默特右旗"},{label:"固阳县",value:"固阳县"},{label:"达尔罕茂明安联合旗",value:"达尔罕茂明安联合旗"}]},{label:"乌海市",value:"乌海市",children:[{label:"海勃湾区",value:"海勃湾区"},{label:"海南区",value:"海南区"},{label:"乌达区",value:"乌达区"}]},{label:"赤峰市",value:"赤峰市",children:[{label:"红山区",value:"红山区"},{label:"元宝山区",value:"元宝山区"},{label:"松山区",value:"松山区"},{label:"阿鲁科尔沁旗",value:"阿鲁科尔沁旗"},{label:"巴林左旗",value:"巴林左旗"},{label:"巴林右旗",value:"巴林右旗"},{label:"林西县",value:"林西县"},{label:"克什克腾旗",value:"克什克腾旗"},{label:"翁牛特旗",value:"翁牛特旗"},{label:"喀喇沁旗",value:"喀喇沁旗"},{label:"宁城县",value:"宁城县"},{label:"敖汉旗",value:"敖汉旗"}]},{label:"通辽市",value:"通辽市",children:[{label:"科尔沁区",value:"科尔沁区"},{label:"科尔沁左翼中旗",value:"科尔沁左翼中旗"},{label:"科尔沁左翼后旗",value:"科尔沁左翼后旗"},{label:"开鲁县",value:"开鲁县"},{label:"库伦旗",value:"库伦旗"},{label:"奈曼旗",value:"奈曼旗"},{label:"扎鲁特旗",value:"扎鲁特旗"},{label:"霍林郭勒市",value:"霍林郭勒市"}]},{label:"鄂尔多斯市",value:"鄂尔多斯市",children:[{label:"东胜区",value:"东胜区"},{label:"康巴什区",value:"康巴什区"},{label:"达拉特旗",value:"达拉特旗"},{label:"准格尔旗",value:"准格尔旗"},{label:"鄂托克前旗",value:"鄂托克前旗"},{label:"鄂托克旗",value:"鄂托克旗"},{label:"杭锦旗",value:"杭锦旗"},{label:"乌审旗",value:"乌审旗"},{label:"伊金霍洛旗",value:"伊金霍洛旗"}]},{label:"呼伦贝尔市",value:"呼伦贝尔市",children:[{label:"海拉尔区",value:"海拉尔区"},{label:"扎赉诺尔区",value:"扎赉诺尔区"},{label:"阿荣旗",value:"阿荣旗"},{label:"莫力达瓦达斡尔族自治旗",value:"莫力达瓦达斡尔族自治旗"},{label:"鄂伦春自治旗",value:"鄂伦春自治旗"},{label:"鄂温克族自治旗",value:"鄂温克族自治旗"},{label:"陈巴尔虎旗",value:"陈巴尔虎旗"},{label:"新巴尔虎左旗",value:"新巴尔虎左旗"},{label:"新巴尔虎右旗",value:"新巴尔虎右旗"},{label:"满洲里市",value:"满洲里市"},{label:"牙克石市",value:"牙克石市"},{label:"扎兰屯市",value:"扎兰屯市"},{label:"额尔古纳市",value:"额尔古纳市"},{label:"根河市",value:"根河市"}]},{label:"巴彦淖尔市",value:"巴彦淖尔市",children:[{label:"临河区",value:"临河区"},{label:"五原县",value:"五原县"},{label:"磴口县",value:"磴口县"},{label:"乌拉特前旗",value:"乌拉特前旗"},{label:"乌拉特中旗",value:"乌拉特中旗"},{label:"乌拉特后旗",value:"乌拉特后旗"},{label:"杭锦后旗",value:"杭锦后旗"}]},{label:"乌兰察布市",value:"乌兰察布市",children:[{label:"集宁区",value:"集宁区"},{label:"卓资县",value:"卓资县"},{label:"化德县",value:"化德县"},{label:"商都县",value:"商都县"},{label:"兴和县",value:"兴和县"},{label:"凉城县",value:"凉城县"},{label:"察哈尔右翼前旗",value:"察哈尔右翼前旗"},{label:"察哈尔右翼中旗",value:"察哈尔右翼中旗"},{label:"察哈尔右翼后旗",value:"察哈尔右翼后旗"},{label:"四子王旗",value:"四子王旗"},{label:"丰镇市",value:"丰镇市"}]},{label:"兴安盟",value:"兴安盟",children:[{label:"乌兰浩特市",value:"乌兰浩特市"},{label:"阿尔山市",value:"阿尔山市"},{label:"科尔沁右翼前旗",value:"科尔沁右翼前旗"},{label:"科尔沁右翼中旗",value:"科尔沁右翼中旗"},{label:"扎赉特旗",value:"扎赉特旗"},{label:"突泉县",value:"突泉县"}]},{label:"锡林郭勒盟",value:"锡林郭勒盟",children:[{label:"二连浩特市",value:"二连浩特市"},{label:"锡林浩特市",value:"锡林浩特市"},{label:"阿巴嘎旗",value:"阿巴嘎旗"},{label:"苏尼特左旗",value:"苏尼特左旗"},{label:"苏尼特右旗",value:"苏尼特右旗"},{label:"东乌珠穆沁旗",value:"东乌珠穆沁旗"},{label:"西乌珠穆沁旗",value:"西乌珠穆沁旗"},{label:"太仆寺旗",value:"太仆寺旗"},{label:"镶黄旗",value:"镶黄旗"},{label:"正镶白旗",value:"正镶白旗"},{label:"正蓝旗",value:"正蓝旗"},{label:"多伦县",value:"多伦县"}]},{label:"阿拉善盟",value:"阿拉善盟",children:[{label:"阿拉善左旗",value:"阿拉善左旗"},{label:"阿拉善右旗",value:"阿拉善右旗"},{label:"额济纳旗",value:"额济纳旗"}]}]},{label:"辽宁省",value:"辽宁省",children:[{label:"沈阳市",value:"沈阳市",children:[{label:"和平区",value:"和平区"},{label:"沈河区",value:"沈河区"},{label:"大东区",value:"大东区"},{label:"皇姑区",value:"皇姑区"},{label:"铁西区",value:"铁西区"},{label:"苏家屯区",value:"苏家屯区"},{label:"浑南区",value:"浑南区"},{label:"沈北新区",value:"沈北新区"},{label:"于洪区",value:"于洪区"},{label:"辽中区",value:"辽中区"},{label:"康平县",value:"康平县"},{label:"法库县",value:"法库县"},{label:"新民市",value:"新民市"}]},{label:"大连市",value:"大连市",children:[{label:"中山区",value:"中山区"},{label:"西岗区",value:"西岗区"},{label:"沙河口区",value:"沙河口区"},{label:"甘井子区",value:"甘井子区"},{label:"旅顺口区",value:"旅顺口区"},{label:"金州区",value:"金州区"},{label:"普兰店区",value:"普兰店区"},{label:"长海县",value:"长海县"},{label:"瓦房店市",value:"瓦房店市"},{label:"庄河市",value:"庄河市"}]},{label:"鞍山市",value:"鞍山市",children:[{label:"铁东区",value:"铁东区"},{label:"铁西区",value:"铁西区"},{label:"立山区",value:"立山区"},{label:"千山区",value:"千山区"},{label:"台安县",value:"台安县"},{label:"岫岩满族自治县",value:"岫岩满族自治县"},{label:"海城市",value:"海城市"}]},{label:"抚顺市",value:"抚顺市",children:[{label:"新抚区",value:"新抚区"},{label:"东洲区",value:"东洲区"},{label:"望花区",value:"望花区"},{label:"顺城区",value:"顺城区"},{label:"抚顺县",value:"抚顺县"},{label:"新宾满族自治县",value:"新宾满族自治县"},{label:"清原满族自治县",value:"清原满族自治县"}]},{label:"本溪市",value:"本溪市",children:[{label:"平山区",value:"平山区"},{label:"溪湖区",value:"溪湖区"},{label:"明山区",value:"明山区"},{label:"南芬区",value:"南芬区"},{label:"本溪满族自治县",value:"本溪满族自治县"},{label:"桓仁满族自治县",value:"桓仁满族自治县"}]},{label:"丹东市",value:"丹东市",children:[{label:"元宝区",value:"元宝区"},{label:"振兴区",value:"振兴区"},{label:"振安区",value:"振安区"},{label:"宽甸满族自治县",value:"宽甸满族自治县"},{label:"东港市",value:"东港市"},{label:"凤城市",value:"凤城市"}]},{label:"锦州市",value:"锦州市",children:[{label:"古塔区",value:"古塔区"},{label:"凌河区",value:"凌河区"},{label:"太和区",value:"太和区"},{label:"黑山县",value:"黑山县"},{label:"义县",value:"义县"},{label:"凌海市",value:"凌海市"},{label:"北镇市",value:"北镇市"}]},{label:"营口市",value:"营口市",children:[{label:"站前区",value:"站前区"},{label:"西市区",value:"西市区"},{label:"鲅鱼圈区",value:"鲅鱼圈区"},{label:"老边区",value:"老边区"},{label:"盖州市",value:"盖州市"},{label:"大石桥市",value:"大石桥市"}]},{label:"阜新市",value:"阜新市",children:[{label:"海州区",value:"海州区"},{label:"新邱区",value:"新邱区"},{label:"太平区",value:"太平区"},{label:"清河门区",value:"清河门区"},{label:"细河区",value:"细河区"},{label:"阜新蒙古族自治县",value:"阜新蒙古族自治县"},{label:"彰武县",value:"彰武县"}]},{label:"辽阳市",value:"辽阳市",children:[{label:"白塔区",value:"白塔区"},{label:"文圣区",value:"文圣区"},{label:"宏伟区",value:"宏伟区"},{label:"弓长岭区",value:"弓长岭区"},{label:"太子河区",value:"太子河区"},{label:"辽阳县",value:"辽阳县"},{label:"灯塔市",value:"灯塔市"}]},{label:"盘锦市",value:"盘锦市",children:[{label:"双台子区",value:"双台子区"},{label:"兴隆台区",value:"兴隆台区"},{label:"大洼区",value:"大洼区"},{label:"盘山县",value:"盘山县"}]},{label:"铁岭市",value:"铁岭市",children:[{label:"银州区",value:"银州区"},{label:"清河区",value:"清河区"},{label:"铁岭县",value:"铁岭县"},{label:"西丰县",value:"西丰县"},{label:"昌图县",value:"昌图县"},{label:"调兵山市",value:"调兵山市"},{label:"开原市",value:"开原市"}]},{label:"朝阳市",value:"朝阳市",children:[{label:"双塔区",value:"双塔区"},{label:"龙城区",value:"龙城区"},{label:"朝阳县",value:"朝阳县"},{label:"建平县",value:"建平县"},{label:"喀喇沁左翼蒙古族自治县",value:"喀喇沁左翼蒙古族自治县"},{label:"北票市",value:"北票市"},{label:"凌源市",value:"凌源市"}]},{label:"葫芦岛市",value:"葫芦岛市",children:[{label:"连山区",value:"连山区"},{label:"龙港区",value:"龙港区"},{label:"南票区",value:"南票区"},{label:"绥中县",value:"绥中县"},{label:"建昌县",value:"建昌县"},{label:"兴城市",value:"兴城市"}]}]},{label:"吉林省",value:"吉林省",children:[{label:"长春市",value:"长春市",children:[{label:"南关区",value:"南关区"},{label:"宽城区",value:"宽城区"},{label:"朝阳区",value:"朝阳区"},{label:"二道区",value:"二道区"},{label:"绿园区",value:"绿园区"},{label:"双阳区",value:"双阳区"},{label:"九台区",value:"九台区"},{label:"农安县",value:"农安县"},{label:"榆树市",value:"榆树市"},{label:"德惠市",value:"德惠市"}]},{label:"吉林市",value:"吉林市",children:[{label:"昌邑区",value:"昌邑区"},{label:"龙潭区",value:"龙潭区"},{label:"船营区",value:"船营区"},{label:"丰满区",value:"丰满区"},{label:"永吉县",value:"永吉县"},{label:"蛟河市",value:"蛟河市"},{label:"桦甸市",value:"桦甸市"},{label:"舒兰市",value:"舒兰市"},{label:"磐石市",value:"磐石市"}]},{label:"四平市",value:"四平市",children:[{label:"铁西区",value:"铁西区"},{label:"铁东区",value:"铁东区"},{label:"梨树县",value:"梨树县"},{label:"伊通满族自治县",value:"伊通满族自治县"},{label:"公主岭市",value:"公主岭市"},{label:"双辽市",value:"双辽市"}]},{label:"辽源市",value:"辽源市",children:[{label:"龙山区",value:"龙山区"},{label:"西安区",value:"西安区"},{label:"东丰县",value:"东丰县"},{label:"东辽县",value:"东辽县"}]},{label:"通化市",value:"通化市",children:[{label:"东昌区",value:"东昌区"},{label:"二道江区",value:"二道江区"},{label:"通化县",value:"通化县"},{label:"辉南县",value:"辉南县"},{label:"柳河县",value:"柳河县"},{label:"梅河口市",value:"梅河口市"},{label:"集安市",value:"集安市"}]},{label:"白山市",value:"白山市",children:[{label:"浑江区",value:"浑江区"},{label:"江源区",value:"江源区"},{label:"抚松县",value:"抚松县"},{label:"靖宇县",value:"靖宇县"},{label:"长白朝鲜族自治县",value:"长白朝鲜族自治县"},{label:"临江市",value:"临江市"}]},{label:"松原市",value:"松原市",children:[{label:"宁江区",value:"宁江区"},{label:"前郭尔罗斯蒙古族自治县",value:"前郭尔罗斯蒙古族自治县"},{label:"长岭县",value:"长岭县"},{label:"乾安县",value:"乾安县"},{label:"扶余市",value:"扶余市"}]},{label:"白城市",value:"白城市",children:[{label:"洮北区",value:"洮北区"},{label:"镇赉县",value:"镇赉县"},{label:"通榆县",value:"通榆县"},{label:"洮南市",value:"洮南市"},{label:"大安市",value:"大安市"}]},{label:"延边朝鲜族自治州",value:"延边朝鲜族自治州",children:[{label:"延吉市",value:"延吉市"},{label:"图们市",value:"图们市"},{label:"敦化市",value:"敦化市"},{label:"珲春市",value:"珲春市"},{label:"龙井市",value:"龙井市"},{label:"和龙市",value:"和龙市"},{label:"汪清县",value:"汪清县"},{label:"安图县",value:"安图县"}]}]},{label:"黑龙江省",value:"黑龙江省",children:[{label:"哈尔滨市",value:"哈尔滨市",children:[{label:"道里区",value:"道里区"},{label:"南岗区",value:"南岗区"},{label:"道外区",value:"道外区"},{label:"平房区",value:"平房区"},{label:"松北区",value:"松北区"},{label:"香坊区",value:"香坊区"},{label:"呼兰区",value:"呼兰区"},{label:"阿城区",value:"阿城区"},{label:"双城区",value:"双城区"},{label:"依兰县",value:"依兰县"},{label:"方正县",value:"方正县"},{label:"宾县",value:"宾县"},{label:"巴彦县",value:"巴彦县"},{label:"木兰县",value:"木兰县"},{label:"通河县",value:"通河县"},{label:"延寿县",value:"延寿县"},{label:"尚志市",value:"尚志市"},{label:"五常市",value:"五常市"}]},{label:"齐齐哈尔市",value:"齐齐哈尔市",children:[{label:"龙沙区",value:"龙沙区"},{label:"建华区",value:"建华区"},{label:"铁锋区",value:"铁锋区"},{label:"昂昂溪区",value:"昂昂溪区"},{label:"富拉尔基区",value:"富拉尔基区"},{label:"碾子山区",value:"碾子山区"},{label:"梅里斯达斡尔族区",value:"梅里斯达斡尔族区"},{label:"龙江县",value:"龙江县"},{label:"依安县",value:"依安县"},{label:"泰来县",value:"泰来县"},{label:"甘南县",value:"甘南县"},{label:"富裕县",value:"富裕县"},{label:"克山县",value:"克山县"},{label:"克东县",value:"克东县"},{label:"拜泉县",value:"拜泉县"},{label:"讷河市",value:"讷河市"}]},{label:"鸡西市",value:"鸡西市",children:[{label:"鸡冠区",value:"鸡冠区"},{label:"恒山区",value:"恒山区"},{label:"滴道区",value:"滴道区"},{label:"梨树区",value:"梨树区"},{label:"城子河区",value:"城子河区"},{label:"麻山区",value:"麻山区"},{label:"鸡东县",value:"鸡东县"},{label:"虎林市",value:"虎林市"},{label:"密山市",value:"密山市"}]},{label:"鹤岗市",value:"鹤岗市",children:[{label:"向阳区",value:"向阳区"},{label:"工农区",value:"工农区"},{label:"南山区",value:"南山区"},{label:"兴安区",value:"兴安区"},{label:"东山区",value:"东山区"},{label:"兴山区",value:"兴山区"},{label:"萝北县",value:"萝北县"},{label:"绥滨县",value:"绥滨县"}]},{label:"双鸭山市",value:"双鸭山市",children:[{label:"尖山区",value:"尖山区"},{label:"岭东区",value:"岭东区"},{label:"四方台区",value:"四方台区"},{label:"宝山区",value:"宝山区"},{label:"集贤县",value:"集贤县"},{label:"友谊县",value:"友谊县"},{label:"宝清县",value:"宝清县"},{label:"饶河县",value:"饶河县"}]},{label:"大庆市",value:"大庆市",children:[{label:"萨尔图区",value:"萨尔图区"},{label:"龙凤区",value:"龙凤区"},{label:"让胡路区",value:"让胡路区"},{label:"红岗区",value:"红岗区"},{label:"大同区",value:"大同区"},{label:"肇州县",value:"肇州县"},{label:"肇源县",value:"肇源县"},{label:"林甸县",value:"林甸县"},{label:"杜尔伯特蒙古族自治县",value:"杜尔伯特蒙古族自治县"}]},{label:"伊春市",value:"伊春市",children:[{label:"伊春区",value:"伊春区"},{label:"南岔区",value:"南岔区"},{label:"友好区",value:"友好区"},{label:"西林区",value:"西林区"},{label:"翠峦区",value:"翠峦区"},{label:"新青区",value:"新青区"},{label:"美溪区",value:"美溪区"},{label:"金山屯区",value:"金山屯区"},{label:"五营区",value:"五营区"},{label:"乌马河区",value:"乌马河区"},{label:"汤旺河区",value:"汤旺河区"},{label:"带岭区",value:"带岭区"},{label:"乌伊岭区",value:"乌伊岭区"},{label:"红星区",value:"红星区"},{label:"上甘岭区",value:"上甘岭区"},{label:"嘉荫县",value:"嘉荫县"},{label:"铁力市",value:"铁力市"}]},{label:"佳木斯市",value:"佳木斯市",children:[{label:"向阳区",value:"向阳区"},{label:"前进区",value:"前进区"},{label:"东风区",value:"东风区"},{label:"郊区",value:"郊区"},{label:"桦南县",value:"桦南县"},{label:"桦川县",value:"桦川县"},{label:"汤原县",value:"汤原县"},{label:"同江市",value:"同江市"},{label:"富锦市",value:"富锦市"},{label:"抚远市",value:"抚远市"}]},{label:"七台河市",value:"七台河市",children:[{label:"新兴区",value:"新兴区"},{label:"桃山区",value:"桃山区"},{label:"茄子河区",value:"茄子河区"},{label:"勃利县",value:"勃利县"}]},{label:"牡丹江市",value:"牡丹江市",children:[{label:"东安区",value:"东安区"},{label:"阳明区",value:"阳明区"},{label:"爱民区",value:"爱民区"},{label:"西安区",value:"西安区"},{label:"林口县",value:"林口县"},{label:"绥芬河市",value:"绥芬河市"},{label:"海林市",value:"海林市"},{label:"宁安市",value:"宁安市"},{label:"穆棱市",value:"穆棱市"},{label:"东宁市",value:"东宁市"}]},{label:"黑河市",value:"黑河市",children:[{label:"爱辉区",value:"爱辉区"},{label:"嫩江县",value:"嫩江县"},{label:"逊克县",value:"逊克县"},{label:"孙吴县",value:"孙吴县"},{label:"北安市",value:"北安市"},{label:"五大连池市",value:"五大连池市"}]},{label:"绥化市",value:"绥化市",children:[{label:"北林区",value:"北林区"},{label:"望奎县",value:"望奎县"},{label:"兰西县",value:"兰西县"},{label:"青冈县",value:"青冈县"},{label:"庆安县",value:"庆安县"},{label:"明水县",value:"明水县"},{label:"绥棱县",value:"绥棱县"},{label:"安达市",value:"安达市"},{label:"肇东市",value:"肇东市"},{label:"海伦市",value:"海伦市"}]},{label:"大兴安岭地区",value:"大兴安岭地区",children:[{label:"呼玛县",value:"呼玛县"},{label:"塔河县",value:"塔河县"},{label:"漠河县",value:"漠河县"}]}]},{label:"上海市",value:"上海市",children:[{label:"黄浦区",value:"黄浦区"},{label:"徐汇区",value:"徐汇区"},{label:"长宁区",value:"长宁区"},{label:"静安区",value:"静安区"},{label:"普陀区",value:"普陀区"},{label:"虹口区",value:"虹口区"},{label:"杨浦区",value:"杨浦区"},{label:"闵行区",value:"闵行区"},{label:"宝山区",value:"宝山区"},{label:"嘉定区",value:"嘉定区"},{label:"浦东新区",value:"浦东新区"},{label:"金山区",value:"金山区"},{label:"松江区",value:"松江区"},{label:"青浦区",value:"青浦区"},{label:"奉贤区",value:"奉贤区"},{label:"崇明区",value:"崇明区"},{label:"上海市",value:"上海市"}]},{label:"江苏省",value:"江苏省",children:[{label:"南京市",value:"南京市",children:[{label:"玄武区",value:"玄武区"},{label:"秦淮区",value:"秦淮区"},{label:"建邺区",value:"建邺区"},{label:"鼓楼区",value:"鼓楼区"},{label:"浦口区",value:"浦口区"},{label:"栖霞区",value:"栖霞区"},{label:"雨花台区",value:"雨花台区"},{label:"江宁区",value:"江宁区"},{label:"六合区",value:"六合区"},{label:"溧水区",value:"溧水区"},{label:"高淳区",value:"高淳区"}]},{label:"无锡市",value:"无锡市",children:[{label:"锡山区",value:"锡山区"},{label:"惠山区",value:"惠山区"},{label:"滨湖区",value:"滨湖区"},{label:"梁溪区",value:"梁溪区"},{label:"新吴区",value:"新吴区"},{label:"江阴市",value:"江阴市"},{label:"宜兴市",value:"宜兴市"}]},{label:"徐州市",value:"徐州市",children:[{label:"鼓楼区",value:"鼓楼区"},{label:"云龙区",value:"云龙区"},{label:"贾汪区",value:"贾汪区"},{label:"泉山区",value:"泉山区"},{label:"铜山区",value:"铜山区"},{label:"丰县",value:"丰县"},{label:"沛县",value:"沛县"},{label:"睢宁县",value:"睢宁县"},{label:"新沂市",value:"新沂市"},{label:"邳州市",value:"邳州市"}]},{label:"常州市",value:"常州市",children:[{label:"天宁区",value:"天宁区"},{label:"钟楼区",value:"钟楼区"},{label:"新北区",value:"新北区"},{label:"武进区",value:"武进区"},{label:"金坛区",value:"金坛区"},{label:"溧阳市",value:"溧阳市"}]},{label:"苏州市",value:"苏州市",children:[{label:"虎丘区",value:"虎丘区"},{label:"吴中区",value:"吴中区"},{label:"相城区",value:"相城区"},{label:"姑苏区",value:"姑苏区"},{label:"吴江区",value:"吴江区"},{label:"常熟市",value:"常熟市"},{label:"张家港市",value:"张家港市"},{label:"昆山市",value:"昆山市"},{label:"太仓市",value:"太仓市"}]},{label:"南通市",value:"南通市",children:[{label:"崇川区",value:"崇川区"},{label:"港闸区",value:"港闸区"},{label:"通州区",value:"通州区"},{label:"海安市",value:"海安市"},{label:"如东县",value:"如东县"},{label:"启东市",value:"启东市"},{label:"如皋市",value:"如皋市"},{label:"海门市",value:"海门市"}]},{label:"连云港市",value:"连云港市",children:[{label:"连云区",value:"连云区"},{label:"海州区",value:"海州区"},{label:"赣榆区",value:"赣榆区"},{label:"东海县",value:"东海县"},{label:"灌云县",value:"灌云县"},{label:"灌南县",value:"灌南县"}]},{label:"淮安市",value:"淮安市",children:[{label:"淮安区",value:"淮安区"},{label:"淮阴区",value:"淮阴区"},{label:"清江浦区",value:"清江浦区"},{label:"洪泽区",value:"洪泽区"},{label:"涟水县",value:"涟水县"},{label:"盱眙县",value:"盱眙县"},{label:"金湖县",value:"金湖县"}]},{label:"盐城市",value:"盐城市",children:[{label:"亭湖区",value:"亭湖区"},{label:"盐都区",value:"盐都区"},{label:"大丰区",value:"大丰区"},{label:"响水县",value:"响水县"},{label:"滨海县",value:"滨海县"},{label:"阜宁县",value:"阜宁县"},{label:"射阳县",value:"射阳县"},{label:"建湖县",value:"建湖县"},{label:"东台市",value:"东台市"}]},{label:"扬州市",value:"扬州市",children:[{label:"广陵区",value:"广陵区"},{label:"邗江区",value:"邗江区"},{label:"江都区",value:"江都区"},{label:"宝应县",value:"宝应县"},{label:"仪征市",value:"仪征市"},{label:"高邮市",value:"高邮市"}]},{label:"镇江市",value:"镇江市",children:[{label:"京口区",value:"京口区"},{label:"润州区",value:"润州区"},{label:"丹徒区",value:"丹徒区"},{label:"丹阳市",value:"丹阳市"},{label:"扬中市",value:"扬中市"},{label:"句容市",value:"句容市"}]},{label:"泰州市",value:"泰州市",children:[{label:"海陵区",value:"海陵区"},{label:"高港区",value:"高港区"},{label:"姜堰区",value:"姜堰区"},{label:"兴化市",value:"兴化市"},{label:"靖江市",value:"靖江市"},{label:"泰兴市",value:"泰兴市"}]},{label:"宿迁市",value:"宿迁市",children:[{label:"宿城区",value:"宿城区"},{label:"宿豫区",value:"宿豫区"},{label:"沭阳县",value:"沭阳县"},{label:"泗阳县",value:"泗阳县"},{label:"泗洪县",value:"泗洪县"}]}]},{label:"浙江省",value:"浙江省",children:[{label:"杭州市",value:"杭州市",children:[{label:"上城区",value:"上城区"},{label:"下城区",value:"下城区"},{label:"江干区",value:"江干区"},{label:"拱墅区",value:"拱墅区"},{label:"西湖区",value:"西湖区"},{label:"滨江区",value:"滨江区"},{label:"萧山区",value:"萧山区"},{label:"余杭区",value:"余杭区"},{label:"富阳区",value:"富阳区"},{label:"临安区",value:"临安区"},{label:"桐庐县",value:"桐庐县"},{label:"淳安县",value:"淳安县"},{label:"建德市",value:"建德市"}]},{label:"宁波市",value:"宁波市",children:[{label:"海曙区",value:"海曙区"},{label:"江北区",value:"江北区"},{label:"北仑区",value:"北仑区"},{label:"镇海区",value:"镇海区"},{label:"鄞州区",value:"鄞州区"},{label:"奉化区",value:"奉化区"},{label:"象山县",value:"象山县"},{label:"宁海县",value:"宁海县"},{label:"余姚市",value:"余姚市"},{label:"慈溪市",value:"慈溪市"}]},{label:"温州市",value:"温州市",children:[{label:"鹿城区",value:"鹿城区"},{label:"龙湾区",value:"龙湾区"},{label:"瓯海区",value:"瓯海区"},{label:"洞头区",value:"洞头区"},{label:"永嘉县",value:"永嘉县"},{label:"平阳县",value:"平阳县"},{label:"苍南县",value:"苍南县"},{label:"文成县",value:"文成县"},{label:"泰顺县",value:"泰顺县"},{label:"瑞安市",value:"瑞安市"},{label:"乐清市",value:"乐清市"},{label:"龙港市",value:"龙港市"}]},{label:"嘉兴市",value:"嘉兴市",children:[{label:"南湖区",value:"南湖区"},{label:"秀洲区",value:"秀洲区"},{label:"嘉善县",value:"嘉善县"},{label:"海盐县",value:"海盐县"},{label:"海宁市",value:"海宁市"},{label:"平湖市",value:"平湖市"},{label:"桐乡市",value:"桐乡市"},{label:"嘉禾区",value:"嘉禾区"}]},{label:"湖州市",value:"湖州市",children:[{label:"吴兴区",value:"吴兴区"},{label:"南浔区",value:"南浔区"},{label:"德清县",value:"德清县"},{label:"长兴县",value:"长兴县"},{label:"安吉县",value:"安吉县"}]},{label:"绍兴市",value:"绍兴市",children:[{label:"越城区",value:"越城区"},{label:"柯桥区",value:"柯桥区"},{label:"上虞区",value:"上虞区"},{label:"新昌县",value:"新昌县"},{label:"诸暨市",value:"诸暨市"},{label:"嵊州市",value:"嵊州市"}]},{label:"金华市",value:"金华市",children:[{label:"婺城区",value:"婺城区"},{label:"金东区",value:"金东区"},{label:"武义县",value:"武义县"},{label:"浦江县",value:"浦江县"},{label:"磐安县",value:"磐安县"},{label:"兰溪市",value:"兰溪市"},{label:"义乌市",value:"义乌市"},{label:"东阳市",value:"东阳市"},{label:"永康市",value:"永康市"}]},{label:"衢州市",value:"衢州市",children:[{label:"柯城区",value:"柯城区"},{label:"衢江区",value:"衢江区"},{label:"常山县",value:"常山县"},{label:"开化县",value:"开化县"},{label:"龙游县",value:"龙游县"},{label:"江山市",value:"江山市"}]},{label:"舟山市",value:"舟山市",children:[{label:"定海区",value:"定海区"},{label:"普陀区",value:"普陀区"},{label:"岱山县",value:"岱山县"},{label:"嵊泗县",value:"嵊泗县"}]},{label:"台州市",value:"台州市",children:[{label:"椒江区",value:"椒江区"},{label:"黄岩区",value:"黄岩区"},{label:"路桥区",value:"路桥区"},{label:"三门县",value:"三门县"},{label:"天台县",value:"天台县"},{label:"仙居县",value:"仙居县"},{label:"温岭市",value:"温岭市"},{label:"临海市",value:"临海市"},{label:"玉环市",value:"玉环市"}]},{label:"丽水市",value:"丽水市",children:[{label:"莲都区",value:"莲都区"},{label:"青田县",value:"青田县"},{label:"缙云县",value:"缙云县"},{label:"遂昌县",value:"遂昌县"},{label:"松阳县",value:"松阳县"},{label:"云和县",value:"云和县"},{label:"庆元县",value:"庆元县"},{label:"景宁畲族自治县",value:"景宁畲族自治县"},{label:"龙泉市",value:"龙泉市"}]}]},{label:"安徽省",value:"安徽省",children:[{label:"合肥市",value:"合肥市",children:[{label:"瑶海区",value:"瑶海区"},{label:"庐阳区",value:"庐阳区"},{label:"蜀山区",value:"蜀山区"},{label:"包河区",value:"包河区"},{label:"长丰县",value:"长丰县"},{label:"肥东县",value:"肥东县"},{label:"肥西县",value:"肥西县"},{label:"庐江县",value:"庐江县"},{label:"巢湖市",value:"巢湖市"}]},{label:"芜湖市",value:"芜湖市",children:[{label:"镜湖区",value:"镜湖区"},{label:"弋江区",value:"弋江区"},{label:"鸠江区",value:"鸠江区"},{label:"三山区",value:"三山区"},{label:"芜湖县",value:"芜湖县"},{label:"繁昌县",value:"繁昌县"},{label:"南陵县",value:"南陵县"},{label:"无为县",value:"无为县"}]},{label:"蚌埠市",value:"蚌埠市",children:[{label:"龙子湖区",value:"龙子湖区"},{label:"蚌山区",value:"蚌山区"},{label:"禹会区",value:"禹会区"},{label:"淮上区",value:"淮上区"},{label:"怀远县",value:"怀远县"},{label:"五河县",value:"五河县"},{label:"固镇县",value:"固镇县"}]},{label:"淮南市",value:"淮南市",children:[{label:"大通区",value:"大通区"},{label:"田家庵区",value:"田家庵区"},{label:"谢家集区",value:"谢家集区"},{label:"八公山区",value:"八公山区"},{label:"潘集区",value:"潘集区"},{label:"凤台县",value:"凤台县"},{label:"寿县",value:"寿县"}]},{label:"马鞍山市",value:"马鞍山市",children:[{label:"花山区",value:"花山区"},{label:"雨山区",value:"雨山区"},{label:"博望区",value:"博望区"},{label:"当涂县",value:"当涂县"},{label:"含山县",value:"含山县"},{label:"和县",value:"和县"}]},{label:"淮北市",value:"淮北市",children:[{label:"杜集区",value:"杜集区"},{label:"相山区",value:"相山区"},{label:"烈山区",value:"烈山区"},{label:"濉溪县",value:"濉溪县"}]},{label:"铜陵市",value:"铜陵市",children:[{label:"铜官区",value:"铜官区"},{label:"义安区",value:"义安区"},{label:"郊区",value:"郊区"},{label:"枞阳县",value:"枞阳县"}]},{label:"安庆市",value:"安庆市",children:[{label:"迎江区",value:"迎江区"},{label:"大观区",value:"大观区"},{label:"宜秀区",value:"宜秀区"},{label:"怀宁县",value:"怀宁县"},{label:"潜山县",value:"潜山县"},{label:"太湖县",value:"太湖县"},{label:"宿松县",value:"宿松县"},{label:"望江县",value:"望江县"},{label:"岳西县",value:"岳西县"},{label:"桐城市",value:"桐城市"}]},{label:"黄山市",value:"黄山市",children:[{label:"屯溪区",value:"屯溪区"},{label:"黄山区",value:"黄山区"},{label:"徽州区",value:"徽州区"},{label:"歙县",value:"歙县"},{label:"休宁县",value:"休宁县"},{label:"黟县",value:"黟县"},{label:"祁门县",value:"祁门县"}]},{label:"滁州市",value:"滁州市",children:[{label:"琅琊区",value:"琅琊区"},{label:"南谯区",value:"南谯区"},{label:"来安县",value:"来安县"},{label:"全椒县",value:"全椒县"},{label:"定远县",value:"定远县"},{label:"凤阳县",value:"凤阳县"},{label:"天长市",value:"天长市"},{label:"明光市",value:"明光市"}]},{label:"阜阳市",value:"阜阳市",children:[{label:"颍州区",value:"颍州区"},{label:"颍东区",value:"颍东区"},{label:"颍泉区",value:"颍泉区"},{label:"临泉县",value:"临泉县"},{label:"太和县",value:"太和县"},{label:"阜南县",value:"阜南县"},{label:"颍上县",value:"颍上县"},{label:"界首市",value:"界首市"}]},{label:"宿州市",value:"宿州市",children:[{label:"埇桥区",value:"埇桥区"},{label:"砀山县",value:"砀山县"},{label:"萧县",value:"萧县"},{label:"灵璧县",value:"灵璧县"},{label:"泗县",value:"泗县"}]},{label:"六安市",value:"六安市",children:[{label:"金安区",value:"金安区"},{label:"裕安区",value:"裕安区"},{label:"叶集区",value:"叶集区"},{label:"霍邱县",value:"霍邱县"},{label:"舒城县",value:"舒城县"},{label:"金寨县",value:"金寨县"},{label:"霍山县",value:"霍山县"}]},{label:"亳州市",value:"亳州市",children:[{label:"谯城区",value:"谯城区"},{label:"涡阳县",value:"涡阳县"},{label:"蒙城县",value:"蒙城县"},{label:"利辛县",value:"利辛县"}]},{label:"池州市",value:"池州市",children:[{label:"贵池区",value:"贵池区"},{label:"东至县",value:"东至县"},{label:"石台县",value:"石台县"},{label:"青阳县",value:"青阳县"}]},{label:"宣城市",value:"宣城市",children:[{label:"宣州区",value:"宣州区"},{label:"郎溪县",value:"郎溪县"},{label:"广德县",value:"广德县"},{label:"泾县",value:"泾县"},{label:"绩溪县",value:"绩溪县"},{label:"旌德县",value:"旌德县"},{label:"宁国市",value:"宁国市"}]}]},{label:"福建省",value:"福建省",children:[{label:"福州市",value:"福州市",children:[{label:"鼓楼区",value:"鼓楼区"},{label:"台江区",value:"台江区"},{label:"仓山区",value:"仓山区"},{label:"马尾区",value:"马尾区"},{label:"晋安区",value:"晋安区"},{label:"长乐区",value:"长乐区"},{label:"闽侯县",value:"闽侯县"},{label:"连江县",value:"连江县"},{label:"罗源县",value:"罗源县"},{label:"闽清县",value:"闽清县"},{label:"永泰县",value:"永泰县"},{label:"平潭县",value:"平潭县"},{label:"福清市",value:"福清市"}]},{label:"厦门市",value:"厦门市",children:[{label:"思明区",value:"思明区"},{label:"海沧区",value:"海沧区"},{label:"湖里区",value:"湖里区"},{label:"集美区",value:"集美区"},{label:"同安区",value:"同安区"},{label:"翔安区",value:"翔安区"}]},{label:"莆田市",value:"莆田市",children:[{label:"城厢区",value:"城厢区"},{label:"涵江区",value:"涵江区"},{label:"荔城区",value:"荔城区"},{label:"秀屿区",value:"秀屿区"},{label:"仙游县",value:"仙游县"}]},{label:"三明市",value:"三明市",children:[{label:"梅列区",value:"梅列区"},{label:"三元区",value:"三元区"},{label:"明溪县",value:"明溪县"},{label:"清流县",value:"清流县"},{label:"宁化县",value:"宁化县"},{label:"大田县",value:"大田县"},{label:"尤溪县",value:"尤溪县"},{label:"沙县",value:"沙县"},{label:"将乐县",value:"将乐县"},{label:"泰宁县",value:"泰宁县"},{label:"建宁县",value:"建宁县"},{label:"永安市",value:"永安市"}]},{label:"泉州市",value:"泉州市",children:[{label:"鲤城区",value:"鲤城区"},{label:"丰泽区",value:"丰泽区"},{label:"洛江区",value:"洛江区"},{label:"泉港区",value:"泉港区"},{label:"惠安县",value:"惠安县"},{label:"安溪县",value:"安溪县"},{label:"永春县",value:"永春县"},{label:"德化县",value:"德化县"},{label:"金门县",value:"金门县"},{label:"石狮市",value:"石狮市"},{label:"晋江市",value:"晋江市"},{label:"南安市",value:"南安市"}]},{label:"漳州市",value:"漳州市",children:[{label:"芗城区",value:"芗城区"},{label:"龙文区",value:"龙文区"},{label:"云霄县",value:"云霄县"},{label:"漳浦县",value:"漳浦县"},{label:"诏安县",value:"诏安县"},{label:"长泰县",value:"长泰县"},{label:"东山县",value:"东山县"},{label:"南靖县",value:"南靖县"},{label:"平和县",value:"平和县"},{label:"华安县",value:"华安县"},{label:"龙海市",value:"龙海市"}]},{label:"南平市",value:"南平市",children:[{label:"延平区",value:"延平区"},{label:"建阳区",value:"建阳区"},{label:"顺昌县",value:"顺昌县"},{label:"浦城县",value:"浦城县"},{label:"光泽县",value:"光泽县"},{label:"松溪县",value:"松溪县"},{label:"政和县",value:"政和县"},{label:"邵武市",value:"邵武市"},{label:"武夷山市",value:"武夷山市"},{label:"建瓯市",value:"建瓯市"}]},{label:"龙岩市",value:"龙岩市",children:[{label:"新罗区",value:"新罗区"},{label:"永定区",value:"永定区"},{label:"长汀县",value:"长汀县"},{label:"上杭县",value:"上杭县"},{label:"武平县",value:"武平县"},{label:"连城县",value:"连城县"},{label:"漳平市",value:"漳平市"}]},{label:"宁德市",value:"宁德市",children:[{label:"蕉城区",value:"蕉城区"},{label:"霞浦县",value:"霞浦县"},{label:"古田县",value:"古田县"},{label:"屏南县",value:"屏南县"},{label:"寿宁县",value:"寿宁县"},{label:"周宁县",value:"周宁县"},{label:"柘荣县",value:"柘荣县"},{label:"福安市",value:"福安市"},{label:"福鼎市",value:"福鼎市"}]}]},{label:"江西省",value:"江西省",children:[{label:"南昌市",value:"南昌市",children:[{label:"东湖区",value:"东湖区"},{label:"西湖区",value:"西湖区"},{label:"青云谱区",value:"青云谱区"},{label:"湾里区",value:"湾里区"},{label:"青山湖区",value:"青山湖区"},{label:"新建区",value:"新建区"},{label:"南昌县",value:"南昌县"},{label:"安义县",value:"安义县"},{label:"进贤县",value:"进贤县"}]},{label:"景德镇市",value:"景德镇市",children:[{label:"昌江区",value:"昌江区"},{label:"珠山区",value:"珠山区"},{label:"浮梁县",value:"浮梁县"},{label:"乐平市",value:"乐平市"}]},{label:"萍乡市",value:"萍乡市",children:[{label:"安源区",value:"安源区"},{label:"湘东区",value:"湘东区"},{label:"莲花县",value:"莲花县"},{label:"上栗县",value:"上栗县"},{label:"芦溪县",value:"芦溪县"}]},{label:"九江市",value:"九江市",children:[{label:"濂溪区",value:"濂溪区"},{label:"浔阳区",value:"浔阳区"},{label:"柴桑区",value:"柴桑区"},{label:"武宁县",value:"武宁县"},{label:"修水县",value:"修水县"},{label:"永修县",value:"永修县"},{label:"德安县",value:"德安县"},{label:"都昌县",value:"都昌县"},{label:"湖口县",value:"湖口县"},{label:"彭泽县",value:"彭泽县"},{label:"瑞昌市",value:"瑞昌市"},{label:"共青城市",value:"共青城市"},{label:"庐山市",value:"庐山市"}]},{label:"新余市",value:"新余市",children:[{label:"渝水区",value:"渝水区"},{label:"分宜县",value:"分宜县"}]},{label:"鹰潭市",value:"鹰潭市",children:[{label:"月湖区",value:"月湖区"},{label:"余江县",value:"余江县"},{label:"贵溪市",value:"贵溪市"}]},{label:"赣州市",value:"赣州市",children:[{label:"章贡区",value:"章贡区"},{label:"南康区",value:"南康区"},{label:"赣县区",value:"赣县区"},{label:"信丰县",value:"信丰县"},{label:"大余县",value:"大余县"},{label:"上犹县",value:"上犹县"},{label:"崇义县",value:"崇义县"},{label:"安远县",value:"安远县"},{label:"龙南县",value:"龙南县"},{label:"定南县",value:"定南县"},{label:"全南县",value:"全南县"},{label:"宁都县",value:"宁都县"},{label:"于都县",value:"于都县"},{label:"兴国县",value:"兴国县"},{label:"会昌县",value:"会昌县"},{label:"寻乌县",value:"寻乌县"},{label:"石城县",value:"石城县"},{label:"瑞金市",value:"瑞金市"}]},{label:"吉安市",value:"吉安市",children:[{label:"吉州区",value:"吉州区"},{label:"青原区",value:"青原区"},{label:"吉安县",value:"吉安县"},{label:"吉水县",value:"吉水县"},{label:"峡江县",value:"峡江县"},{label:"新干县",value:"新干县"},{label:"永丰县",value:"永丰县"},{label:"泰和县",value:"泰和县"},{label:"遂川县",value:"遂川县"},{label:"万安县",value:"万安县"},{label:"安福县",value:"安福县"},{label:"永新县",value:"永新县"},{label:"井冈山市",value:"井冈山市"}]},{label:"宜春市",value:"宜春市",children:[{label:"袁州区",value:"袁州区"},{label:"奉新县",value:"奉新县"},{label:"万载县",value:"万载县"},{label:"上高县",value:"上高县"},{label:"宜丰县",value:"宜丰县"},{label:"靖安县",value:"靖安县"},{label:"铜鼓县",value:"铜鼓县"},{label:"丰城市",value:"丰城市"},{label:"樟树市",value:"樟树市"},{label:"高安市",value:"高安市"}]},{label:"抚州市",value:"抚州市",children:[{label:"临川区",value:"临川区"},{label:"东乡区",value:"东乡区"},{label:"南城县",value:"南城县"},{label:"黎川县",value:"黎川县"},{label:"南丰县",value:"南丰县"},{label:"崇仁县",value:"崇仁县"},{label:"乐安县",value:"乐安县"},{label:"宜黄县",value:"宜黄县"},{label:"金溪县",value:"金溪县"},{label:"资溪县",value:"资溪县"},{label:"广昌县",value:"广昌县"}]},{label:"上饶市",value:"上饶市",children:[{label:"信州区",value:"信州区"},{label:"广丰区",value:"广丰区"},{label:"上饶县",value:"上饶县"},{label:"玉山县",value:"玉山县"},{label:"铅山县",value:"铅山县"},{label:"横峰县",value:"横峰县"},{label:"弋阳县",value:"弋阳县"},{label:"余干县",value:"余干县"},{label:"鄱阳县",value:"鄱阳县"},{label:"万年县",value:"万年县"},{label:"婺源县",value:"婺源县"},{label:"德兴市",value:"德兴市"}]}]},{label:"山东省",value:"山东省",children:[{label:"济南市",value:"济南市",children:[{label:"历下区",value:"历下区"},{label:"市中区",value:"市中区"},{label:"槐荫区",value:"槐荫区"},{label:"天桥区",value:"天桥区"},{label:"历城区",value:"历城区"},{label:"长清区",value:"长清区"},{label:"章丘区",value:"章丘区"},{label:"平阴县",value:"平阴县"},{label:"济阳县",value:"济阳县"},{label:"商河县",value:"商河县"}]},{label:"青岛市",value:"青岛市",children:[{label:"市南区",value:"市南区"},{label:"市北区",value:"市北区"},{label:"黄岛区",value:"黄岛区"},{label:"崂山区",value:"崂山区"},{label:"李沧区",value:"李沧区"},{label:"城阳区",value:"城阳区"},{label:"即墨区",value:"即墨区"},{label:"胶州市",value:"胶州市"},{label:"平度市",value:"平度市"},{label:"莱西市",value:"莱西市"}]},{label:"淄博市",value:"淄博市",children:[{label:"淄川区",value:"淄川区"},{label:"张店区",value:"张店区"},{label:"博山区",value:"博山区"},{label:"临淄区",value:"临淄区"},{label:"周村区",value:"周村区"},{label:"桓台县",value:"桓台县"},{label:"高青县",value:"高青县"},{label:"沂源县",value:"沂源县"}]},{label:"枣庄市",value:"枣庄市",children:[{label:"市中区",value:"市中区"},{label:"薛城区",value:"薛城区"},{label:"峄城区",value:"峄城区"},{label:"台儿庄区",value:"台儿庄区"},{label:"山亭区",value:"山亭区"},{label:"滕州市",value:"滕州市"}]},{label:"东营市",value:"东营市",children:[{label:"东营区",value:"东营区"},{label:"河口区",value:"河口区"},{label:"垦利区",value:"垦利区"},{label:"利津县",value:"利津县"},{label:"广饶县",value:"广饶县"}]},{label:"烟台市",value:"烟台市",children:[{label:"芝罘区",value:"芝罘区"},{label:"福山区",value:"福山区"},{label:"牟平区",value:"牟平区"},{label:"莱山区",value:"莱山区"},{label:"蓬莱区",value:"蓬莱区"},{label:"龙口市",value:"龙口市"},{label:"莱阳市",value:"莱阳市"},{label:"莱州市",value:"莱州市"},{label:"招远市",value:"招远市"},{label:"栖霞市",value:"栖霞市"},{label:"海阳市",value:"海阳市"}]},{label:"潍坊市",value:"潍坊市",children:[{label:"潍城区",value:"潍城区"},{label:"寒亭区",value:"寒亭区"},{label:"坊子区",value:"坊子区"},{label:"奎文区",value:"奎文区"},{label:"临朐县",value:"临朐县"},{label:"昌乐县",value:"昌乐县"},{label:"青州市",value:"青州市"},{label:"诸城市",value:"诸城市"},{label:"寿光市",value:"寿光市"},{label:"安丘市",value:"安丘市"},{label:"高密市",value:"高密市"},{label:"昌邑市",value:"昌邑市"}]},{label:"济宁市",value:"济宁市",children:[{label:"任城区",value:"任城区"},{label:"兖州区",value:"兖州区"},{label:"微山县",value:"微山县"},{label:"鱼台县",value:"鱼台县"},{label:"金乡县",value:"金乡县"},{label:"嘉祥县",value:"嘉祥县"},{label:"汶上县",value:"汶上县"},{label:"泗水县",value:"泗水县"},{label:"梁山县",value:"梁山县"},{label:"曲阜市",value:"曲阜市"},{label:"邹城市",value:"邹城市"}]},{label:"泰安市",value:"泰安市",children:[{label:"泰山区",value:"泰山区"},{label:"岱岳区",value:"岱岳区"},{label:"宁阳县",value:"宁阳县"},{label:"东平县",value:"东平县"},{label:"新泰市",value:"新泰市"},{label:"肥城市",value:"肥城市"}]},{label:"威海市",value:"威海市",children:[{label:"环翠区",value:"环翠区"},{label:"文登区",value:"文登区"},{label:"荣成市",value:"荣成市"},{label:"乳山市",value:"乳山市"}]},{label:"日照市",value:"日照市",children:[{label:"东港区",value:"东港区"},{label:"岚山区",value:"岚山区"},{label:"五莲县",value:"五莲县"},{label:"莒县",value:"莒县"}]},{label:"莱芜市",value:"莱芜市",children:[{label:"莱城区",value:"莱城区"},{label:"钢城区",value:"钢城区"}]},{label:"临沂市",value:"临沂市",children:[{label:"兰山区",value:"兰山区"},{label:"罗庄区",value:"罗庄区"},{label:"河东区",value:"河东区"},{label:"沂南县",value:"沂南县"},{label:"郯城县",value:"郯城县"},{label:"沂水县",value:"沂水县"},{label:"兰陵县",value:"兰陵县"},{label:"费县",value:"费县"},{label:"平邑县",value:"平邑县"},{label:"莒南县",value:"莒南县"},{label:"蒙阴县",value:"蒙阴县"},{label:"临沭县",value:"临沭县"}]},{label:"德州市",value:"德州市",children:[{label:"德城区",value:"德城区"},{label:"陵城区",value:"陵城区"},{label:"宁津县",value:"宁津县"},{label:"庆云县",value:"庆云县"},{label:"临邑县",value:"临邑县"},{label:"齐河县",value:"齐河县"},{label:"平原县",value:"平原县"},{label:"夏津县",value:"夏津县"},{label:"武城县",value:"武城县"},{label:"乐陵市",value:"乐陵市"},{label:"禹城市",value:"禹城市"}]},{label:"聊城市",value:"聊城市",children:[{label:"东昌府区",value:"东昌府区"},{label:"阳谷县",value:"阳谷县"},{label:"莘县",value:"莘县"},{label:"茌平县",value:"茌平县"},{label:"东阿县",value:"东阿县"},{label:"冠县",value:"冠县"},{label:"高唐县",value:"高唐县"},{label:"临清市",value:"临清市"}]},{label:"滨州市",value:"滨州市",children:[{label:"滨城区",value:"滨城区"},{label:"沾化区",value:"沾化区"},{label:"惠民县",value:"惠民县"},{label:"阳信县",value:"阳信县"},{label:"无棣县",value:"无棣县"},{label:"博兴县",value:"博兴县"},{label:"邹平县",value:"邹平县"}]},{label:"菏泽市",value:"菏泽市",children:[{label:"牡丹区",value:"牡丹区"},{label:"定陶区",value:"定陶区"},{label:"曹县",value:"曹县"},{label:"单县",value:"单县"},{label:"成武县",value:"成武县"},{label:"巨野县",value:"巨野县"},{label:"郓城县",value:"郓城县"},{label:"鄄城县",value:"鄄城县"},{label:"东明县",value:"东明县"}]}]},{label:"河南省",value:"河南省",children:[{label:"郑州市",value:"郑州市",children:[{label:"中原区",value:"中原区"},{label:"二七区",value:"二七区"},{label:"管城回族区",value:"管城回族区"},{label:"金水区",value:"金水区"},{label:"上街区",value:"上街区"},{label:"惠济区",value:"惠济区"},{label:"中牟县",value:"中牟县"},{label:"巩义市",value:"巩义市"},{label:"荥阳市",value:"荥阳市"},{label:"新密市",value:"新密市"},{label:"新郑市",value:"新郑市"},{label:"登封市",value:"登封市"}]},{label:"开封市",value:"开封市",children:[{label:"龙亭区",value:"龙亭区"},{label:"顺河回族区",value:"顺河回族区"},{label:"鼓楼区",value:"鼓楼区"},{label:"禹王台区",value:"禹王台区"},{label:"祥符区",value:"祥符区"},{label:"杞县",value:"杞县"},{label:"通许县",value:"通许县"},{label:"尉氏县",value:"尉氏县"},{label:"兰考县",value:"兰考县"}]},{label:"洛阳市",value:"洛阳市",children:[{label:"老城区",value:"老城区"},{label:"西工区",value:"西工区"},{label:"瀍河回族区",value:"瀍河回族区"},{label:"涧西区",value:"涧西区"},{label:"吉利区",value:"吉利区"},{label:"洛龙区",value:"洛龙区"},{label:"孟津县",value:"孟津县"},{label:"新安县",value:"新安县"},{label:"栾川县",value:"栾川县"},{label:"嵩县",value:"嵩县"},{label:"汝阳县",value:"汝阳县"},{label:"宜阳县",value:"宜阳县"},{label:"洛宁县",value:"洛宁县"},{label:"伊川县",value:"伊川县"},{label:"偃师市",value:"偃师市"}]},{label:"平顶山市",value:"平顶山市",children:[{label:"新华区",value:"新华区"},{label:"卫东区",value:"卫东区"},{label:"石龙区",value:"石龙区"},{label:"湛河区",value:"湛河区"},{label:"宝丰县",value:"宝丰县"},{label:"叶县",value:"叶县"},{label:"鲁山县",value:"鲁山县"},{label:"郏县",value:"郏县"},{label:"舞钢市",value:"舞钢市"},{label:"汝州市",value:"汝州市"}]},{label:"安阳市",value:"安阳市",children:[{label:"文峰区",value:"文峰区"},{label:"北关区",value:"北关区"},{label:"殷都区",value:"殷都区"},{label:"龙安区",value:"龙安区"},{label:"安阳县",value:"安阳县"},{label:"汤阴县",value:"汤阴县"},{label:"滑县",value:"滑县"},{label:"内黄县",value:"内黄县"},{label:"林州市",value:"林州市"}]},{label:"鹤壁市",value:"鹤壁市",children:[{label:"鹤山区",value:"鹤山区"},{label:"山城区",value:"山城区"},{label:"淇滨区",value:"淇滨区"},{label:"浚县",value:"浚县"},{label:"淇县",value:"淇县"}]},{label:"新乡市",value:"新乡市",children:[{label:"红旗区",value:"红旗区"},{label:"卫滨区",value:"卫滨区"},{label:"凤泉区",value:"凤泉区"},{label:"牧野区",value:"牧野区"},{label:"新乡县",value:"新乡县"},{label:"获嘉县",value:"获嘉县"},{label:"原阳县",value:"原阳县"},{label:"延津县",value:"延津县"},{label:"封丘县",value:"封丘县"},{label:"长垣县",value:"长垣县"},{label:"卫辉市",value:"卫辉市"},{label:"辉县市",value:"辉县市"}]},{label:"焦作市",value:"焦作市",children:[{label:"解放区",value:"解放区"},{label:"中站区",value:"中站区"},{label:"马村区",value:"马村区"},{label:"山阳区",value:"山阳区"},{label:"修武县",value:"修武县"},{label:"博爱县",value:"博爱县"},{label:"武陟县",value:"武陟县"},{label:"温县",value:"温县"},{label:"沁阳市",value:"沁阳市"},{label:"孟州市",value:"孟州市"}]},{label:"濮阳市",value:"濮阳市",children:[{label:"华龙区",value:"华龙区"},{label:"清丰县",value:"清丰县"},{label:"南乐县",value:"南乐县"},{label:"范县",value:"范县"},{label:"台前县",value:"台前县"},{label:"濮阳县",value:"濮阳县"}]},{label:"许昌市",value:"许昌市",children:[{label:"魏都区",value:"魏都区"},{label:"建安区",value:"建安区"},{label:"鄢陵县",value:"鄢陵县"},{label:"襄城县",value:"襄城县"},{label:"禹州市",value:"禹州市"},{label:"长葛市",value:"长葛市"}]},{label:"漯河市",value:"漯河市",children:[{label:"源汇区",value:"源汇区"},{label:"郾城区",value:"郾城区"},{label:"召陵区",value:"召陵区"},{label:"舞阳县",value:"舞阳县"},{label:"临颍县",value:"临颍县"}]},{label:"三门峡市",value:"三门峡市",children:[{label:"湖滨区",value:"湖滨区"},{label:"陕州区",value:"陕州区"},{label:"渑池县",value:"渑池县"},{label:"卢氏县",value:"卢氏县"},{label:"义马市",value:"义马市"},{label:"灵宝市",value:"灵宝市"}]},{label:"南阳市",value:"南阳市",children:[{label:"宛城区",value:"宛城区"},{label:"卧龙区",value:"卧龙区"},{label:"南召县",value:"南召县"},{label:"方城县",value:"方城县"},{label:"西峡县",value:"西峡县"},{label:"镇平县",value:"镇平县"},{label:"内乡县",value:"内乡县"},{label:"淅川县",value:"淅川县"},{label:"社旗县",value:"社旗县"},{label:"唐河县",value:"唐河县"},{label:"新野县",value:"新野县"},{label:"桐柏县",value:"桐柏县"},{label:"邓州市",value:"邓州市"}]},{label:"商丘市",value:"商丘市",children:[{label:"梁园区",value:"梁园区"},{label:"睢阳区",value:"睢阳区"},{label:"民权县",value:"民权县"},{label:"睢县",value:"睢县"},{label:"宁陵县",value:"宁陵县"},{label:"柘城县",value:"柘城县"},{label:"虞城县",value:"虞城县"},{label:"夏邑县",value:"夏邑县"},{label:"永城市",value:"永城市"}]},{label:"信阳市",value:"信阳市",children:[{label:"浉河区",value:"浉河区"},{label:"平桥区",value:"平桥区"},{label:"罗山县",value:"罗山县"},{label:"光山县",value:"光山县"},{label:"新县",value:"新县"},{label:"商城县",value:"商城县"},{label:"固始县",value:"固始县"},{label:"潢川县",value:"潢川县"},{label:"淮滨县",value:"淮滨县"},{label:"息县",value:"息县"}]},{label:"周口市",value:"周口市",children:[{label:"川汇区",value:"川汇区"},{label:"扶沟县",value:"扶沟县"},{label:"西华县",value:"西华县"},{label:"商水县",value:"商水县"},{label:"沈丘县",value:"沈丘县"},{label:"郸城县",value:"郸城县"},{label:"淮阳县",value:"淮阳县"},{label:"太康县",value:"太康县"},{label:"鹿邑县",value:"鹿邑县"},{label:"项城市",value:"项城市"}]},{label:"驻马店市",value:"驻马店市",children:[{label:"驿城区",value:"驿城区"},{label:"西平县",value:"西平县"},{label:"上蔡县",value:"上蔡县"},{label:"平舆县",value:"平舆县"},{label:"正阳县",value:"正阳县"},{label:"确山县",value:"确山县"},{label:"泌阳县",value:"泌阳县"},{label:"汝南县",value:"汝南县"},{label:"遂平县",value:"遂平县"},{label:"新蔡县",value:"新蔡县"}]}]},{label:"湖北省",value:"湖北省",children:[{label:"武汉市",value:"武汉市",children:[{label:"江岸区",value:"江岸区"},{label:"江汉区",value:"江汉区"},{label:"硚口区",value:"硚口区"},{label:"汉阳区",value:"汉阳区"},{label:"武昌区",value:"武昌区"},{label:"青山区",value:"青山区"},{label:"洪山区",value:"洪山区"},{label:"东西湖区",value:"东西湖区"},{label:"汉南区",value:"汉南区"},{label:"蔡甸区",value:"蔡甸区"},{label:"江夏区",value:"江夏区"},{label:"黄陂区",value:"黄陂区"},{label:"新洲区",value:"新洲区"}]},{label:"黄石市",value:"黄石市",children:[{label:"黄石港区",value:"黄石港区"},{label:"西塞山区",value:"西塞山区"},{label:"下陆区",value:"下陆区"},{label:"铁山区",value:"铁山区"},{label:"阳新县",value:"阳新县"},{label:"大冶市",value:"大冶市"}]},{label:"十堰市",value:"十堰市",children:[{label:"茅箭区",value:"茅箭区"},{label:"张湾区",value:"张湾区"},{label:"郧阳区",value:"郧阳区"},{label:"郧西县",value:"郧西县"},{label:"竹山县",value:"竹山县"},{label:"竹溪县",value:"竹溪县"},{label:"房县",value:"房县"},{label:"丹江口市",value:"丹江口市"}]},{label:"宜昌市",value:"宜昌市",children:[{label:"西陵区",value:"西陵区"},{label:"伍家岗区",value:"伍家岗区"},{label:"点军区",value:"点军区"},{label:"猇亭区",value:"猇亭区"},{label:"夷陵区",value:"夷陵区"},{label:"远安县",value:"远安县"},{label:"兴山县",value:"兴山县"},{label:"秭归县",value:"秭归县"},{label:"长阳土家族自治县",value:"长阳土家族自治县"},{label:"五峰土家族自治县",value:"五峰土家族自治县"},{label:"宜都市",value:"宜都市"},{label:"当阳市",value:"当阳市"},{label:"枝江市",value:"枝江市"}]},{label:"襄阳市",value:"襄阳市",children:[{label:"襄城区",value:"襄城区"},{label:"樊城区",value:"樊城区"},{label:"襄州区",value:"襄州区"},{label:"南漳县",value:"南漳县"},{label:"谷城县",value:"谷城县"},{label:"保康县",value:"保康县"},{label:"老河口市",value:"老河口市"},{label:"枣阳市",value:"枣阳市"},{label:"宜城市",value:"宜城市"}]},{label:"鄂州市",value:"鄂州市",children:[{label:"梁子湖区",value:"梁子湖区"},{label:"华容区",value:"华容区"},{label:"鄂城区",value:"鄂城区"}]},{label:"荆门市",value:"荆门市",children:[{label:"东宝区",value:"东宝区"},{label:"掇刀区",value:"掇刀区"},{label:"京山县",value:"京山县"},{label:"沙洋县",value:"沙洋县"},{label:"钟祥市",value:"钟祥市"}]},{label:"孝感市",value:"孝感市",children:[{label:"孝南区",value:"孝南区"},{label:"孝昌县",value:"孝昌县"},{label:"大悟县",value:"大悟县"},{label:"云梦县",value:"云梦县"},{label:"应城市",value:"应城市"},{label:"安陆市",value:"安陆市"},{label:"汉川市",value:"汉川市"}]},{label:"荆州市",value:"荆州市",children:[{label:"沙市区",value:"沙市区"},{label:"荆州区",value:"荆州区"},{label:"公安县",value:"公安县"},{label:"监利县",value:"监利县"},{label:"江陵县",value:"江陵县"},{label:"石首市",value:"石首市"},{label:"洪湖市",value:"洪湖市"},{label:"松滋市",value:"松滋市"}]},{label:"黄冈市",value:"黄冈市",children:[{label:"黄州区",value:"黄州区"},{label:"团风县",value:"团风县"},{label:"红安县",value:"红安县"},{label:"罗田县",value:"罗田县"},{label:"英山县",value:"英山县"},{label:"浠水县",value:"浠水县"},{label:"蕲春县",value:"蕲春县"},{label:"黄梅县",value:"黄梅县"},{label:"麻城市",value:"麻城市"},{label:"武穴市",value:"武穴市"}]},{label:"咸宁市",value:"咸宁市",children:[{label:"咸安区",value:"咸安区"},{label:"嘉鱼县",value:"嘉鱼县"},{label:"通城县",value:"通城县"},{label:"崇阳县",value:"崇阳县"},{label:"通山县",value:"通山县"},{label:"赤壁市",value:"赤壁市"}]},{label:"随州市",value:"随州市",children:[{label:"曾都区",value:"曾都区"},{label:"随县",value:"随县"},{label:"广水市",value:"广水市"}]},{label:"恩施土家族苗族自治州",value:"恩施土家族苗族自治州",children:[{label:"恩施市",value:"恩施市"},{label:"利川市",value:"利川市"},{label:"建始县",value:"建始县"},{label:"巴东县",value:"巴东县"},{label:"宣恩县",value:"宣恩县"},{label:"咸丰县",value:"咸丰县"},{label:"来凤县",value:"来凤县"},{label:"鹤峰县",value:"鹤峰县"}]}]},{label:"湖南省",value:"湖南省",children:[{label:"长沙市",value:"长沙市",children:[{label:"芙蓉区",value:"芙蓉区"},{label:"天心区",value:"天心区"},{label:"岳麓区",value:"岳麓区"},{label:"开福区",value:"开福区"},{label:"雨花区",value:"雨花区"},{label:"望城区",value:"望城区"},{label:"长沙县",value:"长沙县"},{label:"浏阳市",value:"浏阳市"},{label:"宁乡市",value:"宁乡市"}]},{label:"株洲市",value:"株洲市",children:[{label:"荷塘区",value:"荷塘区"},{label:"芦淞区",value:"芦淞区"},{label:"石峰区",value:"石峰区"},{label:"天元区",value:"天元区"},{label:"株洲县",value:"株洲县"},{label:"攸县",value:"攸县"},{label:"茶陵县",value:"茶陵县"},{label:"炎陵县",value:"炎陵县"},{label:"醴陵市",value:"醴陵市"}]},{label:"湘潭市",value:"湘潭市",children:[{label:"雨湖区",value:"雨湖区"},{label:"岳塘区",value:"岳塘区"},{label:"湘潭县",value:"湘潭县"},{label:"湘乡市",value:"湘乡市"},{label:"韶山市",value:"韶山市"}]},{label:"衡阳市",value:"衡阳市",children:[{label:"珠晖区",value:"珠晖区"},{label:"雁峰区",value:"雁峰区"},{label:"石鼓区",value:"石鼓区"},{label:"蒸湘区",value:"蒸湘区"},{label:"南岳区",value:"南岳区"},{label:"衡阳县",value:"衡阳县"},{label:"衡南县",value:"衡南县"},{label:"衡山县",value:"衡山县"},{label:"衡东县",value:"衡东县"},{label:"祁东县",value:"祁东县"},{label:"耒阳市",value:"耒阳市"},{label:"常宁市",value:"常宁市"}]},{label:"邵阳市",value:"邵阳市",children:[{label:"双清区",value:"双清区"},{label:"大祥区",value:"大祥区"},{label:"北塔区",value:"北塔区"},{label:"邵东县",value:"邵东县"},{label:"新邵县",value:"新邵县"},{label:"邵阳县",value:"邵阳县"},{label:"隆回县",value:"隆回县"},{label:"洞口县",value:"洞口县"},{label:"绥宁县",value:"绥宁县"},{label:"新宁县",value:"新宁县"},{label:"城步苗族自治县",value:"城步苗族自治县"},{label:"武冈市",value:"武冈市"}]},{label:"岳阳市",value:"岳阳市",children:[{label:"岳阳楼区",value:"岳阳楼区"},{label:"云溪区",value:"云溪区"},{label:"君山区",value:"君山区"},{label:"岳阳县",value:"岳阳县"},{label:"华容县",value:"华容县"},{label:"湘阴县",value:"湘阴县"},{label:"平江县",value:"平江县"},{label:"汨罗市",value:"汨罗市"},{label:"临湘市",value:"临湘市"}]},{label:"常德市",value:"常德市",children:[{label:"武陵区",value:"武陵区"},{label:"鼎城区",value:"鼎城区"},{label:"安乡县",value:"安乡县"},{label:"汉寿县",value:"汉寿县"},{label:"澧县",value:"澧县"},{label:"临澧县",value:"临澧县"},{label:"桃源县",value:"桃源县"},{label:"石门县",value:"石门县"},{label:"津市市",value:"津市市"}]},{label:"张家界市",value:"张家界市",children:[{label:"永定区",value:"永定区"},{label:"武陵源区",value:"武陵源区"},{label:"慈利县",value:"慈利县"},{label:"桑植县",value:"桑植县"}]},{label:"益阳市",value:"益阳市",children:[{label:"资阳区",value:"资阳区"},{label:"赫山区",value:"赫山区"},{label:"南县",value:"南县"},{label:"桃江县",value:"桃江县"},{label:"安化县",value:"安化县"},{label:"沅江市",value:"沅江市"}]},{label:"郴州市",value:"郴州市",children:[{label:"北湖区",value:"北湖区"},{label:"苏仙区",value:"苏仙区"},{label:"桂阳县",value:"桂阳县"},{label:"宜章县",value:"宜章县"},{label:"永兴县",value:"永兴县"},{label:"嘉禾县",value:"嘉禾县"},{label:"临武县",value:"临武县"},{label:"汝城县",value:"汝城县"},{label:"桂东县",value:"桂东县"},{label:"安仁县",value:"安仁县"},{label:"资兴市",value:"资兴市"}]},{label:"永州市",value:"永州市",children:[{label:"零陵区",value:"零陵区"},{label:"冷水滩区",value:"冷水滩区"},{label:"祁阳县",value:"祁阳县"},{label:"东安县",value:"东安县"},{label:"双牌县",value:"双牌县"},{label:"道县",value:"道县"},{label:"江永县",value:"江永县"},{label:"宁远县",value:"宁远县"},{label:"蓝山县",value:"蓝山县"},{label:"新田县",value:"新田县"},{label:"江华瑶族自治县",value:"江华瑶族自治县"}]},{label:"怀化市",value:"怀化市",children:[{label:"鹤城区",value:"鹤城区"},{label:"中方县",value:"中方县"},{label:"沅陵县",value:"沅陵县"},{label:"辰溪县",value:"辰溪县"},{label:"溆浦县",value:"溆浦县"},{label:"会同县",value:"会同县"},{label:"麻阳苗族自治县",value:"麻阳苗族自治县"},{label:"新晃侗族自治县",value:"新晃侗族自治县"},{label:"芷江侗族自治县",value:"芷江侗族自治县"},{label:"靖州苗族侗族自治县",value:"靖州苗族侗族自治县"},{label:"通道侗族自治县",value:"通道侗族自治县"},{label:"洪江市",value:"洪江市"}]},{label:"娄底市",value:"娄底市",children:[{label:"娄星区",value:"娄星区"},{label:"双峰县",value:"双峰县"},{label:"新化县",value:"新化县"},{label:"冷水江市",value:"冷水江市"},{label:"涟源市",value:"涟源市"}]},{label:"湘西土家族苗族自治州",value:"湘西土家族苗族自治州",children:[{label:"吉首市",value:"吉首市"},{label:"泸溪县",value:"泸溪县"},{label:"凤凰县",value:"凤凰县"},{label:"花垣县",value:"花垣县"},{label:"保靖县",value:"保靖县"},{label:"古丈县",value:"古丈县"},{label:"永顺县",value:"永顺县"},{label:"龙山县",value:"龙山县"}]}]},{label:"广东省",value:"广东省",children:[{label:"广州市",value:"广州市",children:[{label:"荔湾区",value:"荔湾区"},{label:"越秀区",value:"越秀区"},{label:"海珠区",value:"海珠区"},{label:"天河区",value:"天河区"},{label:"白云区",value:"白云区"},{label:"黄埔区",value:"黄埔区"},{label:"番禺区",value:"番禺区"},{label:"花都区",value:"花都区"},{label:"南沙区",value:"南沙区"},{label:"从化区",value:"从化区"},{label:"增城区",value:"增城区"}]},{label:"韶关市",value:"韶关市",children:[{label:"武江区",value:"武江区"},{label:"浈江区",value:"浈江区"},{label:"曲江区",value:"曲江区"},{label:"始兴县",value:"始兴县"},{label:"仁化县",value:"仁化县"},{label:"翁源县",value:"翁源县"},{label:"乳源瑶族自治县",value:"乳源瑶族自治县"},{label:"新丰县",value:"新丰县"},{label:"乐昌市",value:"乐昌市"},{label:"南雄市",value:"南雄市"}]},{label:"深圳市",value:"深圳市",children:[{label:"罗湖区",value:"罗湖区"},{label:"福田区",value:"福田区"},{label:"南山区",value:"南山区"},{label:"宝安区",value:"宝安区"},{label:"龙岗区",value:"龙岗区"},{label:"盐田区",value:"盐田区"},{label:"龙华区",value:"龙华区"},{label:"坪山区",value:"坪山区"}]},{label:"珠海市",value:"珠海市",children:[{label:"香洲区",value:"香洲区"},{label:"斗门区",value:"斗门区"},{label:"金湾区",value:"金湾区"}]},{label:"汕头市",value:"汕头市",children:[{label:"龙湖区",value:"龙湖区"},{label:"金平区",value:"金平区"},{label:"濠江区",value:"濠江区"},{label:"潮阳区",value:"潮阳区"},{label:"潮南区",value:"潮南区"},{label:"澄海区",value:"澄海区"},{label:"南澳县",value:"南澳县"}]},{label:"佛山市",value:"佛山市",children:[{label:"禅城区",value:"禅城区"},{label:"南海区",value:"南海区"},{label:"顺德区",value:"顺德区"},{label:"三水区",value:"三水区"},{label:"高明区",value:"高明区"}]},{label:"江门市",value:"江门市",children:[{label:"蓬江区",value:"蓬江区"},{label:"江海区",value:"江海区"},{label:"新会区",value:"新会区"},{label:"台山市",value:"台山市"},{label:"开平市",value:"开平市"},{label:"鹤山市",value:"鹤山市"},{label:"恩平市",value:"恩平市"}]},{label:"湛江市",value:"湛江市",children:[{label:"赤坎区",value:"赤坎区"},{label:"霞山区",value:"霞山区"},{label:"坡头区",value:"坡头区"},{label:"麻章区",value:"麻章区"},{label:"遂溪县",value:"遂溪县"},{label:"徐闻县",value:"徐闻县"},{label:"廉江市",value:"廉江市"},{label:"雷州市",value:"雷州市"},{label:"吴川市",value:"吴川市"}]},{label:"茂名市",value:"茂名市",children:[{label:"茂南区",value:"茂南区"},{label:"电白区",value:"电白区"},{label:"高州市",value:"高州市"},{label:"化州市",value:"化州市"},{label:"信宜市",value:"信宜市"}]},{label:"肇庆市",value:"肇庆市",children:[{label:"端州区",value:"端州区"},{label:"鼎湖区",value:"鼎湖区"},{label:"高要区",value:"高要区"},{label:"广宁县",value:"广宁县"},{label:"怀集县",value:"怀集县"},{label:"封开县",value:"封开县"},{label:"德庆县",value:"德庆县"},{label:"四会市",value:"四会市"}]},{label:"惠州市",value:"惠州市",children:[{label:"惠城区",value:"惠城区"},{label:"惠阳区",value:"惠阳区"},{label:"博罗县",value:"博罗县"},{label:"惠东县",value:"惠东县"},{label:"龙门县",value:"龙门县"}]},{label:"梅州市",value:"梅州市",children:[{label:"梅江区",value:"梅江区"},{label:"梅县区",value:"梅县区"},{label:"大埔县",value:"大埔县"},{label:"丰顺县",value:"丰顺县"},{label:"五华县",value:"五华县"},{label:"平远县",value:"平远县"},{label:"蕉岭县",value:"蕉岭县"},{label:"兴宁市",value:"兴宁市"}]},{label:"汕尾市",value:"汕尾市",children:[{label:"城区",value:"城区"},{label:"海丰县",value:"海丰县"},{label:"陆河县",value:"陆河县"},{label:"陆丰市",value:"陆丰市"}]},{label:"河源市",value:"河源市",children:[{label:"源城区",value:"源城区"},{label:"紫金县",value:"紫金县"},{label:"龙川县",value:"龙川县"},{label:"连平县",value:"连平县"},{label:"和平县",value:"和平县"},{label:"东源县",value:"东源县"}]},{label:"阳江市",value:"阳江市",children:[{label:"江城区",value:"江城区"},{label:"阳东区",value:"阳东区"},{label:"阳西县",value:"阳西县"},{label:"阳春市",value:"阳春市"}]},{label:"清远市",value:"清远市",children:[{label:"清城区",value:"清城区"},{label:"清新区",value:"清新区"},{label:"佛冈县",value:"佛冈县"},{label:"阳山县",value:"阳山县"},{label:"连山壮族瑶族自治县",value:"连山壮族瑶族自治县"},{label:"连南瑶族自治县",value:"连南瑶族自治县"},{label:"英德市",value:"英德市"},{label:"连州市",value:"连州市"}]},{label:"东莞市",value:"东莞市",children:[{label:"东城街道办事处",value:"东城街道办事处"},{label:"南城街道办事处",value:"南城街道办事处"},{label:"万江街道办事处",value:"万江街道办事处"},{label:"莞城街道办事处",value:"莞城街道办事处"},{label:"石碣镇",value:"石碣镇"},{label:"石龙镇",value:"石龙镇"},{label:"茶山镇",value:"茶山镇"},{label:"石排镇",value:"石排镇"},{label:"企石镇",value:"企石镇"},{label:"横沥镇",value:"横沥镇"},{label:"桥头镇",value:"桥头镇"},{label:"谢岗镇",value:"谢岗镇"},{label:"东坑镇",value:"东坑镇"},{label:"常平镇",value:"常平镇"},{label:"寮步镇",value:"寮步镇"},{label:"樟木头镇",value:"樟木头镇"},{label:"大朗镇",value:"大朗镇"},{label:"黄江镇",value:"黄江镇"},{label:"清溪镇",value:"清溪镇"},{label:"塘厦镇",value:"塘厦镇"},{label:"凤岗镇",value:"凤岗镇"},{label:"大岭山镇",value:"大岭山镇"},{label:"长安镇",value:"长安镇"},{label:"虎门镇",value:"虎门镇"},{label:"厚街镇",value:"厚街镇"},{label:"沙田镇",value:"沙田镇"},{label:"道滘镇",value:"道滘镇"},{label:"洪梅镇",value:"洪梅镇"},{label:"麻涌镇",value:"麻涌镇"},{label:"望牛墩镇",value:"望牛墩镇"},{label:"中堂镇",value:"中堂镇"},{label:"高埗镇",value:"高埗镇"},{label:"松山湖管委会",value:"松山湖管委会"},{label:"虎门港管委会",value:"虎门港管委会"},{label:"东莞生态园",value:"东莞生态园"}]},{label:"中山市",value:"中山市",children:[{label:"石岐区街道",value:"石岐区街道"},{label:"东区街道",value:"东区街道"},{label:"火炬开发区",value:"火炬开发区"},{label:"西区街道",value:"西区街道"},{label:"南区街道",value:"南区街道"},{label:"五桂山街道",value:"五桂山街道"},{label:"小榄镇",value:"小榄镇"},{label:"黄圃镇",value:"黄圃镇"},{label:"民众镇",value:"民众镇"},{label:"东凤镇",value:"东凤镇"},{label:"东升镇",value:"东升镇"},{label:"古镇镇",value:"古镇镇"},{label:"沙溪镇",value:"沙溪镇"},{label:"坦洲镇",value:"坦洲镇"},{label:"港口镇",value:"港口镇"},{label:"三角镇",value:"三角镇"},{label:"横栏镇",value:"横栏镇"},{label:"南头镇",value:"南头镇"},{label:"阜沙镇",value:"阜沙镇"},{label:"南朗镇",value:"南朗镇"},{label:"三乡镇",value:"三乡镇"},{label:"板芙镇",value:"板芙镇"},{label:"大涌镇",value:"大涌镇"},{label:"神湾镇",value:"神湾镇"}]},{label:"潮州市",value:"潮州市",children:[{label:"湘桥区",value:"湘桥区"},{label:"潮安区",value:"潮安区"},{label:"饶平县",value:"饶平县"}]},{label:"揭阳市",value:"揭阳市",children:[{label:"榕城区",value:"榕城区"},{label:"揭东区",value:"揭东区"},{label:"揭西县",value:"揭西县"},{label:"惠来县",value:"惠来县"},{label:"普宁市",value:"普宁市"}]},{label:"云浮市",value:"云浮市",children:[{label:"云城区",value:"云城区"},{label:"云安区",value:"云安区"},{label:"新兴县",value:"新兴县"},{label:"郁南县",value:"郁南县"},{label:"罗定市",value:"罗定市"}]}]},{label:"广西壮族自治区",value:"广西壮族自治区",children:[{label:"南宁市",value:"南宁市",children:[{label:"兴宁区",value:"兴宁区"},{label:"青秀区",value:"青秀区"},{label:"江南区",value:"江南区"},{label:"西乡塘区",value:"西乡塘区"},{label:"良庆区",value:"良庆区"},{label:"邕宁区",value:"邕宁区"},{label:"武鸣区",value:"武鸣区"},{label:"隆安县",value:"隆安县"},{label:"马山县",value:"马山县"},{label:"上林县",value:"上林县"},{label:"宾阳县",value:"宾阳县"},{label:"横县",value:"横县"}]},{label:"柳州市",value:"柳州市",children:[{label:"城中区",value:"城中区"},{label:"鱼峰区",value:"鱼峰区"},{label:"柳南区",value:"柳南区"},{label:"柳北区",value:"柳北区"},{label:"柳江区",value:"柳江区"},{label:"柳城县",value:"柳城县"},{label:"鹿寨县",value:"鹿寨县"},{label:"融安县",value:"融安县"},{label:"融水苗族自治县",value:"融水苗族自治县"},{label:"三江侗族自治县",value:"三江侗族自治县"}]},{label:"桂林市",value:"桂林市",children:[{label:"秀峰区",value:"秀峰区"},{label:"叠彩区",value:"叠彩区"},{label:"象山区",value:"象山区"},{label:"七星区",value:"七星区"},{label:"雁山区",value:"雁山区"},{label:"临桂区",value:"临桂区"},{label:"阳朔县",value:"阳朔县"},{label:"灵川县",value:"灵川县"},{label:"全州县",value:"全州县"},{label:"兴安县",value:"兴安县"},{label:"永福县",value:"永福县"},{label:"灌阳县",value:"灌阳县"},{label:"龙胜各族自治县",value:"龙胜各族自治县"},{label:"资源县",value:"资源县"},{label:"平乐县",value:"平乐县"},{label:"荔浦县",value:"荔浦县"},{label:"恭城瑶族自治县",value:"恭城瑶族自治县"}]},{label:"梧州市",value:"梧州市",children:[{label:"万秀区",value:"万秀区"},{label:"长洲区",value:"长洲区"},{label:"龙圩区",value:"龙圩区"},{label:"苍梧县",value:"苍梧县"},{label:"藤县",value:"藤县"},{label:"蒙山县",value:"蒙山县"},{label:"岑溪市",value:"岑溪市"}]},{label:"北海市",value:"北海市",children:[{label:"海城区",value:"海城区"},{label:"银海区",value:"银海区"},{label:"铁山港区",value:"铁山港区"},{label:"合浦县",value:"合浦县"}]},{label:"防城港市",value:"防城港市",children:[{label:"港口区",value:"港口区"},{label:"防城区",value:"防城区"},{label:"上思县",value:"上思县"},{label:"东兴市",value:"东兴市"}]},{label:"钦州市",value:"钦州市",children:[{label:"钦南区",value:"钦南区"},{label:"钦北区",value:"钦北区"},{label:"灵山县",value:"灵山县"},{label:"浦北县",value:"浦北县"}]},{label:"贵港市",value:"贵港市",children:[{label:"港北区",value:"港北区"},{label:"港南区",value:"港南区"},{label:"覃塘区",value:"覃塘区"},{label:"平南县",value:"平南县"},{label:"桂平市",value:"桂平市"}]},{label:"玉林市",value:"玉林市",children:[{label:"玉州区",value:"玉州区"},{label:"福绵区",value:"福绵区"},{label:"容县",value:"容县"},{label:"陆川县",value:"陆川县"},{label:"博白县",value:"博白县"},{label:"兴业县",value:"兴业县"},{label:"北流市",value:"北流市"}]},{label:"百色市",value:"百色市",children:[{label:"右江区",value:"右江区"},{label:"田阳县",value:"田阳县"},{label:"田东县",value:"田东县"},{label:"平果县",value:"平果县"},{label:"德保县",value:"德保县"},{label:"那坡县",value:"那坡县"},{label:"凌云县",value:"凌云县"},{label:"乐业县",value:"乐业县"},{label:"田林县",value:"田林县"},{label:"西林县",value:"西林县"},{label:"隆林各族自治县",value:"隆林各族自治县"},{label:"靖西市",value:"靖西市"}]},{label:"贺州市",value:"贺州市",children:[{label:"八步区",value:"八步区"},{label:"平桂区",value:"平桂区"},{label:"昭平县",value:"昭平县"},{label:"钟山县",value:"钟山县"},{label:"富川瑶族自治县",value:"富川瑶族自治县"}]},{label:"河池市",value:"河池市",children:[{label:"金城江区",value:"金城江区"},{label:"宜州区",value:"宜州区"},{label:"南丹县",value:"南丹县"},{label:"天峨县",value:"天峨县"},{label:"凤山县",value:"凤山县"},{label:"东兰县",value:"东兰县"},{label:"罗城仫佬族自治县",value:"罗城仫佬族自治县"},{label:"环江毛南族自治县",value:"环江毛南族自治县"},{label:"巴马瑶族自治县",value:"巴马瑶族自治县"},{label:"都安瑶族自治县",value:"都安瑶族自治县"},{label:"大化瑶族自治县",value:"大化瑶族自治县"}]},{label:"来宾市",value:"来宾市",children:[{label:"兴宾区",value:"兴宾区"},{label:"忻城县",value:"忻城县"},{label:"象州县",value:"象州县"},{label:"武宣县",value:"武宣县"},{label:"金秀瑶族自治县",value:"金秀瑶族自治县"},{label:"合山市",value:"合山市"}]},{label:"崇左市",value:"崇左市",children:[{label:"江州区",value:"江州区"},{label:"扶绥县",value:"扶绥县"},{label:"宁明县",value:"宁明县"},{label:"龙州县",value:"龙州县"},{label:"大新县",value:"大新县"},{label:"天等县",value:"天等县"},{label:"凭祥市",value:"凭祥市"}]}]},{label:"海南省",value:"海南省",children:[{label:"海口市",value:"海口市",children:[{label:"秀英区",value:"秀英区"},{label:"龙华区",value:"龙华区"},{label:"琼山区",value:"琼山区"},{label:"美兰区",value:"美兰区"}]},{label:"三亚市",value:"三亚市",children:[{label:"海棠区",value:"海棠区"},{label:"吉阳区",value:"吉阳区"},{label:"天涯区",value:"天涯区"},{label:"崖州区",value:"崖州区"}]},{label:"三沙市",value:"三沙市",children:[{label:"西沙群岛",value:"西沙群岛"},{label:"南沙群岛",value:"南沙群岛"},{label:"中沙群岛",value:"中沙群岛"},{label:"永乐群岛",value:"永乐群岛"}]},{label:"儋州市",value:"儋州市"}]},{label:"重庆市",value:"重庆市",children:[{label:"万州区",value:"万州区"},{label:"城口县",value:"城口县"},{label:"丰都县",value:"丰都县"},{label:"垫江县",value:"垫江县"},{label:"忠县",value:"忠县"},{label:"云阳县",value:"云阳县"},{label:"奉节县",value:"奉节县"},{label:"巫山县",value:"巫山县"},{label:"巫溪县",value:"巫溪县"},{label:"石柱土家族自治县",value:"石柱土家族自治县"},{label:"秀山土家族苗族自治县",value:"秀山土家族苗族自治县"},{label:"酉阳土家族苗族自治县",value:"酉阳土家族苗族自治县"},{label:"彭水苗族土家族自治县",value:"彭水苗族土家族自治县"},{label:"涪陵区",value:"涪陵区"},{label:"渝中区",value:"渝中区"},{label:"大渡口区",value:"大渡口区"},{label:"江北区",value:"江北区"},{label:"沙坪坝区",value:"沙坪坝区"},{label:"九龙坡区",value:"九龙坡区"},{label:"南岸区",value:"南岸区"},{label:"北碚区",value:"北碚区"},{label:"綦江区",value:"綦江区"},{label:"大足区",value:"大足区"},{label:"渝北区",value:"渝北区"},{label:"巴南区",value:"巴南区"},{label:"黔江区",value:"黔江区"},{label:"长寿区",value:"长寿区"},{label:"江津区",value:"江津区"},{label:"合川区",value:"合川区"},{label:"永川区",value:"永川区"},{label:"南川区",value:"南川区"},{label:"璧山区",value:"璧山区"},{label:"铜梁区",value:"铜梁区"},{label:"潼南区",value:"潼南区"},{label:"荣昌区",value:"荣昌区"},{label:"开州区",value:"开州区"},{label:"梁平区",value:"梁平区"},{label:"武隆区",value:"武隆区"},{label:"重庆市",value:"重庆市"}]},{label:"四川省",value:"四川省",children:[{label:"成都市",value:"成都市",children:[{label:"锦江区",value:"锦江区"},{label:"青羊区",value:"青羊区"},{label:"金牛区",value:"金牛区"},{label:"武侯区",value:"武侯区"},{label:"成华区",value:"成华区"},{label:"龙泉驿区",value:"龙泉驿区"},{label:"青白江区",value:"青白江区"},{label:"新都区",value:"新都区"},{label:"温江区",value:"温江区"},{label:"双流区",value:"双流区"},{label:"郫都区",value:"郫都区"},{label:"金堂县",value:"金堂县"},{label:"大邑县",value:"大邑县"},{label:"蒲江县",value:"蒲江县"},{label:"新津县",value:"新津县"},{label:"都江堰市",value:"都江堰市"},{label:"彭州市",value:"彭州市"},{label:"邛崃市",value:"邛崃市"},{label:"崇州市",value:"崇州市"},{label:"简阳市",value:"简阳市"}]},{label:"自贡市",value:"自贡市",children:[{label:"自流井区",value:"自流井区"},{label:"贡井区",value:"贡井区"},{label:"大安区",value:"大安区"},{label:"沿滩区",value:"沿滩区"},{label:"荣县",value:"荣县"},{label:"富顺县",value:"富顺县"}]},{label:"攀枝花市",value:"攀枝花市",children:[{label:"东区",value:"东区"},{label:"西区",value:"西区"},{label:"仁和区",value:"仁和区"},{label:"米易县",value:"米易县"},{label:"盐边县",value:"盐边县"}]},{label:"泸州市",value:"泸州市",children:[{label:"江阳区",value:"江阳区"},{label:"纳溪区",value:"纳溪区"},{label:"龙马潭区",value:"龙马潭区"},{label:"泸县",value:"泸县"},{label:"合江县",value:"合江县"},{label:"叙永县",value:"叙永县"},{label:"古蔺县",value:"古蔺县"}]},{label:"德阳市",value:"德阳市",children:[{label:"旌阳区",value:"旌阳区"},{label:"罗江区",value:"罗江区"},{label:"中江县",value:"中江县"},{label:"广汉市",value:"广汉市"},{label:"什邡市",value:"什邡市"},{label:"绵竹市",value:"绵竹市"}]},{label:"绵阳市",value:"绵阳市",children:[{label:"涪城区",value:"涪城区"},{label:"游仙区",value:"游仙区"},{label:"安州区",value:"安州区"},{label:"三台县",value:"三台县"},{label:"盐亭县",value:"盐亭县"},{label:"梓潼县",value:"梓潼县"},{label:"北川羌族自治县",value:"北川羌族自治县"},{label:"平武县",value:"平武县"},{label:"江油市",value:"江油市"}]},{label:"广元市",value:"广元市",children:[{label:"利州区",value:"利州区"},{label:"昭化区",value:"昭化区"},{label:"朝天区",value:"朝天区"},{label:"旺苍县",value:"旺苍县"},{label:"青川县",value:"青川县"},{label:"剑阁县",value:"剑阁县"},{label:"苍溪县",value:"苍溪县"}]},{label:"遂宁市",value:"遂宁市",children:[{label:"船山区",value:"船山区"},{label:"安居区",value:"安居区"},{label:"蓬溪县",value:"蓬溪县"},{label:"射洪县",value:"射洪县"},{label:"大英县",value:"大英县"}]},{label:"内江市",value:"内江市",children:[{label:"市中区",value:"市中区"},{label:"东兴区",value:"东兴区"},{label:"威远县",value:"威远县"},{label:"资中县",value:"资中县"},{label:"隆昌市",value:"隆昌市"}]},{label:"乐山市",value:"乐山市",children:[{label:"市中区",value:"市中区"},{label:"沙湾区",value:"沙湾区"},{label:"五通桥区",value:"五通桥区"},{label:"金口河区",value:"金口河区"},{label:"犍为县",value:"犍为县"},{label:"井研县",value:"井研县"},{label:"夹江县",value:"夹江县"},{label:"沐川县",value:"沐川县"},{label:"峨边彝族自治县",value:"峨边彝族自治县"},{label:"马边彝族自治县",value:"马边彝族自治县"},{label:"峨眉山市",value:"峨眉山市"}]},{label:"南充市",value:"南充市",children:[{label:"顺庆区",value:"顺庆区"},{label:"高坪区",value:"高坪区"},{label:"嘉陵区",value:"嘉陵区"},{label:"南部县",value:"南部县"},{label:"营山县",value:"营山县"},{label:"蓬安县",value:"蓬安县"},{label:"仪陇县",value:"仪陇县"},{label:"西充县",value:"西充县"},{label:"阆中市",value:"阆中市"}]},{label:"眉山市",value:"眉山市",children:[{label:"东坡区",value:"东坡区"},{label:"彭山区",value:"彭山区"},{label:"仁寿县",value:"仁寿县"},{label:"洪雅县",value:"洪雅县"},{label:"丹棱县",value:"丹棱县"},{label:"青神县",value:"青神县"}]},{label:"宜宾市",value:"宜宾市",children:[{label:"翠屏区",value:"翠屏区"},{label:"南溪区",value:"南溪区"},{label:"宜宾县",value:"宜宾县"},{label:"江安县",value:"江安县"},{label:"长宁县",value:"长宁县"},{label:"高县",value:"高县"},{label:"珙县",value:"珙县"},{label:"筠连县",value:"筠连县"},{label:"兴文县",value:"兴文县"},{label:"屏山县",value:"屏山县"}]},{label:"广安市",value:"广安市",children:[{label:"广安区",value:"广安区"},{label:"前锋区",value:"前锋区"},{label:"岳池县",value:"岳池县"},{label:"武胜县",value:"武胜县"},{label:"邻水县",value:"邻水县"},{label:"华蓥市",value:"华蓥市"}]},{label:"达州市",value:"达州市",children:[{label:"通川区",value:"通川区"},{label:"达川区",value:"达川区"},{label:"宣汉县",value:"宣汉县"},{label:"开江县",value:"开江县"},{label:"大竹县",value:"大竹县"},{label:"渠县",value:"渠县"},{label:"万源市",value:"万源市"}]},{label:"雅安市",value:"雅安市",children:[{label:"雨城区",value:"雨城区"},{label:"名山区",value:"名山区"},{label:"荥经县",value:"荥经县"},{label:"汉源县",value:"汉源县"},{label:"石棉县",value:"石棉县"},{label:"天全县",value:"天全县"},{label:"芦山县",value:"芦山县"},{label:"宝兴县",value:"宝兴县"}]},{label:"巴中市",value:"巴中市",children:[{label:"巴州区",value:"巴州区"},{label:"恩阳区",value:"恩阳区"},{label:"通江县",value:"通江县"},{label:"南江县",value:"南江县"},{label:"平昌县",value:"平昌县"}]},{label:"资阳市",value:"资阳市",children:[{label:"雁江区",value:"雁江区"},{label:"安岳县",value:"安岳县"},{label:"乐至县",value:"乐至县"}]},{label:"阿坝藏族羌族自治州",value:"阿坝藏族羌族自治州",children:[{label:"马尔康市",value:"马尔康市"},{label:"汶川县",value:"汶川县"},{label:"理县",value:"理县"},{label:"茂县",value:"茂县"},{label:"松潘县",value:"松潘县"},{label:"九寨沟县",value:"九寨沟县"},{label:"金川县",value:"金川县"},{label:"小金县",value:"小金县"},{label:"黑水县",value:"黑水县"},{label:"壤塘县",value:"壤塘县"},{label:"阿坝县",value:"阿坝县"},{label:"若尔盖县",value:"若尔盖县"},{label:"红原县",value:"红原县"}]},{label:"甘孜藏族自治州",value:"甘孜藏族自治州",children:[{label:"康定市",value:"康定市"},{label:"泸定县",value:"泸定县"},{label:"丹巴县",value:"丹巴县"},{label:"九龙县",value:"九龙县"},{label:"雅江县",value:"雅江县"},{label:"道孚县",value:"道孚县"},{label:"炉霍县",value:"炉霍县"},{label:"甘孜县",value:"甘孜县"},{label:"新龙县",value:"新龙县"},{label:"德格县",value:"德格县"},{label:"白玉县",value:"白玉县"},{label:"石渠县",value:"石渠县"},{label:"色达县",value:"色达县"},{label:"理塘县",value:"理塘县"},{label:"巴塘县",value:"巴塘县"},{label:"乡城县",value:"乡城县"},{label:"稻城县",value:"稻城县"},{label:"得荣县",value:"得荣县"}]},{label:"凉山彝族自治州",value:"凉山彝族自治州",children:[{label:"西昌市",value:"西昌市"},{label:"木里藏族自治县",value:"木里藏族自治县"},{label:"盐源县",value:"盐源县"},{label:"德昌县",value:"德昌县"},{label:"会理县",value:"会理县"},{label:"会东县",value:"会东县"},{label:"宁南县",value:"宁南县"},{label:"普格县",value:"普格县"},{label:"布拖县",value:"布拖县"},{label:"金阳县",value:"金阳县"},{label:"昭觉县",value:"昭觉县"},{label:"喜德县",value:"喜德县"},{label:"冕宁县",value:"冕宁县"},{label:"越西县",value:"越西县"},{label:"甘洛县",value:"甘洛县"},{label:"美姑县",value:"美姑县"},{label:"雷波县",value:"雷波县"}]}]},{label:"贵州省",value:"贵州省",children:[{label:"贵阳市",value:"贵阳市",children:[{label:"南明区",value:"南明区"},{label:"云岩区",value:"云岩区"},{label:"花溪区",value:"花溪区"},{label:"乌当区",value:"乌当区"},{label:"白云区",value:"白云区"},{label:"观山湖区",value:"观山湖区"},{label:"开阳县",value:"开阳县"},{label:"息烽县",value:"息烽县"},{label:"修文县",value:"修文县"},{label:"清镇市",value:"清镇市"}]},{label:"六盘水市",value:"六盘水市",children:[{label:"钟山区",value:"钟山区"},{label:"六枝特区",value:"六枝特区"},{label:"水城县",value:"水城县"},{label:"盘州市",value:"盘州市"}]},{label:"遵义市",value:"遵义市",children:[{label:"红花岗区",value:"红花岗区"},{label:"汇川区",value:"汇川区"},{label:"播州区",value:"播州区"},{label:"桐梓县",value:"桐梓县"},{label:"绥阳县",value:"绥阳县"},{label:"正安县",value:"正安县"},{label:"道真仡佬族苗族自治县",value:"道真仡佬族苗族自治县"},{label:"务川仡佬族苗族自治县",value:"务川仡佬族苗族自治县"},{label:"凤冈县",value:"凤冈县"},{label:"湄潭县",value:"湄潭县"},{label:"余庆县",value:"余庆县"},{label:"习水县",value:"习水县"},{label:"赤水市",value:"赤水市"},{label:"仁怀市",value:"仁怀市"}]},{label:"安顺市",value:"安顺市",children:[{label:"西秀区",value:"西秀区"},{label:"平坝区",value:"平坝区"},{label:"普定县",value:"普定县"},{label:"镇宁布依族苗族自治县",value:"镇宁布依族苗族自治县"},{label:"关岭布依族苗族自治县",value:"关岭布依族苗族自治县"},{label:"紫云苗族布依族自治县",value:"紫云苗族布依族自治县"}]},{label:"毕节市",value:"毕节市",children:[{label:"七星关区",value:"七星关区"},{label:"大方县",value:"大方县"},{label:"黔西县",value:"黔西县"},{label:"金沙县",value:"金沙县"},{label:"织金县",value:"织金县"},{label:"纳雍县",value:"纳雍县"},{label:"威宁彝族回族苗族自治县",value:"威宁彝族回族苗族自治县"},{label:"赫章县",value:"赫章县"}]},{label:"铜仁市",value:"铜仁市",children:[{label:"碧江区",value:"碧江区"},{label:"万山区",value:"万山区"},{label:"江口县",value:"江口县"},{label:"玉屏侗族自治县",value:"玉屏侗族自治县"},{label:"石阡县",value:"石阡县"},{label:"思南县",value:"思南县"},{label:"印江土家族苗族自治县",value:"印江土家族苗族自治县"},{label:"德江县",value:"德江县"},{label:"沿河土家族自治县",value:"沿河土家族自治县"},{label:"松桃苗族自治县",value:"松桃苗族自治县"}]},{label:"黔西南布依族苗族自治州",value:"黔西南布依族苗族自治州",children:[{label:"兴义市",value:"兴义市"},{label:"兴仁县",value:"兴仁县"},{label:"普安县",value:"普安县"},{label:"晴隆县",value:"晴隆县"},{label:"贞丰县",value:"贞丰县"},{label:"望谟县",value:"望谟县"},{label:"册亨县",value:"册亨县"},{label:"安龙县",value:"安龙县"}]},{label:"黔东南苗族侗族自治州",value:"黔东南苗族侗族自治州",children:[{label:"凯里市",value:"凯里市"},{label:"黄平县",value:"黄平县"},{label:"施秉县",value:"施秉县"},{label:"三穗县",value:"三穗县"},{label:"镇远县",value:"镇远县"},{label:"岑巩县",value:"岑巩县"},{label:"天柱县",value:"天柱县"},{label:"锦屏县",value:"锦屏县"},{label:"剑河县",value:"剑河县"},{label:"台江县",value:"台江县"},{label:"黎平县",value:"黎平县"},{label:"榕江县",value:"榕江县"},{label:"从江县",value:"从江县"},{label:"雷山县",value:"雷山县"},{label:"麻江县",value:"麻江县"},{label:"丹寨县",value:"丹寨县"}]},{label:"黔南布依族苗族自治州",value:"黔南布依族苗族自治州",children:[{label:"都匀市",value:"都匀市"},{label:"福泉市",value:"福泉市"},{label:"荔波县",value:"荔波县"},{label:"贵定县",value:"贵定县"},{label:"瓮安县",value:"瓮安县"},{label:"独山县",value:"独山县"},{label:"平塘县",value:"平塘县"},{label:"罗甸县",value:"罗甸县"},{label:"长顺县",value:"长顺县"},{label:"龙里县",value:"龙里县"},{label:"惠水县",value:"惠水县"},{label:"三都水族自治县",value:"三都水族自治县"}]}]},{label:"云南省",value:"云南省",children:[{label:"昆明市",value:"昆明市",children:[{label:"五华区",value:"五华区"},{label:"盘龙区",value:"盘龙区"},{label:"官渡区",value:"官渡区"},{label:"西山区",value:"西山区"},{label:"东川区",value:"东川区"},{label:"呈贡区",value:"呈贡区"},{label:"晋宁区",value:"晋宁区"},{label:"富民县",value:"富民县"},{label:"宜良县",value:"宜良县"},{label:"石林彝族自治县",value:"石林彝族自治县"},{label:"嵩明县",value:"嵩明县"},{label:"禄劝彝族苗族自治县",value:"禄劝彝族苗族自治县"},{label:"寻甸回族彝族自治县",value:"寻甸回族彝族自治县"},{label:"安宁市",value:"安宁市"}]},{label:"曲靖市",value:"曲靖市",children:[{label:"麒麟区",value:"麒麟区"},{label:"沾益区",value:"沾益区"},{label:"马龙县",value:"马龙县"},{label:"陆良县",value:"陆良县"},{label:"师宗县",value:"师宗县"},{label:"罗平县",value:"罗平县"},{label:"富源县",value:"富源县"},{label:"会泽县",value:"会泽县"},{label:"宣威市",value:"宣威市"}]},{label:"玉溪市",value:"玉溪市",children:[{label:"红塔区",value:"红塔区"},{label:"江川区",value:"江川区"},{label:"澄江县",value:"澄江县"},{label:"通海县",value:"通海县"},{label:"华宁县",value:"华宁县"},{label:"易门县",value:"易门县"},{label:"峨山彝族自治县",value:"峨山彝族自治县"},{label:"新平彝族傣族自治县",value:"新平彝族傣族自治县"},{label:"元江哈尼族彝族傣族自治县",value:"元江哈尼族彝族傣族自治县"}]},{label:"保山市",value:"保山市",children:[{label:"隆阳区",value:"隆阳区"},{label:"施甸县",value:"施甸县"},{label:"龙陵县",value:"龙陵县"},{label:"昌宁县",value:"昌宁县"},{label:"腾冲市",value:"腾冲市"}]},{label:"昭通市",value:"昭通市",children:[{label:"昭阳区",value:"昭阳区"},{label:"鲁甸县",value:"鲁甸县"},{label:"巧家县",value:"巧家县"},{label:"盐津县",value:"盐津县"},{label:"大关县",value:"大关县"},{label:"永善县",value:"永善县"},{label:"绥江县",value:"绥江县"},{label:"镇雄县",value:"镇雄县"},{label:"彝良县",value:"彝良县"},{label:"威信县",value:"威信县"},{label:"水富县",value:"水富县"}]},{label:"丽江市",value:"丽江市",children:[{label:"古城区",value:"古城区"},{label:"玉龙纳西族自治县",value:"玉龙纳西族自治县"},{label:"永胜县",value:"永胜县"},{label:"华坪县",value:"华坪县"},{label:"宁蒗彝族自治县",value:"宁蒗彝族自治县"}]},{label:"普洱市",value:"普洱市",children:[{label:"思茅区",value:"思茅区"},{label:"宁洱哈尼族彝族自治县",value:"宁洱哈尼族彝族自治县"},{label:"墨江哈尼族自治县",value:"墨江哈尼族自治县"},{label:"景东彝族自治县",value:"景东彝族自治县"},{label:"景谷傣族彝族自治县",value:"景谷傣族彝族自治县"},{label:"镇沅彝族哈尼族拉祜族自治县",value:"镇沅彝族哈尼族拉祜族自治县"},{label:"江城哈尼族彝族自治县",value:"江城哈尼族彝族自治县"},{label:"孟连傣族拉祜族佤族自治县",value:"孟连傣族拉祜族佤族自治县"},{label:"澜沧拉祜族自治县",value:"澜沧拉祜族自治县"},{label:"西盟佤族自治县",value:"西盟佤族自治县"}]},{label:"临沧市",value:"临沧市",children:[{label:"临翔区",value:"临翔区"},{label:"凤庆县",value:"凤庆县"},{label:"云县",value:"云县"},{label:"永德县",value:"永德县"},{label:"镇康县",value:"镇康县"},{label:"双江拉祜族佤族布朗族傣族自治县",value:"双江拉祜族佤族布朗族傣族自治县"},{label:"耿马傣族佤族自治县",value:"耿马傣族佤族自治县"},{label:"沧源佤族自治县",value:"沧源佤族自治县"}]},{label:"楚雄彝族自治州",value:"楚雄彝族自治州",children:[{label:"楚雄市",value:"楚雄市"},{label:"双柏县",value:"双柏县"},{label:"牟定县",value:"牟定县"},{label:"南华县",value:"南华县"},{label:"姚安县",value:"姚安县"},{label:"大姚县",value:"大姚县"},{label:"永仁县",value:"永仁县"},{label:"元谋县",value:"元谋县"},{label:"武定县",value:"武定县"},{label:"禄丰县",value:"禄丰县"}]},{label:"红河哈尼族彝族自治州",value:"红河哈尼族彝族自治州",children:[{label:"个旧市",value:"个旧市"},{label:"开远市",value:"开远市"},{label:"蒙自市",value:"蒙自市"},{label:"弥勒市",value:"弥勒市"},{label:"屏边苗族自治县",value:"屏边苗族自治县"},{label:"建水县",value:"建水县"},{label:"石屏县",value:"石屏县"},{label:"泸西县",value:"泸西县"},{label:"元阳县",value:"元阳县"},{label:"红河县",value:"红河县"},{label:"金平苗族瑶族傣族自治县",value:"金平苗族瑶族傣族自治县"},{label:"绿春县",value:"绿春县"},{label:"河口瑶族自治县",value:"河口瑶族自治县"}]},{label:"文山壮族苗族自治州",value:"文山壮族苗族自治州",children:[{label:"文山市",value:"文山市"},{label:"砚山县",value:"砚山县"},{label:"西畴县",value:"西畴县"},{label:"麻栗坡县",value:"麻栗坡县"},{label:"马关县",value:"马关县"},{label:"丘北县",value:"丘北县"},{label:"广南县",value:"广南县"},{label:"富宁县",value:"富宁县"}]},{label:"西双版纳傣族自治州",value:"西双版纳傣族自治州",children:[{label:"景洪市",value:"景洪市"},{label:"勐海县",value:"勐海县"},{label:"勐腊县",value:"勐腊县"}]},{label:"大理白族自治州",value:"大理白族自治州",children:[{label:"大理市",value:"大理市"},{label:"漾濞彝族自治县",value:"漾濞彝族自治县"},{label:"祥云县",value:"祥云县"},{label:"宾川县",value:"宾川县"},{label:"弥渡县",value:"弥渡县"},{label:"南涧彝族自治县",value:"南涧彝族自治县"},{label:"巍山彝族回族自治县",value:"巍山彝族回族自治县"},{label:"永平县",value:"永平县"},{label:"云龙县",value:"云龙县"},{label:"洱源县",value:"洱源县"},{label:"剑川县",value:"剑川县"},{label:"鹤庆县",value:"鹤庆县"}]},{label:"德宏傣族景颇族自治州",value:"德宏傣族景颇族自治州",children:[{label:"瑞丽市",value:"瑞丽市"},{label:"芒市",value:"芒市"},{label:"梁河县",value:"梁河县"},{label:"盈江县",value:"盈江县"},{label:"陇川县",value:"陇川县"}]},{label:"怒江傈僳族自治州",value:"怒江傈僳族自治州",children:[{label:"泸水市",value:"泸水市"},{label:"福贡县",value:"福贡县"},{label:"贡山独龙族怒族自治县",value:"贡山独龙族怒族自治县"},{label:"兰坪白族普米族自治县",value:"兰坪白族普米族自治县"}]},{label:"迪庆藏族自治州",value:"迪庆藏族自治州",children:[{label:"香格里拉市",value:"香格里拉市"},{label:"德钦县",value:"德钦县"},{label:"维西傈僳族自治县",value:"维西傈僳族自治县"}]}]},{label:"西藏自治区",value:"西藏自治区",children:[{label:"拉萨市",value:"拉萨市",children:[{label:"城关区",value:"城关区"},{label:"堆龙德庆区",value:"堆龙德庆区"},{label:"达孜区",value:"达孜区"},{label:"林周县",value:"林周县"},{label:"当雄县",value:"当雄县"},{label:"尼木县",value:"尼木县"},{label:"曲水县",value:"曲水县"},{label:"墨竹工卡县",value:"墨竹工卡县"}]},{label:"日喀则市",value:"日喀则市",children:[{label:"桑珠孜区",value:"桑珠孜区"},{label:"南木林县",value:"南木林县"},{label:"江孜县",value:"江孜县"},{label:"定日县",value:"定日县"},{label:"萨迦县",value:"萨迦县"},{label:"拉孜县",value:"拉孜县"},{label:"昂仁县",value:"昂仁县"},{label:"谢通门县",value:"谢通门县"},{label:"白朗县",value:"白朗县"},{label:"仁布县",value:"仁布县"},{label:"康马县",value:"康马县"},{label:"定结县",value:"定结县"},{label:"仲巴县",value:"仲巴县"},{label:"亚东县",value:"亚东县"},{label:"吉隆县",value:"吉隆县"},{label:"聂拉木县",value:"聂拉木县"},{label:"萨嘎县",value:"萨嘎县"},{label:"岗巴县",value:"岗巴县"}]},{label:"昌都市",value:"昌都市",children:[{label:"卡若区",value:"卡若区"},{label:"江达县",value:"江达县"},{label:"贡觉县",value:"贡觉县"},{label:"类乌齐县",value:"类乌齐县"},{label:"丁青县",value:"丁青县"},{label:"察雅县",value:"察雅县"},{label:"八宿县",value:"八宿县"},{label:"左贡县",value:"左贡县"},{label:"芒康县",value:"芒康县"},{label:"洛隆县",value:"洛隆县"},{label:"边坝县",value:"边坝县"}]},{label:"林芝市",value:"林芝市",children:[{label:"巴宜区",value:"巴宜区"},{label:"工布江达县",value:"工布江达县"},{label:"米林县",value:"米林县"},{label:"墨脱县",value:"墨脱县"},{label:"波密县",value:"波密县"},{label:"察隅县",value:"察隅县"},{label:"朗县",value:"朗县"}]},{label:"山南市",value:"山南市",children:[{label:"乃东区",value:"乃东区"},{label:"扎囊县",value:"扎囊县"},{label:"贡嘎县",value:"贡嘎县"},{label:"桑日县",value:"桑日县"},{label:"琼结县",value:"琼结县"},{label:"曲松县",value:"曲松县"},{label:"措美县",value:"措美县"},{label:"洛扎县",value:"洛扎县"},{label:"加查县",value:"加查县"},{label:"隆子县",value:"隆子县"},{label:"错那县",value:"错那县"},{label:"浪卡子县",value:"浪卡子县"}]},{label:"那曲市",value:"那曲市",children:[{label:"色尼区",value:"色尼区"},{label:"嘉黎县",value:"嘉黎县"},{label:"比如县",value:"比如县"},{label:"聂荣县",value:"聂荣县"},{label:"安多县",value:"安多县"},{label:"申扎县",value:"申扎县"},{label:"索县",value:"索县"},{label:"班戈县",value:"班戈县"},{label:"巴青县",value:"巴青县"},{label:"尼玛县",value:"尼玛县"},{label:"双湖县",value:"双湖县"}]},{label:"阿里地区",value:"阿里地区",children:[{label:"普兰县",value:"普兰县"},{label:"札达县",value:"札达县"},{label:"噶尔县",value:"噶尔县"},{label:"日土县",value:"日土县"},{label:"革吉县",value:"革吉县"},{label:"改则县",value:"改则县"},{label:"措勤县",value:"措勤县"}]}]},{label:"陕西省",value:"陕西省",children:[{label:"西安市",value:"西安市",children:[{label:"新城区",value:"新城区"},{label:"碑林区",value:"碑林区"},{label:"莲湖区",value:"莲湖区"},{label:"灞桥区",value:"灞桥区"},{label:"未央区",value:"未央区"},{label:"雁塔区",value:"雁塔区"},{label:"阎良区",value:"阎良区"},{label:"临潼区",value:"临潼区"},{label:"长安区",value:"长安区"},{label:"高陵区",value:"高陵区"},{label:"鄠邑区",value:"鄠邑区"},{label:"蓝田县",value:"蓝田县"},{label:"周至县",value:"周至县"}]},{label:"铜川市",value:"铜川市",children:[{label:"王益区",value:"王益区"},{label:"印台区",value:"印台区"},{label:"耀州区",value:"耀州区"},{label:"宜君县",value:"宜君县"}]},{label:"宝鸡市",value:"宝鸡市",children:[{label:"渭滨区",value:"渭滨区"},{label:"金台区",value:"金台区"},{label:"陈仓区",value:"陈仓区"},{label:"凤翔县",value:"凤翔县"},{label:"岐山县",value:"岐山县"},{label:"扶风县",value:"扶风县"},{label:"眉县",value:"眉县"},{label:"陇县",value:"陇县"},{label:"千阳县",value:"千阳县"},{label:"麟游县",value:"麟游县"},{label:"凤县",value:"凤县"},{label:"太白县",value:"太白县"}]},{label:"咸阳市",value:"咸阳市",children:[{label:"秦都区",value:"秦都区"},{label:"杨陵区",value:"杨陵区"},{label:"渭城区",value:"渭城区"},{label:"三原县",value:"三原县"},{label:"泾阳县",value:"泾阳县"},{label:"乾县",value:"乾县"},{label:"礼泉县",value:"礼泉县"},{label:"永寿县",value:"永寿县"},{label:"长武县",value:"长武县"},{label:"旬邑县",value:"旬邑县"},{label:"淳化县",value:"淳化县"},{label:"武功县",value:"武功县"},{label:"兴平市",value:"兴平市"},{label:"彬州市",value:"彬州市"}]},{label:"渭南市",value:"渭南市",children:[{label:"临渭区",value:"临渭区"},{label:"华州区",value:"华州区"},{label:"潼关县",value:"潼关县"},{label:"大荔县",value:"大荔县"},{label:"合阳县",value:"合阳县"},{label:"澄城县",value:"澄城县"},{label:"蒲城县",value:"蒲城县"},{label:"白水县",value:"白水县"},{label:"富平县",value:"富平县"},{label:"韩城市",value:"韩城市"},{label:"华阴市",value:"华阴市"}]},{label:"延安市",value:"延安市",children:[{label:"宝塔区",value:"宝塔区"},{label:"安塞区",value:"安塞区"},{label:"延长县",value:"延长县"},{label:"延川县",value:"延川县"},{label:"子长县",value:"子长县"},{label:"志丹县",value:"志丹县"},{label:"吴起县",value:"吴起县"},{label:"甘泉县",value:"甘泉县"},{label:"富县",value:"富县"},{label:"洛川县",value:"洛川县"},{label:"宜川县",value:"宜川县"},{label:"黄龙县",value:"黄龙县"},{label:"黄陵县",value:"黄陵县"}]},{label:"汉中市",value:"汉中市",children:[{label:"汉台区",value:"汉台区"},{label:"南郑区",value:"南郑区"},{label:"城固县",value:"城固县"},{label:"洋县",value:"洋县"},{label:"西乡县",value:"西乡县"},{label:"勉县",value:"勉县"},{label:"宁强县",value:"宁强县"},{label:"略阳县",value:"略阳县"},{label:"镇巴县",value:"镇巴县"},{label:"留坝县",value:"留坝县"},{label:"佛坪县",value:"佛坪县"}]},{label:"榆林市",value:"榆林市",children:[{label:"榆阳区",value:"榆阳区"},{label:"横山区",value:"横山区"},{label:"府谷县",value:"府谷县"},{label:"靖边县",value:"靖边县"},{label:"定边县",value:"定边县"},{label:"绥德县",value:"绥德县"},{label:"米脂县",value:"米脂县"},{label:"佳县",value:"佳县"},{label:"吴堡县",value:"吴堡县"},{label:"清涧县",value:"清涧县"},{label:"子洲县",value:"子洲县"},{label:"神木市",value:"神木市"}]},{label:"安康市",value:"安康市",children:[{label:"汉滨区",value:"汉滨区"},{label:"汉阴县",value:"汉阴县"},{label:"石泉县",value:"石泉县"},{label:"宁陕县",value:"宁陕县"},{label:"紫阳县",value:"紫阳县"},{label:"岚皋县",value:"岚皋县"},{label:"平利县",value:"平利县"},{label:"镇坪县",value:"镇坪县"},{label:"旬阳县",value:"旬阳县"},{label:"白河县",value:"白河县"}]},{label:"商洛市",value:"商洛市",children:[{label:"商州区",value:"商州区"},{label:"洛南县",value:"洛南县"},{label:"丹凤县",value:"丹凤县"},{label:"商南县",value:"商南县"},{label:"山阳县",value:"山阳县"},{label:"镇安县",value:"镇安县"},{label:"柞水县",value:"柞水县"}]}]},{label:"甘肃省",value:"甘肃省",children:[{label:"兰州市",value:"兰州市",children:[{label:"城关区",value:"城关区"},{label:"七里河区",value:"七里河区"},{label:"西固区",value:"西固区"},{label:"安宁区",value:"安宁区"},{label:"红古区",value:"红古区"},{label:"永登县",value:"永登县"},{label:"皋兰县",value:"皋兰县"},{label:"榆中县",value:"榆中县"}]},{label:"嘉峪关市",value:"嘉峪关市"},{label:"金昌市",value:"金昌市",children:[{label:"金川区",value:"金川区"},{label:"永昌县",value:"永昌县"}]},{label:"白银市",value:"白银市",children:[{label:"白银区",value:"白银区"},{label:"平川区",value:"平川区"},{label:"靖远县",value:"靖远县"},{label:"会宁县",value:"会宁县"},{label:"景泰县",value:"景泰县"}]},{label:"天水市",value:"天水市",children:[{label:"秦州区",value:"秦州区"},{label:"麦积区",value:"麦积区"},{label:"清水县",value:"清水县"},{label:"秦安县",value:"秦安县"},{label:"甘谷县",value:"甘谷县"},{label:"武山县",value:"武山县"},{label:"张家川回族自治县",value:"张家川回族自治县"}]},{label:"武威市",value:"武威市",children:[{label:"凉州区",value:"凉州区"},{label:"民勤县",value:"民勤县"},{label:"古浪县",value:"古浪县"},{label:"天祝藏族自治县",value:"天祝藏族自治县"}]},{label:"张掖市",value:"张掖市",children:[{label:"甘州区",value:"甘州区"},{label:"肃南裕固族自治县",value:"肃南裕固族自治县"},{label:"民乐县",value:"民乐县"},{label:"临泽县",value:"临泽县"},{label:"高台县",value:"高台县"},{label:"山丹县",value:"山丹县"}]},{label:"平凉市",value:"平凉市",children:[{label:"崆峒区",value:"崆峒区"},{label:"泾川县",value:"泾川县"},{label:"灵台县",value:"灵台县"},{label:"崇信县",value:"崇信县"},{label:"华亭县",value:"华亭县"},{label:"庄浪县",value:"庄浪县"},{label:"静宁县",value:"静宁县"}]},{label:"酒泉市",value:"酒泉市",children:[{label:"肃州区",value:"肃州区"},{label:"金塔县",value:"金塔县"},{label:"瓜州县",value:"瓜州县"},{label:"肃北蒙古族自治县",value:"肃北蒙古族自治县"},{label:"阿克塞哈萨克族自治县",value:"阿克塞哈萨克族自治县"},{label:"玉门市",value:"玉门市"},{label:"敦煌市",value:"敦煌市"}]},{label:"庆阳市",value:"庆阳市",children:[{label:"西峰区",value:"西峰区"},{label:"庆城县",value:"庆城县"},{label:"环县",value:"环县"},{label:"华池县",value:"华池县"},{label:"合水县",value:"合水县"},{label:"正宁县",value:"正宁县"},{label:"宁县",value:"宁县"},{label:"镇原县",value:"镇原县"}]},{label:"定西市",value:"定西市",children:[{label:"安定区",value:"安定区"},{label:"通渭县",value:"通渭县"},{label:"陇西县",value:"陇西县"},{label:"渭源县",value:"渭源县"},{label:"临洮县",value:"临洮县"},{label:"漳县",value:"漳县"},{label:"岷县",value:"岷县"}]},{label:"陇南市",value:"陇南市",children:[{label:"武都区",value:"武都区"},{label:"成县",value:"成县"},{label:"文县",value:"文县"},{label:"宕昌县",value:"宕昌县"},{label:"康县",value:"康县"},{label:"西和县",value:"西和县"},{label:"礼县",value:"礼县"},{label:"徽县",value:"徽县"},{label:"两当县",value:"两当县"}]},{label:"临夏回族自治州",value:"临夏回族自治州",children:[{label:"临夏市",value:"临夏市"},{label:"临夏县",value:"临夏县"},{label:"康乐县",value:"康乐县"},{label:"永靖县",value:"永靖县"},{label:"广河县",value:"广河县"},{label:"和政县",value:"和政县"},{label:"东乡族自治县",value:"东乡族自治县"},{label:"积石山保安族东乡族撒拉族自治县",value:"积石山保安族东乡族撒拉族自治县"}]},{label:"甘南藏族自治州",value:"甘南藏族自治州",children:[{label:"合作市",value:"合作市"},{label:"临潭县",value:"临潭县"},{label:"卓尼县",value:"卓尼县"},{label:"舟曲县",value:"舟曲县"},{label:"迭部县",value:"迭部县"},{label:"玛曲县",value:"玛曲县"},{label:"碌曲县",value:"碌曲县"},{label:"夏河县",value:"夏河县"}]}]},{label:"青海省",value:"青海省",children:[{label:"西宁市",value:"西宁市",children:[{label:"城东区",value:"城东区"},{label:"城中区",value:"城中区"},{label:"城西区",value:"城西区"},{label:"城北区",value:"城北区"},{label:"大通回族土族自治县",value:"大通回族土族自治县"},{label:"湟中县",value:"湟中县"},{label:"湟源县",value:"湟源县"}]},{label:"海东市",value:"海东市",children:[{label:"乐都区",value:"乐都区"},{label:"平安区",value:"平安区"},{label:"民和回族土族自治县",value:"民和回族土族自治县"},{label:"互助土族自治县",value:"互助土族自治县"},{label:"化隆回族自治县",value:"化隆回族自治县"},{label:"循化撒拉族自治县",value:"循化撒拉族自治县"}]},{label:"海北藏族自治州",value:"海北藏族自治州",children:[{label:"门源回族自治县",value:"门源回族自治县"},{label:"祁连县",value:"祁连县"},{label:"海晏县",value:"海晏县"},{label:"刚察县",value:"刚察县"}]},{label:"黄南藏族自治州",value:"黄南藏族自治州",children:[{label:"同仁县",value:"同仁县"},{label:"尖扎县",value:"尖扎县"},{label:"泽库县",value:"泽库县"},{label:"河南蒙古族自治县",value:"河南蒙古族自治县"}]},{label:"海南藏族自治州",value:"海南藏族自治州",children:[{label:"共和县",value:"共和县"},{label:"同德县",value:"同德县"},{label:"贵德县",value:"贵德县"},{label:"兴海县",value:"兴海县"},{label:"贵南县",value:"贵南县"}]},{label:"果洛藏族自治州",value:"果洛藏族自治州",children:[{label:"玛沁县",value:"玛沁县"},{label:"班玛县",value:"班玛县"},{label:"甘德县",value:"甘德县"},{label:"达日县",value:"达日县"},{label:"久治县",value:"久治县"},{label:"玛多县",value:"玛多县"}]},{label:"玉树藏族自治州",value:"玉树藏族自治州",children:[{label:"玉树市",value:"玉树市"},{label:"杂多县",value:"杂多县"},{label:"称多县",value:"称多县"},{label:"治多县",value:"治多县"},{label:"囊谦县",value:"囊谦县"},{label:"曲麻莱县",value:"曲麻莱县"}]},{label:"海西蒙古族藏族自治州",value:"海西蒙古族藏族自治州",children:[{label:"格尔木市",value:"格尔木市"},{label:"德令哈市",value:"德令哈市"},{label:"乌兰县",value:"乌兰县"},{label:"都兰县",value:"都兰县"},{label:"天峻县",value:"天峻县"}]}]},{label:"宁夏回族自治区",value:"宁夏回族自治区",children:[{label:"银川市",value:"银川市",children:[{label:"兴庆区",value:"兴庆区"},{label:"西夏区",value:"西夏区"},{label:"金凤区",value:"金凤区"},{label:"永宁县",value:"永宁县"},{label:"贺兰县",value:"贺兰县"},{label:"灵武市",value:"灵武市"}]},{label:"石嘴山市",value:"石嘴山市",children:[{label:"大武口区",value:"大武口区"},{label:"惠农区",value:"惠农区"},{label:"平罗县",value:"平罗县"}]},{label:"吴忠市",value:"吴忠市",children:[{label:"利通区",value:"利通区"},{label:"红寺堡区",value:"红寺堡区"},{label:"盐池县",value:"盐池县"},{label:"同心县",value:"同心县"},{label:"青铜峡市",value:"青铜峡市"}]},{label:"固原市",value:"固原市",children:[{label:"原州区",value:"原州区"},{label:"西吉县",value:"西吉县"},{label:"隆德县",value:"隆德县"},{label:"泾源县",value:"泾源县"},{label:"彭阳县",value:"彭阳县"}]},{label:"中卫市",value:"中卫市",children:[{label:"沙坡头区",value:"沙坡头区"},{label:"中宁县",value:"中宁县"},{label:"海原县",value:"海原县"}]}]},{label:"新疆维吾尔自治区",value:"新疆维吾尔自治区",children:[{label:"乌鲁木齐市",value:"乌鲁木齐市",children:[{label:"天山区",value:"天山区"},{label:"沙依巴克区",value:"沙依巴克区"},{label:"新市区",value:"新市区"},{label:"水磨沟区",value:"水磨沟区"},{label:"头屯河区",value:"头屯河区"},{label:"达坂城区",value:"达坂城区"},{label:"米东区",value:"米东区"},{label:"乌鲁木齐县",value:"乌鲁木齐县"}]},{label:"克拉玛依市",value:"克拉玛依市",children:[{label:"独山子区",value:"独山子区"},{label:"克拉玛依区",value:"克拉玛依区"},{label:"白碱滩区",value:"白碱滩区"},{label:"乌尔禾区",value:"乌尔禾区"}]},{label:"吐鲁番市",value:"吐鲁番市",children:[{label:"高昌区",value:"高昌区"},{label:"鄯善县",value:"鄯善县"},{label:"托克逊县",value:"托克逊县"}]},{label:"哈密市",value:"哈密市",children:[{label:"伊州区",value:"伊州区"},{label:"巴里坤哈萨克自治县",value:"巴里坤哈萨克自治县"},{label:"伊吾县",value:"伊吾县"}]},{label:"昌吉回族自治州",value:"昌吉回族自治州",children:[{label:"昌吉市",value:"昌吉市"},{label:"阜康市",value:"阜康市"},{label:"呼图壁县",value:"呼图壁县"},{label:"玛纳斯县",value:"玛纳斯县"},{label:"奇台县",value:"奇台县"},{label:"吉木萨尔县",value:"吉木萨尔县"},{label:"木垒哈萨克自治县",value:"木垒哈萨克自治县"}]},{label:"博尔塔拉蒙古自治州",value:"博尔塔拉蒙古自治州",children:[{label:"博乐市",value:"博乐市"},{label:"阿拉山口市",value:"阿拉山口市"},{label:"精河县",value:"精河县"},{label:"温泉县",value:"温泉县"}]},{label:"巴音郭楞蒙古自治州",value:"巴音郭楞蒙古自治州",children:[{label:"库尔勒市",value:"库尔勒市"},{label:"轮台县",value:"轮台县"},{label:"尉犁县",value:"尉犁县"},{label:"若羌县",value:"若羌县"},{label:"且末县",value:"且末县"},{label:"焉耆回族自治县",value:"焉耆回族自治县"},{label:"和静县",value:"和静县"},{label:"和硕县",value:"和硕县"},{label:"博湖县",value:"博湖县"}]},{label:"阿克苏地区",value:"阿克苏地区",children:[{label:"阿克苏市",value:"阿克苏市"},{label:"温宿县",value:"温宿县"},{label:"库车县",value:"库车县"},{label:"沙雅县",value:"沙雅县"},{label:"新和县",value:"新和县"},{label:"拜城县",value:"拜城县"},{label:"乌什县",value:"乌什县"},{label:"阿瓦提县",value:"阿瓦提县"},{label:"柯坪县",value:"柯坪县"}]},{label:"克孜勒苏柯尔克孜自治州",value:"克孜勒苏柯尔克孜自治州",children:[{label:"阿图什市",value:"阿图什市"},{label:"阿克陶县",value:"阿克陶县"},{label:"阿合奇县",value:"阿合奇县"},{label:"乌恰县",value:"乌恰县"}]},{label:"喀什地区",value:"喀什地区",children:[{label:"喀什市",value:"喀什市"},{label:"疏附县",value:"疏附县"},{label:"疏勒县",value:"疏勒县"},{label:"英吉沙县",value:"英吉沙县"},{label:"泽普县",value:"泽普县"},{label:"莎车县",value:"莎车县"},{label:"叶城县",value:"叶城县"},{label:"麦盖提县",value:"麦盖提县"},{label:"岳普湖县",value:"岳普湖县"},{label:"伽师县",value:"伽师县"},{label:"巴楚县",value:"巴楚县"},{label:"塔什库尔干塔吉克自治县",value:"塔什库尔干塔吉克自治县"}]},{label:"和田地区",value:"和田地区",children:[{label:"和田市",value:"和田市"},{label:"和田县",value:"和田县"},{label:"墨玉县",value:"墨玉县"},{label:"皮山县",value:"皮山县"},{label:"洛浦县",value:"洛浦县"},{label:"策勒县",value:"策勒县"},{label:"于田县",value:"于田县"},{label:"民丰县",value:"民丰县"}]},{label:"伊犁哈萨克自治州",value:"伊犁哈萨克自治州",children:[{label:"伊宁市",value:"伊宁市"},{label:"奎屯市",value:"奎屯市"},{label:"霍尔果斯市",value:"霍尔果斯市"},{label:"伊宁县",value:"伊宁县"},{label:"察布查尔锡伯自治县",value:"察布查尔锡伯自治县"},{label:"霍城县",value:"霍城县"},{label:"巩留县",value:"巩留县"},{label:"新源县",value:"新源县"},{label:"昭苏县",value:"昭苏县"},{label:"特克斯县",value:"特克斯县"},{label:"尼勒克县",value:"尼勒克县"}]},{label:"塔城地区",value:"塔城地区",children:[{label:"塔城市",value:"塔城市"},{label:"乌苏市",value:"乌苏市"},{label:"额敏县",value:"额敏县"},{label:"沙湾县",value:"沙湾县"},{label:"托里县",value:"托里县"},{label:"裕民县",value:"裕民县"},{label:"和布克赛尔蒙古自治县",value:"和布克赛尔蒙古自治县"}]},{label:"阿勒泰地区",value:"阿勒泰地区",children:[{label:"阿勒泰市",value:"阿勒泰市"},{label:"布尔津县",value:"布尔津县"},{label:"富蕴县",value:"富蕴县"},{label:"福海县",value:"福海县"},{label:"哈巴河县",value:"哈巴河县"},{label:"青河县",value:"青河县"},{label:"吉木乃县",value:"吉木乃县"}]},{label:"石河子市",value:"石河子市"},{label:"阿拉尔市",value:"阿拉尔市"},{label:"图木舒克市",value:"图木舒克市"},{label:"五家渠市",value:"五家渠市"},{label:"北屯市",value:"北屯市"},{label:"铁门关市",value:"铁门关市"},{label:"双河市",value:"双河市"},{label:"可克达拉市",value:"可克达拉市"},{label:"昆玉市",value:"昆玉市"}]},{label:"台湾省",value:"台湾省",children:[{label:"台北市",value:"台北市",children:[{label:"中正区",value:"中正区"},{label:"大同区",value:"大同区"},{label:"中山区",value:"中山区"},{label:"万华区",value:"万华区"},{label:"信义区",value:"信义区"},{label:"松山区",value:"松山区"},{label:"大安区",value:"大安区"},{label:"南港区",value:"南港区"},{label:"北投区",value:"北投区"},{label:"内湖区",value:"内湖区"},{label:"士林区",value:"士林区"},{label:"文山区",value:"文山区"}]},{label:"新北市",value:"新北市",children:[{label:"板桥区",value:"板桥区"},{label:"土城区",value:"土城区"},{label:"新庄区",value:"新庄区"},{label:"新店区",value:"新店区"},{label:"深坑区",value:"深坑区"},{label:"石碇区",value:"石碇区"},{label:"坪林区",value:"坪林区"},{label:"乌来区",value:"乌来区"},{label:"五股区",value:"五股区"},{label:"八里区",value:"八里区"},{label:"林口区",value:"林口区"},{label:"淡水区",value:"淡水区"},{label:"中和区",value:"中和区"},{label:"永和区",value:"永和区"},{label:"三重区",value:"三重区"},{label:"芦洲区",value:"芦洲区"},{label:"泰山区",value:"泰山区"},{label:"树林区",value:"树林区"},{label:"莺歌区",value:"莺歌区"},{label:"三峡区",value:"三峡区"},{label:"汐止区",value:"汐止区"},{label:"金山区",value:"金山区"},{label:"万里区",value:"万里区"},{label:"三芝区",value:"三芝区"},{label:"石门区",value:"石门区"},{label:"瑞芳区",value:"瑞芳区"},{label:"贡寮区",value:"贡寮区"},{label:"双溪区",value:"双溪区"},{label:"平溪区",value:"平溪区"}]},{label:"桃园市",value:"桃园市",children:[{label:"桃园区",value:"桃园区"},{label:"中坜区",value:"中坜区"},{label:"平镇区",value:"平镇区"},{label:"八德区",value:"八德区"},{label:"杨梅区",value:"杨梅区"},{label:"芦竹区",value:"芦竹区"},{label:"大溪区",value:"大溪区"},{label:"龙潭区",value:"龙潭区"},{label:"龟山区",value:"龟山区"},{label:"大园区",value:"大园区"},{label:"观音区",value:"观音区"},{label:"新屋区",value:"新屋区"},{label:"复兴区",value:"复兴区"}]},{label:"台中市",value:"台中市",children:[{label:"中区",value:"中区"},{label:"东区",value:"东区"},{label:"西区",value:"西区"},{label:"南区",value:"南区"},{label:"北区",value:"北区"},{label:"西屯区",value:"西屯区"},{label:"南屯区",value:"南屯区"},{label:"北屯区",value:"北屯区"},{label:"丰原区",value:"丰原区"},{label:"大里区",value:"大里区"},{label:"太平区",value:"太平区"},{label:"东势区",value:"东势区"},{label:"大甲区",value:"大甲区"},{label:"清水区",value:"清水区"},{label:"沙鹿区",value:"沙鹿区"},{label:"梧栖区",value:"梧栖区"},{label:"后里区",value:"后里区"},{label:"神冈区",value:"神冈区"},{label:"潭子区",value:"潭子区"},{label:"大雅区",value:"大雅区"},{label:"新小区",value:"新小区"},{label:"石冈区",value:"石冈区"},{label:"外埔区",value:"外埔区"},{label:"大安区",value:"大安区"},{label:"乌日区",value:"乌日区"},{label:"大肚区",value:"大肚区"},{label:"龙井区",value:"龙井区"},{label:"雾峰区",value:"雾峰区"},{label:"和平区",value:"和平区"}]},{label:"台南市",value:"台南市",children:[{label:"中西区",value:"中西区"},{label:"东区",value:"东区"},{label:"南区",value:"南区"},{label:"北区",value:"北区"},{label:"安平区",value:"安平区"},{label:"安南区",value:"安南区"},{label:"永康区",value:"永康区"},{label:"归仁区",value:"归仁区"},{label:"新化区",value:"新化区"},{label:"左镇区",value:"左镇区"},{label:"玉井区",value:"玉井区"},{label:"楠西区",value:"楠西区"},{label:"南化区",value:"南化区"},{label:"仁德区",value:"仁德区"},{label:"关庙区",value:"关庙区"},{label:"龙崎区",value:"龙崎区"},{label:"官田区",value:"官田区"},{label:"麻豆区",value:"麻豆区"},{label:"佳里区",value:"佳里区"},{label:"西港区",value:"西港区"},{label:"七股区",value:"七股区"},{label:"将军区",value:"将军区"},{label:"学甲区",value:"学甲区"},{label:"北门区",value:"北门区"},{label:"新营区",value:"新营区"},{label:"后壁区",value:"后壁区"},{label:"白河区",value:"白河区"},{label:"东山区",value:"东山区"},{label:"六甲区",value:"六甲区"},{label:"下营区",value:"下营区"},{label:"柳营区",value:"柳营区"},{label:"盐水区",value:"盐水区"},{label:"善化区",value:"善化区"},{label:"大内区",value:"大内区"},{label:"山上区",value:"山上区"},{label:"新市区",value:"新市区"},{label:"安定区",value:"安定区"}]},{label:"高雄市",value:"高雄市",children:[{label:"楠梓区",value:"楠梓区"},{label:"左营区",value:"左营区"},{label:"鼓山区",value:"鼓山区"},{label:"三民区",value:"三民区"},{label:"盐埕区",value:"盐埕区"},{label:"前金区",value:"前金区"},{label:"新兴区",value:"新兴区"},{label:"苓雅区",value:"苓雅区"},{label:"前镇区",value:"前镇区"},{label:"旗津区",value:"旗津区"},{label:"小港区",value:"小港区"},{label:"凤山区",value:"凤山区"},{label:"大寮区",value:"大寮区"},{label:"鸟松区",value:"鸟松区"},{label:"林园区",value:"林园区"},{label:"仁武区",value:"仁武区"},{label:"大树区",value:"大树区"},{label:"大社区",value:"大社区"},{label:"冈山区",value:"冈山区"},{label:"路竹区",value:"路竹区"},{label:"桥头区",value:"桥头区"},{label:"梓官区",value:"梓官区"},{label:"弥陀区",value:"弥陀区"},{label:"永安区",value:"永安区"},{label:"燕巢区",value:"燕巢区"},{label:"阿莲区",value:"阿莲区"},{label:"茄萣区",value:"茄萣区"},{label:"湖内区",value:"湖内区"},{label:"旗山区",value:"旗山区"},{label:"美浓区",value:"美浓区"},{label:"内门区",value:"内门区"},{label:"杉林区",value:"杉林区"},{label:"甲仙区",value:"甲仙区"},{label:"六龟区",value:"六龟区"},{label:"茂林区",value:"茂林区"},{label:"桃源区",value:"桃源区"},{label:"那玛夏区",value:"那玛夏区"}]},{label:"基隆市",value:"基隆市",children:[{label:"中正区",value:"中正区"},{label:"七堵区",value:"七堵区"},{label:"暖暖区",value:"暖暖区"},{label:"仁爱区",value:"仁爱区"},{label:"中山区",value:"中山区"},{label:"安乐区",value:"安乐区"},{label:"信义区",value:"信义区"}]},{label:"新竹市",value:"新竹市",children:[{label:"东区",value:"东区"},{label:"北区",value:"北区"},{label:"香山区",value:"香山区"}]},{label:"嘉义市",value:"嘉义市",children:[{label:"东区",value:"东区"},{label:"西区",value:"西区"}]}]},{label:"香港特别行政区",value:"香港特别行政区",children:[{label:"中西区",value:"中西区"},{label:"湾仔区",value:"湾仔区"},{label:"东区",value:"东区"},{label:"南区",value:"南区"},{label:"油尖旺区",value:"油尖旺区"},{label:"深水埗区",value:"深水埗区"},{label:"九龙城区",value:"九龙城区"},{label:"黄大仙区",value:"黄大仙区"},{label:"观塘区",value:"观塘区"},{label:"北区",value:"北区"},{label:"大埔区",value:"大埔区"},{label:"沙田区",value:"沙田区"},{label:"西贡区",value:"西贡区"},{label:"荃湾区",value:"荃湾区"},{label:"屯门区",value:"屯门区"},{label:"元朗区",value:"元朗区"},{label:"葵青区",value:"葵青区"},{label:"离岛区",value:"离岛区"},{label:"香港特别行政区",value:"香港特别行政区"}]},{label:"澳门特别行政区",value:"澳门特别行政区",children:[{label:"花地玛堂区",value:"花地玛堂区"},{label:"圣安多尼堂区",value:"圣安多尼堂区"},{label:"大堂区",value:"大堂区"},{label:"望德堂区",value:"望德堂区"},{label:"风顺堂区",value:"风顺堂区"},{label:"嘉模堂区",value:"嘉模堂区"},{label:"圣方济各堂区",value:"圣方济各堂区"},{label:"路氹城",value:"路氹城"},{label:"澳门新城",value:"澳门新城"},{label:"澳门特别行政区",value:"澳门特别行政区"}]}];const N=n({name:"DaBaieXCompSelectAddress",data:()=>({chinaAddress:[],addressListData:[],addressSelectListData:[0,0,0],addressListStr:"",defaultProvince:"",defaultCity:"",defaultCounty:""}),props:{value:{type:String,default:""},objKey:{type:String,default:""}},mounted(){this.chinaAddress=k,this.getProvince(),this.value&&(this.addressListStr=this.value)},methods:{getProvince(){const e=this.chinaAddress,t=[];for(const l in e)t.push(e[l].label);let a=this;if(a.addressListData[0]=t,a.defaultProvince=t[0],a.value){let e=a.value.split("-");a.defaultProvince=e[0]||"",a.defaultCity=e[1]||"",a.defaultCounty=e[2]||""}a.getCity(a.defaultProvince),a.value&&a.getDefaultKey()},getCity(e){const t=this.chinaAddress.find((t=>t.label===e)).children;if(!t)return this.addressListData[1]="",void(this.addressListData[2]="");const a=[];for(const o in t)a.push(t[o].label);this.addressListData[1]=a;let l=this.defaultCity?this.defaultCity:a[0];this.getCounty(e,l)},getCounty(e,t){const a=this.chinaAddress.find((t=>t.label===e)).children.find((e=>e.label===t)),l=[];if(a.children)for(const o in a.children)l.push(a.children[o].label);else l.push(a.label);this.addressListData[2]=l},addressColumnchange(e){const{column:t,value:a}=e.detail;this.addressSelectListData[t]=a;const l=this.addressListData[t][a];if(0===t)this.getCity(l);else if(1===t){const e=this.addressListData[0][this.addressSelectListData[0]];l&&this.getCounty(e,l)}this.$forceUpdate()},addressChange(e){const{value:t}=e.detail;a("log","at components/DaBaieXCompSelectAddress/DaBaieXCompSelectAddress.vue:163","//"),a("log","at components/DaBaieXCompSelectAddress/DaBaieXCompSelectAddress.vue:164",e.detail),a("log","at components/DaBaieXCompSelectAddress/DaBaieXCompSelectAddress.vue:165",t);let l=this.addressListData[0][t[0]]||"",o=this.addressListData[1][t[1]]||"",n=this.addressListData[2][t[2]]||"";const s=[];l&&s.push(l),o&&s.push(o),n&&s.push(n),this.addressListStr=s.join("-");const i=[l,o,n,this.objKey];this.$emit("selectAddress",i)},getDefaultKey(){let e=this,t=e.defaultProvince,l=e.defaultCity,o=e.defaultCounty,n=e.addressListData,s=[0,0,0];t&&n[0]&&n[0].forEach((function(e,a){e==t&&(s[0]=a)})),l&&n[1]&&(a("log","at components/DaBaieXCompSelectAddress/DaBaieXCompSelectAddress.vue:205",l),n[1].forEach((function(e,t){e==l&&(s[1]=t)}))),o&&n[2]&&n[2].forEach((function(e,t){e==o&&(s[2]=t)})),e.addressSelectListData=s}}},[["render",function(t,a,l,o,n,s){return e.openBlock(),e.createElementBlock("view",{class:"DaBaieXSelectAddress"},[e.createElementVNode("picker",{mode:"multiSelector",value:n.addressSelectListData,onColumnchange:a[0]||(a[0]=(...e)=>s.addressColumnchange&&s.addressColumnchange(...e)),onChange:a[1]||(a[1]=(...e)=>s.addressChange&&s.addressChange(...e)),range:n.addressListData},[l.value?(e.openBlock(),e.createElementBlock("view",{key:1,class:"haveAddress"},e.toDisplayString(l.value),1)):(e.openBlock(),e.createElementBlock("view",{key:0,class:"noneAddress"},"请选择"))],40,["value","range"])])}],["__scopeId","data-v-a495666c"]]);const w=n({data(){return{dates:[],years:[],year:2020,beginYear:1900,endYear:2050,months:[],month:1,beginMonth:1,endMonth:12,days:[],day:1,beginDay:1,endDay:31,hours:[],hour:0,beginHour:0,endHour:23,minutes:[],minute:0,beginMinute:0,endMinute:59,seconds:[],second:0,beginSecond:0,endSecond:59,value:[],showMode:this.showType,disabled:this.isClick,defaultTime:this.defaultValue,defaultMinute:this.defaultMinute}},props:{showType:{type:String,default:"dateToTime"},beginDate:{type:String,default:"2022-09-01"},beginTime:{type:String,default:"00:00:00"},endDate:{type:String,default:"2099-01-01"},endTime:{type:String,default:"23:59:59"},isClick:{type:Boolean,default:!1},defaultValue:{type:String,default:""},backIdx:{type:Number,default:0},backKey:{type:String,default:""},defaultMinute:{type:String,default:""}},watch:{showType(e,t){this.showMode=t},isClick(e,t){this.disabled=t},defaultValue(e,t){this.defaultTime=e,this.getDate(),this.getData()}},created(){if(this.getMillisecond(this.beginDate)>this.getMillisecond(this.endDate)){let e=this.beginDate;this.beginDate=this.endDate,this.endDate=e}if(this.getMillisecond("2020-01-01 "+this.beginTime)>this.getMillisecond("2020-01-01 "+this.endTime)){let e=this.beginTime;this.beginTime=this.endTime,this.endTime=e}let e=this.beginDate.split("-");this.beginYear=e[0],this.beginMonth="0"==e[1].charAt(0)?e[1].charAt(1):e[1],this.beginDay="0"==e[2].charAt(0)?e[2].charAt(1):e[2];let t=this.endDate.split("-");this.endYear=t[0],this.endMonth="0"==t[1].charAt(0)?t[1].charAt(1):t[1],this.endDay="0"==t[2].charAt(0)?t[2].charAt(1):t[2];let a=this.beginTime.split(":");this.beginHour="0"==a[0].charAt(0)?a[0].charAt(1):a[0],this.beginMinute="0"==a[1].charAt(0)?a[1].charAt(1):a[1],this.beginSecond="0"==a[2].charAt(0)?a[2].charAt(1):a[2];let l=this.endTime.split(":");this.endHour="0"==l[0].charAt(0)?l[0].charAt(1):l[0],this.endMinute="0"==l[1].charAt(0)?l[1].charAt(1):l[1],this.endSecond="0"==l[2].charAt(0)?l[2].charAt(1):l[2],this.getDate();for(var o=parseInt(this.beginYear);o<=parseInt(this.endYear);o++)this.years.push(o+"年");this.getMonths(),this.getDays();for(o=parseInt(this.beginHour);o<=parseInt(this.endHour);o++)this.hours.push(o+"时");if(this.beginHour==this.endHour)if(parseInt(this.beginMinute)>parseInt(this.endMinute))for(o=parseInt(this.endMinute);o<=parseInt(this.beginMinute);o++)this.minutes.push(o+"分");else for(o=parseInt(this.beginMinute);o<=parseInt(this.endMinute);o++)this.minutes.push(o+"分");else for(o=parseInt(this.beginMinute);o<=59;o++)this.minutes.push(o+"分");if(this.beginMinute==this.endMinute)if(parseInt(this.beginSecond)>parseInt(this.endSecond))for(o=parseInt(this.endSecond);o<=parseInt(this.beginSecond);o++)this.seconds.push(o+"秒");else for(o=parseInt(this.beginSecond);o<=parseInt(this.endSecond);o++)this.seconds.push(o+"秒");else for(o=parseInt(this.beginSecond);o<=59;o++)this.seconds.push(o+"秒");this.getData()},methods:{scroll(e){let t=e.detail.column,a=e.detail.value;switch(this.showMode){case"time":if(0==t){if(this.minutes=[],1==this.hours.length)if(parseInt(this.beginMinute)>parseInt(this.endMinute))for(var l=parseInt(this.endMinute);l<=parseInt(this.beginMinute);l++)this.minutes.push(l+"分");else for(l=parseInt(this.beginMinute);l<=parseInt(this.endMinute);l++)this.minutes.push(l+"分");else if(0==a)for(l=parseInt(this.beginMinute);l<=59;l++)this.minutes.push(l+"分");else if(a==this.hours.length-1)for(l=0;l<=parseInt(this.endMinute);l++)this.minutes.push(l+"分");else for(l=0;l<=59;l++)this.minutes.push(l+"分");this.dates[1]=this.minutes}else if(1==t)if(this.seconds=[],1==this.minutes.length)if(parseInt(this.beginSecond)>parseInt(this.endSecond))for(l=parseInt(this.endSecond);l<=parseInt(this.beginSecond);l++)this.seconds.push(l+"秒");else for(l=parseInt(this.beginSecond);l<=parseInt(this.endSecond);l++)this.seconds.push(l+"秒");else{if(0==a)for(l=parseInt(this.beginSecond);l<=59;l++)this.seconds.push(l+"秒");else if(a==this.minutes.length-1)for(l=0;l<=parseInt(this.endSecond);l++)this.seconds.push(l+"秒");else for(l=0;l<=59;l++)this.seconds.push(l+"秒");this.dates[2]=this.seconds}break;case"monthToDay":this.getMonths(),0==t&&(this.month=this.months[a].substring(0,this.months[a].length-1),this.getDays()),this.dates[0]=this.months,this.dates[1]=this.days;break;case"yearToMonth":0==t&&(this.year=this.years[a].substring(0,4),0==a&&(this.month=this.beginMonth)),this.getMonths(),1==t&&(this.month=this.months[a].substring(0,this.months[a].length-1)),this.dates[1]=this.months;break;case"dateToTime":if(4==t)if(this.seconds=[],1==this.minutes.length)if(parseInt(this.beginSecond)>parseInt(this.endSecond))for(l=parseInt(this.endSecond);l<=parseInt(this.beginSecond);l++)this.seconds.push(l+"秒");else for(l=parseInt(this.beginSecond);l<=parseInt(this.endSecond);l++)this.seconds.push(l+"秒");else if(0==a)for(l=parseInt(this.beginSecond);l<=59;l++)this.seconds.push(l+"秒");else if(a==this.minutes.length-1)for(l=0;l<=parseInt(this.endSecond);l++)this.seconds.push(l+"秒");else for(l=0;l<=59;l++)this.seconds.push(l+"秒");this.dates[5]=this.seconds;case"yearToMinute":if(3==t)if(this.minutes=[],1==this.hours.length)if(parseInt(this.beginMinute)>parseInt(this.endMinute))for(l=parseInt(this.endMinute);l<=parseInt(this.beginMinute);l++)this.minutes.push(l+"分");else for(l=parseInt(this.beginMinute);l<=parseInt(this.endMinute);l++)this.minutes.push(l+"分");else if(0==a)for(l=parseInt(this.beginMinute);l<=59;l++)this.minutes.push(l+"分");else if(a==this.hours.length-1)for(l=0;l<=parseInt(this.endMinute);l++)this.minutes.push(l+"分");else for(l=0;l<=59;l++)this.minutes.push(l+"分");this.dates[4]=this.minutes;case"date":0==t&&(this.year=this.years[a].substring(0,4),0==a&&(this.month=this.beginMonth),a==this.years.length-1&&(this.month=this.endMonth)),this.getMonths(),1==t&&(this.month=3==this.months[a].length?this.months[a].substring(0,2):this.months[a].substring(0,1)),this.getDays(),this.dates[1]=this.months,this.dates[2]=this.days}},confirm(e){let t=e.detail.value,a="";switch(this.showMode){case"year":a={key:this.years[t[0]].substring(0,4),value:this.years[t[0]]};break;case"month":a={key:this.months[t[0]].substring(0,this.months[t[0]].length-1),value:this.months[t[0]]};break;case"day":a={key:this.days[t[0]].substring(0,this.days[t[0]].length-1),value:this.days[t[0]]};break;case"hour":a={key:this.hours[t[0]].substring(0,this.hours[t[0]].length-1),value:this.hours[t[0]]};break;case"minute":a={key:this.minutes[t[0]].substring(0,this.minutes[t[0]].length-1),value:this.minutes[t[0]]};break;case"second":a={key:this.seconds[t[0]].substring(0,this.seconds[t[0]].length-1),value:this.seconds[t[0]]};break;case"yearToMonth":{let e=this.months[t[1]].substring(0,this.months[t[1]].length-1);a={year:this.years[t[0]].substring(0,4),month:e,key:this.years[t[0]].substring(0,4)+"-"+(1==e.length?"0"+e:e),value:this.years[t[0]]+this.months[t[1]]}}break;case"monthToDay":{let e=this.months[t[0]].substring(0,this.months[t[0]].length-1),l=this.days[t[1]].substring(0,this.days[t[1]].length-1);a={month:e,day:l,key:(1==e.length?"0"+e:e)+"-"+(1==l.length?"0"+l:l),value:this.months[t[0]]+this.days[t[1]]}}break;case"hourToMinute":{let e=this.hours[t[0]].substring(0,this.hours[t[0]].length-1),l=this.minutes[t[1]].substring(0,this.minutes[t[1]].length-1);a={hour:e,minute:l,key:(1==e.length?"0"+e:e)+":"+(1==l.length?"0"+l:l),value:this.hours[t[0]]+this.minutes[t[1]]}}break;case"minuteToSecond":{let e=this.minutes[t[0]].substring(0,this.minutes[t[0]].length-1),l=this.seconds[t[1]].substring(0,this.seconds[t[1]].length-1);a={key:(1==e.length?"0"+e:e)+":"+(1==l.length?"0"+l:l),value:this.minutes[t[0]]+this.seconds[t[1]]}}break;case"date":{let e=this.months[t[1]].substring(0,this.months[t[1]].length-1),l=this.days[t[2]].substring(0,this.days[t[2]].length-1);a={year:this.years[t[0]].substring(0,4),month:e,day:l,key:this.years[t[0]].substring(0,4)+"-"+(1==e.length?"0"+e:e)+"-"+(1==l.length?"0"+l:l),value:this.years[t[0]]+this.months[t[1]]+this.days[t[2]]}}break;case"time":{let e=this.hours[t[0]].substring(0,this.hours[t[0]].length-1),l=this.minutes[t[1]].substring(0,this.minutes[t[1]].length-1),o=this.seconds[t[2]].substring(0,this.seconds[t[2]].length-1);a={hour:e,minute:l,second:o,key:(1==e.length?"0"+e:e)+":"+(1==l.length?"0"+l:l)+":"+(1==o.length?"0"+o:o),value:this.hours[t[0]]+this.minutes[t[1]]+this.seconds[t[2]]}}break;case"yearToMinute":{let e=this.months[t[1]].substring(0,this.months[t[1]].length-1),l=this.days[t[2]].substring(0,this.days[t[2]].length-1),o=this.hours[t[3]].substring(0,this.hours[t[3]].length-1),n=this.minutes[t[4]].substring(0,this.minutes[t[4]].length-1);a={year:this.years[t[0]].substring(0,4),month:e,day:l,hour:o,minute:n,key:this.years[t[0]].substring(0,4)+"-"+(1==e.length?"0"+e:e)+"-"+(1==l.length?"0"+l:l)+" "+(1==o.length?"0"+o:o)+":"+(1==n.length?"0"+n:n),value:this.years[t[0]]+this.months[t[1]]+this.days[t[2]]+this.hours[t[3]]+this.minutes[t[4]]}}break;default:{let e=this.months[t[1]].substring(0,this.months[t[1]].length-1),l=this.days[t[2]].substring(0,this.days[t[2]].length-1),o=this.hours[t[3]].substring(0,this.hours[t[3]].length-1),n=this.minutes[t[4]].substring(0,this.minutes[t[4]].length-1),s=this.seconds[t[5]].substring(0,this.seconds[t[5]].length-1);a={year:this.years[t[0]].substring(0,4),month:e,day:l,hour:o,minute:n,second:s,key:this.years[t[0]].substring(0,4)+"-"+(1==e.length?"0"+e:e)+"-"+(1==l.length?"0"+l:l)+" "+(1==o.length?"0"+o:o)+":"+(1==n.length?"0"+n:n)+":"+(1==s.length?"0"+s:s),value:this.years[t[0]]+this.months[t[1]]+this.days[t[2]]+this.hours[t[3]]+this.minutes[t[4]]+this.seconds[t[5]]}}}a.backIdx=this.backIdx,a.backKey=this.backKey,this.$emit("btnConfirm",a)},cancel(e){this.$emit("btnCancel")},getMonths(){if(this.months=[],parseInt(this.beginYear)==parseInt(this.year)&&parseInt(this.endYear)==parseInt(this.year))for(var e=parseInt(this.beginMonth);e<=parseInt(this.endMonth);e++)this.months.push(e+"月");else if(parseInt(this.beginYear)>=parseInt(this.year))for(e=parseInt(this.beginMonth);e<=12;e++)this.months.push(e+"月");else if(parseInt(this.endYear)<=parseInt(this.year))for(e=1;e<=parseInt(this.endMonth);e++)this.months.push(e+"月");else for(e=1;e<=12;e++)this.months.push(e+"月")},getDays(){switch(this.days=[],this.month){case 1:case 3:case 5:case 7:case 8:case 10:case 12:case"1":case"3":case"5":case"7":case"8":case"10":case"12":if((parseInt(this.beginDay)<0||parseInt(this.beginDay)>31)&&(this.beginDay=1),(parseInt(this.endDay)<0||parseInt(this.endDay)>31)&&(this.endDay=31),parseInt(this.beginYear)==parseInt(this.year)&&parseInt(this.endYear)==parseInt(this.year)&&parseInt(this.beginMonth)==parseInt(this.month)&&parseInt(this.endMonth)==parseInt(this.month))for(var e=parseInt(this.beginDay);e<=parseInt(this.endDay);e++)this.days.push(e+"日");else if(parseInt(this.beginYear)==parseInt(this.year)&&parseInt(this.endYear)==parseInt(this.year)&&parseInt(this.beginMonth)==parseInt(this.month)||parseInt(this.beginYear)>=parseInt(this.year)&&parseInt(this.beginMonth)==parseInt(this.month))for(e=parseInt(this.beginDay);e<=31;e++)this.days.push(e+"日");else if(parseInt(this.beginYear)==parseInt(this.year)&&parseInt(this.endYear)==parseInt(this.year)&&parseInt(this.endMonth)==parseInt(this.month)||parseInt(this.endYear)<=parseInt(this.year)&&parseInt(this.endMonth)==parseInt(this.month))for(e=1;e<=parseInt(this.endDay);e++)this.days.push(e+"日");else for(e=1;e<=31;e++)this.days.push(e+"日");break;case 4:case 6:case 9:case 11:case"4":case"6":case"9":case"11":if((parseInt(this.beginDay)<0||parseInt(this.beginDay)>30)&&(this.beginDay=1),(parseInt(this.endDay)<0||parseInt(this.endDay)>30)&&(this.endDay=30),parseInt(this.beginYear)==parseInt(this.year)&&parseInt(this.endYear)==parseInt(this.year)&&parseInt(this.beginMonth)==parseInt(this.month)&&parseInt(this.endMonth)==parseInt(this.month))for(e=parseInt(this.beginDay);e<=parseInt(this.endDay);e++)this.days.push(e+"日");else if(parseInt(this.beginYear)==parseInt(this.year)&&parseInt(this.endYear)==parseInt(this.year)&&parseInt(this.beginMonth)==parseInt(this.month)||parseInt(this.beginYear)>=parseInt(this.year)&&parseInt(this.beginMonth)==parseInt(this.month))for(e=parseInt(this.beginDay);e<=30;e++)this.days.push(e+"日");else if(parseInt(this.beginYear)==parseInt(this.year)&&parseInt(this.endYear)==parseInt(this.year)&&parseInt(this.endMonth)==parseInt(this.month)||parseInt(this.endYear)<=parseInt(this.year)&&parseInt(this.endMonth)==parseInt(this.month))for(e=1;e<=parseInt(this.endDay);e++)this.days.push(e+"日");else for(e=1;e<=30;e++)this.days.push(e+"日");break;case 2:case"2":if(parseInt(this.year)%4==0&&parseInt(this.year)%100!=0||parseInt(this.year)%400==0)if((parseInt(this.beginDay)<0||parseInt(this.beginDay)>29)&&(this.beginDay=1),(parseInt(this.endDay)<0||parseInt(this.endDay)>29)&&(this.endDay=29),parseInt(this.beginYear)==parseInt(this.year)&&parseInt(this.endYear)==parseInt(this.year)&&parseInt(this.beginMonth)==parseInt(this.month)&&parseInt(this.endMonth)==parseInt(this.month))for(e=parseInt(this.beginDay);e<=parseInt(this.endDay);e++)this.days.push(e+"日");else if(parseInt(this.beginYear)==parseInt(this.year)&&parseInt(this.endYear)==parseInt(this.year)&&parseInt(this.beginMonth)==parseInt(this.month)||parseInt(this.beginYear)>=parseInt(this.year)&&parseInt(this.beginMonth)==parseInt(this.month))for(e=parseInt(this.beginDay);e<=29;e++)this.days.push(e+"日");else if(parseInt(this.beginYea)==parseInt(this.year)&&parseInt(this.endYear)==parseInt(this.year)&&parseInt(this.endMonth)==parseInt(this.month)||parseInt(this.endYear)<=parseInt(this.year)&&parseInt(this.endMonth)==parseInt(this.month))for(e=1;e<=parseInt(this.endDay);e++)this.days.push(e+"日");else for(e=1;e<=29;e++)this.days.push(e+"日");else if((parseInt(this.beginDay)<0||parseInt(this.beginDay)>28)&&(this.beginDay=1),(parseInt(this.endDay)<0||parseInt(this.endDay)>28)&&(this.endDay=28),parseInt(this.beginYear)==parseInt(this.year)&&parseInt(this.endYear)==parseInt(this.year)&&parseInt(this.beginMonth)==parseInt(this.month)&&parseInt(this.endMonth)==parseInt(this.month))for(e=parseInt(this.beginDay);e<=parseInt(this.endDay);e++)this.days.push(e+"日");else if(parseInt(this.beginYear)==parseInt(this.year)&&parseInt(this.endYear)==parseInt(this.year)&&parseInt(this.beginMonth)==parseInt(this.month)||parseInt(this.beginYear)>=parseInt(this.year)&&parseInt(this.beginMonth)==parseInt(this.month))for(e=parseInt(this.beginDay);e<=28;e++)this.days.push(e+"日");else if(parseInt(this.beginYear)==parseInt(this.year)&&parseInt(this.endYear)==parseInt(this.year)&&parseInt(this.endMonth)==parseInt(this.month)||parseInt(this.endYear)<=parseInt(this.year)&&parseInt(this.endMonth)==parseInt(this.month))for(e=1;e<=parseInt(this.endDay);e++)this.days.push(e+"日");else for(e=1;e<=28;e++)this.days.push(e+"日")}},getDate(){var e=new Date;if(this.year=e.getFullYear(),this.month=e.getMonth()+1,this.day=e.getDate(),this.hour=e.getHours(),this.minute=e.getMinutes(),this.second=e.getSeconds(),""!=this.defaultTime){let e=this.defaultTime.substring(0,4),t=this.defaultTime.substring(5,7),a=this.defaultTime.substring(8,10),l=this.defaultTime.substring(11,13),o=this.defaultTime.substring(14,16),n=this.defaultTime.substring(18,20);"hourToMinute"==this.showType&&(l=this.defaultTime.substring(0,2),o=this.defaultTime.substring(3,2)),""!=e&&(this.year=parseInt(e)),""!=t&&(this.month=parseInt(t)),""!=a&&(this.day=parseInt(a)),""!=l&&(this.hour=parseInt(l)),""!=o&&(this.minute=parseInt(o)),n&&(this.second=parseInt(n)),parseInt(this.beginYear)>parseInt(this.year)?(this.year=this.beginYear,this.month=this.beginMonth,this.day=this.beginDay):parseInt(this.endYear)<parseInt(this.year)&&(this.year=this.endYear,this.month=this.endMonth,this.day=this.endDay)}},getData(){this.dates=[];let e=0,t=0,l=0,o=0,n=0,s=0;switch(this.showMode){case"year":this.dates.push(this.years),this.years.map(((t,a)=>{this.year==t.substring(0,4)&&(e=a)})),this.value=[e],a("log","at components/timeSelector/timeSelector.vue:818","this.value",this.value);break;case"month":this.dates.push(this.months),this.months.map(((e,a)=>{this.month==e.substring(0,e.length-1)&&(t=a)})),this.value=[t];break;case"day":this.dates.push(this.days),this.days.map(((e,t)=>{this.day==e.substring(0,e.length-1)&&(l=t)})),this.value=[l];break;case"hour":this.dates.push(this.hours),this.hours.map(((e,t)=>{this.hour==e.substring(0,e.length-1)&&(o=t)})),this.value=[o];break;case"minute":this.dates.push(this.minutes),this.minutes.map(((e,t)=>{this.minute==e.substring(0,e.length-1)&&(n=t)})),this.value=[n];break;case"second":this.dates.push(this.seconds),this.seconds.map(((e,t)=>{this.second==e.substring(0,e.length-1)&&(s=t)})),this.value=[s];break;case"yearToMonth":this.dates.push(this.years),this.dates.push(this.months),this.years.map(((t,a)=>{this.year==t.substring(0,4)&&(e=a)})),this.months.map(((e,a)=>{this.month==e.substring(0,e.length-1)&&(t=a)})),this.value=[e,t];break;case"monthToDay":this.dates.push(this.months),this.dates.push(this.days),this.months.map(((e,a)=>{this.month==e.substring(0,e.length-1)&&(t=a)})),this.days.map(((e,t)=>{this.day==e.substring(0,e.length-1)&&(l=t)})),this.value=[t,l];break;case"hourToMinute":this.dates.push(this.hours),this.dates.push(this.minutes),this.hours.map(((e,t)=>{this.hour==e.substring(0,e.length-1)&&(o=t)})),this.minutes.map(((e,t)=>{this.minute==e.substring(0,e.length-1)&&(n=t)})),this.value=[o,n];break;case"minuteToSecond":this.dates.push(this.minutes),this.dates.push(this.seconds),this.minutes.map(((e,t)=>{this.minute==e.substring(0,e.length-1)&&(n=t)})),this.seconds.map(((e,t)=>{this.second==e.substring(0,e.length-1)&&(s=t)})),this.value=[n,s];break;case"date":this.dates.push(this.years),this.dates.push(this.months),this.dates.push(this.days),this.years.map(((t,a)=>{this.year==t.substring(0,4)&&(e=a)})),this.months.map(((e,a)=>{this.month==e.substring(0,e.length-1)&&(t=a)})),this.days.map(((e,t)=>{this.day==e.substring(0,e.length-1)&&(l=t)})),this.value=[e,t,l];break;case"time":this.dates.push(this.hours),this.dates.push(this.minutes),this.dates.push(this.seconds),this.hours.map(((e,t)=>{this.hour==e.substring(0,e.length-1)&&(o=t)})),this.minutes.map(((e,t)=>{this.minute==e.substring(0,e.length-1)&&(n=t)})),this.seconds.map(((e,t)=>{this.second==e.substring(0,e.length-1)&&(s=t)})),this.value=[o,n,s];break;case"yearToMinute":this.dates.push(this.years),this.dates.push(this.months),this.dates.push(this.days),this.dates.push(this.hours),this.dates.push(this.minutes),this.years.map(((t,a)=>{this.year==t.substring(0,4)&&(e=a)})),this.months.map(((e,a)=>{this.month==e.substring(0,e.length-1)&&(t=a)})),this.days.map(((e,t)=>{this.day==e.substring(0,e.length-1)&&(l=t)})),this.hours.map(((e,t)=>{this.hour==e.substring(0,e.length-1)&&(o=t)})),this.minutes.map(((e,t)=>{this.minute==e.substring(0,e.length-1)&&(n=t)})),this.defaultMinute&&!this.defaultValue&&(n=this.defaultMinute),this.value=[e,t,l,o,n];break;default:this.dates.push(this.years),this.dates.push(this.months),this.dates.push(this.days),this.dates.push(this.hours),this.dates.push(this.minutes),this.dates.push(this.seconds),this.years.map(((t,a)=>{this.year==t.substring(0,4)&&(e=a)})),this.months.map(((e,a)=>{this.month==e.substring(0,e.length-1)&&(t=a)})),this.days.map(((e,t)=>{this.day==e.substring(0,e.length-1)&&(l=t)})),this.hours.map(((e,t)=>{this.hour==e.substring(0,e.length-1)&&(o=t)})),this.minutes.map(((e,t)=>{this.minute==e.substring(0,e.length-1)&&(n=t)})),this.seconds.map(((e,t)=>{this.second==e.substring(0,e.length-1)&&(s=t)})),this.value=[e,t,l,o,n,s]}},getMillisecond:e=>new Date(e).getTime()}},[["render",function(t,a,l,o,n,s){return e.openBlock(),e.createElementBlock("view",null,[e.createElementVNode("picker",{mode:"multiSelector",range:n.dates,value:n.value,onChange:a[0]||(a[0]=(...e)=>s.confirm&&s.confirm(...e)),onColumnchange:a[1]||(a[1]=(...e)=>s.scroll&&s.scroll(...e)),onCancel:a[2]||(a[2]=(...e)=>s.cancel&&s.cancel(...e)),disabled:n.disabled},[e.renderSlot(t.$slots,"default",{},void 0,!0)],40,["range","value","disabled"])])}],["__scopeId","data-v-90afd137"]]);const b=n({props:{height:{type:String,default:"85%"},isOpen:{type:Boolean,default:!1},ziMode:{type:String,default:""},shadowClose:{type:Boolean,default:!0},boxCss:{type:String,default:""}},data:()=>({ydPrompt:"",shadowAnm:"",boxAnm:"",init:0}),beforeCreate(){},created(){this.init=1},beforeMount(){},mounted(){},beforeUpdate(){},updated(){},beforeDestroy(){},destroyed(){},watch:{isOpen(){let e=this;if(0==e.init)return!1;e.isOpen?e.open():e.close()}},methods:{close:function(){let e=this,t=e.createAnimation(),a=e.createAnimation();t.bottom("-100%").step(),a.opacity(0).step(),e.shadowAnm=a.export(),e.boxAnm=t.export(),setTimeout((function(){e.ydPrompt=""}),300)},shadowClick:function(){this.shadowClose&&this.$emit("close",{})},open:function(e){let t=this.createAnimation(),a=this.createAnimation();t.bottom(0).step(),a.opacity(.6).step(),this.ydPrompt="yd-prompt-up",this.$nextTick((function(){this.shadowAnm=a.export(),this.boxAnm=t.export()}))},createAnimation:function(){return uni.createAnimation({delay:0,duration:300,timingFunction:"linear"})}}},[["render",function(t,a,l,o,n,s){return e.openBlock(),e.createElementBlock("view",{class:e.normalizeClass(["yd-prompt",n.ydPrompt,l.ziMode])},[e.createElementVNode("view",{animation:n.shadowAnm,class:"yd-prompt-shadow",onClick:a[0]||(a[0]=(...e)=>s.shadowClick&&s.shadowClick(...e))},null,8,["animation"]),e.createElementVNode("view",{animation:n.boxAnm,class:e.normalizeClass(["yd-prompt-box",l.boxCss]),style:e.normalizeStyle("height:"+l.height+";")},[e.renderSlot(t.$slots,"default",{},void 0,!0)],14,["animation"])],2)}],["__scopeId","data-v-52fae289"]]);var B;const E=n({data:()=>({data:{},newdata:{},tips:[],isShowTimesel:!1,provinceTxt:"",isOpenBox:!1,syItem:[],new_id:"",isSubmit:0}),onLoad(){B=getApp(),this.getData()},methods:{onKeyInput:function(e){let t=this,a=t.newdata,l=e.currentTarget.dataset.model,o=e.detail.value;if("idcard"==l&&o.length>13){let e=o.substr(10,2)+"月"+o.substr(12,2)+"日";t.data.birthday=a.birthday=e,t.data.birthdayTxt="2023-"+o.substr(10,2)+"-"+o.substr(12,2)}a[l]=e.detail.value,t.newdata=a},onKeyTips:function(e){let t=e.currentTarget.dataset.index,a=this.tips;a[t]=e.detail.value,this.tips=a},selectAddress(e){const[t,a,l]=e;let o=this.newdata;o.province=t,o.city=a,o.region=l,this.provinceTxt=t+"-"+a+"-"+l,this.newdata=o},btnConfirm(e){let t=e.key.split("-"),a=t[0]+"月"+t[1]+"日",l="birthday",o=this.newdata,n=this.data;o[l]=a,this.newdata=o,n[l]=a,this.data=n},btnCancel(e){a("log","at pages/staffinfoedit/staffinfoedit.vue:441","取消时间")},submitData:function(){let e=this,t={data:JSON.stringify(e.newdata),tips:JSON.stringify(e.tips)};B.goPost("staffinfo/saveStaffData",t,(function(t){setTimeout((function(){e.getData()}),1e3)}))},getData:function(){let e=this;B.goPost("staffinfo/getStaffData",{},(function(t){e.data=t.data,e.tips=t.addwx_tips,e.provinceTxt=t.data.province+"-"+t.data.city+"-"+t.data.region,"--"==e.provinceTxt&&(e.provinceTxt="区域选择"),e.syItem=t.syItem}))},chooseImage:function(e){let t=this;if(1==t.isSubmit)return!1;t.isSubmit=1,B.getDeviceAuth({permissionID:"CAMERA",sucBack:function(){uni.chooseImage({sizeType:["original","compressed"],sourceType:["album","camera"],count:1,success:a=>(t.uploadImg(a,e),!1),fail(e){t.isSubmit=0},complete(e){t.isSubmit=0}})},failBack:function(){uni.showModal({title:"温馨提示",content:"当前功能需要相机/相册权限，请开启后再操作",cancelText:"我知道了",confirmText:"去设置",success(e){e.confirm&&B.goToApp("appSetting")}})}})},uploadImg:function(e,t){var a=this;let l=e.tempFilePaths[0];B.uploadFile(l,{type:1},(function(e){a.data[t]=e.url,a.newdata[t]=e.path}),(function(e){B.showMsg("上传中"+e.progress+"%","loading")}))},radioChange(e){let t=e.detail.value,a=this.syItem;if(this.new_id==t)return!1;for(let l in a)if(a[l].id==t){this.data.xcx_introduce=a[l].name,this.newdata.xcx_introduce=a[l].name,this.new_id=t;break}this.isOpenBox=!1},opensy(){this.isOpenBox=!0},closeBox(){this.isOpenBox=!1}}},[["render",function(t,a,o,n,s,i){const c=l(e.resolveDynamicComponent("DaBaieXCompSelectAddress"),N),r=l(e.resolveDynamicComponent("timeSelector"),w),d=l(e.resolveDynamicComponent("ydPromptBottom"),b);return e.openBlock(),e.createElementBlock(e.Fragment,null,[e.createElementVNode("view",{class:"sdFormInfoTitle"},[e.createElementVNode("view",{class:"sdFormXing red"},"*"),e.createElementVNode("view",null,"基础信息"),e.createElementVNode("view",{class:"sdFormright"},"系统预设不可修改")]),e.createElementVNode("view",{class:"sdFormInfoBox"},[e.createElementVNode("view",{class:"sdFormInfo"},[e.createElementVNode("view",{class:"sdFormInputSet"},[e.createElementVNode("view",{class:"sdFormInlineTitleSet"},[e.createElementVNode("view",{class:"sdFormInlineTitle"},"姓名")]),e.createElementVNode("view",{class:"sdFormInlineInput"},[e.createElementVNode("view",{class:"sdFormInlineName"},e.toDisplayString(s.data.name),1)])]),e.createElementVNode("view",{class:"sdFormInputSet"},[e.createElementVNode("view",{class:"sdFormInlineTitleSet"},[e.createElementVNode("view",{class:"sdFormInlineTitle"},"性别")]),e.createElementVNode("view",{class:"sdFormInlineInput"},[e.createElementVNode("view",{class:"sdFormInlineName"},e.toDisplayString(s.data.sex),1)])]),e.createElementVNode("view",{class:"sdFormInputSet"},[e.createElementVNode("view",{class:"sdFormInlineTitleSet"},[e.createElementVNode("view",{class:"sdFormInlineTitle"},"手机")]),e.createElementVNode("view",{class:"sdFormInlineInput"},[e.createElementVNode("view",{class:"sdFormInlineName"},e.toDisplayString(s.data.phone),1)])]),e.createElementVNode("view",{class:"sdFormInputSet"},[e.createElementVNode("view",{class:"sdFormInlineTitleSet"},[e.createElementVNode("view",{class:"sdFormInlineTitle"},"工号")]),e.createElementVNode("view",{class:"sdFormInlineInput"},[e.createElementVNode("view",{class:"sdFormInlineName"},e.toDisplayString(s.data.job_num),1)])]),e.createElementVNode("view",{class:"sdFormInputSet"},[e.createElementVNode("view",{class:"sdFormInlineTitleSet"},[e.createElementVNode("view",{class:"sdFormInlineTitle"},"员工卡号")]),e.createElementVNode("view",{class:"sdFormInlineInput"},[e.createElementVNode("view",{class:"sdFormInlineName"},e.toDisplayString(s.data.card_num),1)])]),e.createElementVNode("view",{class:"sdFormInputSet"},[e.createElementVNode("view",{class:"sdFormInlineTitleSet"},[e.createElementVNode("view",{class:"sdFormInlineTitle"},"集团短号")]),e.createElementVNode("view",{class:"sdFormInlineInput"},[e.createElementVNode("view",{class:"sdFormInlineName"},e.toDisplayString(s.data.cornet_tel),1)])]),1==s.data.type?(e.openBlock(),e.createElementBlock("view",{key:0,class:"sdFormInputSet"},[e.createElementVNode("view",{class:"sdFormInlineTitleSet"},[e.createElementVNode("view",{class:"sdFormInlineTitle"},"技师工种")]),e.createElementVNode("view",{class:"sdFormInlineInput"},[e.createElementVNode("view",{class:"sdFormInlineName"},e.toDisplayString(s.data.work_type),1)])])):e.createCommentVNode("",!0),1==s.data.type?(e.openBlock(),e.createElementBlock("view",{key:1,class:"sdFormInputSet"},[e.createElementVNode("view",{class:"sdFormInlineTitleSet"},[e.createElementVNode("view",{class:"sdFormInlineTitle"},"技师等级")]),e.createElementVNode("view",{class:"sdFormInlineInput"},[e.createElementVNode("view",{class:"sdFormInlineName"},e.toDisplayString(s.data.work_grade),1)])])):e.createCommentVNode("",!0),e.createElementVNode("view",{class:"sdFormInputSet"},[e.createElementVNode("view",{class:"sdFormInlineTitleSet"},[e.createElementVNode("view",{class:"sdFormInlineTitle"},"入职时间")]),e.createElementVNode("view",{class:"sdFormInlineInput"},[e.createElementVNode("view",{class:"sdFormInlineName"},e.toDisplayString(s.data.entry_time),1)])])])]),e.createElementVNode("view",{class:"sdFormInfoTitle"},[e.createElementVNode("view",{class:"sdFormXing red"},"*"),e.createElementVNode("view",null,"详细信息")]),e.createElementVNode("view",{class:"sdFormInfoBox"},[e.createElementVNode("view",{class:"sdFormInfo"},[e.createElementVNode("view",{class:"sdFormManyPicSet sdFormOnePicSet"},[e.createElementVNode("view",{class:"sdFormPicTitleSet"},[e.createElementVNode("view",{class:"sdFormPicTitle"},"头像")]),e.createElementVNode("view",{class:"sdFormPicBox",onClick:a[0]||(a[0]=e=>i.chooseImage("head_img"))},[e.createElementVNode("view",{class:e.normalizeClass(["sdFormPicAdd",""!=s.data.head_img?"hide":""])},[e.createElementVNode("text",{class:"iconfont icon-shangchuantupian"})],2),e.createElementVNode("view",{class:e.normalizeClass(["sdFormPicImg",""!=s.data.head_img?"":"hide"])},[e.createElementVNode("image",{class:"img",src:s.data.head_img,mode:"aspectFill"},null,8,["src"])],2)])]),e.createElementVNode("view",{class:"sdFormInputSet"},[e.createElementVNode("view",{class:"sdFormInlineTitleSet"},[e.createElementVNode("view",{class:"sdFormInlineTitle"},"昵称")]),e.createElementVNode("view",{class:"sdFormInlineInput"},[e.createElementVNode("input",{type:"text",class:"srinput",placeholder:"请输入昵称",onInput:a[1]||(a[1]=(...e)=>i.onKeyInput&&i.onKeyInput(...e)),value:s.data.nickname,"data-model":"nickname"},null,40,["value"])])]),e.createElementVNode("view",{class:"sdFormInputSet"},[e.createElementVNode("view",{class:"sdFormInlineTitleSet"},[e.createElementVNode("view",{class:"sdFormInlineTitle"},"身份证号码")]),e.createElementVNode("view",{class:"sdFormInlineInput"},[e.createElementVNode("input",{type:"text",class:"srinput",placeholder:"请输入身份证号码",maxlength:"18",onInput:a[2]||(a[2]=(...e)=>i.onKeyInput&&i.onKeyInput(...e)),value:s.data.idcard,"data-model":"idcard"},null,40,["value"])])]),e.createElementVNode("view",{class:"sdFormInputSet2"},[e.createElementVNode("view",{class:"sdFormInlineTitleSet"},[e.createElementVNode("view",{class:"sdFormInlineTitle"},"家庭住址")]),e.createElementVNode("view",{class:"sdFormInlineInput"},[e.createVNode(c,{onSelectAddress:i.selectAddress,value:s.provinceTxt},null,8,["onSelectAddress","value"])])]),e.createElementVNode("view",{class:"sdFormInputSet text-right"},[e.createElementVNode("input",{type:"text",class:"srinput",placeholder:"请输入详细地址",onInput:a[3]||(a[3]=(...e)=>i.onKeyInput&&i.onKeyInput(...e)),value:s.data.address,"data-model":"address"},null,40,["value"])]),e.createElementVNode("view",{class:"sdFormInputSet"},[e.createElementVNode("view",{class:"sdFormInlineTitleSet"},[e.createElementVNode("view",{class:"sdFormInlineTitle"},"籍贯")]),e.createElementVNode("view",{class:"sdFormInlineInput"},[e.createElementVNode("input",{type:"text",class:"srinput",placeholder:"请输入籍贯",onInput:a[4]||(a[4]=(...e)=>i.onKeyInput&&i.onKeyInput(...e)),value:s.data.native,"data-model":"native"},null,40,["value"])])]),e.createElementVNode("view",{class:"sdFormInputSet"},[e.createElementVNode("view",{class:"sdFormInlineTitleSet"},[e.createElementVNode("view",{class:"sdFormInlineTitle"},"生日")]),e.createElementVNode("view",{class:"sdFormInlineInput"},[e.createVNode(r,{showType:"monthToDay",defaultValue:s.data.birthdayTxt,beginDate:"2023-01-01",endDate:"2023-12-31",onBtnConfirm:i.btnConfirm,onBtnCancel:i.btnCancel},{default:e.withCtx((()=>[e.createElementVNode("text",{class:"select"},e.toDisplayString(""!=s.data.birthday?s.data.birthday:"请选择"),1)])),_:1},8,["defaultValue","onBtnConfirm","onBtnCancel"])])]),e.createElementVNode("view",{class:"sdFormInputSet"},[e.createElementVNode("view",{class:"sdFormInlineTitleSet"},[e.createElementVNode("view",{class:"sdFormInlineTitle"},"邮箱")]),e.createElementVNode("view",{class:"sdFormInlineInput"},[e.createElementVNode("input",{type:"text",class:"srinput",placeholder:"请输入邮箱",onInput:a[5]||(a[5]=(...e)=>i.onKeyInput&&i.onKeyInput(...e)),value:s.data.email,"data-model":"email"},null,40,["value"])])]),e.createElementVNode("view",{class:"sdFormInputSet"},[e.createElementVNode("view",{class:"sdFormInlineTitleSet"},[e.createElementVNode("view",{class:"sdFormInlineTitle"},"微信号")]),e.createElementVNode("view",{class:"sdFormInlineInput"},[e.createElementVNode("input",{type:"text",class:"srinput",placeholder:"请输入微信号",onInput:a[6]||(a[6]=(...e)=>i.onKeyInput&&i.onKeyInput(...e)),value:s.data.weixin,"data-model":"weixin"},null,40,["value"])])]),e.createElementVNode("view",{class:"sdFormInputSet"},[e.createElementVNode("view",{class:"sdFormInlineTitleSet"},[e.createElementVNode("view",{class:"sdFormInlineTitle"},"QQ")]),e.createElementVNode("view",{class:"sdFormInlineInput"},[e.createElementVNode("input",{type:"text",class:"srinput",placeholder:"请输入QQ",onInput:a[7]||(a[7]=(...e)=>i.onKeyInput&&i.onKeyInput(...e)),value:s.data.qq,"data-model":"qq"},null,40,["value"])])]),e.createElementVNode("view",{class:"sdFormInputSet"},[e.createElementVNode("view",{class:"sdFormInlineTitleSet"},[e.createElementVNode("view",{class:"sdFormInlineTitle"},"健康证号")]),e.createElementVNode("view",{class:"sdFormInlineInput"},[e.createElementVNode("input",{type:"text",class:"srinput",placeholder:"请输入健康证号",onInput:a[8]||(a[8]=(...e)=>i.onKeyInput&&i.onKeyInput(...e)),value:s.data.health_card_num,"data-model":"health_card_num"},null,40,["value"])])]),e.createElementVNode("view",{class:"sdFormManyPicSet sdFormOnePicSet"},[e.createElementVNode("view",{class:"sdFormPicTitleSet"},[e.createElementVNode("view",{class:"sdFormPicTitle"},"健康证附件")]),e.createElementVNode("view",{class:"sdFormPicBox",onClick:a[9]||(a[9]=e=>i.chooseImage("health_card"))},[e.createElementVNode("view",{class:e.normalizeClass(["sdFormPicAdd",""!=s.data.health_card?"hide":""])},[e.createElementVNode("text",{class:"iconfont icon-shangchuantupian"})],2),e.createElementVNode("view",{class:e.normalizeClass(["sdFormPicImg",""!=s.data.health_card?"":"hide"])},[e.createElementVNode("image",{class:"img",src:s.data.health_card,mode:"aspectFill"},null,8,["src"])],2)])])])]),e.createElementVNode("view",{class:"sdFormInfoTitle"},[e.createElementVNode("view",{class:"sdFormXing red"},"*"),e.createElementVNode("view",null,"小程序信息")]),e.createElementVNode("view",{class:"sdFormInfoBox"},[e.createElementVNode("view",{class:"sdFormInfo"},[e.createElementVNode("view",{class:"sdFormManyPicSet sdFormOnePicSet"},[e.createElementVNode("view",{class:"sdFormPicTitleSet"},[e.createElementVNode("view",{class:"sdFormPicTitle"},"对外头像")]),e.createElementVNode("view",{class:"sdFormPicBox",onClick:a[10]||(a[10]=e=>i.chooseImage("xcx_head_img"))},[e.createElementVNode("view",{class:e.normalizeClass(["sdFormPicAdd",""!=s.data.xcx_head_img?"hide":""])},[e.createElementVNode("text",{class:"iconfont icon-shangchuantupian"})],2),e.createElementVNode("view",{class:e.normalizeClass(["sdFormPicImg",""!=s.data.xcx_head_img?"":"hide"])},[e.createElementVNode("image",{class:"img",src:s.data.xcx_head_img,mode:"aspectFill"},null,8,["src"])],2)])]),e.createElementVNode("view",{class:"sdFormManyPicSet sdFormOnePicSet"},[e.createElementVNode("view",{class:"sdFormPicTitleSet"},[e.createElementVNode("view",{class:"sdFormPicTitle"},"微信二维码")]),e.createElementVNode("view",{class:"sdFormPicBox",onClick:a[11]||(a[11]=e=>i.chooseImage("weixin_qrcode"))},[e.createElementVNode("view",{class:e.normalizeClass(["sdFormPicAdd",""!=s.data.weixin_qrcode?"hide":""])},[e.createElementVNode("text",{class:"iconfont icon-shangchuantupian"})],2),e.createElementVNode("view",{class:e.normalizeClass(["sdFormPicImg",""!=s.data.weixin_qrcode?"":"hide"])},[e.createElementVNode("image",{class:"img",src:s.data.weixin_qrcode,mode:"aspectFill"},null,8,["src"])],2)])]),e.createElementVNode("view",{class:"sdFormInputSet"},[e.createElementVNode("view",{class:"sdFormInlineTitleSet"},[e.createElementVNode("view",{class:"sdFormInlineTitle"},"对外昵称")]),e.createElementVNode("view",{class:"sdFormInlineInput"},[e.createElementVNode("input",{type:"text",class:"srinput",placeholder:"请输入对外昵称",onInput:a[12]||(a[12]=(...e)=>i.onKeyInput&&i.onKeyInput(...e)),value:s.data.xcx_nickname,"data-model":"xcx_nickname"},null,40,["value"])])]),e.createElementVNode("view",{class:"sdFormInputSet"},[e.createElementVNode("view",{class:"sdFormInlineTitleSet"},[e.createElementVNode("view",{class:"sdFormInlineTitle"},"对外号码")]),e.createElementVNode("view",{class:"sdFormInlineInput"},[e.createElementVNode("input",{type:"number",class:"srinput",placeholder:"请输入对外号码",maxlength:"11",onInput:a[13]||(a[13]=(...e)=>i.onKeyInput&&i.onKeyInput(...e)),value:s.data.foreign_phone,"data-model":"foreign_phone"},null,40,["value"])])]),e.createElementVNode("view",{class:"sdFormInputSet2"},[e.createElementVNode("view",{class:"sdFormInlineTitleSet"},[e.createElementVNode("view",{class:"sdFormInlineTitle"},"技能介绍")]),e.createElementVNode("view",{class:"sdFormInlineInput"},[e.createElementVNode("view",{class:"sdFormInlineName red",onClick:a[14]||(a[14]=(...e)=>i.opensy&&i.opensy(...e))},"+术语推荐")])]),e.createElementVNode("view",{class:"sdFormInputSet"},[e.createElementVNode("textarea",{class:"sdFormBlockTextarea",maxlength:"100","placeholder-style":"color:#999;",placeholder:"请输入技能介绍",onInput:a[15]||(a[15]=(...e)=>i.onKeyInput&&i.onKeyInput(...e)),value:s.data.xcx_introduce,"data-model":"xcx_introduce"},null,40,["value"])]),e.createElementVNode("view",{class:"sdFormInputSet2 pb20"},[e.createElementVNode("view",{class:"sdFormInlineTitleSet"},[e.createElementVNode("view",{class:"sdFormInlineTitle"},"修饰语")]),e.createElementVNode("view",{class:"ssinput"},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(s.tips,((t,l)=>(e.openBlock(),e.createElementBlock("input",{type:"text",class:"srinputx",placeholder:"请输入修饰语",onInput:a[16]||(a[16]=(...e)=>i.onKeyTips&&i.onKeyTips(...e)),"data-index":l,value:t},null,40,["data-index","value"])))),256))])])])]),e.createElementVNode("view",{class:"exitLogin bg-red-JB",onClick:a[17]||(a[17]=(...e)=>i.submitData&&i.submitData(...e))},"保存更新"),e.createElementVNode("view",{class:"IOSBottom",style:{height:"10px"}}),e.createVNode(d,{isOpen:s.isOpenBox,onClose:i.closeBox},{default:e.withCtx((()=>[e.createElementVNode("view",{class:"selectLcardBox"},[e.createElementVNode("view",{class:"title"},[e.createElementVNode("text",{class:"s-top sel_suo"},"术语推荐"),e.createElementVNode("i",{onClick:a[18]||(a[18]=(...e)=>i.closeBox&&i.closeBox(...e)),class:"iconfont icon-shanchuxuanze"})]),e.createElementVNode("view",{class:"meunList"},[e.createElementVNode("radio-group",{class:"menuTypeBox menuroomBox",onChange:a[19]||(a[19]=(...e)=>i.radioChange&&i.radioChange(...e))},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(s.syItem,((t,a)=>(e.openBlock(),e.createElementBlock("label",{key:a},[e.createElementVNode("view",{class:e.normalizeClass(s.new_id==t.id?"li sel_suo":"li")},[e.createElementVNode("radio",{value:t.id,class:"radioBtn",style:{transform:"scale(0.7)"},color:"#ff8100",checked:s.new_id==t.id},null,8,["value","checked"]),e.createElementVNode("text",null,e.toDisplayString(t.name),1)],2)])))),128)),0==s.syItem.length?(e.openBlock(),e.createElementBlock("view",{key:0,class:"noData"},[e.createElementVNode("i",{class:"iconfont icon-kongshuju"}),e.createTextVNode(" 暂无数据 ")])):e.createCommentVNode("",!0)],32)])])])),_:1},8,["isOpen","onClose"])],64)}]]);const f=n({data:()=>({webviewStyles:{},url:""}),onLoad(){let e=this;this.getOpenerEventChannel().on("postPageData",(function(t){a("log","at pages/web/web_uni.vue:30",t),e.url=t.url,t.hasOwnProperty("title")&&uni.setNavigationBarTitle({title:t.title})}))},methods:{}},[["render",function(t,a,l,o,n,s){return e.openBlock(),e.createElementBlock("web-view",{"webview-styles":n.webviewStyles,src:n.url},null,8,["webview-styles","src"])}]]);const x=n({data:()=>({url:""}),onLoad(e){getApp();var t="服务协议",a=519;1==e.type&&(t="隐私协议",a=518),uni.setNavigationBarTitle({title:t}),this.url="https://zuyu.console.dingkeyun.cn/?s=service/microservices/preview&id="+a},methods:{}},[["render",function(t,a,l,o,n,s){return e.openBlock(),e.createElementBlock("view",null,[e.createElementVNode("web-view",{"webview-styles":t.webviewStyles,src:n.url},null,8,["webview-styles","src"])])}]]);var V,T;const S=n({data:()=>({id:0,userName:"",headImg:"",workName:"",workTime:"",workType:1,btnName:"",statusBarHeight:0,lists:[],toTime:"00:00:00",dkId:"",bcId:"",isDkWifi:!1,isRealIos:!1,currentWiFi:{ssid:"",bssid:""},currentWiFiName:"",isCheckAuth:0,isNeedWifi:2,isDoDaKa:0}),onLoad(e){V=getApp();try{T=t("AppModule")}catch(l){}this.id=e.id,this.userName=uni.getStorageSync("userName");let a=uni.getStorageSync("headImg");this.headImg=""==a?"/static/images/defaultHead.png":a,this.statusBarHeight=V.globalData.statusBarHeight,this.toTime=this.getTime(),this.showTime(),V.globalData.topTitleHeight<=0&&"ios"==V.globalData.platform&&(this.isRealIos=!0),this.getData()},onShow(){T&&1==this.isCheckAuth&&(a("log","at pages/daka/daka.vue:124","打卡页面onshow事件触发"),this.isCheckAuth=0,this.checkAuth())},methods:{getData(){let e=this;V.goPost("kaoqin/getDataForDaka",{},(function(t){e.isNeedWifi=t.isNeedWifi,T&&1==e.isNeedWifi?e.checkAuth():e.getCurrentWiFi()}))},getCurrentWiFi(){let e=this;if(1!=e.isNeedWifi)return e.getDakaBc({ssid:"",bssid:""}),!1;try{a("log","at pages/daka/daka.vue:165","try WiFiModule"),t("WiFiModule").getConnectedWifi((function(t){e.getDakaBc(t.currentWiFi)}),(function(t){a("log","at pages/daka/daka.vue:176","getConnectedWifi fail:",t),e.getDakaBc({ssid:"",bssid:""})}))}catch(l){if(this.isRealIos)e.getDakaBc({ssid:"",bssid:""});else{let t={ssid:"yidont_802_5G",bssid:"EC:6C:9F:5B:D2:42"};e.getDakaBc(t)}}},getDakaBc(e){a("log","at pages/daka/daka.vue:201","currentWiFi",e);let t=this;if(t.currentWiFi=e,t.currentWiFiName="",""!=e.ssid){let a=e.bssid.toLowerCase();t.currentWiFiName=e.ssid+"("+a.substring(a.length-5)+")"}let l={wifiName:e.ssid,bssid:e.bssid};V.goPost("kaoqin/getDakaBc",l,(function(e){t.workType=e.type,t.workName=e.name,t.workTime=e.workTime,t.bcId=e.bcId,t.dkId=e.dkId,t.lists=e.lists,t.btnName=t.getWorkName(e.type),t.isDkWifi=e.isDkWifi,1==t.isDoDaKa&&t.doDaKa()}))},daka(){let e=this;e.isDoDaKa=1,T&&1==e.isNeedWifi?e.checkAuth():e.doDaKa()},doDaKa(){let e=this,t=e.currentWiFi;a("log","at pages/daka/daka.vue:258","currentWiFi",t);let l={dkId:e.$data.dkId,bcId:e.$data.bcId,type:e.$data.workType,wifiName:t.ssid,bssid:e.currentWiFi.bssid};e.isDoDaKa=0,V.goPost("kaoqin/addDaka",l,(function(l){let o=e.getWorkName(e.workType)+"成功";if(e.playVoice(o),setTimeout((function(){e.getDakaBc(t)}),2e3),T&&(2==e.workType||4==e.workType))try{T.appKeepAliveRelease()}catch(n){a("log","at pages/daka/daka.vue:286","释放保活失败",n)}}))},getWorkName:function(e){let t="";return t=1==e?"上班打卡":2==e?"下班打卡":3==e?"加班打卡":4==e?"结束加班":"未知",t},showTime:function(){var e=this;setInterval((function(){e.toTime=e.getTime()}),1e3)},getTime:function(){var e=new Date,t=e.getHours(),a=e.getMinutes(),l=e.getSeconds();return t<10&&(t="0"+t),a<10&&(a="0"+a),l<10&&(l="0"+l),t+":"+a+":"+l},goBack:function(){let e=getCurrentPages();e[e.length-2]?uni.navigateBack():uni.reLaunch({url:"/pages/index/index"})},goDakaRecord:function(){uni.navigateTo({url:"/pages/lookkaoqin/lookkaoqin?id="+this.$data.id})},checkAuth(){"android"==V.globalData.os?this.checkAuthForAndroid():this.checkAuthForIos()},checkAuthForAndroid(){let e=this;V.getDeviceAuth({permissionID:"LOCATION",sucBack:function(){e.checkLocationSwitch()},failBack:function(){e.locationAuthTips()},redoBack:function(){e.locationAuthTips(1)}})},checkLocationSwitch(){if(a("log","at pages/daka/daka.vue:412","locationEnabled",T.locationEnabled()),!T.locationEnabled())return this.locationSwitchTips(),!1;a("log","at pages/daka/daka.vue:419","is need wifi:",this.isNeedWifi),1==this.isNeedWifi?this.checkWifiSwitch():this.getCurrentWiFi()},checkWifiSwitch(){a("log","at pages/daka/daka.vue:435","getWiFiEnabled",uni.getSystemSetting().wifiEnabled),this.checkWifiConnect()},checkWifiConnect(){let e=this;uni.getNetworkType({success(t){a("log","at pages/daka/daka.vue:455","getNetworkType",t),"wifi"!=t.networkType?e.wifiConnectTips():e.getCurrentWiFi()},fail(t){a("log","at pages/daka/daka.vue:465","获取WIFI网络状态失败",t),e.refuseAuth("获取WIFI网络失败")}})},checkLocationAccuracy(){let e=this,t=V.getLocationAccuracy();if(a("log","at pages/daka/daka.vue:478","定位精准度",t),"full"!=t)return e.locationAccuracyTips(),!1;e.checkWifiSwitch()},checkAuthForIos(){let e=this;V.getDeviceAuth({permissionID:"LOCATION",sucBack:function(){e.checkLocationAccuracy()},failBack:function(){e.locationAuthTips()},switchBack:function(){e.locationSwitchTips()},requestBack:function(){e.requestLocationAuth()}})},requestLocationAuth(){let e=this;try{T.requestLocationAuth((t=>{a("log","at pages/daka/daka.vue:517","IOS requestLocationAuth",t),3==t||4==t?e.checkLocationAccuracy():e.locationAuthTips()}))}catch(t){a("log","at pages/daka/daka.vue:531","ios 请求定位权限失败",t),e.locationSwitchTips()}},locationAuthTips(e=0){let t=this;uni.showModal({title:"温馨提示",content:"为确保功能正常使用，请先开启定位权限",cancelText:"不用了",confirmText:"去设置",success(a){a.confirm?1==e?t.checkAuth():(V.goToApp("appSetting"),t.isCheckAuth=1,t.isDoDaKa=0):t.refuseAuth("当前设备没授权定位")}})},locationSwitchTips(){let e=this;uni.showModal({title:"温馨提示",content:"为确保功能正常使用，请先开启定位功能",cancelText:"不用了",confirmText:"去设置",success(t){t.confirm?(V.goToApp("locationSetting"),e.isCheckAuth=1,e.isDoDaKa=0):e.refuseAuth("当前设备没开启定位功能")}})},wifiSwitchTips(){let e=this;uni.showModal({title:"温馨提示",content:"为确保功能正常使用，请先开启WIFI功能",cancelText:"不用了",confirmText:"去设置",success(t){t.confirm?(V.goToApp("wifiSetting"),e.isCheckAuth=1,e.isDoDaKa=0):e.refuseAuth("当前设备没开启WIFI功能")}})},wifiConnectTips(){let e=this;uni.showModal({title:"温馨提示",content:"为确保功能正常使用，请先连接WIFI",cancelText:"不用了",confirmText:"去设置",success(t){t.confirm?(V.goToApp("wifiSetting"),e.isCheckAuth=1,e.isDoDaKa=0):e.refuseAuth("当前设备没连接WIFI")}})},locationAccuracyTips(){let e=this;uni.showModal({title:"温馨提示",content:"为确保功能正常使用，请先开启【定位服务】中的精确位置",cancelText:"不用了",confirmText:"去设置",success(t){t.confirm?(V.goToApp("locationSetting"),e.isCheckAuth=1,e.isDoDaKa=0):e.refuseAuth("当前设备没开启【定位服务】中的精确位置")}})},refuseAuth(e){uni.showModal({title:"温馨提示",content:e+"，打卡功能无法正常使用",showCancel:!1,confirmText:"我知道了",success(e){uni.navigateBack()}})},playVoice(e){if(T){let t={text:e};this.isRealIos&&(t={aps:{userinfo:{type:1,report:e,pushId:V.getUuid(),count:1}}},t=JSON.stringify(t)),a("log","at pages/daka/daka.vue:696","真机打卡",t),T.ttsSpeak(t)}else a("log","at pages/daka/daka.vue:702","非真机打卡"),V.playVoice(e)}}},[["render",function(t,a,l,o,n,s){return e.openBlock(),e.createElementBlock(e.Fragment,null,[e.createElementVNode("view",{class:"topTitleBox",style:e.normalizeStyle({"padding-top":n.statusBarHeight+"px"})},[e.createElementVNode("view",{class:"titleName",onClick:a[0]||(a[0]=(...e)=>s.goBack&&s.goBack(...e))},[e.createElementVNode("i",{class:"iconfont icon-fanhui"}),e.createTextVNode(" 上班打卡")]),t.menuPerm(65)?(e.openBlock(),e.createElementBlock("view",{key:0,class:"tipsIcon",onClick:a[1]||(a[1]=(...e)=>s.goDakaRecord&&s.goDakaRecord(...e))},"考勤记录")):e.createCommentVNode("",!0)],4),e.createElementVNode("view",{class:"content clearfix",style:e.normalizeStyle("top:"+(n.statusBarHeight+50)+"px")},[e.createElementVNode("view",{class:"userInfoBox"},[e.createElementVNode("view",{class:"userHead"},[e.createElementVNode("image",{class:"img",src:n.headImg,mode:"aspectFill"},null,8,["src"])]),e.createElementVNode("view",{class:"userInfo"},[e.createElementVNode("view",{class:"userName"},e.toDisplayString(n.userName),1),e.createElementVNode("view",{class:"userWork"},[e.createElementVNode("view",{class:"userBanci orange"},e.toDisplayString(n.workName),1),e.createElementVNode("view",{class:"userTime gray"},e.toDisplayString(n.workTime),1)])])]),e.createElementVNode("view",{class:"dakaBox"},[e.createElementVNode("view",{class:"kadaTips"},[e.createElementVNode("text",{class:e.normalizeClass(n.isDkWifi||1!=n.isNeedWifi?"":"red")},e.toDisplayString(n.isDkWifi||1!=n.isNeedWifi?"已在打卡范围内":"不在打卡范围"),3)]),""!=n.currentWiFiName?(e.openBlock(),e.createElementBlock("view",{key:0,class:"kadaTips mt5"},[e.createElementVNode("text",{class:"gray"},e.toDisplayString(n.currentWiFiName),1)])):e.createCommentVNode("",!0),1==n.workType||3==n.workType?(e.openBlock(),e.createElementBlock("view",{key:1,class:"workGreenBg"},[e.createElementVNode("view",{class:"greenBg1"}),e.createElementVNode("view",{class:"greenBg2"}),e.createElementVNode("view",{class:"greenBg3"})])):e.createCommentVNode("",!0),2==n.workType||4==n.workType?(e.openBlock(),e.createElementBlock("view",{key:2,class:"workOrangeBg"},[e.createElementVNode("view",{class:"orangeBg1"}),e.createElementVNode("view",{class:"orangeBg2"}),e.createElementVNode("view",{class:"orangeBg3"})])):e.createCommentVNode("",!0),e.createElementVNode("view",{class:"workTime",onClick:a[2]||(a[2]=(...e)=>s.daka&&s.daka(...e))},[e.createElementVNode("view",{class:"workTips"},e.toDisplayString(n.btnName),1),e.createElementVNode("view",{class:"workDaka"},e.toDisplayString(n.toTime),1)]),e.createElementVNode("view",{class:"logBox"},[e.createElementVNode("view",{class:"logTitle"},"近两天打卡记录"),e.createElementVNode("view",{class:"logListsBox"},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(n.lists,((t,a)=>(e.openBlock(),e.createElementBlock("view",{class:"logLists"},[e.createElementVNode("view",{class:"logIcon orange"},[e.createElementVNode("i",{class:"iconfont icon-xuanze"})]),e.createElementVNode("view",{class:"logCont"},e.toDisplayString(t.type),1),e.createElementVNode("view",{class:"logTime orange"},e.toDisplayString(t.time),1)])))),256)),0==n.lists.length?(e.openBlock(),e.createElementBlock("view",{key:0,class:"noData"},[e.createElementVNode("i",{class:"iconfont icon-kongshuju"}),e.createTextVNode(" 暂无数据 ")])):e.createCommentVNode("",!0)])])])],4),e.createElementVNode("view",{class:"pb20 IOSBottom"})],64)}]]);var C;const D=n({data:()=>({topHeight:0,id:"",lists:[],dateTime:"",beginDate:"2022-05-01",endDate:"",dateType:1}),onLoad(e){C=getApp(),this.topHeight=C.globalData.topTitleHeight,this.id=e.id;let t=C.getDatetime(1);this.endDate=t,this.dateTime=t,this.getData()},methods:{seleEndTime:function(e){a("log","at pages/lookkaoqin/lookkaoqin.vue:90",e);let t=this,l=t.$data.startTime,o=e.key,n=new Date(l),s=new Date(o);if(n.getTime()<=s.getTime())return C.showMsg("结束时间需大于开始时间"),!1;t.dateType=4,t.dateTime=e.key,t.endDate=e.key,t.getData()},btnCancel(e){a("log","at pages/lookkaoqin/lookkaoqin.vue:112","取消时间")},getData(){var e=this;let t={dateType:e.$data.dateType,date:e.$data.dateTime,endDate:e.$data.endDate};a("log","at pages/lookkaoqin/lookkaoqin.vue:125",t),C.goPost("kaoqin/getDakaRecord",t,(function(t){e.lists=t.lists,a("log","at pages/lookkaoqin/lookkaoqin.vue:130",t)}))},selDay:function(e){var t=e.currentTarget.dataset.type;this.dateType=t,this.getData()}}},[["render",function(t,a,o,n,s,i){const c=l(e.resolveDynamicComponent("timeSelector"),w);return e.openBlock(),e.createElementBlock(e.Fragment,null,[e.createElementVNode("view",{class:"topBox"},[e.createElementVNode("ul",{class:"termBox"},[e.createElementVNode("li",{class:e.normalizeClass(1==s.dateType?"red bold":"")},[e.createElementVNode("view",{onClick:a[0]||(a[0]=(...e)=>i.selDay&&i.selDay(...e)),"data-type":"1"},[e.createElementVNode("text",null,"今天")])],2),e.createElementVNode("li",{class:e.normalizeClass(2==s.dateType?"red bold":"")},[e.createElementVNode("view",{onClick:a[1]||(a[1]=(...e)=>i.selDay&&i.selDay(...e)),"data-type":"2"},[e.createElementVNode("text",null,"昨天")])],2),e.createElementVNode("li",{class:e.normalizeClass(3==s.dateType?"red bold":"")},[e.createElementVNode("view",{onClick:a[2]||(a[2]=(...e)=>i.selDay&&i.selDay(...e)),"data-type":"3"},[e.createElementVNode("text",null,"本月")])],2),e.createElementVNode("li",{class:e.normalizeClass(["fr",4==s.dateType?"red bold":""]),style:{width:"15%"}},[e.createElementVNode("view",null,[e.createVNode(c,{showType:"date",defaultValue:s.dateTime,beginDate:s.beginDate,endDate:s.endDate,onBtnConfirm:i.seleEndTime,onBtnCancel:i.btnCancel},{default:e.withCtx((()=>[e.createElementVNode("text",{class:"dateShow"},[e.createTextVNode("筛选"),e.createElementVNode("i",{class:e.normalizeClass(["iconfont icon-shaixuan",4==s.dateType?"red bold":""])},null,2)])])),_:1},8,["defaultValue","beginDate","endDate","onBtnConfirm","onBtnCancel"])])],2)])]),e.createElementVNode("view",{class:"kaoqinLogBox"},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(s.lists,((t,a)=>(e.openBlock(),e.createElementBlock("view",{class:"kaoqinList"},[e.createElementVNode("view",{class:"kaoqinIco"}),e.createElementVNode("view",{class:e.normalizeClass(["kaoqinSta",[1==t.typeNum||3==t.typeNum?"shang":"xia"]])},e.toDisplayString(t.type),3),e.createElementVNode("view",{class:"kaoqinTime orange"},e.toDisplayString(t.time),1)])))),256)),0==s.lists.length?(e.openBlock(),e.createElementBlock("view",{key:0,class:"noData"},[e.createElementVNode("i",{class:"iconfont icon-kongshuju"}),e.createTextVNode(" 暂无数据 ")])):e.createCommentVNode("",!0)])],64)}]]);const I=n({props:{width:{type:String,default:"80%"},isOpen:{type:Boolean,default:!1},isShowCloseBtn:{type:Boolean,default:!0},isFixTop:{type:Boolean,default:!0},title:{type:String,default:"标题"},boxTop:{type:String,default:"40%"},isShadowClose:{type:Boolean,default:!0}},methods:{close:function(e){this.$emit("close",{},{})},sure:function(e){this.$emit("events",{},{})},shadowClose(){if(!this.isShadowClose)return!1;this.$emit("close",{},{})}}},[["render",function(t,a,l,o,n,s){return e.openBlock(),e.createElementBlock("view",{class:e.normalizeClass(["yd-prompt",l.isOpen?"yd-prompt-up":"yd-prompt-down"])},[e.createElementVNode("view",{class:"yd-prompt-shadow",onClick:a[0]||(a[0]=(...e)=>s.shadowClose&&s.shadowClose(...e))}),e.createElementVNode("view",{class:e.normalizeClass(["yd-prompt-box",l.isFixTop?"":"notFixTop"]),style:e.normalizeStyle("width:"+l.width+";top:"+l.boxTop+";")},[e.createElementVNode("view",{class:"yd-prompt-box-tit"},[e.createTextVNode(e.toDisplayString(l.title),1),l.isShowCloseBtn?(e.openBlock(),e.createElementBlock("text",{key:0,class:"close-icon",onClick:a[1]||(a[1]=(...e)=>s.close&&s.close(...e))},"×")):e.createCommentVNode("",!0)]),e.createElementVNode("view",{class:"yd-prompt-box-con"},[e.renderSlot(t.$slots,"default",{},void 0,!0)])],6)],2)}],["__scopeId","data-v-40cc0798"]]);const L=n({name:"gc-date-picker",props:{dateVal:{type:String,default:""},nowStatus:{type:String,default:""},yearStart:{type:Number,default:2022},yearEnd:{type:Number,default:2100},showHour:{type:Boolean,default:!0},showMinute:{type:Boolean,default:!0},showSecond:{type:Boolean,default:!1}},data:()=>({years:[],months:[],days:[],hours:[],minutes:[],seconds:[],pickeVal:[],indicatorStyle:"height: 50px;",currentDate:""}),watch:{dateVal:{handler:function(e,t){this.init(e)},deep:!0}},created(){this.init(this.dateVal)},methods:{init:function(e){let t=new Date,a=t.getFullYear();e&&e.length>0&&(t=new Date(e.replace(/^\s+|\s+$/g,"")));var l=t.getFullYear(),o=t.getMonth()+1,n=t.getDate(),s=t.getHours(),i=t.getMinutes(),c=t.getSeconds(),r=[];let d=this.yearStart,m=this.yearEnd;"past"==this.nowStatus?(d=this.yearStart,m=a):"future"==this.nowStatus?(d=a,m=this.yearEnd):(d=this.yearStart,m=this.yearEnd),this.formate(l,o,n,s,i);for(var u=d;u<=m;u++)r.push(u);this.years=r;let p=0,h=0,g=0,v=0,y=0,k=0;if(this.dateVal){var N=new Date(this.dateVal.replace(/^\s+|\s+$/g,""));p=this.years.findIndex((e=>e==N.getFullYear())),p=p>=0?p:0,h=this.months.findIndex((e=>e==N.getMonth()+1)),h=h>=0?h:0,g=this.days.findIndex((e=>e==N.getDate())),g=g>=0?g:0,v=this.hours.findIndex((e=>e==N.getHours())),v=v>=0?v:0,y=this.minutes.findIndex((e=>e==N.getMinutes())),y=y>=0?y:0,k=this.seconds.findIndex((e=>e==N.getSeconds())),k=k>=0?k:0}else"past"==this.nowStatus?(p=this.years.length-1,h=this.months.length-1,g=this.days.length-1,v=this.hours.length-1,y=this.minutes.length-1,k=this.seconds.length-1):this.nowStatus;var w=l+"-"+this.formateShow(o)+"-"+this.formateShow(n)+" "+this.formateShow(s)+":"+this.formateShow(i)+":"+this.formateShow(c);this.$emit("sureBtn",w),setTimeout((()=>{this.pickeVal=[p,h,g,v,y,k]}),50)},bindChangeDate:function(e){this.pickeVal=e.detail.value;var t=parseInt(this.years[this.pickeVal[0]]),a=parseInt(this.months[this.pickeVal[1]]),l=parseInt(this.days[this.pickeVal[2]]),o=this.showHour?parseInt(this.hours[this.pickeVal[3]]):0,n=this.showMinute?parseInt(this.minutes[this.pickeVal[4]]):0;this.showSecond&&parseInt(this.seconds[this.pickeVal[5]]),this.formate(t,a,l,o,n,!0)},formate:function(e,t,a,l,o,n=!1){let s=new Date,i=12,c=new Date(parseInt(e),parseInt(t),0).getDate(),r=24,d=60,m=60,u=1,p=1,h=0,g=0,v=0;"past"==this.nowStatus?e==s.getFullYear()&&(i=s.getMonth()+1,t==s.getMonth()+1&&(c=s.getDate(),this.showHour&&a==s.getDate()&&(r=s.getHours()+1,this.showMinute&&l==s.getHours()&&(d=s.getMinutes()+1,this.showSecond&&o==s.getMinutes()&&(m=s.getSeconds()+1))))):"future"==this.nowStatus&&e==s.getFullYear()&&(u=s.getMonth()+1,t==s.getMonth()+1&&(p=s.getDate(),this.showHour&&a==s.getDate()&&(h=s.getHours(),this.showMinute&&l==s.getHours()&&(g=s.getMinutes(),this.showSecond&&o==s.getMinutes()&&(v=s.getSeconds())))));let y=[],k=[],N=[],w=[],b=[];for(let B=u;B<=i;B++)y.push(this.formateShow(B));this.months=y;for(let B=p;B<=c;B++)k.push(this.formateShow(B));this.days=k;for(let B=h;B<r;B++)N.push(this.formateShow(B));this.hours=N;for(let B=g;B<d;B++)w.push(this.formateShow(B));this.minutes=w;for(let B=v;B<m;B++)b.push(this.formateShow(B));if(this.seconds=b,n){let e=parseInt(this.years[this.pickeVal[0]]),t=parseInt(this.months[this.pickeVal[1]]),a=parseInt(this.days[this.pickeVal[2]]),l=this.showHour?parseInt(this.hours[this.pickeVal[3]]):0,o=this.showMinute?parseInt(this.minutes[this.pickeVal[4]]):0,n=this.showSecond?parseInt(this.seconds[this.pickeVal[5]]):0,s=e+"-"+this.formateShow(t)+"-"+this.formateShow(a)+" "+this.formateShow(l)+":"+this.formateShow(o)+":"+this.formateShow(n);this.currentDate=s}},formateShow:function(e){return parseInt(e)>9?e:"0"+e},bgClose:function(){this.$emit("btnBgClose")},sureChange:function(){""!=this.currentDate&&this.$emit("sureBtn",this.currentDate),this.bgClose()}}},[["render",function(t,a,l,o,n,s){return e.openBlock(),e.createElementBlock(e.Fragment,null,[e.createElementVNode("view",{class:"dateWeekSelBg",onClick:a[0]||(a[0]=(...e)=>s.bgClose&&s.bgClose(...e))}),e.createElementVNode("view",{class:"picker-box"},[e.createElementVNode("picker-view",{"indicator-style":n.indicatorStyle,value:n.pickeVal,onChange:a[1]||(a[1]=(...e)=>s.bindChangeDate&&s.bindChangeDate(...e)),class:"picker-view"},[e.createElementVNode("picker-view-column",null,[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(n.years,((t,a)=>(e.openBlock(),e.createElementBlock("view",{class:e.normalizeClass(["item flex-column align-center",a==n.pickeVal[0]?"picker-select":""]),key:a},e.toDisplayString(t)+"年",3)))),128))]),e.createElementVNode("picker-view-column",null,[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(n.months,((t,a)=>(e.openBlock(),e.createElementBlock("view",{class:e.normalizeClass(["item flex-column align-center",a==n.pickeVal[1]?"picker-select":""]),key:a},e.toDisplayString(t)+"月",3)))),128))]),e.createElementVNode("picker-view-column",null,[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(n.days,((t,a)=>(e.openBlock(),e.createElementBlock("view",{class:e.normalizeClass(["item flex-column align-center",a==n.pickeVal[2]?"picker-select":""]),key:a},e.toDisplayString(t)+"日",3)))),128))]),e.withDirectives(e.createElementVNode("picker-view-column",null,[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(n.hours,((t,a)=>(e.openBlock(),e.createElementBlock("view",{class:e.normalizeClass(["item flex-column align-center",a==n.pickeVal[3]?"picker-select":""]),key:a},e.toDisplayString(t),3)))),128))],512),[[e.vShow,l.showHour]]),e.withDirectives(e.createElementVNode("picker-view-column",null,[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(n.minutes,((t,a)=>(e.openBlock(),e.createElementBlock("view",{class:e.normalizeClass(["item flex-column align-center",a==n.pickeVal[4]?"picker-select":""]),key:a},e.toDisplayString(t),3)))),128))],512),[[e.vShow,l.showMinute]]),e.withDirectives(e.createElementVNode("picker-view-column",null,[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(n.seconds,((t,a)=>(e.openBlock(),e.createElementBlock("view",{class:e.normalizeClass(["item flex-column align-center",a==n.pickeVal[5]?"picker-select":""]),key:a},e.toDisplayString(t),3)))),128))],512),[[e.vShow,l.showSecond]])],40,["indicator-style","value"]),e.createElementVNode("view",{class:"picker-foot"},[e.createElementVNode("view",{class:"cancel",onClick:a[2]||(a[2]=(...e)=>s.bgClose&&s.bgClose(...e))},"取消"),e.createElementVNode("view",{class:"sure",onClick:a[3]||(a[3]=(...e)=>s.sureChange&&s.sureChange(...e))},"确定")])])],64)}],["__scopeId","data-v-3d95346a"]]),_=uni.getRecorderManager();var P,F,O;const A=n({components:{"gc-date-picker":L},data:()=>({bid:0,uid:0,jsNum:0,statusBarHeight:0,os:"android",isjy:0,onPkind:2430,proType:[],tabType:0,secCount:{mins:"00",sec:"00"},isNoData:1,nowOrder:{},nowOrderList:[],timer:null,refresh:null,lists:[],page:1,isDaoDi:0,dateLists:[],dateIdx:0,dateShow:"",sortLists:[],sortIdx:0,timeType:3,sortType:1,isSearching:0,tipsMoney:"",isOpenTipsBox:!1,isOpenInputCodeBox:!1,suoPaiCode:"",keepAliveSetting:0,appEvent:null,isShowAll:0,isScan:0,isSetScreen:!1,selTimeType:"start",startTimeShow:"开始时间",startTimeIni:"",endTimeShow:"结束时间",endTimeIni:"",timeValue:"2023-01-01 00:00",isShowTimesel:!1,isOpenXiPingTipsBox:!1,isJiesuanJump:0,myYeji:[],xjiInfo:[],pjQrUrl:"",showPjqr:!1,recordVoice:{status:0,path:"",bid:0,sid:0,orderid:0},nextRecordVoice:null,pageStatus:1,jsRecordVoiceSwitch:0,jsRecordVoiceTime:0,jsRecordVoiceLimit:0,jsRecordVoiceIos:0,isShowOrderDtl:!1,dtlHeight:400,dtlTypeLists:[],dtlOrderLists:[],dtlOnPkind:"all",dtlTypeSel:1,dtlOrderIdx:0,isOpenZhenLiaoTips:!1,zhenLiaoUrl:""}),onLoad(){let e=this;P=getApp(),e.os=P.globalData.os,e.xjiInfo.Bg="hide",e.xjiInfo.Box="hide";try{F=t("AppModule"),O=t("PermissionModule"),t("ScreenFlashModule")}catch(l){a("log","at pages/work/work.vue:684","插件加载失败",l)}F&&(e.appEvent=function(t){if(a("log","at pages/work/work.vue:692","onPush for work",t),1==e.pageStatus&&e.getData(),28==t.type&&t.hasOwnProperty("duration")){if("ios"==P.globalData.os)return!1;e.startRecordVoice(t.orderid,t.duration,t.expTime)}5==t.type&&e.stopRecordVoice()}),e.statusBarHeight=P.globalData.statusBarHeight,uni.$on("onPush",e.appEvent),e.initRecordManager(),uni.getSystemInfo({success(t){var a=t.windowHeight;e.dtlHeight=.62*a-72}})},onShow(){let e=this;e.pageStatus=1,P.changeTabbadge(),a("log","at pages/work/work.vue:752","work.vue on show"),1==e.isScan?e.isScan=0:setTimeout((function(){e.tabType=0,e.page=1,e.isDaoDi=0,clearTimeout(e.timer),e.getData()}),50),clearInterval(this.refresh),this.refresh=setInterval((function(){e.getData()}),3e4)},onHide(){a("log","at pages/work/work.vue:781","work.vue on hide"),clearInterval(this.refresh),this.pageStatus=0},onUnload(){if(clearInterval(this.refresh),clearTimeout(this.timer),null!==this.appEvent)try{uni.$off("onPush",this.appEvent)}catch(e){a("log","at pages/work/work.vue:798","取消事件监听失败",e)}this.keepAliveSetting,this.stopRecordVoice()},methods:{jinyin(){let e=this,t=e.isjy,a="打开声音",l="打开声音",o="开启后本次服务将恢复语音通知播报";0==t&&(a="关闭声音",l="关闭声音",o="关闭后本次服务将不再播放语音通知"),uni.showModal({title:a,content:o,cancelText:"取消",confirmText:l,success(a){if(a.confirm){let a="voice/mute",l={isjy:t};P.goPost(a,l,(function(a){e.isjy=t?0:1}))}}})},shuaxinBtn(){this.reset(),this.sureSeach(),setTimeout((function(){P.showMsg("刷新成功","success",1e3)}),90)},chaOnPKind(e){if(this.onPkind==e)return!1;this.onPkind=e,this.getNowOrderList()},goBack(){uni.navigateBack()},showAll(){this.isShowAll=1==this.isShowAll?0:1},getData(e=null){let t=uni.getStorageSync("xzjsUrlData");switch(t.start&&(this.tabType=t.tabType,this.startTimeShow=t.start,this.endTimeShow=t.end,this.timeType=99,this.dateIdx=99,this.sortType=t.sort,this.isJiesuanJump=1,uni.setStorageSync("xzjsUrlData","")),this.tabType){case 1:case 2:case 99:this.getLists();break;default:this.getNowOrder(e)}},getNowOrder(e=null){let t=this,l="order/getnoworder";P.goPost(l,{},(function(o){a("log","at pages/work/work.vue:929",l),a("log","at pages/work/work.vue:930",o),t.keepAliveSetting=o.keepAliveSetting,t.isjy=o.isjy,t.pjQrUrl=o.pjQrUrl,t.jsRecordVoiceSwitch=o.jsRecordVoiceSwitch,t.jsRecordVoiceTime=o.jsRecordVoiceTime,t.jsRecordVoiceLimit=o.jsRecordVoiceLimit,t.jsRecordVoiceIos=o.jsRecordVoiceIos,t.bid=o.bid,t.uid=o.uid,t.jsNum=o.jsNum,o.lists.length>0?(t.nowOrder=o.lists[0],t.isNoData=0,clearTimeout(t.timer),t.countDown()):(t.nowOrder={},t.isNoData=1),o.proType&&(t.proType=o.proType,t.onPkind=o.proType[0].id),t.getNowOrderList(),"function"==typeof e&&e()}))},getNowOrderList(){let e=this.onPkind,t=[],a=this.nowOrder;if(a.hasOwnProperty("lists"))for(let l in a.lists)"all"!=e&&a.lists[l].p_kind!=e||t.push(a.lists[l]);this.nowOrderList=t},getLists(){let e=this,t={page:this.page,status:1==this.tabType?0:1,time:this.timeType,sort:this.sortType,startTime:this.startTimeShow,endTime:this.endTimeShow};return 1!=e.isSearching&&(0!=e.page&&(e.isSearching=1,void P.goPost("order/getlists",t,(function(t){e.isSearching=0,e.dateLists.length<1&&(e.dateLists=t.dateLists,e.dateShow=t.dateLists[0].showText,e.startTimeIni=t.storeTime,e.endTimeIni=t.storeTime),e.sortLists=t.sortLists,t.lists.length>0?(1==e.page?(e.lists=t.lists,e.myYeji=t.myYeji):e.lists=e.lists.concat(t.lists),e.isNoData=0,e.isDaoDi=0,e.page++):(1==e.page?(e.lists=[],e.isNoData=1,e.myYeji=t.myYeji):e.isDaoDi=1,e.page=0),1==e.isJiesuanJump&&e.openYejiTips(),e.isJiesuanJump=0}),(function(t){e.isSearching=0}))))},changeTab(e){if(this.tabType=parseInt(e.currentTarget.dataset.type),this.page=1,this.isDaoDi=0,clearTimeout(this.timer),2==this.tabType)return this.reset(),this.sureSeach(),!1;this.getData()},changeTimeType(e){let t=this;t.timeType=parseInt(e.currentTarget.dataset.type),t.page=1,t.dateIdx=e.currentTarget.dataset.idx,t.dateShow=t.dateLists[t.dateIdx].showText,t.startTimeShow="开始时间",t.endTimeShow="结束时间",clearInterval(t.refresh),0==t.timeType&&(t.refresh=setInterval((function(){t.getData()}),3e4)),t.getData()},countDown(){let e=this,t=e.nowOrder.ser_remain_time;if(""==t||t<=0)return e.secCount={mins:"00",sec:"00"},!1;let a=Math.floor(t/60),l=t-60*a;a<10&&(a="0"+a),l<10&&(l="0"+l),e.secCount={mins:a,sec:l},e.nowOrder.ser_remain_time--,clearTimeout(e.timer),e.timer=setTimeout((function(){e.countDown()}),1e3)},goAddTime(){P.goToH5({url:this.nowOrder.add_time_url,title:"加钟"})},goChangeProject(){P.goToH5({url:this.nowOrder.change_project_url,title:"换项目"})},goBuy(){P.goToH5({url:this.nowOrder.buy_url,title:"商品选购"})},callDesk(){let e=this.nowOrder;uni.showModal({title:"温馨提示",content:"当前【"+e.room_name+"】号房，是否呼叫前台",cancelText:"关闭",confirmText:"一键呼叫",success(t){if(t.confirm){let t="voice/roomcall",a={roomNum:e.room_name,istls:1};P.goPost(t,a,(function(e){}))}}})},clickOp(){switch(parseInt(this.nowOrder.order_status)){case 4:this.confirmFinishWork();break;case 5:this.resetWork();break;default:this.doWork()}},async doWork(e="",t="",a=0,l={}){let o=this,n=this.nowOrder,s=n.order_id;if(0==(l.hasOwnProperty("checkAlertSkip")?l.checkAlertSkip:0)&&!o.checkAlertAuth())return!1;if(1==o.jsRecordVoiceLimit&&("ios"!=P.globalData.os||1==o.jsRecordVoiceIos)){let e=await P.checkDeviceAuth("RECORD");if(1!=e)return o.authTips("RECORD"),!1;if("android"==P.globalData.os&&(e=await P.checkDeviceAuth("STORAGE"),1!=e))return o.authTips("STORAGE"),!1}if(n.isNeedScan>0&&""==e&&""==t)return o.confirmScanOrInput(),!1;let i={order_id:s,lcardUrl:e,lcardName:t,sureUpClock:a};o.closeInputCodeBox(),P.goPost("tech/dowork",i,(function(e){P.checkShangZhongTuiSong(s),o.getData((function(){if(1==o.jsRecordVoiceSwitch&&"ios"==P.globalData.os){let e=60*o.nowOrder.order_duration+300;o.startRecordVoiceIos(e)}}))}),(function(a,l,n){110==l&&o.sureDoWork(n,e,t)}))},sureDoWork(e,t,a){let l=this;uni.showModal({title:"温馨提示",content:e,success(e){e.confirm&&l.doWork(t,a,1,{checkAlertSkip:1})}})},confirmScanOrInput(){let e=this,t=this.nowOrder,a={title:"温馨提示",content:"请扫描二维码确认上钟"};2==t.isNeedScan?(a.showCancel=!1,a.confirmText="扫码上钟",a.success=function(t){e.doWorkByScan()}):3==t.isNeedScan?(a.content="请输入锁牌号码确认上钟",a.showCancel=!1,a.confirmText="手动输入",a.success=function(t){e.openInputCodeBox()}):(a.cancelText="手动输入",a.confirmText="扫码上钟",a.success=function(t){t.confirm?e.doWorkByScan():e.openInputCodeBox()}),uni.showModal(a)},doWorkByScan(){let e=this;e.isScan=1;let t=function(){P.saomaCode((function(t){setTimeout((function(){e.isScan=0,e.doWork(t,"",0,{checkAlertSkip:1})}),300)}))};P.getDeviceAuth({permissionID:"CAMERA",sucBack:t,failBack:function(){e.authTips(),e.isScan=0},switchBack:t})},openInputCodeBox(){this.isOpenInputCodeBox=!0},closeInputCodeBox(){this.suoPaiCode="",this.isOpenInputCodeBox=!1},sureInputCode(){let e=this.suoPaiCode;if(""==e)return P.showMsg("请输入锁牌号"),!1;this.doWork("",e,0,{checkAlertSkip:1})},confirmFinishWork(){let e=this;uni.showModal({title:"温馨提示",content:"是否确认下钟",success(t){t.confirm&&e.finishWork()}})},finishWork(e=0,t=0){let a=this,l=a.nowOrder;if(1==l.hasTipsOrder&&0==t)return a.openTipsBox(),!1;let o={order_id:l.order_id,notPaySureFinish:e,tipsMoney:a.tipsMoney};P.goPost("tech/finishwork",o,(function(e){a.tipsMoney="",a.getData(),e.hasOwnProperty("zhenLiaoUrl")&&""!=e.zhenLiaoUrl&&a.openZhenLiaoTips(e.zhenLiaoUrl),a.stopRecordVoice()}),(function(e,l,o){110==l&&a.sureFinishWork(o,t)}))},sureFinishWork(e,t){let a=this;uni.showModal({title:"温馨提示",content:e,success(e){e.confirm&&a.finishWork(1,t)}})},openTipsBox(){this.tipsMoney="",this.isOpenTipsBox=!0},closeTipsBox(){this.isOpenTipsBox=!1},sureTips(){let e=this,t=e.nowOrder,a=e.tipsMoney;if(""===a)return P.showMsg("请先输入小费金额"),!1;if(a=parseInt(a),a<t.minTipsMoney)return P.showMsg("小费金额不能小于"+t.minTipsMoney+"元"),!1;if(a>t.maxTipsMoney)return P.showMsg("小费金额不能大于"+t.maxTipsMoney+"元"),!1;let l=function(){if(""==t.tipsSignUrl)e.finishWork(0,1);else{let e=t.tipsSignUrl+"&money="+a;P.goToH5({title:"小费",url:e})}e.closeTipsBox()};P.getDeviceAuth({permissionID:"CAMERA",sucBack:l,failBack:function(){e.authTips()},switchBack:l})},resetWork(){let e=this;uni.showModal({title:"温馨提示",content:"是否确认返上钟",success(t){t.confirm&&e.sureResetWork()}})},sureResetWork(){let e=this,t={orderid:e.nowOrder.order_id};P.goPost("order/resetwork",t,(function(t){e.getData((function(){if(1==e.jsRecordVoiceSwitch&&"ios"==P.globalData.os){let t=60*e.nowOrder.order_duration+300;e.startRecordVoiceIos(t)}}))}))},authTips(e="CAMERA"){let t="相机",a={title:"温馨提示",cancelText:"不用了",confirmText:"去设置",success(e){e.confirm&&P.goToApp("appSetting")}};"RECORD"==e?(a.showCancel=!1,a.success=e=>{P.goToApp("appSetting")},t="麦克风"):"STORAGE"==e&&(a.showCancel=!1,a.success=e=>{P.goToApp("appSetting")},t="储存"),a.content="该功能需要"+t+"权限，为确保功能正常使用，请先开启权限",uni.showModal(a)},openSearch:function(){this.isSetScreen=!0},closeSearch:function(){this.isSetScreen=!1},radioBtn:function(e){var t=this,a=e.currentTarget.dataset.idx,l=e.currentTarget.dataset.idxName;t[l]=a,"dateIdx"==l&&(t.dateShow=t.dateLists[a].showText,t.startTimeShow="开始时间",t.endTimeShow="结束时间")},reset:function(){var e=this;e.dateIdx=0,e.sortIdx=0,e.startTimeShow="开始时间",e.endTimeShow="结束时间",e.dateLists.length>0&&(e.dateShow=e.dateLists[0].showText)},sureSeach:function(){var e=this;e.closeSearch(),99!=e.dateIdx&&e.dateLists.length>0&&(e.timeType=parseInt(e.dateLists[e.dateIdx].timeType)),e.sortLists.length>0&&(e.sortType=e.sortLists[e.sortIdx].sortType),e.page=1,e.getData()},openTimeSel:function(e){var t=this;1==e?(t.selTimeType="start",t.timeValue=t.startTimeShow,"开始时间"==t.startTimeShow&&(t.timeValue=t.startTimeIni)):(t.selTimeType="end",t.timeValue=t.endTimeShow,"结束时间"==t.endTimeShow&&(t.timeValue=t.endTimeIni)),t.isShowTimesel=!0},closeTimeSel:function(){this.isShowTimesel=!1},selTime:function(e){var t=this;t.timeType=99,t.dateIdx=99,t.dateShow="","start"==t.selTimeType?t.startTimeShow=e:"end"==t.selTimeType&&(t.endTimeShow=e)},sureTimeSel:function(){this.closeTimeSel()},checkAlertAuth(){let e=this;if(!F||1!=P.globalData.shangZhongXiPing)return!0;if("ios"==P.globalData.os)return!0;let t=!1;try{t=O.checkOverlayPermission(),a("log","at pages/work/work.vue:1760","PermissionModule.checkOverlayPermission:",t),t||e.openXiPingTipsBox()}catch(l){a("log","at pages/work/work.vue:1768","PermissionModule.checkPermission fail:",l)}return t},openXiPingTipsBox(){this.isOpenXiPingTipsBox=!0},closeXiPingTipsBox(){this.isOpenXiPingTipsBox=!1},checkAlertSkip(){this.doWork("","",0,{checkAlertSkip:1}),this.closeXiPingTipsBox()},goAppSet(){P.goToApp("appSetting")},openYejiTips:function(){var e=this,t=e.sortLists,a=e.sortIdx,l=e.dateLists,o=e.dateIdx,n="";n=99!=o?l[o].showText:e.startTimeShow+" ~ "+e.endTimeShow,e.xjiInfo.Bg="",e.xjiInfo.Box="",e.xjiInfo.tips=n,e.xjiInfo.tips2=t[a].name,e.xjiInfo.tips3=e.myYeji.money,e.xjiInfo.tips4=e.myYeji.spMoney,e.xjiInfo.tips5=e.myYeji.p_clock,e.xjiInfo.tips6=e.myYeji.p_tip},closeYejiTips:function(){this.xjiInfo.Bg="hide",this.xjiInfo.Box="hide"},goUrl(e){let t=e.currentTarget.dataset.url;""!=t&&uni.navigateTo({url:t})},openPjQr(){var e=this;a("log","at pages/work/work.vue:1838","pjQrUrl",e.pjQrUrl),""!=e.pjQrUrl&&(e.showPjqr=!0)},hidePjqr(){this.showPjqr=!1},openScanChairCode(){if(P.getCurrentBuleTooth().mac)return uni.navigateTo({url:"/pages/massageChair/massageChair"}),!1;P.saomaCode((function(e){if(a("log","at pages/work/work.vue:1869",e),-1==e.indexOf("qksell.cn"))return P.showMsg("当前二维码无效"),!1;let t=e.substring(e.lastIndexOf("/")+1);uni.navigateTo({url:"/pages/massageChair/massageChair?id="+t})}))},openProjecttx(){var e=this.nowOrder.room_id,t=this.jsNum;uni.navigateTo({url:"/pages/projecttx/projecttx?roomId="+e+"&jsNum="+t})},initRecordManager(){let e=this;_.onStart((function(t){a("log","at pages/work/work.vue:1903","开始录音成功",t),e.recordVoice.status=1})),_.onPause((function(e){a("log","at pages/work/work.vue:1910","录音暂停",e),_.stop()})),_.onStop((function(t){a("log","at pages/work/work.vue:1918","录音完成",t),e.recordVoice.path=t.tempFilePath,e.recordVoice.status=2,e.uploadRecordVoice()})),_.onError((function(e){a("log","at pages/work/work.vue:1929","录音错误",e)}))},uploadRecordVoice(){let e=this;if(""==e.recordVoice.path)return a("log","at pages/work/work.vue:1940","不存在录音文件，上传失败"),!1;e.recordVoice.status=0;let t=e.recordVoice.bid,l=e.recordVoice.sid,o=e.recordVoice.orderid;e.recordVoice.bid=0,e.recordVoice.sid=0,e.recordVoice.orderid="",e.saveRecordVoice(t,l,o),null!==e.nextRecordVoice&&(e.startRecordVoice(e.nextRecordVoice.orderid,e.nextRecordVoice.duration),e.nextRecordVoice=null)},saveRecordVoice(e,t,l){let o=P.getTimestamp(),n=e+"_"+t+"_"+l+"_"+o+".wav";uni.saveFile({tempFilePath:this.recordVoice.path,success:function(s){a("log","at pages/work/work.vue:1976","录音文件保存成功：",s);let i=s.savedFilePath,c=P.getFileName(i),r={name:n,path:i,bid:e,sid:t,orderid:l,time:o,key:c};uni.setStorageSync(c,r),P.checkRecordVoice()}})},startRecordVoice(e,t,l=0){let o=this;if(!o.hasRecordVoiceAuth())return a("log","at pages/work/work.vue:2014","没有录音权限，无法执行录音"),!1;if(a("log","at pages/work/work.vue:2018","开始录音，时长："+t+"秒，失效时间："+(l>0?P.jsDate("Y/m/d H:i:s",l):l)),t<=0)return!1;let n=P.getTimestamp();return l>0&&n>=l?(a("log","at pages/work/work.vue:2027","录音执行失效，已超过执行的失效时间"),!1):0!=o.recordVoice.status?(a("log","at pages/work/work.vue:2032","开始录音失败，已经正在录音，暂存起来"),o.nextRecordVoice={orderid:e,duration:t},!1):(o.recordVoice.bid=o.bid,o.recordVoice.sid=o.uid,o.recordVoice.orderid=e,void _.start({format:"wav",duration:1e3*t,sampleRate:44100}))},async startRecordVoiceIos(e){let t=this;if(1!=t.jsRecordVoiceIos)return!1;if(!t.hasRecordVoiceAuth())return a("log","at pages/work/work.vue:2071","没有录音权限，无法执行录音"),!1;a("log","at pages/work/work.vue:2075","开始录音，时长："+e+"秒");let l=await P.getReqApiUrl();try{F.recordStart({duration:e,timeUrl:l+"apprecord/isstop",uploadUrl:l+"apprecord/upload",bid:t.bid,sid:t.uid,orderid:t.nowOrder.order_id,time:t.jsRecordVoiceTime},(function(e){a("log","at pages/work/work.vue:2089","AppModule.recordStart",e)}));let o=plus.ios.import("AVAudioSession");plus.ios.invoke(o,"setCategory:mode:","playAndRecord","default"),plus.ios.invoke(o,"setActive:",!0)}catch(o){a("log","at pages/work/work.vue:2097","AppModule.recordStart error",o)}},stopRecordVoice(){let e=this;return a("log","at pages/work/work.vue:2111","停止录音",e.recordVoice),e.nextRecordVoice=null,"ios"==P.globalData.os?(e.stopRecordVoiceIos(),!1):1!=e.recordVoice.status?(a("log","at pages/work/work.vue:2122","停止录音失败：当前没在录音"),!1):void _.stop()},stopRecordVoiceIos(){if(1!=this.jsRecordVoiceIos)return!1;try{F.recordStop();let e=plus.ios.import("AVAudioSession");plus.ios.invoke(e,"setCategory:mode:","playAndRecord","default"),plus.ios.invoke(e,"setActive:",!0)}catch(e){a("log","at pages/work/work.vue:2148","AppModule.recordStop error ",e)}},hasRecordVoiceAuth(){let e=0;return"authorized"==uni.getAppAuthorizeSetting().microphoneAuthorized&&(e=1),e},showOrderDtl:function(e,t){var a=this;if(a.dtlTypeSel=e,a.isShowOrderDtl=!0,1==e)a.dtlOnPkind=a.onPkind,a.dtlTypeLists=a.proType,a.dtlOrderLists=a.nowOrderList;else if(2==e){var l=a.lists;a.dtlOrderIdx=t,a.dtlOnPkind="all",a.dtlTypeLists=l[t].proType,a.dtlOrderLists=l[t].lists}},closeOrderDtl:function(){this.isShowOrderDtl=!1},dtlOnPKind:function(e){var t=this;if(1==t.dtlTypeSel)t.chaOnPKind(e),t.dtlOnPkind=e,t.dtlOrderLists=t.nowOrderList;else if(2==t.dtlTypeSel){var a=t.dtlOrderIdx,l=t.lists[a].lists,o=[];for(var n in l)"all"!=e&&l[n].p_kind!=e||o.push(l[n]);t.dtlOnPkind=e,t.dtlOrderLists=o}},openZhenLiaoTips(e){if(!e||""==e)return!1;this.zhenLiaoUrl=e,this.isOpenZhenLiaoTips=!0},closeZhenLiaoTips(){this.zhenLiaoUrl="",this.isOpenZhenLiaoTips=!1},goZhenLiao(){P.goToH5({title:"诊疗报告填写",url:this.zhenLiaoUrl}),this.closeZhenLiaoTips()}}},[["render",function(t,a,o,n,s,i){const c=l(e.resolveDynamicComponent("ydWin"),I),r=l(e.resolveDynamicComponent("gc-date-picker"),L);return e.openBlock(),e.createElementBlock(e.Fragment,null,[e.createElementVNode("view",{class:"topTitleBox",style:e.normalizeStyle({"padding-top":s.statusBarHeight+"px"})},[e.createElementVNode("text",{class:e.normalizeClass(["tabItem",0==s.tabType?"active":""]),"data-type":"0",onClick:a[0]||(a[0]=(...e)=>i.changeTab&&i.changeTab(...e))},"服务中",2),t.menuPerm(11)?(e.openBlock(),e.createElementBlock("text",{key:0,class:e.normalizeClass(["tabItem",1==s.tabType?"active":""]),"data-type":"1",onClick:a[1]||(a[1]=(...e)=>i.changeTab&&i.changeTab(...e))},"待服务",2)):e.createCommentVNode("",!0),t.menuPerm(220)?(e.openBlock(),e.createElementBlock("text",{key:1,class:e.normalizeClass(["tabItem",2==s.tabType?"active":""]),"data-type":"2",onClick:a[2]||(a[2]=(...e)=>i.changeTab&&i.changeTab(...e))},"已完成",2)):e.createCommentVNode("",!0)],4),s.isNoData?(e.openBlock(),e.createElementBlock("view",{key:0,class:"noData noDataList",style:e.normalizeStyle({marginTop:2==s.tabType?"48px":"15px"})},[e.createElementVNode("i",{class:"iconfont icon-kongshuju"}),e.createTextVNode(" 暂无数据 ")],4)):e.createCommentVNode("",!0),0!=s.tabType||s.isNoData?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock("view",{key:1,class:"nowBox",style:e.normalizeStyle("top:"+(s.statusBarHeight+50)+"px")},[e.createElementVNode("view",{class:"rowBox room"},[e.createElementVNode("view",{class:"fl"},[e.createElementVNode("view",{class:"label"},[e.createElementVNode("text",{class:"iconfont icon-zhuye"})]),e.createElementVNode("text",{class:"txt"},e.toDisplayString(s.nowOrder.room_name),1)]),e.createElementVNode("view",{class:"fr"},[e.createElementVNode("view",{class:"label"},[e.createElementVNode("text",{class:"iconfont icon-youhuiquanxuanzhong lg"})]),e.createElementVNode("text",{class:"txt"},e.toDisplayString(s.nowOrder.lcard_name),1)])]),e.createElementVNode("view",{class:"rowBox"},[e.createElementVNode("view",{class:"top"},[e.createElementVNode("text",{class:"txtColor"},e.toDisplayString(s.nowOrder.order_status_text),1),e.createElementVNode("view",{class:"time"},[e.createElementVNode("text",{class:"iconfont icon-miaosha1"}),e.createTextVNode(" "+e.toDisplayString(3==s.nowOrder.order_status?s.nowOrder.order_time:s.nowOrder.ser_start_time),1)])]),e.createElementVNode("view",{class:"count"},[e.createElementVNode("text",{class:"txt"},e.toDisplayString(s.secCount.mins),1),e.createElementVNode("text",{class:"txt dot"},":"),e.createElementVNode("text",{class:"txt"},e.toDisplayString(s.secCount.sec),1)]),e.createElementVNode("view",{class:"project"},[e.createElementVNode("ul",{class:"proType"},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(s.proType,((t,a)=>(e.openBlock(),e.createElementBlock("li",{class:e.normalizeClass(t.id==s.onPkind?"onset":""),onClick:e=>i.chaOnPKind(t.id)},e.toDisplayString(t.title),11,["onClick"])))),256)),e.createElementVNode("li",{class:"orderDtl red",onClick:a[3]||(a[3]=e=>i.showOrderDtl(1))},"详情")]),(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(s.nowOrderList,((t,l)=>(e.openBlock(),e.createElementBlock(e.Fragment,null,[l<5||1==s.isShowAll?(e.openBlock(),e.createElementBlock("view",{class:"item",key:t.order_id,onClick:a[4]||(a[4]=e=>i.showOrderDtl(1))},[e.createElementVNode("text",{class:"status txtColor"},e.toDisplayString(t.p_status),1),e.createElementVNode("text",{class:"name"},e.toDisplayString(t.name),1),e.createElementVNode("text",{class:"type"},e.toDisplayString(t.ser_type),1),t.duration>0?(e.openBlock(),e.createElementBlock("text",{key:0,class:"duration"},e.toDisplayString(t.duration)+"分钟",1)):e.createCommentVNode("",!0)])):e.createCommentVNode("",!0)],64)))),256)),s.nowOrderList.length>5?(e.openBlock(),e.createElementBlock("view",{key:0,class:"item more",onClick:a[5]||(a[5]=(...e)=>i.showAll&&i.showAll(...e))},[e.createElementVNode("text",{class:e.normalizeClass(["iconfont",s.isShowAll?"icon-tubiaozhizuo-":"icon-tubiaozhizuo-1"])},null,2),e.createElementVNode("text",null,e.toDisplayString(s.isShowAll?"收起":"展开"),1)])):e.createCommentVNode("",!0)]),e.createElementVNode("view",{class:"bottom"},[3==s.nowOrder.order_status?(e.openBlock(),e.createElementBlock("view",{key:0,class:"opBtn bg-light-green",onClick:a[6]||(a[6]=(...e)=>i.clickOp&&i.clickOp(...e))},"上钟")):e.createCommentVNode("",!0),4==s.nowOrder.order_status?(e.openBlock(),e.createElementBlock("view",{key:1,class:"opBtn bgColor",onClick:a[7]||(a[7]=(...e)=>i.clickOp&&i.clickOp(...e))},"下钟")):e.createCommentVNode("",!0),5==s.nowOrder.order_status?(e.openBlock(),e.createElementBlock("view",{key:2,class:"opBtn bg-yellow",onClick:a[8]||(a[8]=(...e)=>i.clickOp&&i.clickOp(...e))},"返上钟")):e.createCommentVNode("",!0),t.menuPerm(222)?(e.openBlock(),e.createElementBlock("view",{key:3,class:"hujiao borBtn",onClick:a[9]||(a[9]=(...e)=>i.callDesk&&i.callDesk(...e))},"呼叫前台")):e.createCommentVNode("",!0),t.menuPerm(17)?(e.openBlock(),e.createElementBlock("view",{key:4,class:"xuangou borBtn",onClick:a[10]||(a[10]=(...e)=>i.goBuy&&i.goBuy(...e))},"商品选购")):e.createCommentVNode("",!0)])]),e.createElementVNode("view",{class:"btnBox"},[t.menuPerm(221)&&5!=s.nowOrder.order_status?(e.openBlock(),e.createElementBlock("view",{key:0,class:"abtn",onClick:a[11]||(a[11]=(...e)=>i.goAddTime&&i.goAddTime(...e))},[e.createElementVNode("text",{class:"iconfont icon-jia"}),e.createTextVNode("项目加钟")])):e.createCommentVNode("",!0),t.menuPerm(223)&&5!=s.nowOrder.order_status?(e.openBlock(),e.createElementBlock("view",{key:1,class:"abtn",onClick:a[12]||(a[12]=(...e)=>i.goChangeProject&&i.goChangeProject(...e))},[e.createElementVNode("text",{class:"iconfont icon-qh huan"}),e.createTextVNode("更换项目")])):e.createCommentVNode("",!0),t.menuPerm(372)&&""!=s.nowOrder.mai_dan_url?(e.openBlock(),e.createElementBlock("view",{key:2,class:"abtn","data-url":s.nowOrder.mai_dan_url,onClick:a[13]||(a[13]=(...e)=>i.goUrl&&i.goUrl(...e))},[e.createElementVNode("text",{class:"iconfont icon-caiwu-xianxing maidan"}),e.createTextVNode("买单结账")],8,["data-url"])):e.createCommentVNode("",!0),""!=s.pjQrUrl?(e.openBlock(),e.createElementBlock("view",{key:3,class:"abtn",onClick:a[14]||(a[14]=(...e)=>i.openPjQr&&i.openPjQr(...e))},[e.createElementVNode("text",{class:"iconfont icon-dianzan maidan"}),e.createTextVNode("评价邀请")])):e.createCommentVNode("",!0),t.menuPerm(440)?(e.openBlock(),e.createElementBlock("view",{key:4,class:"abtn",onClick:a[15]||(a[15]=(...e)=>i.openScanChairCode&&i.openScanChairCode(...e))},[e.createElementVNode("text",{class:"iconfont icon-anmo maidan"}),e.createTextVNode("按摩椅操作")])):e.createCommentVNode("",!0),t.menuPerm(4849)?(e.openBlock(),e.createElementBlock("view",{key:5,class:"abtn",onClick:a[16]||(a[16]=(...e)=>i.openProjecttx&&i.openProjecttx(...e))},[e.createElementVNode("text",{class:"iconfont icon-daiyuyue"}),e.createTextVNode("项目推销")])):e.createCommentVNode("",!0)])],4)),1==s.tabType?(e.openBlock(),e.createElementBlock("view",{key:2,class:"waitBox",style:e.normalizeStyle({top:s.statusBarHeight+62+"px"})},[e.createElementVNode("scroll-view",{class:"orderList"},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(s.lists,((t,a)=>(e.openBlock(),e.createElementBlock("view",{class:"listItem",key:t.order_id},[e.createElementVNode("view",{class:"top"},[e.createElementVNode("view",{class:"roomName"},[e.createElementVNode("text",{class:"iconfont icon-zhuye"}),e.createElementVNode("text",{class:"txt"},e.toDisplayString(t.room_name),1)]),e.createElementVNode("view",{class:"lcardName"},[e.createElementVNode("text",{class:"iconfont icon-youhuiquanxuanzhong"}),e.createElementVNode("text",{class:"txt"},e.toDisplayString(t.lcard_name),1)]),e.createElementVNode("text",{class:"fr txtColor"},e.toDisplayString(t.order_status_text),1)]),e.createElementVNode("view",{class:"project"},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(t.lists,((t,a)=>(e.openBlock(),e.createElementBlock("view",{class:"item",key:t.order_id},[e.createElementVNode("text",{class:"name"},e.toDisplayString(t.name),1),e.createElementVNode("text",{class:e.normalizeClass(["type","小费"==t.name?"black":""])},e.toDisplayString(t.ser_type),3),t.duration>0?(e.openBlock(),e.createElementBlock("text",{key:0,class:"duration"},e.toDisplayString(t.duration)+"分钟",1)):e.createCommentVNode("",!0)])))),128))]),e.createElementVNode("view",{class:"order"},[e.createElementVNode("view",{class:"item"},[e.createElementVNode("text",{class:"l"},"开单人:"+e.toDisplayString(t.xd_name),1),e.createElementVNode("text",{class:"r"},"时间:"+e.toDisplayString(t.order_time),1)]),e.createElementVNode("view",{class:"item"},[e.createElementVNode("text",{class:"l"},"类型:"+e.toDisplayString(t.ser_type),1),e.createElementVNode("text",{class:"r"},e.toDisplayString(t.order_duration),1)])])])))),128)),s.isDaoDi?(e.openBlock(),e.createElementBlock("view",{key:0,class:"daoDiLe"},"到底了~")):e.createCommentVNode("",!0),e.createElementVNode("view",{class:"IOSBottom"})])],4)):e.createCommentVNode("",!0),2==s.tabType?(e.openBlock(),e.createElementBlock("view",{key:3,class:"finishBox",style:e.normalizeStyle({top:s.statusBarHeight+50+"px"})},[e.createElementVNode("view",{class:"timeCondition"},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(s.dateLists,((t,l)=>(e.openBlock(),e.createElementBlock("text",{class:e.normalizeClass(["item",s.timeType==t.timeType?"txtColor":""]),"data-type":t.timeType,"data-idx":l,onClick:a[17]||(a[17]=(...e)=>i.changeTimeType&&i.changeTimeType(...e))},e.toDisplayString(t.name),11,["data-type","data-idx"])))),256)),e.createElementVNode("view",{class:"doneSearch fr",onClick:a[18]||(a[18]=(...e)=>i.openSearch&&i.openSearch(...e))},[e.createElementVNode("text",{class:"iconfont icon-shaixuan6"}),e.createTextVNode(" 筛选")])]),e.createElementVNode("scroll-view",{class:"orderList",style:{top:"50px"},"scroll-y":!0,onScrolltolower:a[20]||(a[20]=(...e)=>i.getLists&&i.getLists(...e))},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(s.lists,((l,o)=>(e.openBlock(),e.createElementBlock("view",{class:"listItem",key:l.order_id},[e.createElementVNode("view",{class:"top"},[e.createElementVNode("view",{class:"roomName"},[e.createElementVNode("text",{class:"iconfont icon-zhuye"}),e.createElementVNode("text",{class:"txt"},e.toDisplayString(l.room_name),1)]),e.createElementVNode("view",{class:"lcardName"},[e.createElementVNode("text",{class:"iconfont icon-youhuiquanxuanzhong"}),e.createElementVNode("text",{class:"txt"},e.toDisplayString(l.lcard_name),1)]),e.createElementVNode("text",{class:"fr txtColor"},e.toDisplayString(l.order_status_text),1)]),e.createElementVNode("view",{class:"project",onClick:e=>i.showOrderDtl(2,o)},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(l.lists,((t,a)=>(e.openBlock(),e.createElementBlock("view",{class:"item",key:t.order_id},[e.createElementVNode("text",{class:"name"},e.toDisplayString(t.name),1),e.createElementVNode("text",{class:e.normalizeClass(["type","小费"==t.name?"black":""])},e.toDisplayString(t.ser_type),3),t.duration>0?(e.openBlock(),e.createElementBlock("text",{key:0,class:"duration"},e.toDisplayString(t.duration)+"分钟",1)):e.createCommentVNode("",!0)])))),128))],8,["onClick"]),e.createElementVNode("view",{class:"order"},[e.createElementVNode("view",{class:"item"},[e.createElementVNode("text",{class:"time"},[e.createElementVNode("view",{class:"timeName"},"上钟"),e.createElementVNode("view",null,e.toDisplayString(l.done_start_time),1)]),e.createElementVNode("text",{class:"time"},[e.createElementVNode("view",{class:"timeName"},"下钟"),e.createElementVNode("view",null,e.toDisplayString(l.done_end_time),1)]),1==l.finish_status?(e.openBlock(),e.createElementBlock("text",{key:0,class:"time"},[e.createElementVNode("view",{class:"timeName"},"结账"),e.createElementVNode("view",null,e.toDisplayString(l.finish_time),1)])):e.createCommentVNode("",!0),2==l.finish_status?(e.openBlock(),e.createElementBlock("text",{key:1,class:"time orangeTime"},[e.createElementVNode("view",{class:"timeName"},"跨日结账"),e.createElementVNode("view",null,e.toDisplayString(l.finish_time),1)])):e.createCommentVNode("",!0),3==l.finish_status?(e.openBlock(),e.createElementBlock("text",{key:2,class:"time redTime","data-url":l.mai_dan_url,onClick:a[19]||(a[19]=e=>t.menuPerm(372)&&i.goUrl(e))},[e.createElementVNode("view",{class:"timeName"},"未结账"),e.createElementVNode("view",null,e.toDisplayString(l.finish_time),1)],8,["data-url"])):e.createCommentVNode("",!0)])])])))),128)),s.isDaoDi?(e.openBlock(),e.createElementBlock("view",{key:0,class:"daoDiLe"},"到底了~")):e.createCommentVNode("",!0),e.createElementVNode("view",{class:"IOSBottom"})],32),e.createElementVNode("view",{class:""})],4)):e.createCommentVNode("",!0),e.createVNode(c,{title:"小费",isOpen:s.isOpenTipsBox,boxTop:"25%",isShadowClose:!1,onClose:i.closeTipsBox},{default:e.withCtx((()=>[e.createElementVNode("view",{class:"inputRow overflow"},[e.createElementVNode("text",{class:"label"},"项目："),e.createElementVNode("text",{class:"txt"},e.toDisplayString(s.nowOrder.tipsProjectName),1)]),e.createElementVNode("view",{class:"inputRow"},[e.createElementVNode("text",{class:"label"},"小费："),e.createElementVNode("view",{class:"inputItem"},[e.withDirectives(e.createElementVNode("input",{class:"input hasUnit",type:"number","onUpdate:modelValue":a[21]||(a[21]=e=>s.tipsMoney=e),maxlength:"5",placeholder:"请输入小费金额"},null,512),[[e.vModelText,s.tipsMoney]]),e.createElementVNode("text",{class:"inputUnit"},"元")]),""!=s.tipsMoney&&(s.tipsMoney<s.nowOrder.minTipsMoney||s.tipsMoney>s.nowOrder.maxTipsMoney)?(e.openBlock(),e.createElementBlock("view",{key:0,class:"tipsTxt red"},"最低"+e.toDisplayString(s.nowOrder.minTipsMoney)+" , 最高"+e.toDisplayString(s.nowOrder.maxTipsMoney),1)):e.createCommentVNode("",!0)]),e.createElementVNode("view",{class:"winBtnBox"},[e.createElementVNode("view",{class:"winBtn bg-orange-JB",onClick:a[22]||(a[22]=(...e)=>i.closeTipsBox&&i.closeTipsBox(...e))},"关闭"),e.createElementVNode("view",{class:"winBtn bg-reds-JB",onClick:a[23]||(a[23]=(...e)=>i.sureTips&&i.sureTips(...e))},"确定")])])),_:1},8,["isOpen","onClose"]),e.createVNode(c,{title:"锁牌",isOpen:s.isOpenInputCodeBox,boxTop:"25%",onClose:i.closeInputCodeBox},{default:e.withCtx((()=>[e.createElementVNode("view",{class:"inputRow overflow"},[e.createElementVNode("text",{class:"label"},"项目："),e.createElementVNode("text",{class:"txt"},e.toDisplayString(s.nowOrder.projectName),1)]),e.createElementVNode("view",{class:"inputRow"},[e.createElementVNode("text",{class:"label"},"锁牌："),e.createElementVNode("view",{class:"inputItem"},[e.withDirectives(e.createElementVNode("input",{class:"input",type:"text","onUpdate:modelValue":a[24]||(a[24]=e=>s.suoPaiCode=e),maxlength:"15",placeholder:"请输入锁牌号"},null,512),[[e.vModelText,s.suoPaiCode]])])]),e.createElementVNode("view",{class:"winBtnBox"},[e.createElementVNode("view",{class:"winBtn bg-orange-JB",onClick:a[25]||(a[25]=(...e)=>i.closeInputCodeBox&&i.closeInputCodeBox(...e))},"关闭"),e.createElementVNode("view",{class:"winBtn bg-reds-JB",onClick:a[26]||(a[26]=(...e)=>i.sureInputCode&&i.sureInputCode(...e))},"确定")])])),_:1},8,["isOpen","onClose"]),e.createElementVNode("view",{class:"flxMoreBox"},[e.createElementVNode("ul",null,["android"!=s.os||0!=s.tabType||s.isNoData||5==s.nowOrder.order_status?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock("li",{key:0,onClick:a[27]||(a[27]=(...e)=>i.jinyin&&i.jinyin(...e)),class:e.normalizeClass(1==s.isjy?"grey":"")},[e.createElementVNode("i",{class:"iconfont icon-gonggao"})],2)),2==s.tabType?(e.openBlock(),e.createElementBlock("li",{key:1,onClick:a[28]||(a[28]=(...e)=>i.openYejiTips&&i.openYejiTips(...e))},[e.createElementVNode("i",{class:"iconfont icon-wodedingdan f26"})])):e.createCommentVNode("",!0),e.createElementVNode("li",{onClick:a[29]||(a[29]=(...e)=>i.shuaxinBtn&&i.shuaxinBtn(...e))},[e.createElementVNode("i",{class:"iconfont icon-shuaxin f26"})])])]),s.isSetScreen?(e.openBlock(),e.createElementBlock("view",{key:4,class:"blackBg",onClick:a[30]||(a[30]=(...e)=>i.closeSearch&&i.closeSearch(...e))})):e.createCommentVNode("",!0),s.isSetScreen?(e.openBlock(),e.createElementBlock("view",{key:5,class:"screenBox IOSBottom"},[e.createElementVNode("view",{class:"screenTitle"},"时间筛选"),e.createElementVNode("view",{class:"screenCon"},[e.createElementVNode("view",{class:"screenTips"},"类型"),e.createElementVNode("view",{class:"screenSetBox"},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(s.sortLists,((t,l)=>(e.openBlock(),e.createElementBlock("view",{class:e.normalizeClass(["screenSet",l==s.sortIdx?"screenSeted":""]),"data-idx":l,"data-idxName":"sortIdx",onClick:a[31]||(a[31]=(...e)=>i.radioBtn&&i.radioBtn(...e))},e.toDisplayString(t.name),11,["data-idx"])))),256))])]),e.createElementVNode("view",{class:"screenCon"},[e.createElementVNode("view",{class:"screenTips"},[e.createTextVNode(" 时间 "),e.createElementVNode("view",{class:"screenRTips orange"},e.toDisplayString(s.dateShow),1)]),e.createElementVNode("view",{class:"screenSetBox"},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(s.dateLists,((t,l)=>(e.openBlock(),e.createElementBlock("view",{class:e.normalizeClass(["screenSet",l==s.dateIdx?"screenSeted":""]),"data-idx":l,"data-idxName":"dateIdx",onClick:a[32]||(a[32]=(...e)=>i.radioBtn&&i.radioBtn(...e))},e.toDisplayString(t.name),11,["data-idx"])))),256))])]),e.createElementVNode("view",{class:"screenCon"},[e.createElementVNode("view",{class:"screenSetBox"},[e.createElementVNode("view",{class:"screenInput",onClick:a[33]||(a[33]=e=>i.openTimeSel(1))},e.toDisplayString(s.startTimeShow),1),e.createElementVNode("view",{class:"screenInput",onClick:a[34]||(a[34]=e=>i.openTimeSel(2))},e.toDisplayString(s.endTimeShow),1)])]),e.createElementVNode("view",{style:{height:"107.6px"}}),e.createElementVNode("view",{class:"screenBtn IOSBottom"},[e.createElementVNode("view",{class:"screenLBtn bg-orange-JB",onClick:a[35]||(a[35]=(...e)=>i.reset&&i.reset(...e))},"重置"),e.createElementVNode("view",{class:"screenRBtn bg-red-JB",onClick:a[36]||(a[36]=(...e)=>i.sureSeach&&i.sureSeach(...e))},"确定")])])):e.createCommentVNode("",!0),s.isOpenXiPingTipsBox?(e.openBlock(),e.createElementBlock("view",{key:6,class:"prompt"},[e.createElementVNode("view",{class:"prompt-shadow"}),e.createElementVNode("view",{class:"prompt-box-w90 pos-middle"},[e.createElementVNode("view",{class:"prompt-title text-center"},"息屏时钟权限申请"),e.createElementVNode("view",{class:"tipsBox"},[e.createElementVNode("view",{class:"txt gray"},"请检查以下三个权限，如无请忽略"),e.createElementVNode("view",{class:"txt"},[e.createElementVNode("text",{class:"i"},"1"),e.createTextVNode("权限 -> "),e.createElementVNode("text",{class:"orange"},"后台弹窗"),e.createTextVNode(" -> 允许")]),e.createElementVNode("view",{class:"txt"},[e.createElementVNode("text",{class:"i"},"2"),e.createTextVNode("权限 -> "),e.createElementVNode("text",{class:"orange"},"锁屏显示"),e.createTextVNode(" -> 允许")]),e.createElementVNode("view",{class:"txt"},[e.createElementVNode("text",{class:"i"},"3"),e.createTextVNode("权限 -> "),e.createElementVNode("text",{class:"orange"},"悬浮窗"),e.createTextVNode(" -> 允许")])]),e.createElementVNode("view",{class:"prompt-btn"},[e.createElementVNode("view",{class:"btn-item-primary gray",onClick:a[37]||(a[37]=(...e)=>i.checkAlertSkip&&i.checkAlertSkip(...e))},"我知道了"),e.createElementVNode("view",{class:"btn-item-primary orange",onClick:a[38]||(a[38]=(...e)=>i.goAppSet&&i.goAppSet(...e))},"去设置")])])])):e.createCommentVNode("",!0),s.isShowTimesel?(e.openBlock(),e.createBlock(r,{key:7,dateVal:s.timeValue,onSureBtn:i.selTime,onBtnBgClose:i.sureTimeSel},null,8,["dateVal","onSureBtn","onBtnBgClose"])):e.createCommentVNode("",!0),e.createElementVNode("view",{class:e.normalizeClass(["xjiBlackBg",s.xjiInfo.Bg]),onClick:a[39]||(a[39]=(...e)=>i.closeYejiTips&&i.closeYejiTips(...e))},null,2),e.createElementVNode("view",{class:e.normalizeClass(["xjiTemBox",s.xjiInfo.Box])},[e.createElementVNode("view",{class:"weiXinLogo orange"},[e.createElementVNode("text",{class:"iconfont icon-gantanhao"},[e.createElementVNode("span")])]),e.createElementVNode("view",{class:"xjiTitle"}," 业绩小计 "),e.createElementVNode("view",{class:"xjiTipsBox"},[e.createElementVNode("view",{class:"xjiTips left"},[e.createTextVNode("时间范围: "),e.createElementVNode("text",{class:"xjiData"},e.toDisplayString(s.xjiInfo.tips),1)]),e.createElementVNode("view",{class:"xjiTips left"},[e.createTextVNode("统计类型: "),e.createElementVNode("text",{class:"xjiData"},e.toDisplayString(s.xjiInfo.tips2),1)]),e.createElementVNode("view",{class:"xjiTips left"},"小计汇总:"),e.createElementVNode("view",{class:"xjiTips left"},[e.createTextVNode("技师类业绩: "),e.createElementVNode("text",{class:"xjiData"},e.toDisplayString(s.xjiInfo.tips3),1)]),e.createElementVNode("view",{class:"xjiTips left"},[e.createTextVNode("商品类业绩: "),e.createElementVNode("text",{class:"xjiData"},e.toDisplayString(s.xjiInfo.tips4),1)]),e.createElementVNode("view",{class:"xjiTips left"},[e.createTextVNode("钟数: "),e.createElementVNode("text",{class:"xjiData"},e.toDisplayString(s.xjiInfo.tips5),1)]),e.createElementVNode("view",{class:"xjiTips left"},[e.createTextVNode("小费: "),e.createElementVNode("text",{class:"xjiData"},e.toDisplayString(s.xjiInfo.tips6),1)])]),e.createElementVNode("view",{class:"xjiBtnBox"},[e.createElementVNode("view",{class:"xjiLeftBtn coverWidth bg-orange-JB",onClick:a[40]||(a[40]=(...e)=>i.closeYejiTips&&i.closeYejiTips(...e))},"确定")])],2),s.showPjqr?(e.openBlock(),e.createElementBlock("view",{key:8,class:"openBox"},[e.createElementVNode("view",{class:"bg",onClick:a[41]||(a[41]=(...e)=>i.hidePjqr&&i.hidePjqr(...e))}),e.createElementVNode("view",{class:"cenOpen pjqrOpen"},[e.createElementVNode("view",{class:"content"},[e.createElementVNode("view",{class:"title"},"评价邀请"),e.createElementVNode("view",{class:"imgBox"},[e.createElementVNode("image",{class:"img",mode:"widthFix",src:s.pjQrUrl},null,8,["src"])]),e.createElementVNode("view",{class:"tips"},"请用微信扫一扫"),e.createElementVNode("view",{class:"btns"},[e.createElementVNode("view",{class:"btn",onClick:a[42]||(a[42]=(...e)=>i.hidePjqr&&i.hidePjqr(...e))},"关闭")])])])])):e.createCommentVNode("",!0),s.isShowOrderDtl?(e.openBlock(),e.createElementBlock("view",{key:9,class:"dtlBg",onClick:a[43]||(a[43]=(...e)=>i.closeOrderDtl&&i.closeOrderDtl(...e))})):e.createCommentVNode("",!0),s.isShowOrderDtl?(e.openBlock(),e.createElementBlock("view",{key:10,class:"dtlBox"},[e.createElementVNode("view",{class:"dtlTitleBox"},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(s.dtlTypeLists,((t,a)=>(e.openBlock(),e.createElementBlock("view",{class:e.normalizeClass(["dtltitle",t.id==s.dtlOnPkind?"dtltitleSel":""]),onClick:e=>i.dtlOnPKind(t.id)},e.toDisplayString(t.title),11,["onClick"])))),256))]),e.createElementVNode("view",{class:"dtlContent",style:e.normalizeStyle("max-height:"+s.dtlHeight+"px;")},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(s.dtlOrderLists,((t,a)=>(e.openBlock(),e.createElementBlock("view",{class:"dtlInfoBox"},[e.createElementVNode("view",{class:"dtlGoods"},[e.createElementVNode("view",{class:"dtlName"},e.toDisplayString(t.name),1),e.createElementVNode("view",{class:"dtlBell"},e.toDisplayString(t.ser_type),1),t.duration>0?(e.openBlock(),e.createElementBlock("view",{key:0,class:"dtlTime"},e.toDisplayString(t.duration)+"分钟",1)):e.createCommentVNode("",!0),e.createElementVNode("view",{class:"dtlStatus red"},e.toDisplayString(t.p_status),1)]),t.p_tip>0?(e.openBlock(),e.createElementBlock("view",{key:0,class:"dtlTip"},[e.createElementVNode("view",{class:"dtlTipType"},"小费"),e.createElementVNode("view",{class:"dtlMoney"},"￥ "+e.toDisplayString(t.p_tip),1)])):e.createCommentVNode("",!0),e.createElementVNode("view",{class:"dtlOpenBox"},[e.createElementVNode("view",{class:"dtlOpenMan"},[e.createElementVNode("text",{class:"iconfont icon-wode11"}),e.createTextVNode(" "+e.toDisplayString(t.xd_name),1)]),e.createElementVNode("view",{class:"dtlOpenTime"},[e.createElementVNode("text",{class:"iconfont icon-shizhong1"}),e.createTextVNode(" "+e.toDisplayString(t.addtime),1)])])])))),256))],4),e.createElementVNode("view",{class:"dtlBtnBox",onClick:a[44]||(a[44]=(...e)=>i.closeOrderDtl&&i.closeOrderDtl(...e))},[e.createElementVNode("view",{class:"dtlClose bg-orange-JB"},"关闭")])])):e.createCommentVNode("",!0),s.isOpenZhenLiaoTips?(e.openBlock(),e.createElementBlock("view",{key:11,class:"prompt"},[e.createElementVNode("view",{class:"prompt-shadow"}),e.createElementVNode("view",{class:"prompt-box-w90 pos-middle"},[e.createElementVNode("view",{class:"tipsBox"},[e.createElementVNode("text",{class:"iconfont icon-gantanhao red"}),e.createElementVNode("view",{class:"txt text-center"},[e.createTextVNode("下钟成功，是否需要填写"),e.createElementVNode("text",{class:"red"},"诊疗报告"),e.createTextVNode("?")])]),e.createElementVNode("view",{class:"prompt-btn"},[e.createElementVNode("view",{class:"btn-item-primary gray",onClick:a[45]||(a[45]=(...e)=>i.closeZhenLiaoTips&&i.closeZhenLiaoTips(...e))},"暂不需要"),e.createElementVNode("view",{class:"btn-item-primary orange",onClick:a[46]||(a[46]=(...e)=>i.goZhenLiao&&i.goZhenLiao(...e))},"立即填写")])])])):e.createCommentVNode("",!0)],64)}]]);let M={};function j(e){var t=e;return 1==e.toString().length&&(t="0"+e),t}M.getPageUrl=function(e){return function(e){let t=getCurrentPages(),a=t[t.length-1],l=a.route;if(e){let e=a.options,t="";for(let a in e)t+=a+"="+e[a]+"&";l+=""!=t?"?"+t.substring(0,t.length-1):""}return l}(e)},M.getDay=function(e){return function(e){var t=new Date,a=t.getTime()+864e5*e;t.setTime(a);var l=t.getFullYear(),o=t.getMonth(),n=t.getDate();return l+"-"+(o=j(o+1))+"-"+j(n)}(e)};const z={menuPerm:function(e){let t=uni.getStorageSync("sysAuthArr"),a=t.indexOf(e),l=t.indexOf(e.toString());return a>-1||l>-1},arraySearch:function(e,t){"string"!=typeof e&&(e=e.toString());let a=-1;for(let l in t){let o=t[l];if("string"!=typeof o&&(o=o.toString()),o==e){a=l;break}}return a}};var R;const U=n({data:()=>({statusBarHeight:0,funType:[],termList:[],lists:[],showTypeList:!1,timer:"",setTerm0:2,setTerm1:"all",showTermKey:"",newSet:"",showBg:!1,scrollBool:!0,seach:"",room_status:"all",setType:"all",cusRoomShow:[],isSaoma:!0,sweptSeat:0,hideOptBox:!1,job_num:"",roomId:"",setLeaveIndex:0,jfList:[],proBom:!1,currTop:0,zhidingNum:0,boxTop:0,currTop:0,roomStatusAuth:0,cusRoomShow:{},cusRoomShowList:[],isOpenCusShowBox:!1,zuoweiNumLists:[]}),onLoad(){R=getApp(),this.seach="",this.room_status="all",this.setType="all",this.roomStatusAuth=z.menuPerm(30)?1:0,this.getData(!0)},onShow(){let e=this;e.getData(),e.timer=setInterval((function(){e.getData(!0)}),3e4)},methods:{openCusShowBox(){this.isOpenCusShowBox=!0},closeCusShowBox(){this.isOpenCusShowBox=!1},changecusRoomShow(e){let t=e.currentTarget.dataset.key;this.cusRoomShow[t]=1==this.cusRoomShow[t]?0:1,this.closeCusShowBox(),this.getData()},chaTopTerm:function(e){let t=this;if(t.$data.showTermKey===e)return void t.clearTerm();let a="";switch(e){case 0:a=t.$data.setTerm0;break;case 1:a=t.$data.setTerm1}t.showTermKey=e,t.newSet=a,t.showBg=!0,t.scrollBool=!1},chaTerm:function(e){let t=this,a=t.$data.termList,l=t.$data.showTermKey,o=a[l].list[e];switch(l){case 0:t.$data.setTerm0=o.id;break;case 1:t.$data.setTerm1=o.id}0==l?a[0].name=0==e?a[0].oname:o.name:"all"==o.id?a[l].name=a[l].oname:a[l].name=o.name,t.termList=a,t.clearTerm(),t.getData()},clearTerm:function(){this.showTermKey="",this.showBg=!1,this.scrollBool=!0},startScroll:function(){this.isHua=1},boxscroll:function(e){var t=this,a=e.detail.scrollTop,l=t.currTop,o=t.boxTop;a>l&&0==t.isHua&&a>20&&a<50&&(this.isHua=1),1==t.isHua&&(a>=l?(o-=8)>-49&&(t.boxTop=o):(o+=8)<1&&(t.boxTop=o)),t.currTop=a},zhidingBtn:function(){var e=this;e.boxTop=0,e.isHua=0,e.zhidingNum=1==e.zhidingNum?0:1},sureTop:function(){this.boxTop=0,this.isHua=0},initPage:function(){let e=this;e.seach="",e.room_status="all",e.setType="all",e.setTerm0=2,e.setTerm1="all",e.showTermKey="",e.newSet="",e.getData(!0),setTimeout((function(){R.showMsg("刷新成功","success",1e3)}),90)},goDetail:function(e,t){return!1},seleLeave:function(e){this.setLeaveIndex=e,this.job_num=this.jfList[e].job_num,this.closeProBom()},closeBox:function(){this.hideOptBox=!1},optSure:function(){let e=this;e.lists[this.setRoomKey];let t=e.roomId,a={roomId:t,roomStatus:0,job_num:e.job_num,remarks:""};R.goPost("room/changestatus",a,(function(a){e.hideOptBox=!1,e.roomId="",e.goDetail(t,0)}))},seachData:function(e){var t=e.currentTarget.dataset.key,a=e.detail.value;this[t]=a,""===a&&this.getData(!0)},getData:function(e){let t=this,a={seach:t.$data.seach,setType:t.$data.setType,room_status:t.$data.room_status,setTerm0:t.setTerm0,setTerm1:t.setTerm1,cusRoomShow:JSON.stringify(t.cusRoomShow)};R.goPost("room/roomList",a,(function(a){e&&(t.termList=a.termList,t.funType=a.funType,t.cusRoomShow=a.cusRoomShow,t.jfList=a.jfList,t.sweptSeat=a.sweptSeat,t.job_num=a.newjob_num,t.cusRoomShow=a.cusRoomShow,t.cusRoomShowList=a.cusRoomShowList,t.zuoweiNumLists=a.zuoweiNumLists),t.lists=a.lists}))},chaStatus:function(e){let t=this;if(e==t.$data.room_status)return!1;t.room_status=e,t.getData()},chaType:function(e){let t=this;if(t.showTypeList=!1,e==t.$data.setType)return!1;t.setType=e,t.getData()},clearSeach:function(){let e=this.seach;this.seach="",e&&this.getData()},showFix:function(){let e=this.$data.showTypeList;this.showTypeList=!e},saoma:function(){var e=this;R.saomaCode((function(t){var a={info:t};R.goPost("Lcard/getQrLcard2",a,(function(t){e.seach=t,e.getData(!1)}))}))},showProBom:function(){this.proBom=!0},closeProBom:function(){this.proBom=!1}},onHide:function(){clearInterval(this.$data.timer)},onUnload:function(){clearInterval(this.$data.timer)}},[["render",function(t,a,o,n,s,i){const c=l(e.resolveDynamicComponent("ydPromptBottom"),b);return e.openBlock(),e.createElementBlock(e.Fragment,null,[e.createElementVNode("view",{class:"topBox",style:e.normalizeStyle({paddingTop:s.statusBarHeight+"px"})},[e.createElementVNode("ul",{class:"topTab"},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(s.funType,((t,a)=>(e.openBlock(),e.createElementBlock("li",{class:e.normalizeClass(s.setType==t.id?"onset":""),onClick:e=>i.chaType(t.id)},[e.createElementVNode("text",null,e.toDisplayString(t.name),1)],10,["onClick"])))),256))]),e.createElementVNode("view",{class:"topRBtn",onClick:a[0]||(a[0]=(...e)=>i.showFix&&i.showFix(...e))},[e.createElementVNode("i",{class:"iconfont icon-shaixuan"}),e.createTextVNode(" 房类 ")])],4),e.createElementVNode("view",{class:"content",style:e.normalizeStyle({top:s.statusBarHeight+53+"px"})},[e.createElementVNode("view",{class:"termBox"},[e.createElementVNode("view",{class:"searchBox"},[e.createElementVNode("i",{class:"iconfont icon-sousuo search"}),e.createElementVNode("input",{class:"seaCon",onInput:a[1]||(a[1]=(...e)=>i.seachData&&i.seachData(...e)),type:"text",placeholder:"请输入房间号/锁牌号/技师号","data-key":"seach",value:s.seach},null,40,["value"]),""!=s.seach?(e.openBlock(),e.createElementBlock("i",{key:0,class:"iconfont icon-shibai1 close",onClick:a[2]||(a[2]=(...e)=>i.clearSeach&&i.clearSeach(...e))})):e.createCommentVNode("",!0),""==s.seach&&s.isSaoma?(e.openBlock(),e.createElementBlock("i",{key:1,class:"iconfont icon-saoma close",onClick:a[3]||(a[3]=(...e)=>i.saoma&&i.saoma(...e))})):e.createCommentVNode("",!0),e.createElementVNode("view",{class:"seaBtn",onClick:a[4]||(a[4]=e=>i.getData(!1))},"搜索")]),e.createElementVNode("ul",{class:"termList"},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(s.termList,((t,a)=>(e.openBlock(),e.createElementBlock("li",null,[e.createElementVNode("view",{onClick:e=>i.chaTopTerm(a),class:e.normalizeClass(t.name!=t.oname?"orange":"")},[e.createElementVNode("text",null,e.toDisplayString(t.name),1),s.showTermKey!==a?(e.openBlock(),e.createElementBlock("i",{key:0,class:e.normalizeClass(["iconfont icon-tubiaozhizuo-1",t.name!=t.oname?"orange":""])},null,2)):s.showTermKey===a?(e.openBlock(),e.createElementBlock("i",{key:1,class:e.normalizeClass(["iconfont icon-tubiaozhizuo-",t.name!=t.oname?"orange":""])},null,2)):e.createCommentVNode("",!0)],10,["onClick"]),s.showTermKey===a?(e.openBlock(),e.createElementBlock("ul",{key:0,class:"nextBox"},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(t.list,((t,a)=>(e.openBlock(),e.createElementBlock("li",{onClick:e=>i.chaTerm(a)},[e.createTextVNode(e.toDisplayString(t.name)+" ",1),s.newSet==t.id?(e.openBlock(),e.createElementBlock("i",{key:0,class:"iconfont icon-xuanzhong"})):e.createCommentVNode("",!0)],8,["onClick"])))),256))])):e.createCommentVNode("",!0)])))),256)),e.createElementVNode("li",null,[e.createElementVNode("view",{onClick:a[5]||(a[5]=(...e)=>i.openCusShowBox&&i.openCusShowBox(...e)),class:""},[e.createElementVNode("text",null,"更多"),e.createElementVNode("i",{class:"iconfont icon-tubiaozhizuo-1"})])])])]),e.createElementVNode("scroll-view",{class:"serollBox","scroll-y":s.scrollBool,"scroll-top":s.zhidingNum,onScroll:a[6]||(a[6]=(...e)=>i.boxscroll&&i.boxscroll(...e)),onScrolltoupper:a[7]||(a[7]=(...e)=>i.sureTop&&i.sureTop(...e)),onTouchstart:a[8]||(a[8]=(...e)=>i.startScroll&&i.startScroll(...e))},[e.createElementVNode("view",{class:"list clearfix"},[1==s.cusRoomShow.xmshow?(e.openBlock(!0),e.createElementBlock(e.Fragment,{key:0},e.renderList(s.lists,((t,a)=>(e.openBlock(),e.createElementBlock("view",{class:"typeBox"},[e.createElementVNode("view",{class:"typeTitle"},[e.createTextVNode(e.toDisplayString(a)+" ",1),e.createElementVNode("text",{class:"num"},e.toDisplayString(t.length),1),1==s.cusRoomShow.zzshow?(e.openBlock(),e.createElementBlock("text",{key:0,class:"num red"}," ("+e.toDisplayString(s.zuoweiNumLists[a])+")",1)):e.createCommentVNode("",!0)]),e.createElementVNode("view",{class:"room_wrapContent"},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(t,((t,a)=>(e.openBlock(),e.createElementBlock("view",{class:"item",style:e.normalizeStyle("background:"+t.color),onClick:e=>i.goDetail(t.id,t.room_status)},[e.createElementVNode("view",{class:"sp-no"},[e.createElementVNode("view",{class:"roomName"},e.toDisplayString(t.name),1),t.remainMoney>0&&1==s.cusRoomShow.xfshow?(e.openBlock(),e.createElementBlock("view",{key:0,class:"money sp-money red"},[e.createElementVNode("text",{class:"i"},"￥"),e.createTextVNode(e.toDisplayString(t.remainMoney),1)])):e.createCommentVNode("",!0),""!=t.jieStatus?(e.openBlock(),e.createElementBlock("view",{key:1,class:"money sp-money red"},e.toDisplayString(t.jieStatus),1)):e.createCommentVNode("",!0)]),e.createElementVNode("view",{class:"detail"},[e.createElementVNode("view",{class:"roomStatus"},e.toDisplayString(t.statusName),1),e.createElementVNode("view",{class:e.normalizeClass(["pline seat",t.userNum<0?"red":""])},"位"+e.toDisplayString(t.userNum)+"/"+e.toDisplayString(t.num),3),1!=s.cusRoomShow.spshow||3!=t.room_status&&5!=t.room_status?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock("view",{key:0,class:"pline suopai"},"锁牌："+e.toDisplayString(t.sp),1)),1!=s.cusRoomShow.szshow||3!=t.room_status&&5!=t.room_status?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock("view",{key:1,class:"pline techName"},"技师："+e.toDisplayString(t.js),1))]),""!=t.duration||""!=t.delayTime||""!=t.daiSaoTime?(e.openBlock(),e.createElementBlock("view",{key:0,class:"bottom"},[e.createElementVNode("view",{class:"service-time"},[1==s.cusRoomShow.ljshow&&""!=t.duration?(e.openBlock(),e.createElementBlock("text",{key:0},"剩 "+e.toDisplayString(t.duration),1)):1==s.cusRoomShow.ljshow&&""!=t.delayTime?(e.openBlock(),e.createElementBlock("text",{key:1},"延 "+e.toDisplayString(t.delayTime)+"分",1)):t.daiSaoTime?(e.openBlock(),e.createElementBlock("text",{key:2},"待清 "+e.toDisplayString(t.daiSaoTime)+"分",1)):t.lastXzTime?(e.openBlock(),e.createElementBlock("text",{key:3},"下钟 "+e.toDisplayString(t.lastXzTime)+"分",1)):e.createCommentVNode("",!0)])])):e.createCommentVNode("",!0),1==t.is_yue?(e.openBlock(),e.createElementBlock("view",{key:1,class:"yuyue"},"约")):t.lackTech>0?(e.openBlock(),e.createElementBlock("view",{key:2,class:"lastNum"},"缺 "+e.toDisplayString(t.lackTech),1)):e.createCommentVNode("",!0)],12,["onClick"])))),256))])])))),256)):(e.openBlock(),e.createElementBlock("view",{key:1,class:"typeBox"},[e.createElementVNode("view",{class:"room_wrapContent"},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(s.lists,((t,a)=>(e.openBlock(),e.createElementBlock(e.Fragment,null,[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(t,((t,a)=>(e.openBlock(),e.createElementBlock("view",{class:"item",style:e.normalizeStyle("background:"+t.color),onClick:e=>i.goDetail(t.id,t.room_status)},[e.createElementVNode("view",{class:"sp-no"},[e.createElementVNode("view",{class:"roomName"},e.toDisplayString(t.name),1),t.remainMoney>0&&1==s.cusRoomShow.xfshow?(e.openBlock(),e.createElementBlock("view",{key:0,class:"money sp-money red"},[e.createElementVNode("text",{class:"i"},"￥"),e.createTextVNode(e.toDisplayString(t.remainMoney),1)])):e.createCommentVNode("",!0),""!=t.jieStatus?(e.openBlock(),e.createElementBlock("view",{key:1,class:"money sp-money red"},e.toDisplayString(t.jieStatus),1)):e.createCommentVNode("",!0)]),e.createElementVNode("view",{class:"detail"},[e.createElementVNode("view",{class:"roomStatus"},e.toDisplayString(t.statusName),1),e.createElementVNode("view",{class:e.normalizeClass(["pline seat",t.userNum<0?"red":""])},"位"+e.toDisplayString(t.userNum)+"/"+e.toDisplayString(t.num),3),1!=s.cusRoomShow.spshow||3!=t.room_status&&5!=t.room_status?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock("view",{key:0,class:"pline suopai"},"锁牌："+e.toDisplayString(t.sp),1)),1!=s.cusRoomShow.szshow||3!=t.room_status&&5!=t.room_status?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock("view",{key:1,class:"pline techName"},"技师："+e.toDisplayString(t.js),1))]),""!=t.duration||""!=t.delayTime||""!=t.daiSaoTime?(e.openBlock(),e.createElementBlock("view",{key:0,class:"bottom"},[e.createElementVNode("view",{class:"service-time"},[1==s.cusRoomShow.ljshow&&""!=t.duration?(e.openBlock(),e.createElementBlock("text",{key:0},"剩 "+e.toDisplayString(t.duration),1)):1==s.cusRoomShow.ljshow&&""!=t.delayTime?(e.openBlock(),e.createElementBlock("text",{key:1},"延 "+e.toDisplayString(t.delayTime)+"分",1)):t.daiSaoTime?(e.openBlock(),e.createElementBlock("text",{key:2},"待清 "+e.toDisplayString(t.daiSaoTime)+"分",1)):t.lastXzTime?(e.openBlock(),e.createElementBlock("text",{key:3},"下钟 "+e.toDisplayString(t.lastXzTime)+"分",1)):e.createCommentVNode("",!0)])])):e.createCommentVNode("",!0),1==t.is_yue?(e.openBlock(),e.createElementBlock("view",{key:1,class:"yuyue"},"约")):t.lackTech>0?(e.openBlock(),e.createElementBlock("view",{key:2,class:"lastNum"},"缺 "+e.toDisplayString(t.lackTech),1)):e.createCommentVNode("",!0)],12,["onClick"])))),256))],64)))),256))])])),0==s.lists.length?(e.openBlock(),e.createElementBlock("view",{key:2,class:"noData"},[e.createElementVNode("i",{class:"iconfont icon-kongshuju"}),e.createTextVNode(" 暂无数据 ")])):e.createCommentVNode("",!0)])],40,["scroll-y","scroll-top"]),s.showBg?(e.openBlock(),e.createElementBlock("view",{key:0,class:"fixBg",onClick:a[9]||(a[9]=(...e)=>i.clearTerm&&i.clearTerm(...e)),style:e.normalizeStyle({top:s.statusBarHeight+145+"px"})},null,4)):e.createCommentVNode("",!0)],4),s.showTypeList?(e.openBlock(),e.createElementBlock("view",{key:0,class:"fixBox",style:e.normalizeStyle({top:s.statusBarHeight+53+"px"})},[e.createElementVNode("view",{class:"fixBg",onClick:a[10]||(a[10]=(...e)=>i.showFix&&i.showFix(...e))}),e.createElementVNode("view",{class:"typeList",style:e.normalizeStyle({top:s.statusBarHeight+60+"px"})},[e.createElementVNode("i",{class:"iconfont icon-tubiaozhizuo- jiantou",style:e.normalizeStyle({top:s.statusBarHeight+48+"px"})},null,4),e.createElementVNode("ul",null,[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(s.funType,((t,a)=>(e.openBlock(),e.createElementBlock("li",{onClick:e=>i.chaType(t.id)},e.toDisplayString(t.name),9,["onClick"])))),256))])],4)],4)):e.createCommentVNode("",!0),s.hideOptBox?(e.openBlock(),e.createElementBlock("view",{key:1,class:"openBox"},[e.createElementVNode("view",{class:"bg",onClick:a[11]||(a[11]=(...e)=>i.closeBox&&i.closeBox(...e))}),e.createElementVNode("view",{class:"cenOpen alertBox"},[e.createElementVNode("view",{class:"content"},[e.createElementVNode("view",{class:"title"},"净房人员"),e.createElementVNode("view",{class:"openList optBox"},[e.createElementVNode("view",{class:"show-box"},[e.withDirectives(e.createElementVNode("input",{type:"text",class:"seaCon3","onUpdate:modelValue":a[12]||(a[12]=e=>s.job_num=e),placeholder:"请输入净房人员工号",maxlength:"7"},null,512),[[e.vModelText,s.job_num]]),e.createElementVNode("view",{class:"bigPicker"},[e.createElementVNode("view",{class:"fastBtn",onClick:a[13]||(a[13]=(...e)=>i.showProBom&&i.showProBom(...e))},"选择")])])]),e.createElementVNode("view",{class:"orderFoot"},[e.createElementVNode("text",{class:"btn fl",onClick:a[14]||(a[14]=(...e)=>i.closeBox&&i.closeBox(...e))},"取消"),e.createElementVNode("text",{class:"btn fr",onClick:a[15]||(a[15]=(...e)=>i.optSure&&i.optSure(...e))},"确定")])])])])):e.createCommentVNode("",!0),e.createElementVNode("view",{class:"rBomOpBox"},[s.currTop>50?(e.openBlock(),e.createElementBlock("view",{key:0,class:"subBtn",onClick:a[16]||(a[16]=(...e)=>i.zhidingBtn&&i.zhidingBtn(...e))},[e.createElementVNode("i",{class:"iconfont icon-fanhuidingbu"})])):e.createCommentVNode("",!0),e.createElementVNode("view",{class:"subBtn",onClick:a[17]||(a[17]=(...e)=>i.initPage&&i.initPage(...e))},[e.createElementVNode("i",{class:"iconfont icon-shuaxin"})])]),e.createVNode(c,{isOpen:s.proBom,height:"70%",onClose:i.closeProBom},{default:e.withCtx((()=>[e.createElementVNode("view",{class:"promBox"},[e.createElementVNode("view",{class:"title"},[e.createTextVNode(" 净房人 "),e.createElementVNode("i",{class:"iconfont icon-shibai1",onClick:a[18]||(a[18]=(...e)=>i.closeProBom&&i.closeProBom(...e))})]),e.createElementVNode("ul",{class:"lists"},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(s.jfList,((t,a)=>(e.openBlock(),e.createElementBlock("li",{onClick:e=>i.seleLeave(a),class:e.normalizeClass(s.setLeaveIndex==a?"onset":"")},e.toDisplayString(t.job_num),11,["onClick"])))),256))])])])),_:1},8,["isOpen","onClose"]),e.createVNode(c,{isOpen:s.isOpenCusShowBox,onClose:i.closeCusShowBox},{default:e.withCtx((()=>[e.createElementVNode("view",{class:"prompt-title"},[e.createTextVNode("更多筛选"),e.createElementVNode("text",{class:"iconfont icon-guanbi close-icon red",onClick:a[19]||(a[19]=(...e)=>i.closeCusShowBox&&i.closeCusShowBox(...e))})]),e.createElementVNode("view",{class:"cusShowBoxCon"},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(s.cusRoomShowList,((t,l)=>(e.openBlock(),e.createElementBlock("view",{class:e.normalizeClass(["item",1==s.cusRoomShow[t.key]?"selected":""]),key:t.key,"data-key":t.key,onClick:a[20]||(a[20]=(...e)=>i.changecusRoomShow&&i.changecusRoomShow(...e))},[e.createElementVNode("text",{class:e.normalizeClass(["iconfont",1==s.cusRoomShow[t.key]?"icon-xuanzhong":"icon-weixuanzhong"])},null,2),e.createTextVNode(e.toDisplayString(t.name),1)],10,["data-key"])))),128))])])),_:1},8,["isOpen","onClose"])],64)}]]);var H;const J=n({data:()=>({id:"",page:1,lists:[],setLcardIds:[],hideOptBox:!1,statusBarHeight:0,seach:"",setTopKey:0,hideLcardMoreBox:!1,lcardMoreBoxIndex:"",opt:{title:"换房",btn:"确定",type:1,room_name:"",lcard_name:"",lcard_id:0,new_room:"",new_room_id:0,new_lcard_name:"",orderIds:[],orderList:[]},isOpenLcardBox:!1,isOpenLcardBoxType:2,lcardList:{useList:[],noUseList:[]},selectLcardType:1,fspKey:0,isSaoma:!0,mergeIds:[],roomItem:[],leftLcardList:[],rightLcardList:[],leftIndex:"",rightIndex:"",recordList:[],token:"",sort:5,notXuNi:1,searchUrl:"pay/oplcard",isOpenCusShowBox:!1,recordSorts:[{value:"5",name:"按房间升序",checked:"true"},{value:"1",name:"单牌在前"},{value:"2",name:"团牌在前"},{value:"0",name:"发牌时间"},{value:"3",name:"按锁牌升序"},{value:"4",name:"按锁牌降序"}]}),onLoad(e){H=getApp(),this.statusBarHeight=H.globalData.statusBarHeight,this.id=e.id},onShow(){this.getData()},methods:{saoma2:function(){let e=this.$data.opt;H.saomaCode((function(t){var a={info:t};H.goPost("Lcard/getQrLcard2",a,(function(t){e.new_lcard_name=t}))}))},saomakey:function(){var e=this;H.saomaCode((function(t){var a={info:t};H.goPost("Lcard/getQrLcard2",a,(function(t){e.seach=t,e.getData()}))}))},saoma:function(){var e=this;let t=e.$data.opt;H.saomaCode((function(a){var l={info:a};H.goPost("Lcard/getQrLcard2",l,(function(a){2==e.fspKey&&""!=t.lcard_name?t.lcard_name=t.lcard_name+","+a:t.lcard_name=a}))}))},seachData:function(e){1==e?this.getData(!0):this.openRoomBox()},clearSeach:function(e){this.seach,this.seach="",1==e?this.getData(!0):this.openRoomBox()},goBack:function(){uni.navigateBack({delta:1})},chaTop:function(e){this.closeBox(),this.setTopKey=e,this.getData()},getData(){let e=this,t=e.$data.setTopKey,a=e.$data.seach;e.lists=[];let l={seach:a},o="pay/getLcardList2";1==t&&(o=e.searchUrl,l={op:"queryRcord",seach:a,notXuNi:e.notXuNi,sort:e.sort}),H.goPost(o,l,(function(a){if(1==t){let t,l;e.rightLcardList=[],e.rightIndex="",e.token="",e.recordList=a.list,e.queryDanPai();for(let a in e.recordList)if(e.recordList[a].lcard_name==e.seach){t=e.recordList[a],l=a,e.queryMerge2(t,l);break}}else e.lists=a.lists}))},showfspbox(e){this.fspKey=e,this.hideOptBox=!0;let t="发锁牌";2==e&&(t="发团牌"),this.opt={title:t,room_name:"",lcard_name:"",lcard_id:0,new_room:"",new_room_id:0,new_lcard_name:""},a("log","at pages/lcard/lcard.vue:660",this.opt)},fpBtnSure(){let e=this,t=e.$data.opt,a="",l={},o=e.fspKey;a="suopai/setsp2",l={roomName:t.new_room,lcardName:t.lcard_name,type:o},H.goPost("suopai/setsp2",l,(function(t){H.showMsg("发牌成功"),setTimeout((function(){e.getData(),e.closeBox()}),1e3)}))},closeBox:function(){this.hideOptBox=!1,this.hideBox=!1,this.hideLcardMoreBox=!1,this.fspKey=0},goRoomInfo(e){let t="/pages/roominfo/roominfo?id="+e;uni.navigateTo({url:t})},showbox(e){this.lcardMoreBoxIndex=e,this.hideLcardMoreBox=!0;this.lists[e]},lcardMoreOp(e){let t=e.currentTarget.dataset.type;this.closeBox(),this.optFun(t,this.lcardMoreBoxIndex)},optFun:function(e,t){let a=this,l=a.lists[t],o=l.lcard_id,n={title:"换房",type:e,btn:"确定更换",room_name:l.room_name,lcard_name:l.lcard_name,lcard_id:o,new_room:"",new_room_id:0,new_lcard_name:"",orderIds:[],orderList:[]};if(1==e){n.title="更换房间";let e="order/getchangeroomdata",t={lcardName:n.lcard_name};H.goPost(e,t,(function(e){let t=e.list;if(t.length>0){a.opt.orderList=t;for(let e in t)a.opt.orderIds.push(t[e].orderid)}}))}else if(2==e){n.title="更换锁牌";let e="order/getchangeroomdata",t={lcardName:n.lcard_name};H.goPost(e,t,(function(e){let t=e.list;if(t.length>0){a.opt.orderList=t;for(let e in t)a.opt.orderIds.push(t[e].orderid)}}))}else if(4==e){if(n.title="开单",n.btn="确定开单",l.room_id>0)return a.goOpenRoom(l.room_id,o),!1}else n.title="取消发牌",n.btn="确定";this.hideOptBox=!0,this.hideBox=!1,this.opt=n},goOpenRoom:function(e,t,a=0){this.hideOptBox=!1;let l="";1==a&&(l="&lcardHe="+a);let o="/pages/roomopen/roomopen?id="+e+"&lcardId="+t+l;uni.navigateTo({url:o})},goLcardMerge:function(){this.hideLcardMoreBox=!1;uni.navigateTo({url:"/pages/lcardmerge/lcardmerge"})},optSure2:function(e){let t=this,l=e.currentTarget.dataset.key,o=t.$data.opt,n="",s="",i={};if(a("log","at pages/lcard/lcard.vue:812",o),1==l){if(o.orderIds.length<1)return H.showMsg("请先选择订单"),!1;s="房间更换",n="order/changeroom",i={oldLcardName:o.lcard_name,newRoomName:o.new_room,newLcardName:o.new_lcard_name,orderIds:o.orderIds.join(",")}}else if(2==l){if(o.orderIds.length<1)return H.showMsg("请先选择订单"),!1;s="锁牌更换",n="order/changesp",i={oldLcardName:o.lcard_name,newLcardName:o.new_lcard_name,orderIds:o.orderIds.join(",")}}else if(3==l)s="消牌",n="suopai/cancel",i={lcardId:o.lcard_id};else{if(4!=l)return this.qidai(),!1;s="开单",n="suopai/getRoomId",i={room_name:o.new_room}}H.goPost(n,i,(function(e){if(4==l)return t.goOpenRoom(e.id,o.lcard_id,1),!1;H.showMsg(s+"成功"),setTimeout((function(){t.getData(),t.closeBox()}),1e3)}))},optInput:function(e){let t=this,a=e.detail.value,l=this.$data.opt,o=e.currentTarget.dataset.key;"seach"==o?t.seach=a:l[o]=a,this.opt=l},selectOrder(e){this.opt.orderIds=e.detail.value},openLcardBox(){let e=this,t=e.opt;if(""==t.new_room&&1==t.type)return H.showMsg("请先输入房间号"),!1;let a={roomName:t.new_room};H.goPost("dingdan/getlcardlist",a,(function(t){e.lcardList.useList=t.useList,e.lcardList.noUseList=t.noUseList,e.isOpenLcardBox=!0})),e.isOpenLcardBoxType=2},openRoomBox(){let e=this;e.opt;let t={roomName:e.seach};H.goPost("dingdan/getRoomlist",t,(function(t){e.roomItem=t.list,e.isOpenLcardBox=!0})),e.isOpenLcardBoxType=1},radioChangeRoom(e){let t=e.detail.value,a=this.roomItem,l=this.opt;if(l.new_room_id==t)return!1;for(let o in a)if(a[o].id==t){l.new_room=a[o].name,l.new_room_id=t;break}this.opt=l,this.isOpenLcardBox=!1},closeLcardBox(){this.isOpenLcardBox=!1,this.lcardList.useList=[],this.lcardList.noUseList=[]},selectLcard(e){let t,a=this,l=a.opt,o=e.currentTarget.dataset.index;t=1==a.selectLcardType?a.lcardList.useList[o]:a.lcardList.noUseList[o],(1==l.type||2==l.type)&&(a.opt.new_lcard_name=t.title),a.closeLcardBox()},changeSelectLcardType(e){let t=e.currentTarget.dataset.type;this.selectLcardType=t},showMerge:function(e){let t=this;t.mergeIds=[];let a=e.currentTarget.dataset.id,l=e.currentTarget.dataset.merge_ids;l&&"undefined"!=l&&(a+=","+l);let o=a.split(",");for(var n in o)t.mergeIds.push(parseInt(o[n]))},sortChange:function(e){this.sort=e,this.getData()},queryDanPai(){let e=this,t={op:"queryDanPai",notXuNi:e.notXuNi};H.goPost(e.searchUrl,t,(function(t){e.leftIndex="",e.leftLcardList=t.list}))},queryMerge(e){let t=this,a=e.currentTarget.dataset.index,l=t.recordList[a];if(""==l.token){for(let e in t.leftLcardList)t.leftLcardList[e].lcard_id==l.lcard_id&&(t.leftIndex=e);return t.token="",t.rightLcardList=[],!1}let o={op:"queryMerge",token:l.token};H.goPost(t.searchUrl,o,(function(e){t.token=l.token,t.rightLcardList=e.list,t.queryDanPai()}))},queryMerge2(e,t){let a=this;if(""==e.token){for(let t in a.leftLcardList)a.leftLcardList[t].lcard_id==e.lcard_id&&(a.leftIndex=t);return a.token="",a.rightLcardList=[],!1}let l={op:"queryMerge",token:e.token};H.goPost(a.searchUrl,l,(function(t){a.token=e.token,a.rightLcardList=t.list,a.queryDanPai()}))},queryByNfc(e){let t=this,a={code:e,type:"query"};H.goPost("?s=work/suopai/querybynfc",a,(function(e){t.lcardName=e.item.title,t.getData()}))},showXuNi(){this.notXuNi=1==this.notXuNi?0:1,this.getData(),this.closeCusShowBox()},toRight(){let e=this.leftIndex;if(""===e)return H.showMsg("请先选择要移动的锁牌"),!1;let t=this.leftLcardList[e];this.leftLcardList.splice(e,1),this.rightLcardList.push(t),this.leftIndex>=this.leftLcardList.length&&(this.leftIndex=0),0==this.leftLcardList.length&&(this.leftIndex="")},toLeft(){let e=this.rightIndex;if(""===e)return H.showMsg("请先选择要移动的锁牌"),!1;let t=this.rightLcardList[e];this.rightLcardList.splice(e,1),this.leftLcardList.push(t),this.rightIndex>=this.rightLcardList.length&&(this.rightIndex=0),0==this.rightLcardList.length&&(this.rightIndex="")},toRightAll(){if(this.leftLcardList.length<1)return!1;let e=this.leftLcardList;this.leftIndex="";for(let t in e)this.rightLcardList.push(e[t]);this.leftLcardList=[]},toLeftAll(){if(this.rightLcardList.length<1)return!1;let e=this.rightLcardList;this.rightIndex="";for(let t in e)this.leftLcardList.push(e[t]);this.rightLcardList=[]},ldesc(){this.leftLcardList.sort(this.getSortFun("desc","lcard_name"))},lasc(){this.leftLcardList.sort(this.getSortFun("asc","lcard_name"))},rdesc(){this.rightLcardList.sort(this.getSortFun("desc","lcard_name"))},rasc(){this.rightLcardList.sort(this.getSortFun("asc","lcard_name"))},selectLeftLcard(e){this.leftIndex=e.currentTarget.dataset.index},selectRightLcard(e){this.rightIndex=e.currentTarget.dataset.index},getSortFun:(e,t)=>new Function("a","b","return a."+t+("asc"==e?">":"<")+"b."+t+"?1:-1"),sureDone(){let e=this,t={op:"done",data:JSON.stringify(e.rightLcardList),token:e.token};H.goPost(e.searchUrl,t,(function(t){H.showMsg("保存成功"),setTimeout((function(){e.getData()}),1e3)}))},openCusShowBox(){this.isOpenCusShowBox=!0},closeCusShowBox(){this.isOpenCusShowBox=!1}}},[["render",function(t,a,o,n,s,i){const c=l(e.resolveDynamicComponent("ydPromptBottom"),b);return e.openBlock(),e.createElementBlock(e.Fragment,null,[e.createElementVNode("view",{class:"conBox",style:{top:"0px"}},[e.createElementVNode("view",{class:"termBox"},[e.createElementVNode("view",{class:e.normalizeClass(1===s.setTopKey?"searchBox searchBox2":"searchBox")},[e.createElementVNode("i",{class:"iconfont icon-sousuo search"}),e.createElementVNode("input",{class:"seaCon",onInput:a[0]||(a[0]=(...e)=>i.optInput&&i.optInput(...e)),type:"text",placeholder:"请输入房间号/锁牌号","data-key":"seach",value:s.seach},null,40,["value"]),""!=s.seach?(e.openBlock(),e.createElementBlock("i",{key:0,class:"iconfont icon-shibai1 close",onClick:a[1]||(a[1]=e=>i.clearSeach(1))})):e.createCommentVNode("",!0),""==s.seach&&s.isSaoma?(e.openBlock(),e.createElementBlock("i",{key:1,class:"iconfont icon-saoma close",onClick:a[2]||(a[2]=(...e)=>i.saomakey&&i.saomakey(...e))})):e.createCommentVNode("",!0),e.createElementVNode("view",{class:"seaBtn",onClick:a[3]||(a[3]=e=>i.seachData(1))},"搜索")],2),1==s.setTopKey?(e.openBlock(),e.createElementBlock("view",{key:0,onClick:a[4]||(a[4]=(...e)=>i.openCusShowBox&&i.openCusShowBox(...e)),class:"moreshow"},[e.createElementVNode("text",null,"更多"),e.createElementVNode("i",{class:"iconfont icon-tubiaozhizuo-1"})])):e.createCommentVNode("",!0)]),0==s.setTopKey?(e.openBlock(),e.createElementBlock("view",{key:0},[e.createElementVNode("ul",{class:"roomCon"},[t.menuPerm(157)?(e.openBlock(),e.createElementBlock("li",{key:0,class:"roomBox fp",onClick:a[5]||(a[5]=e=>i.showfspbox(1))},[e.createElementVNode("i",{class:"iconfont icon-shangchuantupian orange roomName"}),e.createElementVNode("view",{class:"orange"},"发锁牌")])):e.createCommentVNode("",!0),t.menuPerm(89)?(e.openBlock(),e.createElementBlock("li",{key:1,class:"roomBox fp",onClick:a[6]||(a[6]=e=>i.showfspbox(2))},[e.createElementVNode("i",{class:"iconfont icon-shangchuantupian orange roomName"}),e.createElementVNode("view",{class:"orange"},"发团牌")])):e.createCommentVNode("",!0),(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(s.lists,((l,o)=>(e.openBlock(),e.createElementBlock("li",{class:e.normalizeClass(["roomBox",s.mergeIds.indexOf(l.lcard_id)>-1?"onred":""]),"data-id":l.lcard_id,"data-merge_ids":l.merge_ids,onClick:a[7]||(a[7]=(...e)=>i.showMerge&&i.showMerge(...e))},[e.createElementVNode("view",{class:"roomName"},e.toDisplayString(l.lcard_name),1),e.createElementVNode("view",{class:"joline"},[e.createElementVNode("view",{class:"roomNum"},e.toDisplayString(l.room_name),1),e.createElementVNode("view",{class:"jobNum"},e.toDisplayString(l.job_num),1)]),t.menuPerm(159)||t.menuPerm(158)?(e.openBlock(),e.createElementBlock("view",{key:0,class:"spline"},[t.menuPerm(158)&&l.room_id>0?(e.openBlock(),e.createElementBlock("text",{key:0,class:"xq",onClick:e=>i.goRoomInfo(l.room_id)},"详情",8,["onClick"])):e.createCommentVNode("",!0),t.menuPerm(159)?(e.openBlock(),e.createElementBlock("i",{key:1,class:"iconfont icon-liebiao",onClick:e=>i.showbox(o)},null,8,["onClick"])):e.createCommentVNode("",!0)])):e.createCommentVNode("",!0),1==l.merge?(e.openBlock(),e.createElementBlock("view",{key:1,class:"sphe"},"合")):e.createCommentVNode("",!0)],10,["data-id","data-merge_ids"])))),256))]),0==s.lists.length?(e.openBlock(),e.createElementBlock("view",{key:0,class:"noData"},[e.createElementVNode("i",{class:"iconfont icon-kongshuju"}),e.createTextVNode(" 暂无数据 ")])):e.createCommentVNode("",!0)])):e.createCommentVNode("",!0),1==s.setTopKey?(e.openBlock(),e.createElementBlock("view",{key:1},[e.createElementVNode("view",{class:"lcardBox"},[e.createElementVNode("view",{class:"lbox"},[e.createElementVNode("view",{class:"title"},[e.createTextVNode(" 非团体锁牌 "),e.createElementVNode("view",{class:"sortBox"},[e.createElementVNode("i",{class:"iconfont icon-desc pxi",onClick:a[8]||(a[8]=(...e)=>i.lasc&&i.lasc(...e))}),e.createElementVNode("i",{class:"iconfont icon-asc pxi",onClick:a[9]||(a[9]=(...e)=>i.ldesc&&i.ldesc(...e))})])]),e.createElementVNode("ul",{class:"opList",id:"tuan"},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(s.leftLcardList,((t,l)=>(e.openBlock(),e.createElementBlock("li",{class:e.normalizeClass([""!==s.leftIndex&&s.leftIndex==l?"onset":""]),"data-index":l,onClick:a[10]||(a[10]=(...e)=>i.selectLeftLcard&&i.selectLeftLcard(...e))},e.toDisplayString(t.lcard_name)+"  【"+e.toDisplayString(t.room_name)+"】 ",11,["data-index"])))),256))])]),e.createElementVNode("view",{class:"rbox"},[e.createElementVNode("view",{class:"title"},[e.createTextVNode(" 团体锁牌 "),e.createElementVNode("view",{class:"sortBox"},[e.createElementVNode("i",{class:"iconfont icon-desc pxi",onClick:a[11]||(a[11]=(...e)=>i.rasc&&i.rasc(...e))}),e.createElementVNode("i",{class:"iconfont icon-asc pxi",onClick:a[12]||(a[12]=(...e)=>i.rdesc&&i.rdesc(...e))})])]),e.createElementVNode("ul",{class:"opList",id:"notuan"},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(s.rightLcardList,((t,l)=>(e.openBlock(),e.createElementBlock("li",{class:e.normalizeClass([""!==s.rightIndex&&s.rightIndex==l?"onset":""]),"data-index":l,onClick:a[13]||(a[13]=(...e)=>i.selectRightLcard&&i.selectRightLcard(...e))},e.toDisplayString(t.lcard_name)+"  【"+e.toDisplayString(t.room_name)+"】 ",11,["data-index"])))),256))])]),e.createElementVNode("ul",{class:"btnBox"},[e.createElementVNode("li",null,[e.createElementVNode("i",{class:"iconfont icon-youbian1 pxi2",onClick:a[14]||(a[14]=(...e)=>i.toRight&&i.toRight(...e))})]),e.createElementVNode("li",null,[e.createElementVNode("i",{class:"iconfont icon-arrow-double-right pxi2",onClick:a[15]||(a[15]=(...e)=>i.toRightAll&&i.toRightAll(...e))})]),e.createElementVNode("li",null,[e.createElementVNode("i",{class:"iconfont icon-fanhui pxi2",onClick:a[16]||(a[16]=(...e)=>i.toLeft&&i.toLeft(...e))})]),e.createElementVNode("li",null,[e.createElementVNode("i",{class:"iconfont icon-arrow-double-left pxi2",onClick:a[17]||(a[17]=(...e)=>i.toLeftAll&&i.toLeftAll(...e))})]),e.createElementVNode("li",{class:"layui-btn"},[t.menuPerm(195)?(e.openBlock(),e.createElementBlock("i",{key:0,class:"iconfont pxi2",onClick:a[18]||(a[18]=(...e)=>i.sureDone&&i.sureDone(...e))},"保存")):e.createCommentVNode("",!0)])])]),e.createElementVNode("view",{class:"sxtop"},[e.createElementVNode("ul",{class:"topTab"},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(s.recordSorts,((t,a)=>(e.openBlock(),e.createElementBlock("li",{class:e.normalizeClass(s.sort==t.value?"onset":""),onClick:e=>i.sortChange(t.value)},[e.createElementVNode("text",null,e.toDisplayString(t.name),1)],10,["onClick"])))),256))])]),e.createElementVNode("view",{class:"paidBox"},[e.createElementVNode("view",{class:"lists"},[e.createElementVNode("table",null,[e.createElementVNode("thead",null,[e.createElementVNode("tr",null,[e.createElementVNode("th",null,"锁牌号"),e.createElementVNode("th",null,"房间号"),e.createElementVNode("th",null,"备注")])]),e.createElementVNode("tbody",{id:"contentList"},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(s.recordList,((t,l)=>(e.openBlock(),e.createElementBlock("tr",{class:e.normalizeClass([s.token==t.token&&""!=s.token?"onset":""]),"data-index":l,onClick:a[19]||(a[19]=(...e)=>i.queryMerge&&i.queryMerge(...e))},[e.createElementVNode("td",null,e.toDisplayString(t.lcard_name),1),e.createElementVNode("td",null,e.toDisplayString(t.room_name),1),e.createElementVNode("td",null,e.toDisplayString(""==t.token?"":"团牌"),1)],10,["data-index"])))),256)),0==s.recordList.length?(e.openBlock(),e.createElementBlock("tr",{key:0},[e.createElementVNode("td",{colspan:"3"},"暂无数据")])):e.createCommentVNode("",!0)])])])])])):e.createCommentVNode("",!0)]),s.hideOptBox?(e.openBlock(),e.createElementBlock("view",{key:0,class:"openBox"},[e.createElementVNode("view",{class:"bg",onClick:a[20]||(a[20]=(...e)=>i.closeBox&&i.closeBox(...e))}),e.createElementVNode("view",{class:"cenOpen alertBox"},[0!=s.fspKey?(e.openBlock(),e.createElementBlock("view",{key:0,class:"content fsp"},[e.createElementVNode("view",{class:"title"},e.toDisplayString(s.opt.title),1),e.createElementVNode("view",{class:"openList"},[1==s.fspKey?(e.openBlock(),e.createElementBlock("view",{key:0,class:"show-box"},[e.createElementVNode("input",{class:"seaCon5 uni-input",onInput:a[21]||(a[21]=(...e)=>i.optInput&&i.optInput(...e)),type:"text","data-key":"new_room",value:s.opt.new_room,placeholder:"请输入房间号","cursor-spacing":"100"},null,40,["value"]),e.createElementVNode("text",{class:"selectBtn orange",onClick:a[22]||(a[22]=(...e)=>i.openRoomBox&&i.openRoomBox(...e))},"选择")])):e.createCommentVNode("",!0),e.createElementVNode("view",{class:"show-box"},[e.createElementVNode("input",{class:"seaCon3 uni-input",onInput:a[23]||(a[23]=(...e)=>i.optInput&&i.optInput(...e)),type:"text","data-key":"lcard_name",value:s.opt.lcard_name,placeholder:"请输入锁牌号","cursor-spacing":"100"},null,40,["value"]),s.isSaoma?(e.openBlock(),e.createElementBlock("i",{key:0,class:"iconfont icon-saoma saoma",onClick:a[24]||(a[24]=(...e)=>i.saoma&&i.saoma(...e))})):e.createCommentVNode("",!0)]),2==s.fspKey?(e.openBlock(),e.createElementBlock("text",{key:1,class:"tips red"},"*可扫码多个锁牌进行发牌，手动输入请用英文逗号隔开")):e.createCommentVNode("",!0)]),e.createElementVNode("view",{class:"orderFoot"},[e.createElementVNode("text",{class:"btn fl",onClick:a[25]||(a[25]=(...e)=>i.closeBox&&i.closeBox(...e))},"取消"),e.createElementVNode("text",{class:"btn fr",onClick:a[26]||(a[26]=(...e)=>i.fpBtnSure&&i.fpBtnSure(...e))},"确定")])])):e.createCommentVNode("",!0),0==s.setTopKey&&0==s.fspKey?(e.openBlock(),e.createElementBlock("view",{key:1,class:"content optBox"},[e.createElementVNode("view",{class:"title"},[e.createTextVNode(e.toDisplayString(s.opt.title),1),e.createElementVNode("text",{onClick:a[27]||(a[27]=(...e)=>i.closeBox&&i.closeBox(...e)),class:"iconfont icon-shanchuxuanze"})]),e.createElementVNode("view",{class:"openList"},[1==s.opt.type?(e.openBlock(),e.createElementBlock("view",{key:0,class:"show-box"},[e.createElementVNode("view",null,[e.createElementVNode("text",null,"当前房间"),e.createElementVNode("text",{class:"orange"},e.toDisplayString(s.opt.room_name),1),e.createElementVNode("text",null," , "),e.createElementVNode("text",null,"当前锁牌"),e.createElementVNode("text",{class:"orange"},e.toDisplayString(s.opt.lcard_name),1)]),e.createElementVNode("checkbox-group",{class:"selectOrderList",onChange:a[28]||(a[28]=(...e)=>i.selectOrder&&i.selectOrder(...e))},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(s.opt.orderList,((t,a)=>(e.openBlock(),e.createElementBlock("view",{class:"item",key:t.orderid},[e.createElementVNode("label",null,[e.createElementVNode("checkbox",{class:"checkbox",color:"red",value:t.orderid,checked:"true"},null,8,["value"]),e.createElementVNode("text",null,e.toDisplayString(t.p_name),1),"2438"==t.p_kind?(e.openBlock(),e.createElementBlock("text",{key:0}," x"+e.toDisplayString(t.p_num),1)):e.createCommentVNode("",!0),"2430"==t.p_kind?(e.openBlock(),e.createElementBlock("text",{key:1}," / "+e.toDisplayString(t.ser_name),1)):e.createCommentVNode("",!0)])])))),128))],32),e.createElementVNode("view",{class:"labelInputRow"},[e.createElementVNode("text",{class:"label"},"转移到房间"),e.createElementVNode("input",{class:"seaCon6",onInput:a[29]||(a[29]=(...e)=>i.optInput&&i.optInput(...e)),type:"text",placeholder:"请输入房间号","data-key":"new_room",value:s.opt.new_room},null,40,["value"]),e.createElementVNode("text",{class:"selectBtn orange",onClick:a[30]||(a[30]=(...e)=>i.openRoomBox&&i.openRoomBox(...e))},"选择")]),e.createElementVNode("view",{class:"labelInputRow"},[e.createElementVNode("text",{class:"label",onClick:a[31]||(a[31]=(...e)=>i.openLcardBox&&i.openLcardBox(...e))},"转移到锁牌"),e.createElementVNode("view",{class:"labelInputRow-sm"},[e.createElementVNode("input",{class:"seaCon61",onInput:a[32]||(a[32]=(...e)=>i.optInput&&i.optInput(...e)),type:"text",placeholder:"请输入锁牌号","data-key":"new_lcard_name",value:s.opt.new_lcard_name,"cursor-spacing":"100"},null,40,["value"]),s.isSaoma?(e.openBlock(),e.createElementBlock("i",{key:0,class:"iconfont icon-saoma saoma",onClick:a[33]||(a[33]=(...e)=>i.saoma2&&i.saoma2(...e))})):e.createCommentVNode("",!0)]),e.createElementVNode("text",{class:"selectBtn orange",onClick:a[34]||(a[34]=(...e)=>i.openLcardBox&&i.openLcardBox(...e))},"选择")])])):e.createCommentVNode("",!0),2==s.opt.type?(e.openBlock(),e.createElementBlock("view",{key:1,class:"show-box"},[e.createElementVNode("view",null,[e.createElementVNode("text",null,"当前房间"),e.createElementVNode("text",{class:"orange"},e.toDisplayString(s.opt.room_name),1),e.createElementVNode("text",null," , "),e.createElementVNode("text",null,"当前锁牌"),e.createElementVNode("text",{class:"orange"},e.toDisplayString(s.opt.lcard_name),1)]),e.createElementVNode("checkbox-group",{class:"selectOrderList",onChange:a[35]||(a[35]=(...e)=>i.selectOrder&&i.selectOrder(...e))},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(s.opt.orderList,((t,a)=>(e.openBlock(),e.createElementBlock("view",{class:"item",key:t.orderid},[e.createElementVNode("label",null,[e.createElementVNode("checkbox",{class:"checkbox",color:"red",value:t.orderid,checked:"true"},null,8,["value"]),e.createElementVNode("text",null,e.toDisplayString(t.p_name),1),"2438"==t.p_kind?(e.openBlock(),e.createElementBlock("text",{key:0}," x"+e.toDisplayString(t.p_num),1)):e.createCommentVNode("",!0),"2430"==t.p_kind?(e.openBlock(),e.createElementBlock("text",{key:1}," / "+e.toDisplayString(t.ser_name),1)):e.createCommentVNode("",!0)])])))),128))],32),e.createElementVNode("view",{class:"labelInputRow"},[e.createElementVNode("text",{class:"label",onClick:a[36]||(a[36]=(...e)=>i.openLcardBox&&i.openLcardBox(...e))},"转移到锁牌"),e.createElementVNode("view",{class:"labelInputRow-sm"},[e.createElementVNode("input",{class:"seaCon61",onInput:a[37]||(a[37]=(...e)=>i.optInput&&i.optInput(...e)),type:"text",placeholder:"请输入锁牌号","data-key":"new_lcard_name",value:s.opt.new_lcard_name,"cursor-spacing":"100"},null,40,["value"]),s.isSaoma?(e.openBlock(),e.createElementBlock("i",{key:0,class:"iconfont icon-saoma saoma",onClick:a[38]||(a[38]=(...e)=>i.saoma2&&i.saoma2(...e))})):e.createCommentVNode("",!0)]),e.createElementVNode("text",{class:"selectBtn orange",onClick:a[39]||(a[39]=(...e)=>i.openLcardBox&&i.openLcardBox(...e))},"选择")])])):e.createCommentVNode("",!0),3==s.opt.type?(e.openBlock(),e.createElementBlock("view",{key:2,class:"show-box"},[e.createElementVNode("text",null,"当前锁牌"),e.createElementVNode("text",{class:"orange"},e.toDisplayString(s.opt.lcard_name),1),e.createElementVNode("text",{class:"font"},"确定要取消发牌吗？")])):e.createCommentVNode("",!0),4==s.opt.type?(e.openBlock(),e.createElementBlock("view",{key:3,class:"show-box"},[e.createElementVNode("view",null,[e.createElementVNode("text",null,"当前锁牌"),e.createElementVNode("text",{class:"orange"},e.toDisplayString(s.opt.lcard_name),1)]),e.createElementVNode("view",{class:"labelInputRow"},[e.createElementVNode("text",{class:"label"},"输入房号"),e.createElementVNode("input",{class:"seaCon6",onInput:a[40]||(a[40]=(...e)=>i.optInput&&i.optInput(...e)),type:"text",placeholder:"请输入房间号","data-key":"new_room",value:s.opt.new_room},null,40,["value"]),e.createElementVNode("text",{class:"selectBtn orange",onClick:a[41]||(a[41]=(...e)=>i.openRoomBox&&i.openRoomBox(...e))},"选择")])])):e.createCommentVNode("",!0)]),e.createElementVNode("view",{class:"btn","data-key":s.opt.type,onClick:a[42]||(a[42]=(...e)=>i.optSure2&&i.optSure2(...e))},e.toDisplayString(s.opt.btn),9,["data-key"])])):e.createCommentVNode("",!0)])])):e.createCommentVNode("",!0),s.hideLcardMoreBox?(e.openBlock(),e.createElementBlock("view",{key:1,class:"openBox"},[e.createElementVNode("view",{class:"bg",onClick:a[43]||(a[43]=(...e)=>i.closeBox&&i.closeBox(...e))}),e.createElementVNode("view",{class:"cenOpen"},[e.createElementVNode("view",{class:"content"},[e.createElementVNode("view",{class:"title"},[e.createTextVNode("操作"),e.createElementVNode("text",{onClick:a[44]||(a[44]=(...e)=>i.closeBox&&i.closeBox(...e)),class:"iconfont icon-shanchuxuanze"})]),e.createElementVNode("ul",{class:"meunList1"},[t.menuPerm(160)&&s.opt.room_name&&s.opt.job_num?(e.openBlock(),e.createElementBlock("li",{key:0,"data-type":"1",onClick:a[45]||(a[45]=(...e)=>i.lcardMoreOp&&i.lcardMoreOp(...e))},[e.createElementVNode("i",{class:"iconfont icon-qiehuanchengshi"}),e.createElementVNode("view",{class:"opSubTitle"},"换房")])):e.createCommentVNode("",!0),t.menuPerm(161)?(e.openBlock(),e.createElementBlock("li",{key:1,"data-type":"2",onClick:a[46]||(a[46]=(...e)=>i.lcardMoreOp&&i.lcardMoreOp(...e))},[e.createElementVNode("i",{class:"iconfont icon-shengqian"}),e.createElementVNode("view",{class:"opSubTitle"},"换牌")])):e.createCommentVNode("",!0),t.menuPerm(162)?(e.openBlock(),e.createElementBlock("li",{key:2,"data-type":"3",onClick:a[47]||(a[47]=(...e)=>i.lcardMoreOp&&i.lcardMoreOp(...e))},[e.createElementVNode("i",{class:"iconfont icon-guanji"}),e.createElementVNode("view",{class:"opSubTitle"},"消牌")])):e.createCommentVNode("",!0),t.menuPerm(163)?(e.openBlock(),e.createElementBlock("li",{key:3,onClick:a[48]||(a[48]=(...e)=>i.goLcardMerge&&i.goLcardMerge(...e))},[e.createElementVNode("i",{class:"iconfont icon-54"}),e.createElementVNode("view",{class:"opSubTitle"},"合牌")])):e.createCommentVNode("",!0),t.menuPerm(164)?(e.openBlock(),e.createElementBlock("li",{key:4,"data-type":"4",onClick:a[49]||(a[49]=(...e)=>i.lcardMoreOp&&i.lcardMoreOp(...e))},[e.createElementVNode("i",{class:"iconfont icon-ico_getiaozhongxin_xiaoshoukaidan"}),e.createElementVNode("view",{class:"opSubTitle"},"开单")])):e.createCommentVNode("",!0)])])])])):e.createCommentVNode("",!0),e.createVNode(c,{isOpen:s.isOpenLcardBox,onClose:i.closeLcardBox},{default:e.withCtx((()=>[2==s.isOpenLcardBoxType?(e.openBlock(),e.createElementBlock("view",{key:0,class:"selectLcardBox"},[e.createElementVNode("view",{class:"title"},[e.createElementVNode("text",{class:e.normalizeClass(0==s.selectLcardType?"s-top sel_suo":"s-top"),"data-type":"0",onClick:a[50]||(a[50]=(...e)=>i.changeSelectLcardType&&i.changeSelectLcardType(...e))},"全新锁牌",2),e.createElementVNode("text",{class:e.normalizeClass(1==s.selectLcardType?"s-top sel_suo":"s-top"),"data-type":"1",onClick:a[51]||(a[51]=(...e)=>i.changeSelectLcardType&&i.changeSelectLcardType(...e))},"已发锁牌",2),e.createElementVNode("i",{onClick:a[52]||(a[52]=(...e)=>i.closeLcardBox&&i.closeLcardBox(...e)),class:"iconfont icon-shanchuxuanze"})]),e.createElementVNode("view",{class:"meunList"},[1==s.selectLcardType?(e.openBlock(),e.createElementBlock("view",{key:0,class:"orange"},"正在使用的锁牌！")):e.createCommentVNode("",!0),0==s.selectLcardType?(e.openBlock(),e.createElementBlock("view",{key:1,class:"orange"},"发新锁牌！")):e.createCommentVNode("",!0),1==s.selectLcardType?(e.openBlock(),e.createElementBlock("view",{key:2,class:"menuTypeBox"},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(s.lcardList.useList,((t,l)=>(e.openBlock(),e.createElementBlock("view",{class:"li",key:t.id,"data-index":l,onClick:a[53]||(a[53]=(...e)=>i.selectLcard&&i.selectLcard(...e))},[e.createElementVNode("text",null,e.toDisplayString(t.title),1)],8,["data-index"])))),128))])):e.createCommentVNode("",!0),0==s.selectLcardType?(e.openBlock(),e.createElementBlock("view",{key:3,class:"menuTypeBox"},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(s.lcardList.noUseList,((t,l)=>(e.openBlock(),e.createElementBlock("view",{class:"li",key:t.id,"data-index":l,onClick:a[54]||(a[54]=(...e)=>i.selectLcard&&i.selectLcard(...e))},[e.createElementVNode("text",null,e.toDisplayString(t.title),1)],8,["data-index"])))),128))])):e.createCommentVNode("",!0)])])):e.createCommentVNode("",!0),1==s.isOpenLcardBoxType?(e.openBlock(),e.createElementBlock("view",{key:1,class:"selectLcardBox"},[e.createElementVNode("view",{class:"title"},[e.createElementVNode("text",{class:"s-top sel_suo"},"房间列表"),e.createElementVNode("i",{onClick:a[55]||(a[55]=(...e)=>i.closeLcardBox&&i.closeLcardBox(...e)),class:"iconfont icon-shanchuxuanze"})]),e.createElementVNode("view",{class:"meunList"},[e.createElementVNode("view",{class:"searchBox"},[e.createElementVNode("input",{class:"queryTxt",onInput:a[56]||(a[56]=(...e)=>i.optInput&&i.optInput(...e)),value:s.seach,"data-key":"seach",placeholder:"请输入房间号"},null,40,["value"]),""!=s.seach?(e.openBlock(),e.createElementBlock("i",{key:0,class:"iconfont icon-shanchuxuanze clearSearch",onClick:a[57]||(a[57]=e=>i.clearSeach(2))})):e.createCommentVNode("",!0),e.createElementVNode("view",{class:"queryBtn",onClick:a[58]||(a[58]=e=>i.seachData(2))},"查询")]),e.createElementVNode("radio-group",{class:"menuTypeBox menuroomBox",onChange:a[59]||(a[59]=(...e)=>i.radioChangeRoom&&i.radioChangeRoom(...e))},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(s.roomItem,((t,a)=>(e.openBlock(),e.createElementBlock("label",{key:t.id},[e.createElementVNode("view",{class:e.normalizeClass(s.opt.new_room_id==t.id?"li sel_suo":"li")},[e.createElementVNode("radio",{value:t.id,class:"radioBtn",style:{transform:"scale(0.7)"},color:"#ff8100",checked:s.opt.new_room_id==t.id},null,8,["value","checked"]),e.createElementVNode("text",null,e.toDisplayString(t.title),1)],2)])))),128)),0==s.roomItem.length?(e.openBlock(),e.createElementBlock("view",{key:0,class:"noData"},[e.createElementVNode("i",{class:"iconfont icon-kongshuju"}),e.createTextVNode(" 暂无房间 ")])):e.createCommentVNode("",!0)],32)])])):e.createCommentVNode("",!0)])),_:1},8,["isOpen","onClose"]),e.createVNode(c,{isOpen:s.isOpenCusShowBox,onClose:i.closeCusShowBox},{default:e.withCtx((()=>[e.createElementVNode("view",{class:"prompt-title"},[e.createTextVNode("更多筛选"),e.createElementVNode("text",{class:"iconfont icon-guanbi close-icon red",onClick:a[60]||(a[60]=(...e)=>i.closeCusShowBox&&i.closeCusShowBox(...e))})]),e.createElementVNode("view",{class:"cusShowBoxCon"},[e.createElementVNode("view",{class:e.normalizeClass(["item",1==s.notXuNi?"selected":""]),onClick:a[61]||(a[61]=(...e)=>i.showXuNi&&i.showXuNi(...e))},[e.createElementVNode("text",{class:e.normalizeClass(["iconfont",1==s.notXuNi?"icon-xuanzhong":"icon-weixuanzhong"])},null,2),e.createTextVNode("隐藏虚拟锁牌")],2)])])),_:1},8,["isOpen","onClose"])],64)}]]);var W;const K=n({components:{},data:()=>({title:"房间详情",id:"",hideBox121:!1,hideBox:!1,hideMeunBox:!1,hideOptBox2:!1,hideGaiShi:!1,hideLcardMoreBox:!1,lcardMoreBoxIndex:"",room:{},list:[],dbList:[],order:{},setSp:[],hideOptBox:!1,opt:{title:"换房",btn:"确定",type:1,room_name:"",lcard_name:"",lcard_id:0,lcard_remark:"",reason:"",new_ser_id:"",new_p_id:"",new_tj_id:"",new_xd_id:"",new_yx_id:"",new_room:"",new_lcard_name:"",jobNum:"",db_id:"",user_name:"",dayin:1,gaiTime:0,orderIds:[],orderList:[],timing_hour:"0",timing_min:"0",timing_hf_time:""},gradeList:[],isGrade:0,serTypeList:[],remarkList:[],reasonList:[],reason:"",freeRemark:"",isOpenLcardBox:!1,lcardList:{useList:[],noUseList:[]},selectLcardType:1,tipsList:[],hidejsBox:!1,jsList:[],isSaoma:!0,mergeLcardTipsList:[],isOpenMergeTipsBox:!1,totalTipsMoney:"",isOpenTipsOpBox:!1,tipsMoney:"",tipsOrder:{},changeRoomSetLcard:0,yxAppGaiTui:0,yueJieLcardIds:[],showConfig:{},timeList:[]}),onLoad(e){W=getApp(),uni.setNavigationBarTitle({title:"房间详情"}),this.id=e.id},onShow(){this.getData(),this.closeBox()},methods:{goYuyue:function(){uni.navigateTo({url:"/pages/addyuyue/addyuyue?roomId="+this.id})},goMerge:function(){uni.navigateTo({url:"/pages/roommerge/roommerge?id="+this.id})},goBudan:function(){uni.navigateTo({url:"/pages/budan/budan?id="+this.id+"&name="+this.room.name})},getData(){let e=this,t={roomId:e.id};W.goPost("dingdan/getDetail",t,(function(t){uni.setNavigationBarTitle({title:"房间详情（"+t.room.name+"）"}),e.list=t.list,e.room=t.room,e.gradeList=t.gradeList,e.isGrade=t.isGrade,e.serTypeList=t.serTypeList,e.remarkList=t.remarkList,e.reasonList=t.reasonList,e.dbList=t.dbList,e.setSp=t.spList,e.ordList=t.ordList,e.mergeLcardTipsList=t.mergeLcardTipsList,e.yxAppGaiTui=t.yxAppGaiTui,e.showConfig=t.showConfig,e.timeList=t.timeList,e.remarkList.length>0&&0==e.hideBox121&&(e.hideBox121=!0,e.showBox(121))}))},qidai:function(e){W.showMsg("敬请期待")},changeRevoke:function(e){var t=e.currentTarget.dataset.val;this.opt.reason=t},radioChange(e){let t=e.detail.value,a=e.currentTarget.dataset.key;this.opt[a]=t},changeSetSp:function(e){let t=this.$data.list[e].lcard_id,a=this.$data.setSp,l=a.indexOf(t);-1===l?a.push(t):a.splice(l,1),this.setSp=a},closeBox:function(){this.hideBox=!1,this.hideMeunBox=!1,this.hideOptBox=!1,this.hideOptBox2=!1,this.hideLcardMoreBox=!1,0==this.opt.openSource&&(this.isOpenMergeTipsBox=!1,this.totalTipsMoney="",this.tipsOrder={},this.tipsMoney="",this.opt={title:"换房",btn:"确定",type:1,room_name:"",lcard_name:"",lcard_id:0,lcard_remark:"",reason:"",new_ser_id:"",new_p_id:"",new_tj_id:"",new_room:"",new_lcard_name:"",jobNum:"",db_id:"",user_name:"",dayin:1,orderIds:[],orderList:[],newPrice:"",newPriceRemark:"",openSource:0,timing_hour:"0",timing_min:"0",timing_hf_time:""}),this.opt.openSource=0},openMeunBox:function(){this.hideMeunBox=!0},openLcardMoreBox(e){this.lcardMoreBoxIndex=e.currentTarget.dataset.index,this.hideLcardMoreBox=!0},lcardMoreOp(e){let t=e.currentTarget.dataset.type;this.closeBox(),this.optFun(t,this.lcardMoreBoxIndex)},goOpen:function(){uni.navigateTo({url:"/pages/roomopen/roomopen?id="+this.id}),this.closeBox()},goStatus:function(){uni.navigateTo({url:"/pages/roomstatus/roomstatus?id="+this.id}),this.closeBox()},openBox:function(e){let t=this,l=e.currentTarget.dataset.index,o=e.currentTarget.dataset.index2,n=t.list[l].list[o];t.order=W.copyObject(n);let s={title:"换房",type:e,btn:"确定更换",lcard_name:t.list[l].origin_lcard_name,lcard_id:t.list[l].id,lcard_remark:"",reason:"",new_ser_id:"",new_p_id:"",new_tj_id:"",new_room:"",new_lcard_name:"",jobNum:"",db_id:"",user_name:"",dayin:1,orderIds:[],orderList:[],newPrice:"",newPriceRemark:"",openSource:0,timing_hour:"0",timing_min:"0",timing_hf_time:""};this.hideBox=!0,this.opt=s,a("log","at pages/roominfo/roominfo.vue:1075",s)},optFun:function(e,t){let a=this,l=a.list[t],o=l.id,n={title:"换房",type:e,btn:"确定更换",room_name:l.room_name,lcard_name:l.origin_lcard_name,lcard_id:o,lcard_remark:"",reason:"",new_ser_id:"",new_p_id:"",new_tj_id:"",new_room:"",new_lcard_name:"",jobNum:"",db_id:"",user_name:"",dayin:1,orderIds:[],orderList:[],newPrice:"",newPriceRemark:"",openSource:0,timing_hour:"0",timing_min:"0",timing_hf_time:""};if(1==e){n.title="更换房间";let e="order/getchangeroomdata",t={lcardName:n.lcard_name};W.goPost(e,t,(function(e){let t=e.list;if(a.changeRoomSetLcard=e.changeRoomSetLcard,t.length>0){a.opt.orderList=t;for(let e in t)a.opt.orderIds.push(t[e].orderid)}}))}else if(2==e){n.title="更换锁牌";let e="order/getchangeroomdata",t={lcardName:n.lcard_name};W.goPost(e,t,(function(e){let t=e.list;if(t.length>0){a.opt.orderList=t;for(let e in t)a.opt.orderIds.push(t[e].orderid)}}))}else{if(12==e){n.lcard_remark="";let e="suopai/getRemark",t={lcard_id:o};return W.goPost(e,t,(function(e){a.remarkList=W.copyObject(e.remarkList)})),a.opt=n,a.showBox(12),!1}n.title="取消发牌",n.btn="确定"}this.hideOptBox=!0,this.hideBox=!1,this.opt=n},showBox(e){let t=this,a=t.list,l=this.$data.opt;if(l.type=e,this.closeBox(),4==e)l.title="更换技师";else if(5==e)l.title="修改推荐人",l.new_xd_id=t.order.xd_name,l.new_tj_id=t.order.tj_name,l.new_yx_id=t.order.yx_name;else if(6==e)l.title="更换项目";else if(7==e)l.title="撤销订单";else if(8==e)l.title="修改上钟方式";else if(9==e)l.title="";else if(10==e)l.title="";else if(11==e)l.title="发牌";else if(12==e)l.title="锁牌备注";else if(13==e)l.title="挂单";else if(14==e)l.title="结账离场";else if(15==e)l.title="";else{if(16==e)return this.openGaishi(),this.hideBox=!1,this.opt=l,!1;if(17==e)l.title="返上钟";else if(18==e)l.title="撤销赠送";else if(19==e)l.title="赠送";else if(20==e){l.title="设置小费",l.tipsPrice="";let e="order/gettipslist",a={orderid:t.order.orderid};W.goPost(e,a,(function(e){t.tipsList=e.tipsList}))}else if(21==e){l.title="追加小费",l.tipsPrice="";let e="order/gettipslist",a={orderid:t.order.orderid,type:"add"};W.goPost(e,a,(function(e){t.tipsList=e.tipsList}))}else if(22==e)l.title="改价",l.newPrice="",l.newPriceRemark="";else if(23==e)l.title="项目优惠",l.newPrice="",l.newPriceRemark="";else if(25==e){l.title="选择预结锁牌",t.yueJieLcardIds=[];for(let e in a)t.yueJieLcardIds.push(a[e].id)}else 26==e?l.title="暂停计时":27==e?l.title="继续计时":28==e?l.title="结束计时":29==e?l.title="恢复计时":121==e?l.title="备注":t.qidai()}this.hideOptBox2=!0,this.hideBox=!1,this.opt=l},optSure:function(e){let t=this,l=e.currentTarget.dataset.key,o=t.$data.id,n=t.$data.opt,s=t.$data.order,i=t.$data.setSp,c=t.$data.list,r=t.$data.dbList,d="",m="",u={},p=0,h="";if(1==l){if(n.orderIds.length<1)return W.showMsg("请先选择订单"),!1;if(n.orderIds.length!=n.orderList.length&&""==n.new_lcard_name){if(1==t.changeRoomSetLcard)return W.showMsg("换房只换部分订单时，需要选择真实锁牌"),!1;p=1,h="部分项目换房，可能存在风险，系统将为您发放虚拟锁牌"}m="房间更换",d="order/changeroom",u={oldLcardName:n.lcard_name,newRoomName:n.new_room,newLcardName:n.new_lcard_name,orderIds:n.orderIds.join(",")}}else if(2==l){if(n.orderIds.length<1)return W.showMsg("请先选择订单"),!1;m="锁牌更换",d="order/changesp",u={oldLcardName:n.lcard_name,newLcardName:n.new_lcard_name,orderIds:n.orderIds.join(",")}}else if(3==l)m="消牌",d="suopai/cancel",u={lcardId:n.lcard_id};else if(7==l)m="撤销",d="order/cancel",u={orderid:s.orderid,reason:n.reason},1==n.openSource&&(u.orderid=t.tipsOrder.orderid);else if(8==l)m="改钟",d="order/changesertype",u={orderid:s.orderid,serType:s.ser_type};else if(4==l)m="更换技师",d="order/changejs",u={orderid:s.orderid,serType:s.ser_type,jobNum:n.jobNum,serGrade:s.ser_grade,serSex:s.ser_sex};else if(5==l)m="修改推荐人",d="order/changetj",u={orderid:s.orderid,tj_id:n.new_tj_id,xd_id:n.new_xd_id,yx_id:n.new_yx_id};else if(6==l)m="更换项目",d="order/changeproject",u={orderid:s.orderid,pid:n.new_p_id};else{if(9==l)return t.jsDoWorkFun(9),!1;if(10==l)return t.jsDoWorkFun(10),!1;if(11==l)m="发牌",d="suopai/setsp",u={roomId:t.id,lcardName:n.new_lcard_name};else if(12==l)m="备注",d="suopai/setremark",u={lcardId:n.lcard_id,remark:n.lcard_remark};else if(13==l){m="挂单",d="dingdan/guaOrder",i=i.length>0?i.join(","):"";let e=""!==n.db_id?r[n.db_id].id:"";u={db_id:e,userName:n.user_name,remark:n.lcard_remark,spId:i,roomId:o}}else if(14==l)m="结账离场",d="shouyin/finishOrder",i=i.length>0?i.join(","):"",u={spId:i,dayin:n.dayin};else if(15==l){m="开单小票打印",d="order/dayin";let e=[];if(c.forEach(((t,a)=>{t.list.forEach(((t,a)=>{-1===e.indexOf(t.orderid)&&e.push(t.orderid)}))})),0==e.length)return W.showMsg("请先开单"),!1;u={ids:e.join(","),type:1}}else if(17==l)m="恢复上钟",d="order/resetWork",u={orderid:s.orderid};else if(18==l)m="撤销赠送",d="order/changefree",u={orderid:s.orderid,status:0},1==n.openSource&&(u.orderid=t.tipsOrder.orderid);else if(19==l)m="赠送",d="order/changefree",u={orderid:s.orderid,status:1,freeRemark:t.freeRemark},1==n.openSource&&(u.orderid=t.tipsOrder.orderid);else if(20==l)m="设置小费",d="order/settips",u={orderid:s.orderid,price:n.tipsPrice};else if(21==l)m="设置小费",d="order/addtips",u={orderid:s.orderid,price:n.tipsPrice};else if(22==l)m="改价",d="order/changeprice",u={orderid:s.orderid,price:n.newPrice,remark:n.newPriceRemark};else if(23==l)m="操作",d="order/projectdiscount",u={orderid:s.orderid,money:n.newPrice,remark:n.newPriceRemark};else if(25==l){if(m="发送打印",d="order/dayin",t.yueJieLcardIds.length<1)return W.showMsg("请先选择锁牌"),!1;let e=[];a("log","at pages/roominfo/roominfo.vue:1561",t.yueJieLcardIds);for(let a in c)if(t.yueJieLcardIds.indexOf(c[a].lcard_id)>-1)for(let t in c[a].list)e.push(c[a].list[t].orderid);u={ids:e.join(","),type:15}}else if(26==l)m="操作",d="timing/stop",u={orderid:s.orderid,hour:n.timing_hour,min:n.timing_min,remark:n.lcard_remark};else if(27==l)m="操作",d="timing/start",u={orderid:s.orderid};else if(28==l)m="操作",d="timing/end",u={orderid:s.orderid};else{if(29!=l)return 121==l?(t.closeBox(),!1):(this.qidai(),!1);m="操作",d="timing/restart",u={orderid:s.orderid}}}p?uni.showModal({title:"温馨提示",content:h,success(e){e.confirm&&W.goPost(d,u,(function(e){W.showMsg(m+"成功"),setTimeout((function(){t.getData(),t.opt.openSource=0,t.closeBox()}),1e3)}))}}):W.goPost(d,u,(function(e){W.showMsg(m+"成功"),setTimeout((function(){t.getData(),t.opt.openSource=0,t.closeBox()}),1e3)}))},optInput:function(e){let t=e.detail.value,a=this.$data.opt,l=a.type,o=e.currentTarget.dataset.key;1==l?a[o]=t:2==l?a.new_lcard_name=t:4==l?a.jobNum=t:5==l?a[o]=t:6==l?a.new_p_id=t:7==l?a.reason=t:11==l?a.new_lcard_name=t:13==l?a.user_name=t:16==l?a.gaiTime=t:19==l?this.freeRemark=t:a[o]=t,this.opt=a},bindTextAreaBlur:function(e){let t=this.$data.opt;t.lcard_remark=e.detail.value,this.opt=t},clearRemark:function(){let e=this.$data.opt;e.lcard_remark="",this.opt=e},jsDoWorkFun(e){let t=this,l=t.order,o=9==e?"上钟":"下钟";if(!l.hasOwnProperty("orderid"))return W.showMsg("操作异常，请刷新页面"),!1;let n="Tech/finishWork";9==e&&(n="Tech/doWork");let s={order_id:l.orderid,jsId:l.ser_id};W.goPost(n,s,(function(e){a("log","at pages/roominfo/roominfo.vue:1743",e),W.showMsg(o+"成功"),t.getData()})),t.closeBox()},ser_type:function(e,t){let a=this.order;"ser_type"==t||"ser_type"==t?a.ser_type=e:"ser_grade"==t?a.ser_grade=e:a.ser_sex=e,this.order=a},openProject:function(){let e=this,t=e.order;e.opt;let l="/pages/roomitemsel/roomitemsel?id="+this.id,o={type:"2430",jsid:t.ser_id,id:t.p_id,orderid:t.orderid,name:t.name,new_name:t.name};a("log","at pages/roominfo/roominfo.vue:1768",o),uni.navigateTo({url:l,success:function(t){e.closeBox(),a("log","at pages/roominfo/roominfo.vue:1774","postGoods"),a("log","at pages/roominfo/roominfo.vue:1775",o),t.eventChannel.emit("postGoods",o)}})},openJiashiProject:function(){let e="/pages/roomitemadd/roomitemadd?seltype=2430&orderid="+this.order.orderid;uni.navigateTo({url:e})},selectDb:function(e){let t=e.detail.value;a("log","at pages/roominfo/roominfo.vue:1794",t),this.opt.db_id=t},openGaishi:function(){this.hideGaiShi=!0},closeGaishi:function(){this.hideGaiShi=!1},sureGaiTime:function(e){let t=this,a=t.$data.opt,l=t.$data.order,o=e.currentTarget.dataset.type,n={};n={orderid:l.orderid,time:a.gaiTime,type:o},W.goPost("order/changeTime",n,(function(){t.closeGaishi(),t.getData()}))},selectOrder(e){this.opt.orderIds=e.detail.value},selectLcardForYueJie(e){this.yueJieLcardIds=e.detail.value},openLcardBox(){let e=this,t=e.opt;if(""==t.new_room&&1==t.type)return W.showMsg("请先输入房间号"),!1;let a={roomName:t.new_room};W.goPost("dingdan/getlcardlist",a,(function(t){e.lcardList.useList=t.useList,e.lcardList.noUseList=t.noUseList,e.isOpenLcardBox=!0}))},closeLcardBox(){this.isOpenLcardBox=!1,this.lcardList.useList=[],this.lcardList.noUseList=[]},selectLcard(e){let t,a=this,l=a.opt,o=e.currentTarget.dataset.index;t=1==a.selectLcardType?a.lcardList.useList[o]:a.lcardList.noUseList[o],(1==l.type||2==l.type)&&(a.opt.new_lcard_name=t.title),a.closeLcardBox()},changeSelectLcardType(e){let t=e.currentTarget.dataset.type;this.selectLcardType=t},selectTipsPrice(e){let t=e.currentTarget.dataset.value;this.opt.tipsPrice=t},goLcardMerge(){uni.navigateTo({url:"/pages/lcardmerge/lcardmerge"})},ser_jobNum:function(){var e=this,t={ser_type:e.order.ser_type,pid:e.order.p_id};W.goPost("Staffinfo/getJsInfo",t,(function(t,a){e.jsList=t})),e.hidejsBox=!0},radioChangeJs:function(e){var t=e.detail.value,a=this.$data.opt;a.jobNum=t,this.opt=a,this.closeBox2()},jobNumInput:function(e){var t=this.jsList,a=e.detail.value;for(var l in t){-1!=t[l].job_num.indexOf(a)?t[l].is_show=!0:t[l].is_show=!1}this.jsList=t},closeBox2:function(){this.hidejsBox=!1},saoma:function(){let e=this.$data.opt;W.saomaCode((function(t){var a={info:t};W.goPost("Lcard/getQrLcard2",a,(function(t){e.new_lcard_name=t}))}))},openMergeTipsBox(e){let t=this,a=e.currentTarget.dataset.index,l=e.currentTarget.dataset.index2,o=t.list[a].list[l];t.order=W.copyObject(o);let n={orderid:o.orderid,type:"merge"};W.goPost("order/gettipslist",n,(function(e){let a=e.data;if(a.length>0){t.opt.orderList=a;for(let e in a)0==a[e].pay_status&&t.opt.orderIds.push(a[e].orderid)}t.isOpenMergeTipsBox=!0}))},setTotalTips(){let e=this,t=e.opt;if(e.order,e.totalTipsMoney,t.orderIds.length<1)return W.showMsg("请选择要修改的小费记录"),!1;let a={orderid:t.orderIds.join(","),money:e.totalTipsMoney,op:"setTotalTips"};W.goPost("order/settips",a,(function(t){W.showMsg("操作成功","success"),setTimeout((function(){e.closeBox(),e.getData()}),1500)}))},openTipsOpBox(e){let t=this,a=t.opt,l=e.currentTarget.dataset.index;t.tipsOrder=W.copyObject(a.orderList[l]),t.isOpenTipsOpBox=!0},closeTipsOpBox(){this.tipsOrder={},this.tipsMoney="",this.isOpenTipsOpBox=!1},doTipsOp(e){let t=this,a=e.currentTarget.dataset.type,l=7,o="撤销订单";"zs"==a?(l=19,o="赠送"):"cxzs"==a&&(l=18,o="撤销赠送"),t.opt.type=l,t.opt.title=o,t.opt.openSource=1,this.hideOptBox2=!0,this.isOpenTipsOpBox=!1},selectTime(e){console.log();let t=e.currentTarget.dataset.key;this.opt[t]=e.detail.value,"timing_hour"!=t&&"timing_min"!=t||this.countHfTime()},countHfTime(){let e=parseInt(this.opt.timing_hour),t=parseInt(this.opt.timing_min),a="";if(e+t>0){let l=W.getTimestamp()+3600*e+60*t;a=W.jsDate("m/d H:i",l)}this.opt.timing_hf_time=a}}},[["render",function(t,a,o,n,s,i){const c=l(e.resolveDynamicComponent("ydPromptBottom"),b);return e.openBlock(),e.createElementBlock(e.Fragment,null,[e.createElementVNode("view",{class:"topTitleBox"},[e.createElementVNode("view",{class:"titleName"},"暂无消息"),e.createElementVNode("view",{class:"tipsIcon"},[e.createElementVNode("i",{class:"iconfont icon-beizhu-biaozhu-12"})])]),s.mergeLcardTipsList.length>0?(e.openBlock(),e.createElementBlock("view",{key:0,class:"topTitleBox mergeTips"},[e.createElementVNode("view",{class:"titleName"},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(s.mergeLcardTipsList,(t=>(e.openBlock(),e.createElementBlock("view",{class:"txt red"},e.toDisplayString(t),1)))),256))]),e.createElementVNode("view",{class:"tipsIcon"},[e.createElementVNode("i",{class:"iconfont icon-gantanhao red"})])])):e.createCommentVNode("",!0),e.createElementVNode("view",{class:"listBox"},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(s.list,((l,o)=>(e.openBlock(),e.createElementBlock("view",{class:"allModelBox",key:l.id},[e.createElementVNode("view",{class:"modelTop"},[e.createElementVNode("view",{class:"modelLeft",onClick:e=>i.changeSetSp(o)},[e.createElementVNode("i",{class:e.normalizeClass(["iconfont icon-xuanzhong setSpBtn",-1!==s.setSp.indexOf(l.lcard_id)||l.list.length<1?"green":""])},null,2)],8,["onClick"]),e.createElementVNode("view",{class:"modelTitle",onClick:e=>i.changeSetSp(o)},[e.createTextVNode(e.toDisplayString(l.origin_lcard_name),1),1==l.is_other_room?(e.openBlock(),e.createElementBlock("text",{key:0,class:"red"},"【组合单】")):e.createCommentVNode("",!0),1==l.is_merge_lcard?(e.openBlock(),e.createElementBlock("text",{key:1,class:"red"},"【同行】")):e.createCommentVNode("",!0)],8,["onClick"]),e.createElementVNode("view",{class:"modelRight"},[t.menuPerm(33)?(e.openBlock(),e.createElementBlock("view",{key:0,class:"rightinfo",onClick:e=>i.optFun(12,o)},[e.createElementVNode("i",{class:"iconfont icon-beizhu-biaozhu-12"}),e.createTextVNode("备注")],8,["onClick"])):e.createCommentVNode("",!0),e.createElementVNode("view",{class:"rightinfo","data-index":o,onClick:a[0]||(a[0]=(...e)=>i.openLcardMoreBox&&i.openLcardMoreBox(...e))},[e.createElementVNode("i",{class:"iconfont icon-caidan"}),e.createTextVNode("更多")],8,["data-index"])])]),l.list.length>0?(e.openBlock(!0),e.createElementBlock(e.Fragment,{key:0},e.renderList(l.list,((t,n)=>(e.openBlock(),e.createElementBlock("view",{key:l.orderid,class:e.normalizeClass(0==n?"modelList no-top":"modelList")},[e.createElementVNode("view",{class:"modelp"},[e.createElementVNode("view",{class:"pleft2"},[e.createElementVNode("text",{class:"f-2c"},e.toDisplayString(t.name),1),1==t.p_price_type?(e.openBlock(),e.createElementBlock("text",{key:0,class:"red"}," ("+e.toDisplayString(1==t.p_add_type?"加钟":"加首钟")+")",1)):e.createCommentVNode("",!0),t.p_price_type>1&&1!=t.is_merge_tips?(e.openBlock(),e.createElementBlock("text",{key:1,class:"red"}," (小费)")):e.createCommentVNode("",!0),t.duration>0?(e.openBlock(),e.createElementBlock("text",{key:2}," / "+e.toDisplayString(t.duration)+"分钟",1)):e.createCommentVNode("",!0),t.num>1?(e.openBlock(),e.createElementBlock("text",{key:3,class:"num-css"}," X"+e.toDisplayString(t.num),1)):e.createCommentVNode("",!0)]),e.createElementVNode("view",{class:"pright2"},[e.createElementVNode("text",{class:"f-2c mr"},"￥"+e.toDisplayString(t.should_pay),1),e.createElementVNode("text",{class:e.normalizeClass(t.pay_status_color)},e.toDisplayString(t.pay_status_text),3)])]),e.createElementVNode("view",{class:"modelp"},[e.createElementVNode("view",{class:"pleft"},"开单人："+e.toDisplayString(t.xd_name),1),e.createElementVNode("view",{class:"pleft pleft-m"},"推荐人："+e.toDisplayString(t.tj_name),1),e.createElementVNode("view",{class:"pright"},"开单时间："+e.toDisplayString(t.addtime),1)]),"2430"==t.p_kind?(e.openBlock(),e.createElementBlock("view",{key:0,class:"modelp"},[e.createElementVNode("view",{class:"pleft"},[e.createTextVNode("技   师："),e.createElementVNode("text",{class:"green"},[e.createTextVNode(e.toDisplayString(t.ser_name),1),e.createElementVNode("text",{class:"red"},"/"+e.toDisplayString(t.ser_type),1)])]),e.createElementVNode("view",{class:"pleft pleft-m"},[e.createTextVNode("状   态："),e.createElementVNode("text",{class:e.normalizeClass(t.p_status_color)},e.toDisplayString(t.p_status_text),3)]),e.createElementVNode("view",{class:"pright"},"上钟时间："+e.toDisplayString(t.ser_start_time),1)])):e.createCommentVNode("",!0),"2438"==t.p_kind?(e.openBlock(),e.createElementBlock("view",{key:1,class:"modelp"},["2438"==t.p_kind?(e.openBlock(),e.createElementBlock("view",{key:0,class:"pleft"},[e.createTextVNode("出品人："),e.createElementVNode("text",{class:"green"},e.toDisplayString(t.cp_name),1)])):e.createCommentVNode("",!0),e.createElementVNode("view",{class:"pleft pleft-m"},[e.createTextVNode("状   态："),e.createElementVNode("text",{class:e.normalizeClass(t.p_status_color)},e.toDisplayString(t.p_status_text),3)]),e.createElementVNode("view",{class:"pright"},"出品时间："+e.toDisplayString(t.cp_time),1)])):e.createCommentVNode("",!0),"2438"!=t.p_kind&&"2430"!=t.p_kind?(e.openBlock(),e.createElementBlock("view",{key:2,class:"modelp"},[e.createElementVNode("view",{class:"pleft"},"房间号："+e.toDisplayString(l.room_name),1),e.createElementVNode("view",{class:"pleft pleft-m"},[e.createTextVNode("状   态："),e.createElementVNode("text",{class:e.normalizeClass(t.p_status_color)},e.toDisplayString(t.p_status_text),3)]),1==t.is_free?(e.openBlock(),e.createElementBlock("view",{key:0},[e.createElementVNode("view",{class:"free-zs"},"赠")])):e.createCommentVNode("",!0)])):e.createCommentVNode("",!0),"2438"==t.p_kind||"2430"==t.p_kind?(e.openBlock(),e.createElementBlock("view",{key:3,class:"modelp"},[e.createElementVNode("view",{class:"pleft"},"房间号："+e.toDisplayString(l.room_name),1),e.createElementVNode("view",{class:"pleft pleft-m"},"原房号："+e.toDisplayString(t.origin_room_name),1),""!=t.remain_time?(e.openBlock(),e.createElementBlock("view",{key:0,class:"pright"},"剩余时长："+e.toDisplayString(t.remain_time),1)):e.createCommentVNode("",!0),""!=t.ser_duration?(e.openBlock(),e.createElementBlock("view",{key:1,class:"pright"},"实际时长："+e.toDisplayString(t.ser_duration),1)):e.createCommentVNode("",!0),1==t.is_free?(e.openBlock(),e.createElementBlock("view",{key:2},[e.createElementVNode("view",{class:e.normalizeClass(["free-zs","2430"==t.p_kind?"r0":""])},"赠",2)])):e.createCommentVNode("",!0)])):e.createCommentVNode("",!0),e.createElementVNode("view",{class:"modelfoot"},["2430"==t.p_kind&&t.p_price_type<2?(e.openBlock(),e.createElementBlock(e.Fragment,{key:0},[e.createElementVNode("view",{class:"modelLeft"},[e.createElementVNode("i",{class:"iconfont icon-shichang"})]),e.createElementVNode("view",{class:"modelLeft m2"},"下钟时间："+e.toDisplayString(t.ser_end_time),1)],64)):e.createCommentVNode("",!0),e.createElementVNode("view",{class:"modelRight"},[1==t.is_merge_tips&&t.num>1?(e.openBlock(),e.createElementBlock("i",{key:0,class:"iconfont icon-liebiao","data-index":o,"data-index2":n,onClick:a[1]||(a[1]=(...e)=>i.openMergeTipsBox&&i.openMergeTipsBox(...e))},null,8,["data-index","data-index2"])):(e.openBlock(),e.createElementBlock("i",{key:1,class:"iconfont icon-liebiao","data-index":o,"data-index2":n,onClick:a[2]||(a[2]=(...e)=>i.openBox&&i.openBox(...e))},null,8,["data-index","data-index2"]))])])],2)))),128)):e.createCommentVNode("",!0),l.list.length<1?(e.openBlock(),e.createElementBlock("view",{key:1,class:"emptyData modelEmpty"},[e.createElementVNode("view",{class:"txt",onClick:a[3]||(a[3]=e=>i.goOpen())},"暂无项目")])):e.createCommentVNode("",!0)])))),128)),s.list.length<1?(e.openBlock(),e.createElementBlock("view",{key:0,class:"emptyData"},[e.createElementVNode("view",{class:"icon"},[e.createElementVNode("text",{class:"iconfont icon-kongshuju"})]),e.createElementVNode("view",{class:"txt"},"暂无订单")])):e.createCommentVNode("",!0)]),e.createElementVNode("view",{class:"footBox IOSBottom"},[t.menuPerm(41)?(e.openBlock(),e.createElementBlock("view",{key:0,class:"item",onClick:a[4]||(a[4]=e=>i.goOpen())},[e.createElementVNode("i",{class:"iconfont icon-ico_getiaozhongxin_xiaoshoukaidan"}),e.createElementVNode("text",{class:"item-title"},"开单")])):e.createCommentVNode("",!0),t.menuPerm(32)?(e.openBlock(),e.createElementBlock("view",{key:1,class:"item",onClick:a[5]||(a[5]=e=>i.showBox(11))},[e.createElementVNode("i",{class:"iconfont icon-shengqian"}),e.createElementVNode("text",{class:"item-title"},"发牌")])):e.createCommentVNode("",!0),t.menuPerm(30)?(e.openBlock(),e.createElementBlock("view",{key:2,class:"item",onClick:a[6]||(a[6]=(...e)=>i.goStatus&&i.goStatus(...e))},[e.createElementVNode("i",{class:"iconfont icon-houqiweihuweihuweihuguanli"}),e.createElementVNode("text",{class:"item-title"},"房态")])):e.createCommentVNode("",!0),t.menuPerm(68)?(e.openBlock(),e.createElementBlock("view",{key:3,class:"item",onClick:a[7]||(a[7]=(...e)=>i.goBudan&&i.goBudan(...e))},[e.createElementVNode("i",{class:"iconfont icon-buluchenjiang"}),e.createElementVNode("text",{class:"item-title"},"补单")])):e.createCommentVNode("",!0),e.createElementVNode("view",{class:"item-right"},[e.createElementVNode("i",{class:"iconfont icon-shangjiantou-tianchong",onClick:a[8]||(a[8]=(...e)=>i.openMeunBox&&i.openMeunBox(...e))})])]),s.hideBox?(e.openBlock(),e.createElementBlock("view",{key:1,class:"openBox"},[e.createElementVNode("view",{class:"bg",onClick:a[9]||(a[9]=(...e)=>i.closeBox&&i.closeBox(...e))}),e.createElementVNode("view",{class:"cenOpen"},[e.createElementVNode("view",{class:"content"},[e.createElementVNode("view",{class:"title"},[e.createTextVNode("操作"),e.createElementVNode("text",{onClick:a[10]||(a[10]=(...e)=>i.closeBox&&i.closeBox(...e)),class:"iconfont icon-shanchuxuanze"})]),e.createElementVNode("view",{class:"openList"},[t.menuPerm(70)&&1==s.order.show_btn.sz?(e.openBlock(),e.createElementBlock("view",{key:0,class:"items",onClick:a[11]||(a[11]=e=>i.showBox(9))},[e.createElementVNode("i",{class:"iconfont icon-kaishi"}),e.createElementVNode("text",{class:"titles"},"上钟")])):e.createCommentVNode("",!0),t.menuPerm(71)&&1==s.order.show_btn.xz?(e.openBlock(),e.createElementBlock("view",{key:1,class:"items",onClick:a[12]||(a[12]=e=>i.showBox(10))},[e.createElementVNode("i",{class:"iconfont icon-kaishi"}),e.createElementVNode("text",{class:"titles"},"下钟")])):e.createCommentVNode("",!0),t.menuPerm(36)&&1==s.order.show_btn.gz?(e.openBlock(),e.createElementBlock("view",{key:2,class:"items",onClick:a[13]||(a[13]=e=>i.showBox(8))},[e.createElementVNode("i",{class:"iconfont icon-edit"}),e.createElementVNode("text",{class:"titles"},"改钟")])):e.createCommentVNode("",!0),t.menuPerm(37)&&1==s.order.show_btn.gt?(e.openBlock(),e.createElementBlock("view",{key:3,class:"items",onClick:a[14]||(a[14]=e=>i.showBox(5))},[e.createElementVNode("i",{class:"iconfont icon-shezhi2"}),e.createElementVNode("text",{class:"titles"},"改推")])):e.createCommentVNode("",!0),t.menuPerm(56)&&1==s.order.show_btn.hjs?(e.openBlock(),e.createElementBlock("view",{key:4,class:"items",onClick:a[15]||(a[15]=e=>i.showBox(4))},[e.createElementVNode("i",{class:"iconfont icon-jiaoshiliebiao"}),e.createElementVNode("text",{class:"titles"},"换技师")])):e.createCommentVNode("",!0),t.menuPerm(55)&&1==s.order.show_btn.hxm?(e.openBlock(),e.createElementBlock("view",{key:5,class:"items",onClick:a[16]||(a[16]=(...e)=>i.openProject&&i.openProject(...e))},[e.createElementVNode("i",{class:"iconfont icon-liebiao"}),e.createElementVNode("text",{class:"titles"},"换项目")])):e.createCommentVNode("",!0),t.menuPerm(38)&&1==s.order.show_btn.cx?(e.openBlock(),e.createElementBlock("view",{key:6,class:"items",onClick:a[17]||(a[17]=e=>i.showBox(7))},[e.createElementVNode("i",{class:"iconfont icon-chexiao1"}),e.createElementVNode("text",{class:"titles"},"撤销")])):e.createCommentVNode("",!0),t.menuPerm(39)&&1==s.order.show_btn.jz?(e.openBlock(),e.createElementBlock("view",{key:7,class:"items",onClick:a[18]||(a[18]=(...e)=>i.openJiashiProject&&i.openJiashiProject(...e))},[e.createElementVNode("i",{class:"iconfont icon-zhuangtaixiugai"}),e.createElementVNode("text",{class:"titles"},"加钟")])):e.createCommentVNode("",!0),t.menuPerm(72)&&1==s.order.show_btn.gs?(e.openBlock(),e.createElementBlock("view",{key:8,class:"items",onClick:a[19]||(a[19]=e=>i.showBox(16))},[e.createElementVNode("i",{class:"iconfont icon-zhuangtaixiugai"}),e.createElementVNode("text",{class:"titles"},"改时")])):e.createCommentVNode("",!0),t.menuPerm(40)&&1==s.order.show_btn.hfsz?(e.openBlock(),e.createElementBlock("view",{key:9,class:"items",onClick:a[20]||(a[20]=e=>i.showBox(17))},[e.createElementVNode("i",{class:"iconfont icon-shuaxin"}),e.createElementVNode("text",{class:"titles"},"返上钟")])):e.createCommentVNode("",!0),t.menuPerm(73)&&1==s.order.show_btn.ztjs?(e.openBlock(),e.createElementBlock("view",{key:10,class:"items",onClick:a[21]||(a[21]=e=>i.showBox(26))},[e.createElementVNode("i",{class:"iconfont icon-icon__yanshi"}),e.createElementVNode("text",{class:"titles"},"暂停")])):e.createCommentVNode("",!0),t.menuPerm(74)&&1==s.order.show_btn.jxjs?(e.openBlock(),e.createElementBlock("view",{key:11,class:"items",onClick:a[22]||(a[22]=e=>i.showBox(27))},[e.createElementVNode("i",{class:"iconfont icon-icon__yanshi"}),e.createElementVNode("text",{class:"titles"},"继续")])):e.createCommentVNode("",!0),t.menuPerm(75)&&1==s.order.show_btn.jsjs?(e.openBlock(),e.createElementBlock("view",{key:12,class:"items",onClick:a[23]||(a[23]=e=>i.showBox(28))},[e.createElementVNode("i",{class:"iconfont icon-icon__yanshi"}),e.createElementVNode("text",{class:"titles"},"结束")])):e.createCommentVNode("",!0),t.menuPerm(76)&&1==s.order.show_btn.hfjs?(e.openBlock(),e.createElementBlock("view",{key:13,class:"items",onClick:a[24]||(a[24]=e=>i.showBox(29))},[e.createElementVNode("i",{class:"iconfont icon-icon__yanshi"}),e.createElementVNode("text",{class:"titles"},"恢复")])):e.createCommentVNode("",!0),t.menuPerm(77)&&1==s.order.show_btn.gj?(e.openBlock(),e.createElementBlock("view",{key:14,class:"items",onClick:a[25]||(a[25]=e=>i.showBox(22))},[e.createElementVNode("i",{class:"iconfont icon-edit"}),e.createElementVNode("text",{class:"titles"},"改价")])):e.createCommentVNode("",!0),t.menuPerm(78)&&1==s.order.show_btn.cxzs?(e.openBlock(),e.createElementBlock("view",{key:15,class:"items",onClick:a[26]||(a[26]=e=>i.showBox(18))},[e.createElementVNode("i",{class:"iconfont icon-chexiao1"}),e.createElementVNode("text",{class:"titles"},"不赠送")])):e.createCommentVNode("",!0),t.menuPerm(78)&&1==s.order.show_btn.zs?(e.openBlock(),e.createElementBlock("view",{key:16,class:"items",onClick:a[27]||(a[27]=e=>i.showBox(19))},[e.createElementVNode("i",{class:"iconfont icon-jieqian"}),e.createElementVNode("text",{class:"titles"},"赠送")])):e.createCommentVNode("",!0),t.menuPerm(79)&&1==s.order.show_btn.zjxf?(e.openBlock(),e.createElementBlock("view",{key:17,class:"items",onClick:a[28]||(a[28]=e=>i.showBox(21))},[e.createElementVNode("i",{class:"iconfont icon-feiyong"}),e.createElementVNode("text",{class:"titles"},"加小费")])):e.createCommentVNode("",!0),t.menuPerm(80)&&1==s.order.show_btn.szxf?(e.openBlock(),e.createElementBlock("view",{key:18,class:"items",onClick:a[29]||(a[29]=e=>i.showBox(20))},[e.createElementVNode("i",{class:"iconfont icon-feiyong"}),e.createElementVNode("text",{class:"titles"},"改小费")])):e.createCommentVNode("",!0),t.menuPerm(81)&&1==s.order.show_btn.xmyh?(e.openBlock(),e.createElementBlock("view",{key:19,class:"items",onClick:a[30]||(a[30]=e=>i.showBox(23))},[e.createElementVNode("i",{class:"iconfont icon-feiyong"}),e.createElementVNode("text",{class:"titles"},"优惠")])):e.createCommentVNode("",!0)])])])])):e.createCommentVNode("",!0),s.hideOptBox?(e.openBlock(),e.createElementBlock("view",{key:2,class:"openBox"},[e.createElementVNode("view",{class:"bg",onClick:a[31]||(a[31]=(...e)=>i.closeBox&&i.closeBox(...e))}),e.createElementVNode("view",{class:"cenOpen optBox"},[e.createElementVNode("view",{class:"content"},[e.createElementVNode("view",{class:"title"},[e.createTextVNode(e.toDisplayString(s.opt.title),1),e.createElementVNode("text",{onClick:a[32]||(a[32]=(...e)=>i.closeBox&&i.closeBox(...e)),class:"iconfont icon-shanchuxuanze"})]),e.createElementVNode("view",{class:"openList"},[1==s.opt.type?(e.openBlock(),e.createElementBlock("view",{key:0,class:"show-box"},[e.createElementVNode("view",null,[e.createElementVNode("text",null,"当前房间"),e.createElementVNode("text",{class:"orange"},e.toDisplayString(s.opt.room_name),1),e.createElementVNode("text",null," , "),e.createElementVNode("text",null,"当前锁牌"),e.createElementVNode("text",{class:"orange"},e.toDisplayString(s.opt.lcard_name),1)]),e.createElementVNode("checkbox-group",{class:"selectOrderList",onChange:a[33]||(a[33]=(...e)=>i.selectOrder&&i.selectOrder(...e))},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(s.opt.orderList,((t,a)=>(e.openBlock(),e.createElementBlock("view",{class:"item",key:t.orderid},[e.createElementVNode("label",null,[e.createElementVNode("checkbox",{class:"checkbox",color:"red",value:t.orderid,checked:"true"},null,8,["value"]),e.createElementVNode("text",null,e.toDisplayString(t.p_name),1),"2438"==t.p_kind?(e.openBlock(),e.createElementBlock("text",{key:0}," x"+e.toDisplayString(t.p_num),1)):e.createCommentVNode("",!0),"2430"==t.p_kind?(e.openBlock(),e.createElementBlock("text",{key:1}," / "+e.toDisplayString(t.ser_name),1)):e.createCommentVNode("",!0)])])))),128))],32),e.createElementVNode("view",{class:"labelInputRow"},[e.createElementVNode("text",{class:"label"},"转移到房间"),e.createElementVNode("input",{class:"seaCon5",onInput:a[34]||(a[34]=(...e)=>i.optInput&&i.optInput(...e)),type:"text",placeholder:"请输入房间号","data-key":"new_room"},null,32)]),e.createElementVNode("view",{class:"labelInputRow"},[e.createElementVNode("text",{class:"label",onClick:a[35]||(a[35]=(...e)=>i.openLcardBox&&i.openLcardBox(...e))},"转移到锁牌"),e.createElementVNode("view",{class:"labelInputRow-sm"},[e.createElementVNode("input",{class:"seaCon61",onInput:a[36]||(a[36]=(...e)=>i.optInput&&i.optInput(...e)),type:"text",placeholder:"请输入锁牌号","data-key":"new_lcard_name",value:s.opt.new_lcard_name,"cursor-spacing":"100"},null,40,["value"]),s.isSaoma?(e.openBlock(),e.createElementBlock("i",{key:0,class:"iconfont icon-saoma saoma",onClick:a[37]||(a[37]=(...e)=>i.saoma&&i.saoma(...e))})):e.createCommentVNode("",!0)]),e.createElementVNode("text",{class:"selectBtn orange",onClick:a[38]||(a[38]=(...e)=>i.openLcardBox&&i.openLcardBox(...e))},"选择")])])):e.createCommentVNode("",!0),2==s.opt.type?(e.openBlock(),e.createElementBlock("view",{key:1,class:"show-box"},[e.createElementVNode("view",null,[e.createElementVNode("text",null,"当前房间"),e.createElementVNode("text",{class:"orange"},e.toDisplayString(s.opt.room_name),1),e.createElementVNode("text",null," , "),e.createElementVNode("text",null,"当前锁牌"),e.createElementVNode("text",{class:"orange"},e.toDisplayString(s.opt.lcard_name),1)]),e.createElementVNode("checkbox-group",{class:"selectOrderList",onChange:a[39]||(a[39]=(...e)=>i.selectOrder&&i.selectOrder(...e))},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(s.opt.orderList,((t,a)=>(e.openBlock(),e.createElementBlock("view",{class:"item",key:t.orderid},[e.createElementVNode("label",null,[e.createElementVNode("checkbox",{class:"checkbox",color:"red",value:t.orderid,checked:"true"},null,8,["value"]),e.createElementVNode("text",null,e.toDisplayString(t.p_name),1),"2438"==t.p_kind?(e.openBlock(),e.createElementBlock("text",{key:0}," x"+e.toDisplayString(t.p_num),1)):e.createCommentVNode("",!0),"2430"==t.p_kind?(e.openBlock(),e.createElementBlock("text",{key:1}," / "+e.toDisplayString(t.ser_name),1)):e.createCommentVNode("",!0)])])))),128))],32),e.createElementVNode("view",{class:"labelInputRow"},[e.createElementVNode("text",{class:"label",onClick:a[40]||(a[40]=(...e)=>i.openLcardBox&&i.openLcardBox(...e))},"转移到锁牌"),e.createElementVNode("view",{class:"labelInputRow-sm"},[e.createElementVNode("input",{class:"seaCon61",onInput:a[41]||(a[41]=(...e)=>i.optInput&&i.optInput(...e)),type:"text",placeholder:"请输入锁牌号","data-key":"new_lcard_name",value:s.opt.new_lcard_name,"cursor-spacing":"100"},null,40,["value"]),s.isSaoma?(e.openBlock(),e.createElementBlock("i",{key:0,class:"iconfont icon-saoma saoma",onClick:a[42]||(a[42]=(...e)=>i.saoma&&i.saoma(...e))})):e.createCommentVNode("",!0)]),e.createElementVNode("text",{class:"selectBtn orange",onClick:a[43]||(a[43]=(...e)=>i.openLcardBox&&i.openLcardBox(...e))},"选择")])])):e.createCommentVNode("",!0),3==s.opt.type?(e.openBlock(),e.createElementBlock("view",{key:2,class:"show-box"},[e.createElementVNode("text",null,"当前锁牌"),e.createElementVNode("text",{class:"orange"},e.toDisplayString(s.opt.lcard_name),1),e.createElementVNode("text",{class:"font"},"确定要取消发牌吗？")])):e.createCommentVNode("",!0)]),e.createElementVNode("view",{class:"btn","data-key":s.opt.type,onClick:a[44]||(a[44]=(...e)=>i.optSure&&i.optSure(...e))},e.toDisplayString(s.opt.btn),9,["data-key"])])])])):e.createCommentVNode("",!0),e.createVNode(c,{isOpen:s.isOpenLcardBox,onClose:i.closeLcardBox},{default:e.withCtx((()=>[e.createElementVNode("view",{class:"selectLcardBox"},[e.createElementVNode("view",{class:"title"},[e.createElementVNode("text",{class:e.normalizeClass(0==s.selectLcardType?"s-top sel_suo":"s-top"),"data-type":"0",onClick:a[45]||(a[45]=(...e)=>i.changeSelectLcardType&&i.changeSelectLcardType(...e))},"全新锁牌",2),e.createElementVNode("text",{class:e.normalizeClass(1==s.selectLcardType?"s-top sel_suo":"s-top"),"data-type":"1",onClick:a[46]||(a[46]=(...e)=>i.changeSelectLcardType&&i.changeSelectLcardType(...e))},"已发锁牌",2),e.createElementVNode("i",{onClick:a[47]||(a[47]=(...e)=>i.closeLcardBox&&i.closeLcardBox(...e)),class:"iconfont icon-shanchuxuanze"})]),e.createElementVNode("view",{class:"meunList"},[1==s.selectLcardType?(e.openBlock(),e.createElementBlock("view",{key:0,class:"orange"},"正在使用的锁牌！")):e.createCommentVNode("",!0),0==s.selectLcardType?(e.openBlock(),e.createElementBlock("view",{key:1,class:"orange"},"发新锁牌！")):e.createCommentVNode("",!0),1==s.selectLcardType?(e.openBlock(),e.createElementBlock("view",{key:2,class:"menuTypeBox"},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(s.lcardList.useList,((t,l)=>(e.openBlock(),e.createElementBlock("view",{class:"li",key:t.id,"data-index":l,onClick:a[48]||(a[48]=(...e)=>i.selectLcard&&i.selectLcard(...e))},[e.createElementVNode("text",null,e.toDisplayString(t.title),1)],8,["data-index"])))),128))])):e.createCommentVNode("",!0),0==s.selectLcardType?(e.openBlock(),e.createElementBlock("view",{key:3,class:"menuTypeBox"},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(s.lcardList.noUseList,((t,l)=>(e.openBlock(),e.createElementBlock("view",{class:"li",key:t.id,"data-index":l,onClick:a[49]||(a[49]=(...e)=>i.selectLcard&&i.selectLcard(...e))},[e.createElementVNode("text",null,e.toDisplayString(t.title),1)],8,["data-index"])))),128))])):e.createCommentVNode("",!0)])])])),_:1},8,["isOpen","onClose"]),s.hideOptBox2?(e.openBlock(),e.createElementBlock("view",{key:3,class:"openBox"},[e.createElementVNode("view",{class:"bg",onClick:a[50]||(a[50]=(...e)=>i.closeBox&&i.closeBox(...e))}),e.createElementVNode("view",{class:"cenOpen alertBox"},[e.createElementVNode("view",{class:"content"},[e.createElementVNode("view",{class:"title"},e.toDisplayString(s.opt.title),1),e.createElementVNode("view",{class:e.normalizeClass("openList optBox"+s.opt.type)},[4==s.opt.type?(e.openBlock(),e.createElementBlock("view",{key:0,class:"show-box"},[e.createElementVNode("ul",{class:"work-type"},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(s.serTypeList,(t=>(e.openBlock(),e.createElementBlock("li",{key:t.id,onClick:e=>i.ser_type(t.id,"ser_type"),class:e.normalizeClass(s.order.ser_type==t.id?"on":"")},e.toDisplayString(t.name),11,["onClick"])))),128))]),s.order.ser_type<1&&1==s.isGrade?(e.openBlock(),e.createElementBlock("ul",{key:0,class:"work-type"},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(s.gradeList,(t=>(e.openBlock(),e.createElementBlock("li",{key:t.id,onClick:e=>i.ser_type(t.id,"ser_grade"),class:e.normalizeClass(s.order.ser_grade==t.id?"on":"")},e.toDisplayString(t.title),11,["onClick"])))),128))])):e.createCommentVNode("",!0),s.order.ser_type<1?(e.openBlock(),e.createElementBlock("ul",{key:1,class:"work-type"},[e.createElementVNode("li",{onClick:a[51]||(a[51]=e=>i.ser_type(0,"ser_sex")),class:e.normalizeClass(0==s.order.ser_sex?"on":"")},"不限",2),e.createElementVNode("li",{onClick:a[52]||(a[52]=e=>i.ser_type(1,"ser_sex")),class:e.normalizeClass(1==s.order.ser_sex?"on":"")},"男",2),e.createElementVNode("li",{onClick:a[53]||(a[53]=e=>i.ser_type(2,"ser_sex")),class:e.normalizeClass(2==s.order.ser_sex?"on":"")},"女",2)])):e.createCommentVNode("",!0),s.order.ser_type>0?(e.openBlock(),e.createElementBlock("view",{key:2,class:"job_num"},[e.createElementVNode("text",{class:"js"},"技师"),e.createElementVNode("input",{class:"job_num-input",type:"number",onInput:a[54]||(a[54]=(...e)=>i.optInput&&i.optInput(...e)),"cursor-spacing":"100",value:t.$data.opt.jobNum},null,40,["value"]),2==s.order.ser_type?(e.openBlock(),e.createElementBlock("view",{key:0,class:"job_num_sel",onClick:a[55]||(a[55]=e=>i.ser_jobNum())},"选择")):e.createCommentVNode("",!0)])):e.createCommentVNode("",!0)])):e.createCommentVNode("",!0),5==s.opt.type?(e.openBlock(),e.createElementBlock("view",{key:1,class:"show-box"},[0==s.yxAppGaiTui||1==s.yxAppGaiTui?(e.openBlock(),e.createElementBlock("view",{key:0},[e.createElementVNode("text",{class:"show-fl"},"原开单人："+e.toDisplayString(s.order.xd_name),1)])):e.createCommentVNode("",!0),0==s.yxAppGaiTui||1==s.yxAppGaiTui?(e.openBlock(),e.createElementBlock("view",{key:1},[e.createElementVNode("text",{class:"show-fl"},"新开单人："),e.createElementVNode("input",{class:"seaCon2",onInput:a[56]||(a[56]=(...e)=>i.optInput&&i.optInput(...e)),"data-key":"new_xd_id",value:t.$data.opt.new_xd_id,type:"text",placeholder:"请输入工号","cursor-spacing":"150"},null,40,["value"])])):e.createCommentVNode("",!0),0==s.yxAppGaiTui||2==s.yxAppGaiTui?(e.openBlock(),e.createElementBlock("view",{key:2},[e.createElementVNode("text",{class:"show-fl"},"原推荐人："+e.toDisplayString(s.order.tj_name),1)])):e.createCommentVNode("",!0),0==s.yxAppGaiTui||2==s.yxAppGaiTui?(e.openBlock(),e.createElementBlock("view",{key:3},[e.createElementVNode("text",{class:"show-fl"},"新推荐人："),e.createElementVNode("input",{class:"seaCon2",onInput:a[57]||(a[57]=(...e)=>i.optInput&&i.optInput(...e)),"data-key":"new_tj_id",value:t.$data.opt.new_tj_id,type:"text",placeholder:"请输入工号","cursor-spacing":"150"},null,40,["value"])])):e.createCommentVNode("",!0),0==s.yxAppGaiTui||3==s.yxAppGaiTui?(e.openBlock(),e.createElementBlock("view",{key:4},[e.createElementVNode("text",{class:"show-fl"},"原营销人："+e.toDisplayString(s.order.yx_name),1)])):e.createCommentVNode("",!0),0==s.yxAppGaiTui||3==s.yxAppGaiTui?(e.openBlock(),e.createElementBlock("view",{key:5},[e.createElementVNode("text",{class:"show-fl"},"新营销人："),e.createElementVNode("input",{class:"seaCon2",onInput:a[58]||(a[58]=(...e)=>i.optInput&&i.optInput(...e)),"data-key":"new_yx_id",value:t.$data.opt.new_yx_id,type:"text",placeholder:"请输入工号","cursor-spacing":"150"},null,40,["value"])])):e.createCommentVNode("",!0),e.createElementVNode("view",null,[e.createElementVNode("text",{class:"tips orange"},"注意：不填写工号，推荐人为空！")])])):e.createCommentVNode("",!0),7==s.opt.type?(e.openBlock(),e.createElementBlock("view",{key:2,class:"show-box"},[e.createElementVNode("view",null,[e.createElementVNode("text",{class:"show-fl"},"撤销项目："),e.createElementVNode("text",{class:"orange"},e.toDisplayString(s.order.name)+" / "+e.toDisplayString(s.order.ser_name),1)]),e.createElementVNode("view",null,[e.createElementVNode("text",{class:"show-fl"},"撤销原因："),e.createElementVNode("input",{class:"seaCon2",onInput:a[59]||(a[59]=(...e)=>i.optInput&&i.optInput(...e)),type:"text",placeholder:"请输入撤销原因","cursor-spacing":"100",value:s.opt.reason},null,40,["value"])]),(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(s.reasonList,((t,l)=>(e.openBlock(),e.createElementBlock("text",{class:"revokeBtn",onClick:a[60]||(a[60]=(...e)=>i.changeRevoke&&i.changeRevoke(...e)),"data-val":t},e.toDisplayString(t),9,["data-val"])))),256))])):e.createCommentVNode("",!0),8==s.opt.type?(e.openBlock(),e.createElementBlock("view",{key:3,class:"show-box"},[e.createElementVNode("ul",{class:"work-type"},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(s.serTypeList,(t=>(e.openBlock(),e.createElementBlock("li",{key:t.id,onClick:e=>i.ser_type(t.id,"ser_type"),class:e.normalizeClass(s.order.ser_type==t.id?"on":"")},e.toDisplayString(t.name),11,["onClick"])))),128))])])):e.createCommentVNode("",!0),9==s.opt.type?(e.openBlock(),e.createElementBlock("view",{key:4,class:"show-box"},[e.createElementVNode("view",{class:"show-tips"},"是否确定上钟？")])):e.createCommentVNode("",!0),10==s.opt.type?(e.openBlock(),e.createElementBlock("view",{key:5,class:"show-box"},[e.createElementVNode("view",{class:"show-tips"},"是否确定下钟？")])):e.createCommentVNode("",!0),11==s.opt.type?(e.openBlock(),e.createElementBlock("view",{key:6,class:"show-box"},[e.createElementVNode("input",{class:"seaCon3 uni-input",onInput:a[61]||(a[61]=(...e)=>i.optInput&&i.optInput(...e)),value:s.opt.new_lcard_name,type:"text",placeholder:"请输入锁牌号","cursor-spacing":"100"},null,40,["value"]),s.isSaoma?(e.openBlock(),e.createElementBlock("i",{key:0,class:"iconfont icon-saoma saoma",onClick:a[62]||(a[62]=(...e)=>i.saoma&&i.saoma(...e))})):e.createCommentVNode("",!0)])):e.createCommentVNode("",!0),12==s.opt.type?(e.openBlock(),e.createElementBlock("view",{key:7,class:"show-box"},[e.createElementVNode("view",null,[e.createElementVNode("text",{class:"show-fl"},e.toDisplayString(s.opt.lcard_name)+"：",1),e.createElementVNode("text",{class:"show-fr",onClick:a[63]||(a[63]=(...e)=>i.clearRemark&&i.clearRemark(...e))},"清空"),e.createElementVNode("textarea",{onBlur:a[64]||(a[64]=(...e)=>i.bindTextAreaBlur&&i.bindTextAreaBlur(...e)),"auto-height":"",placeholder:"请输入内容...",class:"seaCon4",value:s.opt.lcard_remark,"cursor-spacing":"200"},null,40,["value"])]),e.createElementVNode("view",null,[e.createElementVNode("text",{class:"show-fl"},"现有备注："),e.createElementVNode("ul",{class:"show-li"},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(s.remarkList,(t=>(e.openBlock(),e.createElementBlock("li",null,[""!==t.remark?(e.openBlock(),e.createElementBlock("text",{key:0},e.toDisplayString(t.name)+":"+e.toDisplayString(t.remark),1)):e.createCommentVNode("",!0)])))),256))])])])):e.createCommentVNode("",!0),121==s.opt.type?(e.openBlock(),e.createElementBlock("view",{key:8,class:"show-box"},[e.createElementVNode("view",null,[e.createElementVNode("ul",{class:"show-li"},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(s.remarkList,(t=>(e.openBlock(),e.createElementBlock("li",null,[e.createElementVNode("text",{class:e.normalizeClass(1==t.css?"font16":"")},e.toDisplayString(t.remark),3)])))),256))])])])):e.createCommentVNode("",!0),13==s.opt.type?(e.openBlock(),e.createElementBlock("view",{key:9,class:"show-box"},[e.createElementVNode("view",{class:"input_13"},[e.createElementVNode("text",{class:"title"},"挂单客户"),e.createElementVNode("input",{type:"text",placeholder:"请输入",onInput:a[65]||(a[65]=(...e)=>i.optInput&&i.optInput(...e)),value:s.opt.user_name},null,40,["value"])]),e.createElementVNode("view",{class:"input_13"},[e.createElementVNode("text",{class:"title"},"担保人员"),e.createElementVNode("picker",{onChange:a[66]||(a[66]=(...e)=>i.selectDb&&i.selectDb(...e)),value:s.opt.db_id,range:s.dbList,"range-key":"name",class:"input_13_picker"},[e.createElementVNode("text",{class:"select orange"},[e.createTextVNode(e.toDisplayString(s.dbList.length>0&&""!==s.opt.db_id?s.dbList[s.opt.db_id].name:"请选择")+" ",1),e.createElementVNode("i",{class:"iconfont icon-jinrujiantou"})])],40,["value","range"])]),e.createElementVNode("view",{class:"input_13"},[e.createElementVNode("text",{class:"title"},"挂单原因"),e.createElementVNode("textarea",{onBlur:a[67]||(a[67]=(...e)=>i.bindTextAreaBlur&&i.bindTextAreaBlur(...e)),placeholder:"请输入",class:"seaCon13",value:s.opt.lcard_remark,"ccursor-spacing":"100"},null,40,["value"])])])):e.createCommentVNode("",!0),14==s.opt.type?(e.openBlock(),e.createElementBlock("view",{key:10,class:"show-box"},[e.createElementVNode("view",{class:"input_14"},[e.createElementVNode("text",{class:"title"},"结账锁牌："),e.createElementVNode("view",{class:"infoBox"},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(s.list,(t=>(e.openBlock(),e.createElementBlock(e.Fragment,null,[-1!==s.setSp.indexOf(t.lcard_id)?(e.openBlock(),e.createElementBlock("view",{key:0,class:"spBox"},e.toDisplayString(t.lcard_name),1)):e.createCommentVNode("",!0)],64)))),256))])]),e.createElementVNode("view",{class:"input_14"},[e.createElementVNode("text",{class:"title"},"打印小票："),e.createElementVNode("view",{class:"infoBox"},[e.createElementVNode("radio-group",{class:"modelRadio",onChange:a[68]||(a[68]=(...e)=>i.radioChange&&i.radioChange(...e)),"data-key":"dayin"},[e.createElementVNode("label",{class:"radioLabel"},[e.createElementVNode("radio",{value:"1",color:"#ff8100",checked:1===s.opt.dayin},null,8,["checked"]),e.createTextVNode("打印 ")]),e.createElementVNode("label",{class:"radioLabel"},[e.createElementVNode("radio",{value:"0",color:"#ff8100",checked:0===s.opt.dayin},null,8,["checked"]),e.createTextVNode("不打印 ")])],32)])])])):e.createCommentVNode("",!0),15==s.opt.type?(e.openBlock(),e.createElementBlock("view",{key:11,class:"show-box"},[e.createElementVNode("view",{class:"show-tips"},"是否确定要打印开单小票？")])):e.createCommentVNode("",!0),17==s.opt.type?(e.openBlock(),e.createElementBlock("view",{key:12,class:"show-box"},[e.createElementVNode("view",{class:"show-tips"},"是否确定恢复上钟？")])):e.createCommentVNode("",!0),18==s.opt.type?(e.openBlock(),e.createElementBlock("view",{key:13,class:"show-box"},[e.createElementVNode("view",{class:"show-tips"},"是否确定撤销赠送？")])):e.createCommentVNode("",!0),19==s.opt.type?(e.openBlock(),e.createElementBlock("view",{key:14,class:"show-box"},[e.createElementVNode("view",null,[e.createElementVNode("text",{class:"show-fl"},"项目："),e.createElementVNode("text",{class:"orange"},e.toDisplayString(s.order.name)+" / "+e.toDisplayString(s.order.ser_name),1)]),e.createElementVNode("view",null,[e.createElementVNode("text",{class:"show-fl"},"备注："),e.createElementVNode("input",{class:"seaCon2",onInput:a[69]||(a[69]=(...e)=>i.optInput&&i.optInput(...e)),type:"text",placeholder:"请输入赠送备注","cursor-spacing":"100"},null,32)])])):e.createCommentVNode("",!0),20==s.opt.type||21==s.opt.type?(e.openBlock(),e.createElementBlock("view",{key:15,class:"show-box"},[e.createElementVNode("view",null,[e.createElementVNode("text",{class:"show-fl"},"项目："),e.createElementVNode("text",{class:"orange"},e.toDisplayString(s.order.name),1)]),e.createElementVNode("view",{class:"mt10"},[e.createElementVNode("text",{class:"show-fl"},"小费金额："),e.createElementVNode("input",{class:"seaCon6",onInput:a[70]||(a[70]=(...e)=>i.optInput&&i.optInput(...e)),type:"number",placeholder:"请输入小费金额",value:s.opt.tipsPrice,"cursor-spacing":"200","data-key":"tipsPrice"},null,40,["value"]),e.createElementVNode("text",{class:"selectBtn ml5"},"元"),e.createElementVNode("view",{class:"tipsList"},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(s.tipsList,((t,l)=>(e.openBlock(),e.createElementBlock("text",{class:"item",key:t.id,"data-value":t.price,onClick:a[71]||(a[71]=(...e)=>i.selectTipsPrice&&i.selectTipsPrice(...e))},e.toDisplayString(t.price)+"元",9,["data-value"])))),128))])])])):e.createCommentVNode("",!0),22==s.opt.type||23==s.opt.type?(e.openBlock(),e.createElementBlock("view",{key:16,class:"show-box"},[e.createElementVNode("view",null,[e.createElementVNode("text",{class:"show-fl"},"项目："),e.createElementVNode("text",{class:"orange"},e.toDisplayString(s.order.name),1)]),e.createElementVNode("view",{class:"mt10"},[e.createElementVNode("text",{class:"show-fl"},e.toDisplayString(23==s.opt.type?"优惠":"新单价")+"：",1),e.createElementVNode("input",{class:"seaCon6",onInput:a[72]||(a[72]=(...e)=>i.optInput&&i.optInput(...e)),type:"number",placeholder:"请输入金额",value:s.opt.newPrice,"cursor-spacing":"200","data-key":"newPrice"},null,40,["value"]),e.createElementVNode("text",{class:"selectBtn ml5"},"元")]),e.createElementVNode("view",null,[e.createElementVNode("text",{class:"show-fl"},"备注："),e.createElementVNode("input",{class:"seaCon2",onInput:a[73]||(a[73]=(...e)=>i.optInput&&i.optInput(...e)),type:"text",placeholder:"请输入备注","cursor-spacing":"100","data-key":"newPriceRemark",value:s.opt.newPriceRemark},null,40,["value"])])])):e.createCommentVNode("",!0),25==s.opt.type?(e.openBlock(),e.createElementBlock("view",{key:17,class:"show-box"},[e.createElementVNode("checkbox-group",{class:"selectOrderList",onChange:a[74]||(a[74]=(...e)=>i.selectLcardForYueJie&&i.selectLcardForYueJie(...e))},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(s.list,((t,a)=>(e.openBlock(),e.createElementBlock("view",{class:"item",key:t.id},[e.createElementVNode("label",null,[e.createElementVNode("checkbox",{class:"checkbox",color:"red",value:t.id,checked:"true"},null,8,["value"]),e.createTextVNode(e.toDisplayString(t.origin_lcard_name),1),1==t.is_other_room?(e.openBlock(),e.createElementBlock("text",{key:0,class:"red"},"【组合单】")):e.createCommentVNode("",!0),1==t.is_merge_lcard?(e.openBlock(),e.createElementBlock("text",{key:1,class:"red"},"【同行】")):e.createCommentVNode("",!0)])])))),128))],32)])):e.createCommentVNode("",!0),26==s.opt.type?(e.openBlock(),e.createElementBlock("view",{key:18,class:"show-box"},[e.createElementVNode("view",{class:"mb15"},[e.createElementVNode("text",{class:"show-fl"},"暂停时长"),e.createElementVNode("picker",{onChange:a[75]||(a[75]=(...e)=>i.selectTime&&i.selectTime(...e)),range:s.timeList,class:"input_26_picker","data-key":"timing_hour"},[e.createElementVNode("text",{class:"select orange"},e.toDisplayString(s.opt.timing_hour),1)],40,["range"]),e.createElementVNode("text",null,"时"),e.createElementVNode("picker",{onChange:a[76]||(a[76]=(...e)=>i.selectTime&&i.selectTime(...e)),range:s.timeList,class:"input_26_picker","data-key":"timing_min"},[e.createElementVNode("text",{class:"select orange"},e.toDisplayString(s.opt.timing_min),1)],40,["range"]),e.createElementVNode("text",null,"分")]),e.createElementVNode("view",{class:"mb10"},[e.createElementVNode("text",{class:"show-fl"},"预计恢复时间"),e.createElementVNode("text",{class:"input_26_txt"},e.toDisplayString(s.opt.timing_hf_time),1)]),e.createElementVNode("view",null,[e.createElementVNode("text",{class:"show-fl"},"备注："),e.createElementVNode("input",{class:"seaCon2",onInput:a[77]||(a[77]=(...e)=>i.optInput&&i.optInput(...e)),type:"text",placeholder:"请输入备注","cursor-spacing":"100","data-key":"newPriceRemark",value:s.opt.newPriceRemark},null,40,["value"])])])):e.createCommentVNode("",!0),27==s.opt.type?(e.openBlock(),e.createElementBlock("view",{key:19,class:"show-box"},[e.createElementVNode("view",{class:"show-tips"},"是否确定继续计时？")])):e.createCommentVNode("",!0),28==s.opt.type?(e.openBlock(),e.createElementBlock("view",{key:20,class:"show-box"},[e.createElementVNode("view",{class:"show-tips"},"是否确定结束计时？")])):e.createCommentVNode("",!0),29==s.opt.type?(e.openBlock(),e.createElementBlock("view",{key:21,class:"show-box"},[e.createElementVNode("view",{class:"show-tips"},"是否确定恢复计时？")])):e.createCommentVNode("",!0)],2),121!=s.opt.type?(e.openBlock(),e.createElementBlock("view",{key:0,class:"orderFoot"},[e.createElementVNode("text",{class:"btn fl",onClick:a[78]||(a[78]=(...e)=>i.closeBox&&i.closeBox(...e))},"取消"),e.createElementVNode("text",{class:"btn fr","data-key":s.opt.type,onClick:a[79]||(a[79]=(...e)=>i.optSure&&i.optSure(...e))},"确定",8,["data-key"])])):e.createCommentVNode("",!0),121==s.opt.type?(e.openBlock(),e.createElementBlock("view",{key:1,class:"orderFoot text-center"},[e.createElementVNode("text",{class:"btn singleClose red",onClick:a[80]||(a[80]=(...e)=>i.closeBox&&i.closeBox(...e))},"关闭")])):e.createCommentVNode("",!0)])])])):e.createCommentVNode("",!0),s.hideMeunBox?(e.openBlock(),e.createElementBlock("view",{key:4,class:"openBox"},[e.createElementVNode("view",{class:"bg",onClick:a[81]||(a[81]=(...e)=>i.closeBox&&i.closeBox(...e))}),e.createElementVNode("view",{class:"cenOpen MeunBox"},[e.createElementVNode("view",{class:"title"},[e.createTextVNode("操作"),e.createElementVNode("text",{onClick:a[82]||(a[82]=(...e)=>i.closeBox&&i.closeBox(...e)),class:"iconfont icon-shanchuxuanze"})]),e.createElementVNode("ul",{class:"meunList"},[t.menuPerm(41)?(e.openBlock(),e.createElementBlock("li",{key:0,onClick:a[83]||(a[83]=e=>i.goOpen())},[e.createElementVNode("i",{class:"iconfont icon-ico_getiaozhongxin_xiaoshoukaidan"}),e.createElementVNode("view",{class:"opSubTitle"},"开单")])):e.createCommentVNode("",!0),t.menuPerm(42)?(e.openBlock(),e.createElementBlock("li",{key:1,onClick:a[84]||(a[84]=e=>i.showBox(15))},[e.createElementVNode("i",{class:"iconfont icon-dingdan1"}),e.createElementVNode("view",{class:"opSubTitle"},"开单小票")])):e.createCommentVNode("",!0),t.menuPerm(68)?(e.openBlock(),e.createElementBlock("li",{key:2,onClick:a[85]||(a[85]=(...e)=>i.goBudan&&i.goBudan(...e))},[e.createElementVNode("i",{class:"iconfont icon-buluchenjiang"}),e.createElementVNode("view",{class:"opSubTitle"},"补单")])):e.createCommentVNode("",!0),t.menuPerm(177)?(e.openBlock(),e.createElementBlock("li",{key:3,onClick:a[86]||(a[86]=(...e)=>i.goYuyue&&i.goYuyue(...e))},[e.createElementVNode("i",{class:"iconfont icon-daiyuyue"}),e.createElementVNode("view",{class:"opSubTitle"},"预约")])):e.createCommentVNode("",!0),t.menuPerm(44)?(e.openBlock(),e.createElementBlock("li",{key:4,onClick:a[87]||(a[87]=e=>i.goMerge())},[e.createElementVNode("i",{class:"iconfont icon-qian"}),e.createElementVNode("view",{class:"opSubTitle"},"组合买单")])):e.createCommentVNode("",!0),t.menuPerm(45)?(e.openBlock(),e.createElementBlock("li",{key:5,onClick:a[88]||(a[88]=e=>i.showBox(13))},[e.createElementVNode("i",{class:"iconfont icon-guaqi"}),e.createElementVNode("view",{class:"opSubTitle"},"挂单")])):e.createCommentVNode("",!0),t.menuPerm(46)?(e.openBlock(),e.createElementBlock("li",{key:6,onClick:a[89]||(a[89]=e=>i.showBox(14))},[e.createElementVNode("i",{class:"iconfont icon-renyuanlikai"}),e.createElementVNode("view",{class:"opSubTitle"},"结账离场")])):e.createCommentVNode("",!0),t.menuPerm(32)?(e.openBlock(),e.createElementBlock("li",{key:7,onClick:a[90]||(a[90]=e=>i.showBox(11))},[e.createElementVNode("i",{class:"iconfont icon-shengqian"}),e.createElementVNode("view",{class:"opSubTitle"},"发牌")])):e.createCommentVNode("",!0),t.menuPerm(30)?(e.openBlock(),e.createElementBlock("li",{key:8,onClick:a[91]||(a[91]=(...e)=>i.goStatus&&i.goStatus(...e))},[e.createElementVNode("i",{class:"iconfont icon-houqiweihuweihuweihuguanli"}),e.createElementVNode("view",{class:"opSubTitle"},"改房态")])):e.createCommentVNode("",!0),t.menuPerm(178)&&1==s.showConfig.yuJie?(e.openBlock(),e.createElementBlock("li",{key:9,onClick:a[92]||(a[92]=e=>i.showBox(25))},[e.createElementVNode("i",{class:"iconfont icon-dingdan1"}),e.createElementVNode("view",{class:"opSubTitle"},"预结小票")])):e.createCommentVNode("",!0)])])])):e.createCommentVNode("",!0),s.hideLcardMoreBox?(e.openBlock(),e.createElementBlock("view",{key:5,class:"openBox"},[e.createElementVNode("view",{class:"bg",onClick:a[93]||(a[93]=(...e)=>i.closeBox&&i.closeBox(...e))}),e.createElementVNode("view",{class:"cenOpen MeunBox"},[e.createElementVNode("view",{class:"title"},[e.createTextVNode("操作"),e.createElementVNode("text",{onClick:a[94]||(a[94]=(...e)=>i.closeBox&&i.closeBox(...e)),class:"iconfont icon-shanchuxuanze"})]),e.createElementVNode("ul",{class:"meunList"},[t.menuPerm(67)?(e.openBlock(),e.createElementBlock("li",{key:0,"data-type":"1",onClick:a[95]||(a[95]=(...e)=>i.lcardMoreOp&&i.lcardMoreOp(...e))},[e.createElementVNode("i",{class:"iconfont icon-qiehuanchengshi"}),e.createElementVNode("view",{class:"opSubTitle"},"换房")])):e.createCommentVNode("",!0),t.menuPerm(35)?(e.openBlock(),e.createElementBlock("li",{key:1,"data-type":"2",onClick:a[96]||(a[96]=(...e)=>i.lcardMoreOp&&i.lcardMoreOp(...e))},[e.createElementVNode("i",{class:"iconfont icon-shengqian"}),e.createElementVNode("view",{class:"opSubTitle"},"换牌")])):e.createCommentVNode("",!0),t.menuPerm(82)?(e.openBlock(),e.createElementBlock("li",{key:2,"data-type":"3",onClick:a[97]||(a[97]=(...e)=>i.lcardMoreOp&&i.lcardMoreOp(...e))},[e.createElementVNode("i",{class:"iconfont icon-guanji"}),e.createElementVNode("view",{class:"opSubTitle"},"消牌")])):e.createCommentVNode("",!0),t.menuPerm(83)?(e.openBlock(),e.createElementBlock("li",{key:3,onClick:a[98]||(a[98]=(...e)=>i.goLcardMerge&&i.goLcardMerge(...e))},[e.createElementVNode("i",{class:"iconfont icon-54"}),e.createElementVNode("view",{class:"opSubTitle"},"合牌")])):e.createCommentVNode("",!0)])])])):e.createCommentVNode("",!0),s.hideGaiShi?(e.openBlock(),e.createElementBlock("view",{key:6,class:"changeTimeBox"},[e.createElementVNode("view",{class:"changeTimeBg"}),e.createElementVNode("view",{class:"changeTimeInfo"},[e.createElementVNode("view",{class:"changeTimeTitle"},[e.createTextVNode(" 改时 "),e.createElementVNode("text",{class:"iconfont icon-shanchuxuanze changeTimeClose",onClick:a[99]||(a[99]=(...e)=>i.closeGaishi&&i.closeGaishi(...e))})]),e.createElementVNode("view",{class:"changeTimeInputBox"},[e.createElementVNode("view",{class:"changeTimeInputName"}," 修改时间 "),e.createElementVNode("input",{type:"text",placeholder:"修改时间",class:"changeTimeInput",onInput:a[100]||(a[100]=(...e)=>i.optInput&&i.optInput(...e)),"data-key":"gaiTime"},null,32),e.createElementVNode("view",{class:"changeTimeInputDanwei"}," 分钟 ")]),e.createElementVNode("view",{class:"changeTimeBtnBox"},[e.createElementVNode("view",{class:"changeTimeBtn rightBor orange","data-type":"0",onClick:a[101]||(a[101]=(...e)=>i.sureGaiTime&&i.sureGaiTime(...e))},"提前"),e.createElementVNode("view",{class:"changeTimeBtn","data-type":"1",onClick:a[102]||(a[102]=(...e)=>i.sureGaiTime&&i.sureGaiTime(...e))},"延后")])])])):e.createCommentVNode("",!0),s.hidejsBox?(e.openBlock(),e.createElementBlock("view",{key:7,class:"jsListBox"},[e.createElementVNode("view",{class:"jsListBg",onClick:a[103]||(a[103]=(...e)=>i.closeBox2&&i.closeBox2(...e))}),e.createElementVNode("view",{class:"jsListOpen"},[e.createElementVNode("view",{class:"jsListTitleBox"},[e.createElementVNode("text",{class:"jsListTitle jsListTitleSel"},"技师列表"),e.createElementVNode("i",{onClick:a[104]||(a[104]=(...e)=>i.closeBox2&&i.closeBox2(...e)),class:"iconfont icon-shanchuxuanze"})]),e.createElementVNode("view",{class:"jsMeunList"},[e.createElementVNode("view",{class:"jsSearchBox"},[e.createElementVNode("input",{class:"jsQueryTxt",onInput:a[105]||(a[105]=(...e)=>i.jobNumInput&&i.jobNumInput(...e)),placeholder:"请输入工号"},null,32)]),e.createElementVNode("radio-group",{class:"jsMenuTypeBox",onChange:a[106]||(a[106]=(...e)=>i.radioChangeJs&&i.radioChangeJs(...e))},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(s.jsList,((t,a)=>(e.openBlock(),e.createElementBlock("label",{key:t.id},[e.createElementVNode("view",{class:e.normalizeClass(t.is_show?"li":"li hide")},[e.createElementVNode("radio",{value:t.job_num,class:"radioBtn",style:{transform:"scale(0.7)"},color:"#ff8100"},null,8,["value"]),e.createElementVNode("text",null,e.toDisplayString(t.job_num)+"("+e.toDisplayString(t.work_status)+")",1)],2)])))),128)),0==s.jsList.length?(e.openBlock(),e.createElementBlock("view",{key:0,class:"noData"},[e.createElementVNode("i",{class:"iconfont icon-kongshuju"}),e.createTextVNode(" 暂无技师 ")])):e.createCommentVNode("",!0)],32)])])])):e.createCommentVNode("",!0),s.isOpenMergeTipsBox?(e.openBlock(),e.createElementBlock("view",{key:8,class:"prompt low"},[e.createElementVNode("view",{class:"prompt-shadow",onClick:a[107]||(a[107]=(...e)=>i.closeBox&&i.closeBox(...e))}),e.createElementVNode("view",{class:"mergeTipsBox pos-middle"},[e.createElementVNode("view",{class:"prompt-title"},[e.createTextVNode("小费 / "),e.createElementVNode("text",{class:"red"},e.toDisplayString(s.order.ser_name)+"技师",1),e.createElementVNode("text",{class:"close-icon red iconfont icon-shanchuxuanze",onClick:a[108]||(a[108]=(...e)=>i.closeBox&&i.closeBox(...e))})]),e.createElementVNode("view",{class:"mergeTipsBoxCon"},[e.createElementVNode("checkbox-group",{class:"selectOrderList",onChange:a[110]||(a[110]=(...e)=>i.selectOrder&&i.selectOrder(...e))},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(s.opt.orderList,((t,l)=>(e.openBlock(),e.createElementBlock("label",{class:"item",key:t.orderid},[e.createElementVNode("checkbox",{class:"checkbox",color:t.pay_status>0?"gray":"red",value:t.orderid,checked:"true",disabled:t.pay_status>0},null,8,["color","value","disabled"]),e.createElementVNode("text",{class:"name"},e.toDisplayString(t.p_name),1),e.createElementVNode("text",{class:"price"},"￥"+e.toDisplayString(t.should_pay),1),e.createElementVNode("text",{class:"iconfont icon-liebiao","data-index":l,onClick:a[109]||(a[109]=e.withModifiers(((...e)=>i.openTipsOpBox&&i.openTipsOpBox(...e)),["stop"]))},null,8,["data-index"])])))),128))],32)]),e.createElementVNode("view",{class:"mergeTipsBoxBtn"},[e.createElementVNode("text",{class:"label"},"一口价"),e.withDirectives(e.createElementVNode("input",{class:"input",type:"number","onUpdate:modelValue":a[111]||(a[111]=e=>s.totalTipsMoney=e),maxlength:"5"},null,512),[[e.vModelText,s.totalTipsMoney]]),e.createElementVNode("text",{class:"button bg-reds-JB",onClick:a[112]||(a[112]=(...e)=>i.setTotalTips&&i.setTotalTips(...e))},"保存")])])])):e.createCommentVNode("",!0),s.isOpenTipsOpBox?(e.openBlock(),e.createElementBlock("view",{key:9,class:"prompt low"},[e.createElementVNode("view",{class:"prompt-shadow",onClick:a[113]||(a[113]=(...e)=>i.closeTipsOpBox&&i.closeTipsOpBox(...e))}),e.createElementVNode("view",{class:"prompt-box-w90 pos-middle"},[e.createElementVNode("view",{class:"prompt-title"},[e.createTextVNode(e.toDisplayString(s.tipsOrder.p_name)+" ",1),e.createElementVNode("text",{class:"red"},"小费"),e.createTextVNode(" / "),e.createElementVNode("text",{class:"red"},e.toDisplayString(s.tipsOrder.ser_name)+"技师",1),e.createElementVNode("text",{class:"close-icon red iconfont icon-shanchuxuanze",onClick:a[114]||(a[114]=(...e)=>i.closeTipsOpBox&&i.closeTipsOpBox(...e))})]),e.createElementVNode("view",{class:"tipsOpBoxCon"},[e.createElementVNode("view",{class:"item"},[e.createElementVNode("text",{class:"label"},"操作"),1==s.tipsOrder.show_btn.cx?(e.openBlock(),e.createElementBlock("text",{key:0,class:"opBtn","data-type":"cx",onClick:a[115]||(a[115]=(...e)=>i.doTipsOp&&i.doTipsOp(...e))},"撤销")):e.createCommentVNode("",!0),1==s.tipsOrder.show_btn.zs?(e.openBlock(),e.createElementBlock("text",{key:1,class:"opBtn","data-type":"zs",onClick:a[116]||(a[116]=(...e)=>i.doTipsOp&&i.doTipsOp(...e))},"赠送")):e.createCommentVNode("",!0),1==s.tipsOrder.show_btn.cxzs?(e.openBlock(),e.createElementBlock("text",{key:2,class:"opBtn","data-type":"cxzs",onClick:a[117]||(a[117]=(...e)=>i.doTipsOp&&i.doTipsOp(...e))},"不赠送")):e.createCommentVNode("",!0)]),1==s.tipsOrder.show_btn.szxf?(e.openBlock(),e.createElementBlock("view",{key:0,class:"item"},[e.createElementVNode("text",{class:"label"},"改价"),e.withDirectives(e.createElementVNode("input",{class:"input",type:"number","onUpdate:modelValue":a[118]||(a[118]=e=>s.tipsMoney=e),maxlength:"5"},null,512),[[e.vModelText,s.tipsMoney]]),e.createElementVNode("text",{class:"opBtn"},"保存")])):e.createCommentVNode("",!0)])])])):e.createCommentVNode("",!0)],64)}]]);var G;const $=n({data:()=>({title:"开单",id:"",room:{},hideSuoBox:!1,hideOrderBox:!1,hideRoomBox:!1,hidejsBox:!1,useLcardList:[],noUseLcardList:[],orIds:[],lcardName:"选择",lcardId:0,lcardHe:0,sel_suo:2,is_first:1,num:1,setGoods:[],orderGoods:[],totalMoney:0,orderInfo:{orderTime:"",orderId:"",people:"",suopai:"",room:"",realAmount:0},roomList:[],roomName:"",roomKey:"",yyid:"",yyList:[],doneJsIds:[],doneProIds:[],chaTxt:"",sysTipsConfig:{},openType:"",openId:"",jsList:[],jsIndex:0,jsmodel:0,jsSex:0,dixiaoId:"",hideJsOrder:!1,jsOrder_btn:2,hideJsOrderSex:[],jsOrder_noJsOpen:1,billFirstRec:1,billFirstYx:1,tjNo:"",yxNo:"",isSubmit:0}),onLoad(e){G=getApp(),a("log","at pages/roomopen/roomopen.vue:478",e),uni.setNavigationBarTitle({title:"开单"}),this.id=e.id,this.yyid=e.yyid?e.yyid:"",this.lcardId=e.lcardId?e.lcardId:0,this.lcardHe=e.lcardHe?e.lcardHe:0,this.getData(),this.getRoomList(),this.sysTipsConfig=G.getInitSysTipsConfig()},methods:{qidai:function(e){G.showMsg("敬请期待")},closeBox:function(){this.hideSuoBox=!1,this.hideOrderBox=!1,this.hideRoomBox=!1,this.hidejsBox=!1,this.hideJsOrder=!1,this.chaTxt=""},seleChange:function(e){let t=e.currentTarget.dataset.model,a=e.detail.value;this[t]=a},getData(){let e=this,t={roomId:this.id,yyid:this.yyid};G.goPost("dingdan/getdatafororder",t,(function(t){e.room=t.room,e.gradeList=t.gradeList,e.serTypeList=t.serTypeList,e.serTypeList2=t.serTypeList2,e.isGrade=t.isGrade,e.techSex=t.techSex,e.jsOrder_noJsOpen=t.noJsOpen,e.billFirstRec=t.billFirstRec,e.billFirstYx=t.billFirstYx,0==e.yyList.length&&(e.yyList=t.yydetailed,e.totalMoneyFun()),0!==t.room.length&&(t.room.num-t.room.remain>0&&(e.sel_suo=1,""===e.yyid&&e.getLcardList()),uni.setNavigationBarTitle({title:"开单（"+t.room.name+"）"}))}))},openProject:function(){let e=this;G.copyObject(e.setGoods);let t="/pages/roomitem/roomitem?seltype=&id="+this.id;uni.navigateTo({url:t,events:{getGoods:function(t){let l=[];for(let e in t)if(a("log","at pages/roomopen/roomopen.vue:575",t[e]),2430==t[e].project_type&&t[e].num>1){let a=t[e].num;for(let o=0;o<a;o++)t[e].num=1,l.push(G.copyObject(t[e]))}else l.push(t[e]);e.setGoods=l,e.totalMoneyFun(),a("log","at pages/roomopen/roomopen.vue:592","getGoods"),a("log","at pages/roomopen/roomopen.vue:593",l),a("log","at pages/roomopen/roomopen.vue:594",t)}},success:function(t){let l=e.setGoods,o={};for(let e in l){let t="p_"+l[e].id;a("log","at pages/roomopen/roomopen.vue:605",t),o.hasOwnProperty(t)&&(l[e].num=o[t].num+1),o[t]=l[e]}a("log","at pages/roomopen/roomopen.vue:613","to"),a("log","at pages/roomopen/roomopen.vue:614",o),t.eventChannel.emit("postGoods",o)}})},upOneProject:function(e){let t=this,l=e.currentTarget.dataset.index,o=e.currentTarget.dataset.model,n=G.copyObject(t[o]),s=0;"yyList"==o&&(s=2430);let i="/pages/roomitem/roomitem?multType=0&id="+this.id+"&seltype="+s;uni.navigateTo({url:i,events:{getGoods:function(e){let s=n[l];e=e[0],s.id=e.id,s.price=e.price,s.project_type=e.project_type,s.p_type=e.p_type,s.title=e.title,s.is_free=e.is_free,n[l]=s,t[o]=n,t.totalMoneyFun(),a("log","at pages/roomopen/roomopen.vue:654",n)}},success:function(e){let t={};a("log","at pages/roomopen/roomopen.vue:661","to"),a("log","at pages/roomopen/roomopen.vue:662",t),e.eventChannel.emit("postGoods",t)}})},openRoomBox:function(){this.getRoomList(),this.hideRoomBox=!0},sel_suo_fun:function(e){let t=e.currentTarget.dataset.type;if(2==t&&this.room.remain<1)return G.showMsg("当前房间座位已满，不能发新锁牌"),!1;this.sel_suo=t},sel_suo_fun_xn:function(){this.lcardName="虚拟锁牌",this.lcardId=0,this.closeBox()},searchData:function(e){1==e?this.getLcardList():this.getRoomList()},getLcardList(){let e=this,t=e.id,a=e.is_first;e.yyid&&0==t&&(t="not");let l={roomId:t,lcardName:e.chaTxt};G.goPost("dingdan/getlcardlist",l,(function(t){if(e.useLcardList=t.useList,e.noUseLcardList=t.noUseList,1==a&&(1==e.useLcardList.length||e.lcardId>0)){if(1==e.useLcardList.length&&0==e.lcardId&&(e.lcardId=e.useLcardList[0].id,e.lcardName=e.useLcardList[0].title),e.lcardId>0){let a=t.useList;1==e.lcardHe&&(a=t.noUseList,e.sel_suo=2),a.forEach(((t,a)=>{e.lcardId==t.id&&(e.lcardName=t.title)}))}}else e.hideSuoBox=!0})),1!=e.is_first&&(e.hideSuoBox=!0),e.is_first=0},getRoomList(){let e=this,t={roomName:e.chaTxt};G.goPost("dingdan/getRoomlist",t,(function(t){e.roomList=t.list,e.id>0&&""==e.roomName&&t.list.forEach(((t,a)=>{e.id==t.id&&(e.roomName=t.title,e.roomKey=a)}))}))},radioChange(e){let t=e.detail.value,a=this.useLcardList;if(this.lcardId==t)return this.lcardId=0,this.lcardName="选择",this.closeBox(),!1;2==this.sel_suo&&(a=this.noUseLcardList);for(let l in a)if(a[l].id==t){this.lcardName=a[l].title;break}this.lcardId=t,this.closeBox()},radioChangeRoom(e){let t=e.detail.value,a=this.roomList;if(this.id==t)return this.id=0,this.lcardName="选择",this.closeBox(),!1;this.sel_suo=2,this.lcardName="选择",this.lcardId=0;for(let l in a)if(a[l].id==t){this.roomName=a[l].name;break}this.id=t,this.closeBox()},radioChangeJs:function(e){var t=this,a=t.jsIndex,l=t.jsmodel,o=e.detail.value;t[l][a].ser_no=o,this.closeBox()},checkboxChange:function(e){let t=this.setGoods,a=e.currentTarget.dataset.index,l=t[a].is_free;t[a].is_free=!l,this.totalMoneyFun()},addGoods:function(e){this.setGoods[e.currentTarget.dataset.index].num+=1,this.totalMoneyFun()},cutGoods:function(e){let t=this.setGoods,a=e.currentTarget.dataset.index;t[a].num>1?t[a].num-=1:t.splice(a,1),this.totalMoneyFun()},delGoods:function(e){let t=e.currentTarget.dataset.index;this[e.currentTarget.dataset.model].splice(t,1),this.totalMoneyFun()},totalMoneyFun:function(){let e=this.setGoods,t=this.yyList,a=0;for(let l in e)1!=e[l].is_free&&(a+=e[l].num*e[l].price);for(let l in t)a+=t[l].num*t[l].price;this.totalMoney=G.round(a,2)},ser_type:function(e,t,a){let l=this[a];l[t],l[t].ser_type=e},ser_grade:function(e,t){this.setGoods[t].ser_grade=e},ser_sex:function(e,t){this.setGoods[t].ser_sex=e},getLcardSex:function(e){let t=this,a=e.currentTarget.dataset.type;t.jsSex=a,t.ser_jobNum(t.jsIndex,t.jsmodel)},ser_jobNum:function(e,t){var a=this,l={ser_type:a[t][e].ser_type,pid:a[t][e].id,ser_sex:a.jsSex};G.goPost("Staffinfo/getJsInfo",l,(function(e,t){a.jsList=e})),a.hidejsBox=!0,a.jsIndex=e,a.jsmodel=t},onKeyInput:function(e){let t=e.currentTarget.dataset.index;this[e.currentTarget.dataset.model][t].ser_no=e.detail.value},fillInput:function(e){let t=e.detail.value;this[e.currentTarget.dataset.model]=t},jobNumInput:function(e){var t=this.jsList,a=e.detail.value;for(var l in t){-1!=t[l].job_num.indexOf(a)?t[l].is_show=!0:t[l].is_show=!1}this.jsList=t},clearSearch:function(e){this.chaTxt="",1==e?this.getLcardList():this.getRoomList()},sureOrderTips:function(){let e=this,t=e.setGoods,a=[];if(t.length<1)return e.sureOrder(),!1;for(let o in t)if(2430==t[o].project_type&&0==t[o].ser_type&&(e.hideJsOrderSex=[],3==t[o].ser_sex))return a.class="show-tips",a.txt="【"+t[o].title+"】请先选择技师性别",e.hideJsOrderSex[0]=a,e.jsOrder_btn=1,e.hideJsOrder=!0,!1;let l={roomId:e.id,sp_no:e.lcardName,lcardId:e.lcardId,ser:JSON.stringify(t)};G.goPost("dingdan/sureOrderTips",l,(function(t,a){return e.sureOrder(),!1}),(function(t,a){if("108"==a)return e.hideJsOrder=!0,e.jsOrder_btn=t.jsOrder_btn,e.hideJsOrderSex=t.hideJsOrderSex,!1}))},sureOrder:function(){let e=this,t=e.setGoods,l=e.yyList,o=t.concat(l);if(0!=e.isSubmit)return G.showMsg("请勿重复提交~"),!1;e.isSubmit=1;let n={roomId:e.id,sp_no:e.lcardName,lcardId:e.lcardId,ser:JSON.stringify(o),doneJsIds:e.doneJsIds.join(","),doneProIds:e.doneProIds.join(","),yyid:e.yyid,tj_name:e.tjNo,yx_name:e.yxNo};a("log","at pages/roomopen/roomopen.vue:1103",n),e.closeSysTips(),e.hideJsOrder=!1,G.goPost("dingdan/sureOrder",n,(function(t,a){if(t.hasOwnProperty("hasYuYue")&&1==t.hasYuYue)return!1;e.hideOrderBox=!0,e.orderInfo={orderTime:t.orderTime,orderId:t.orderId,people:t.people,suopai:t.suopai,room:t.room,realAmount:t.realAmount},e.orderGoods=t.goods,e.orIds=t.orIds}),(function(t,a){if(e.isSubmit=0,"108"==a){let a=t.p_name,l=t.p_id,o=t.condition;return e.dixiaoId=l,e.openSysTips(3,a+"不满足最低"+o+"元消费，是否继续开单?"),!1}if("105"==a)return e.openId=t.jsId,e.openSysTips(2,t.msg),!1}))},yuYueConfirm(e,t){this.dixiaoId=t,this.openSysTips(3,e+"技师存在预约记录，是否继续开单?")},dayin(){let e=this.$data.orIds;if(0==e.length)return G.showMsg("请先开单"),!1;let t={ids:e.join(","),type:1};this.closeSysTips(),G.goPost("order/dayin",t,(function(e){G.showMsg("开单小票打印成功")}))},upJsStatus:function(){let e={id:this.openId,val:1};this.closeSysTips(),G.goPost("kaoqin/setClock",e,(function(e){}))},backUrl:function(){uni.redirectTo({url:"/pages/roominfo/roominfo?id="+this.id})},openSysTips:function(e,t){let a="";this.openType=e,a=1==e?"是否确定要打印开单小票":t;let l=this.sysTipsConfig;l.Bg="",l.Box="",l.iconCss="orange",l.iconFont="icon-gantanhao",l.title="温馨提示",l.tips=a,l.bindLeftBtnCss="bg-orange-JB",l.leftBtn="取消",l.bindRightBtnCss="bg-red-JB",l.rightBtn="确认",this.sysTipsConfig=l},sucBack:function(){let e=this,t=e.openType;if(1==t)e.dayin();else if(2==t)e.upJsStatus();else if(3==t){var a=e.dixiaoId;e.doneProIds.push(a),e.sureOrder()}},closeSysTips:function(){var e=this.sysTipsConfig;e.Bg="hide",e.Box="hide",this.sysTipsConfig=e}}},[["render",function(t,a,o,n,i,c){const r=l(e.resolveDynamicComponent("ydSystemTips"),s);return e.openBlock(),e.createElementBlock(e.Fragment,null,[i.hideOrderBox?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock("view",{key:0,class:"allBox"},[e.createElementVNode("view",{class:"topTitleBox"},[e.createElementVNode("view",{class:"titleName"},"无锁牌系统将自动发放虚拟锁牌！")]),e.createElementVNode("view",{class:"allModelBox"},[""!=i.yyid?(e.openBlock(),e.createElementBlock("view",{key:0,class:"modelList"},[e.createElementVNode("view",{class:"modelIcon"},"*"),e.createElementVNode("view",{class:"modelTitle"},"房间"),e.createElementVNode("view",{class:"modelName",onClick:a[0]||(a[0]=(...e)=>c.openRoomBox&&c.openRoomBox(...e))},[e.createElementVNode("text",{class:"f-2c"},e.toDisplayString(i.roomName?i.roomName:"选择"),1),e.createElementVNode("i",{class:"iconfont icon-youbian1"})])])):e.createCommentVNode("",!0),e.createElementVNode("view",{class:"modelList"},[e.createElementVNode("view",{class:"modelIcon"},"*"),e.createElementVNode("view",{class:"modelTitle"},"锁牌"),e.createElementVNode("view",{class:"modelName",onClick:a[1]||(a[1]=(...e)=>c.getLcardList&&c.getLcardList(...e))},[e.createElementVNode("text",{class:"f-2c"},e.toDisplayString(i.lcardName),1),e.createElementVNode("i",{class:"iconfont icon-youbian1"})])]),e.createElementVNode("view",{class:"modelList"},[e.createElementVNode("view",{class:"modelIcon"},e.toDisplayString(i.yyid>0?"":"*"),1),e.createElementVNode("view",{class:"modelTitle"},"项目"),e.createElementVNode("view",{class:"modelName",onClick:a[2]||(a[2]=(...e)=>c.openProject&&c.openProject(...e))},[e.createElementVNode("text",{class:"f-2c"},"选择"+e.toDisplayString(i.yyid>0?" (点击添加非预约项目)":""),1),e.createElementVNode("i",{class:"iconfont icon-youbian1"})])]),0==i.billFirstRec?(e.openBlock(),e.createElementBlock("view",{key:1,class:"modelList"},[e.createElementVNode("view",{class:"modelIcon"}),e.createElementVNode("view",{class:"modelTitle"},"推荐人"),e.createElementVNode("view",{class:"modelName"},[e.withDirectives(e.createElementVNode("input",{class:"input",type:"text","onUpdate:modelValue":a[3]||(a[3]=e=>i.tjNo=e),placeholder:"输入工号",maxlength:"8"},null,512),[[e.vModelText,i.tjNo]])])])):e.createCommentVNode("",!0),0==i.billFirstYx?(e.openBlock(),e.createElementBlock("view",{key:2,class:"modelList"},[e.createElementVNode("view",{class:"modelIcon"}),e.createElementVNode("view",{class:"modelTitle"},"营销人"),e.createElementVNode("view",{class:"modelName"},[e.withDirectives(e.createElementVNode("input",{class:"input",type:"text","onUpdate:modelValue":a[4]||(a[4]=e=>i.yxNo=e),placeholder:"输入工号",maxlength:"8"},null,512),[[e.vModelText,i.yxNo]])])])):e.createCommentVNode("",!0)]),e.createElementVNode("scroll-view",{"scroll-y":"true",class:"allModelBox orderBox pb70"},[i.yyList.length>0?(e.openBlock(),e.createElementBlock("view",{key:0},[e.createElementVNode("view",{class:"title red"},"预约明细"),(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(i.yyList,((l,o)=>(e.openBlock(),e.createElementBlock("view",{class:"clearfix"},[e.createElementVNode("view",{class:"item"},[e.createElementVNode("view",{class:"title"},[e.createElementVNode("text",{class:"red"},"*"),1==l.pay_status?(e.openBlock(),e.createElementBlock("text",{key:0},e.toDisplayString(l.title?l.title:"请选择预约项目"),1)):e.createCommentVNode("",!0),1!=l.pay_status?(e.openBlock(),e.createElementBlock("text",{key:1,onClick:a[5]||(a[5]=(...e)=>c.upOneProject&&c.upOneProject(...e)),"data-index":o,"data-model":"yyList"},[e.createTextVNode(e.toDisplayString(l.title?l.title:"请选择预约项目")+" ",1),e.createElementVNode("i",{class:"iconfont icon-edit1 upBtn"})],8,["data-index"])):e.createCommentVNode("",!0),e.createElementVNode("i",{class:"iconfont icon-shanchuxuanze",onClick:a[6]||(a[6]=(...e)=>c.delGoods&&c.delGoods(...e)),"data-index":o,"data-model":"yyList"},null,8,["data-index"])]),e.createElementVNode("view",{class:"item-box"},[e.createElementVNode("ul",{class:"work-type"},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(t.serTypeList2,(t=>(e.openBlock(),e.createElementBlock(e.Fragment,{key:t.id},[0==l.ser_work_status||0!=l.ser_work_status&&2!=t.id?(e.openBlock(),e.createElementBlock("li",{key:0,onClick:e=>c.ser_type(t.id,o,"yyList"),class:e.normalizeClass(l.ser_type==t.id?"on":"")},e.toDisplayString(t.name),11,["onClick"])):e.createCommentVNode("",!0)],64)))),128))]),e.createElementVNode("view",{class:e.normalizeClass(["job_num",l.ser_no_old?"white-bg":""])},[e.createElementVNode("text",{class:"js"},"技师"),e.createElementVNode("input",{class:"job_num-input",type:"number",onInput:a[7]||(a[7]=(...e)=>c.onKeyInput&&c.onKeyInput(...e)),"data-index":o,value:l.ser_no,"data-model":"yyList",disabled:!!l.ser_no_old,placeholder:"请输入工号"},null,40,["data-index","value","disabled"]),2!=l.ser_type||l.ser_no_old?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock("view",{key:0,class:"job_num_sel",onClick:e=>c.ser_jobNum(o,"yyList")},"选择",8,["onClick"]))],2)])])])))),256))])):e.createCommentVNode("",!0),i.setGoods.length>0?(e.openBlock(),e.createElementBlock("view",{key:1},[e.createElementVNode("view",{class:"title"},"开单明细"),(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(i.setGoods,((l,o)=>(e.openBlock(),e.createElementBlock("view",{class:"clearfix"},[2430==l.project_type?(e.openBlock(),e.createElementBlock("view",{key:0,class:"item"},[e.createElementVNode("view",{class:"title"},[e.createElementVNode("text",{onClick:a[8]||(a[8]=(...e)=>c.upOneProject&&c.upOneProject(...e)),"data-index":o,"data-model":"setGoods",class:"pn_title"},[e.createTextVNode(e.toDisplayString(l.title)+" ",1),e.createElementVNode("i",{class:"iconfont icon-edit1 upBtn"})],8,["data-index"]),e.createElementVNode("i",{class:"iconfont icon-shanchuxuanze",onClick:a[9]||(a[9]=(...e)=>c.delGoods&&c.delGoods(...e)),"data-index":o,"data-model":"setGoods"},null,8,["data-index"]),l.show_free>0?(e.openBlock(),e.createElementBlock("label",{key:0,class:"itemcheckbox",onClick:a[10]||(a[10]=(...e)=>c.checkboxChange&&c.checkboxChange(...e)),"data-index":o},[e.createElementVNode("i",{class:e.normalizeClass(1==l.is_free?"iconfont icon-xuanzhong":"iconfont icon-weixuanzhong")},null,2),e.createElementVNode("text",null,"赠送")],8,["data-index"])):e.createCommentVNode("",!0)]),e.createElementVNode("view",{class:"item-box"},[e.createElementVNode("ul",{class:"work-type"},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(t.serTypeList,(t=>(e.openBlock(),e.createElementBlock("li",{key:t.id,onClick:e=>c.ser_type(t.id,o,"setGoods"),class:e.normalizeClass(l.ser_type==t.id?"on":"")},e.toDisplayString(t.name),11,["onClick"])))),128))]),l.ser_type<1&&1==t.isGrade?(e.openBlock(),e.createElementBlock("ul",{key:0,class:"work_grade"},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(t.gradeList,(t=>(e.openBlock(),e.createElementBlock("li",{key:t.id,onClick:e=>c.ser_grade(t.id,o),class:e.normalizeClass(l.ser_grade==t.id?"on":"")},e.toDisplayString(t.title),11,["onClick"])))),128))])):e.createCommentVNode("",!0),l.ser_type<1?(e.openBlock(),e.createElementBlock("ul",{key:1,class:"work_sex"},[e.createElementVNode("li",{onClick:e=>c.ser_sex(0,o),class:e.normalizeClass(0==l.ser_sex?"on":"")},"不限",10,["onClick"]),e.createElementVNode("li",{onClick:e=>c.ser_sex(1,o),class:e.normalizeClass(1==l.ser_sex?"on":"")},"男",10,["onClick"]),e.createElementVNode("li",{onClick:e=>c.ser_sex(2,o),class:e.normalizeClass(2==l.ser_sex?"on":"")},"女",10,["onClick"])])):e.createCommentVNode("",!0),l.ser_type>0?(e.openBlock(),e.createElementBlock("view",{key:2,class:"job_num"},[e.createElementVNode("text",{class:"js"},"技师"),e.createElementVNode("input",{class:"job_num-input",type:"number",onInput:a[11]||(a[11]=(...e)=>c.onKeyInput&&c.onKeyInput(...e)),"data-index":o,value:l.ser_no,"data-model":"setGoods",placeholder:"请输入工号"},null,40,["data-index","value"]),2==l.ser_type?(e.openBlock(),e.createElementBlock("view",{key:0,class:"job_num_sel",onClick:e=>c.ser_jobNum(o,"setGoods")},"选择",8,["onClick"])):e.createCommentVNode("",!0)])):e.createCommentVNode("",!0)])])):e.createCommentVNode("",!0),2430!=l.project_type?(e.openBlock(),e.createElementBlock("view",{key:1,class:"item goods"},[e.createElementVNode("view",{class:"title"},[e.createElementVNode("view",{class:"tit"},[e.createTextVNode(e.toDisplayString(l.title),1),""!=l.remark?(e.openBlock(),e.createElementBlock("text",{key:0,class:"remark"},e.toDisplayString(l.remark),1)):e.createCommentVNode("",!0)]),e.createElementVNode("view",{class:"goods-box"},[e.createElementVNode("i",{class:"iconfont icon-53",onClick:a[12]||(a[12]=(...e)=>c.cutGoods&&c.cutGoods(...e)),"data-index":o},null,8,["data-index"]),e.createElementVNode("text",{class:"setNum"},e.toDisplayString(l.num),1),e.createElementVNode("i",{class:"iconfont icon-54",onClick:a[13]||(a[13]=(...e)=>c.addGoods&&c.addGoods(...e)),"data-index":o},null,8,["data-index"])]),e.createElementVNode("i",{class:"iconfont icon-shanchuxuanze",onClick:a[14]||(a[14]=(...e)=>c.delGoods&&c.delGoods(...e)),"data-index":o,"data-model":"setGoods"},null,8,["data-index"]),l.show_free>0?(e.openBlock(),e.createElementBlock("label",{key:0,class:"itemcheckbox",onClick:a[15]||(a[15]=(...e)=>c.checkboxChange&&c.checkboxChange(...e)),"data-index":o},[e.createElementVNode("i",{class:e.normalizeClass(1==l.is_free?"iconfont icon-xuanzhong":"iconfont icon-weixuanzhong")},null,2),e.createElementVNode("text",null,"赠送")],8,["data-index"])):e.createCommentVNode("",!0)])])):e.createCommentVNode("",!0)])))),256))])):e.createCommentVNode("",!0)]),e.createElementVNode("view",{class:"footBox IOSBottom"},[e.createElementVNode("view",{class:"item-left"},[e.createElementVNode("text",{class:"item-title"},"合计：￥"+e.toDisplayString(i.totalMoney),1)]),e.createElementVNode("view",{class:"item-right",onClick:a[16]||(a[16]=(...e)=>c.sureOrderTips&&c.sureOrderTips(...e))},[e.createElementVNode("text",{class:"btn"},"确定开单")])]),i.hideSuoBox?(e.openBlock(),e.createElementBlock("view",{key:0,class:"openBox"},[e.createElementVNode("view",{class:"bg",onClick:a[17]||(a[17]=(...e)=>c.closeBox&&c.closeBox(...e))}),e.createElementVNode("view",{class:"cenOpen MeunBox"},[e.createElementVNode("view",{class:"title"},[e.createElementVNode("text",{class:e.normalizeClass(2==i.sel_suo?"s-top sel_suo":"s-top"),"data-type":"2",onClick:a[18]||(a[18]=(...e)=>c.sel_suo_fun&&c.sel_suo_fun(...e))},"全新锁牌",2),e.createElementVNode("text",{class:e.normalizeClass(1==i.sel_suo?"s-top sel_suo":"s-top"),"data-type":"1",onClick:a[19]||(a[19]=(...e)=>c.sel_suo_fun&&c.sel_suo_fun(...e))},"已发锁牌",2),e.createElementVNode("i",{onClick:a[20]||(a[20]=(...e)=>c.closeBox&&c.closeBox(...e)),class:"iconfont icon-shanchuxuanze"}),e.createElementVNode("text",{class:"s-top xn_suo",onClick:a[21]||(a[21]=(...e)=>c.sel_suo_fun_xn&&c.sel_suo_fun_xn(...e))},"使用虚拟锁牌")]),e.createElementVNode("view",{class:"meunList spBox"},[1==i.sel_suo?(e.openBlock(),e.createElementBlock("view",{key:0,class:"orange"},"本房间正在使用的锁牌！")):e.createCommentVNode("",!0),2==i.sel_suo?(e.openBlock(),e.createElementBlock("view",{key:1,class:"searchBox"},[e.createElementVNode("input",{class:"queryTxt",onInput:a[22]||(a[22]=(...e)=>c.fillInput&&c.fillInput(...e)),value:i.chaTxt,"data-model":"chaTxt",placeholder:"请输入锁牌号"},null,40,["value"]),i.chaTxt.length>0?(e.openBlock(),e.createElementBlock("i",{key:0,class:"iconfont icon-shanchuxuanze clearSearch",onClick:a[23]||(a[23]=e=>c.clearSearch(1))})):e.createCommentVNode("",!0),e.createElementVNode("view",{class:"queryBtn",onClick:a[24]||(a[24]=e=>c.searchData(1))},"查询")])):e.createCommentVNode("",!0),1==i.sel_suo?(e.openBlock(),e.createElementBlock("radio-group",{key:2,class:"menuTypeBox minTop",onChange:a[25]||(a[25]=(...e)=>c.radioChange&&c.radioChange(...e))},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(i.useLcardList,((t,a)=>(e.openBlock(),e.createElementBlock("label",{key:t.id},[e.createElementVNode("view",{class:e.normalizeClass(i.lcardId==t.id?"li yf_suo sel_suo":"li  yf_suo")},[e.createElementVNode("radio",{value:t.id,class:"radioBtn",style:{transform:"scale(0.7)"},color:"#ff8100",checked:i.lcardId==t.id},null,8,["value","checked"]),e.createElementVNode("text",null,e.toDisplayString(t.title),1),e.createElementVNode("view",{class:"sers"},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(t.jslist,(t=>(e.openBlock(),e.createElementBlock("text",{class:"box"},e.toDisplayString(t),1)))),256))])],2)])))),128)),0==i.useLcardList.length?(e.openBlock(),e.createElementBlock("view",{key:0,class:"noData"},[e.createElementVNode("i",{class:"iconfont icon-kongshuju"}),e.createTextVNode(" 暂无锁牌 ")])):e.createCommentVNode("",!0)],32)):e.createCommentVNode("",!0),2==i.sel_suo?(e.openBlock(),e.createElementBlock("radio-group",{key:3,class:"menuTypeBox",onChange:a[26]||(a[26]=(...e)=>c.radioChange&&c.radioChange(...e))},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(i.noUseLcardList,((t,a)=>(e.openBlock(),e.createElementBlock("label",{key:t.id},[e.createElementVNode("view",{class:e.normalizeClass(i.lcardId==t.id?"li sel_suo":"li")},[e.createElementVNode("radio",{value:t.id,class:"radioBtn",style:{transform:"scale(0.7)"},color:"#ff8100",checked:i.lcardId==t.id},null,8,["value","checked"]),e.createElementVNode("text",null,e.toDisplayString(t.title),1)],2)])))),128)),0==i.noUseLcardList.length?(e.openBlock(),e.createElementBlock("view",{key:0,class:"noData"},[e.createElementVNode("i",{class:"iconfont icon-kongshuju"}),e.createTextVNode(" 暂无锁牌 ")])):e.createCommentVNode("",!0)],32)):e.createCommentVNode("",!0)])])])):e.createCommentVNode("",!0),i.hideRoomBox?(e.openBlock(),e.createElementBlock("view",{key:1,class:"openBox roomBox"},[e.createElementVNode("view",{class:"bg",onClick:a[27]||(a[27]=(...e)=>c.closeBox&&c.closeBox(...e))}),e.createElementVNode("view",{class:"cenOpen MeunBox"},[e.createElementVNode("view",{class:"title"},[e.createElementVNode("text",{class:"s-top sel_suo"},"房间列表"),e.createElementVNode("i",{onClick:a[28]||(a[28]=(...e)=>c.closeBox&&c.closeBox(...e)),class:"iconfont icon-shanchuxuanze"})]),e.createElementVNode("view",{class:"meunList"},[e.createElementVNode("view",{class:"searchBox"},[e.createElementVNode("input",{class:"queryTxt",onInput:a[29]||(a[29]=(...e)=>c.fillInput&&c.fillInput(...e)),value:i.chaTxt,"data-model":"chaTxt",placeholder:"请输入房间号"},null,40,["value"]),i.chaTxt.length>0?(e.openBlock(),e.createElementBlock("i",{key:0,class:"iconfont icon-shanchuxuanze clearSearch",onClick:a[30]||(a[30]=e=>c.clearSearch(2))})):e.createCommentVNode("",!0),e.createElementVNode("view",{class:"queryBtn",onClick:a[31]||(a[31]=e=>c.searchData(2))},"查询")]),e.createElementVNode("radio-group",{class:"menuTypeBox",onChange:a[32]||(a[32]=(...e)=>c.radioChangeRoom&&c.radioChangeRoom(...e))},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(i.roomList,((t,a)=>(e.openBlock(),e.createElementBlock("label",{key:t.id},[e.createElementVNode("view",{class:e.normalizeClass(i.id==t.id?"li sel_suo":"li")},[e.createElementVNode("radio",{value:t.id,class:"radioBtn",style:{transform:"scale(0.7)"},color:"#ff8100",checked:i.id==t.id},null,8,["value","checked"]),e.createElementVNode("text",null,e.toDisplayString(t.title),1)],2)])))),128)),0==i.roomList.length?(e.openBlock(),e.createElementBlock("view",{key:0,class:"noData"},[e.createElementVNode("i",{class:"iconfont icon-kongshuju"}),e.createTextVNode(" 暂无房间 ")])):e.createCommentVNode("",!0)],32)])])])):e.createCommentVNode("",!0),i.hidejsBox?(e.openBlock(),e.createElementBlock("view",{key:2,class:"openBox jsBox"},[e.createElementVNode("view",{class:"bg",onClick:a[33]||(a[33]=(...e)=>c.closeBox&&c.closeBox(...e))}),e.createElementVNode("view",{class:"cenOpen MeunBox"},[e.createElementVNode("view",{class:"title"},[e.createElementVNode("text",{class:e.normalizeClass(0==i.jsSex?"s-top sel_suo":"s-top"),"data-type":"0",onClick:a[34]||(a[34]=(...e)=>c.getLcardSex&&c.getLcardSex(...e))},"全部技师",2),e.createElementVNode("text",{class:e.normalizeClass(2==i.jsSex?"s-top sel_suo":"s-top"),"data-type":"2",onClick:a[35]||(a[35]=(...e)=>c.getLcardSex&&c.getLcardSex(...e))},"女技师",2),e.createElementVNode("text",{class:e.normalizeClass(1==i.jsSex?"s-top sel_suo":"s-top"),"data-type":"1",onClick:a[36]||(a[36]=(...e)=>c.getLcardSex&&c.getLcardSex(...e))},"男技师",2),e.createElementVNode("i",{onClick:a[37]||(a[37]=(...e)=>c.closeBox&&c.closeBox(...e)),class:"iconfont icon-shanchuxuanze"})]),e.createElementVNode("view",{class:"meunList"},[e.createElementVNode("view",{class:"searchBox"},[e.createElementVNode("input",{class:"queryTxt",onInput:a[38]||(a[38]=(...e)=>c.jobNumInput&&c.jobNumInput(...e)),placeholder:"请输入工号"},null,32),e.createElementVNode("view",{class:"queryBtn",onClick:a[39]||(a[39]=e=>c.searchData(2))},"查询")]),e.createElementVNode("radio-group",{class:"menuTypeBox",onChange:a[40]||(a[40]=(...e)=>c.radioChangeJs&&c.radioChangeJs(...e))},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(i.jsList,((t,a)=>(e.openBlock(),e.createElementBlock("label",{key:t.id},[e.createElementVNode("view",{class:e.normalizeClass(t.is_show?"li":"li hide")},[e.createElementVNode("radio",{value:t.job_num,class:"radioBtn",style:{transform:"scale(0.7)"},color:"#ff8100"},null,8,["value"]),e.createElementVNode("text",null,e.toDisplayString(t.job_num)+"("+e.toDisplayString(t.work_status)+")",1)],2)])))),128)),0==i.jsList.length?(e.openBlock(),e.createElementBlock("view",{key:0,class:"noData"},[e.createElementVNode("i",{class:"iconfont icon-kongshuju"}),e.createTextVNode(" 暂无技师 ")])):e.createCommentVNode("",!0)],32)])])])):e.createCommentVNode("",!0),i.hideJsOrder?(e.openBlock(),e.createElementBlock("view",{key:3,class:"openBox"},[e.createElementVNode("view",{class:"bg",onClick:a[41]||(a[41]=(...e)=>c.closeBox&&c.closeBox(...e))}),e.createElementVNode("view",{class:"cenOpen alertBox"},[e.createElementVNode("view",{class:"content"},[e.createElementVNode("view",{class:"openList optBox23"},[e.createElementVNode("view",{class:"show-box"},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(i.hideJsOrderSex,((t,a)=>(e.openBlock(),e.createElementBlock("view",{class:e.normalizeClass(t.class)},[t.txt?(e.openBlock(),e.createElementBlock("text",{key:0},e.toDisplayString(t.txt),1)):e.createCommentVNode("",!0),""!=t.bl?(e.openBlock(),e.createElementBlock("text",{key:1,class:e.normalizeClass(t.bl_class)},e.toDisplayString(t.bl),3)):e.createCommentVNode("",!0),t.txt2?(e.openBlock(),e.createElementBlock("text",{key:2,class:"show-fr"},e.toDisplayString(t.txt2),1)):e.createCommentVNode("",!0)],2)))),256))])]),e.createElementVNode("view",{class:"orderFoot text-center clearfix"},[2==i.jsOrder_btn?(e.openBlock(),e.createElementBlock("text",{key:0,class:"btn fl",onClick:a[42]||(a[42]=(...e)=>c.closeBox&&c.closeBox(...e))},"取消")):e.createCommentVNode("",!0),2==i.jsOrder_btn?(e.openBlock(),e.createElementBlock("text",{key:1,class:"btn fr","data-key":t.jsOrder_type,onClick:a[43]||(a[43]=(...e)=>c.sureOrder&&c.sureOrder(...e))},"确定",8,["data-key"])):e.createCommentVNode("",!0),1==i.jsOrder_btn?(e.openBlock(),e.createElementBlock("text",{key:2,class:"btn singleClose red",onClick:a[44]||(a[44]=(...e)=>c.closeBox&&c.closeBox(...e))},"关闭")):e.createCommentVNode("",!0)])])])])):e.createCommentVNode("",!0)])),i.hideOrderBox?(e.openBlock(),e.createElementBlock("view",{key:1,class:"cenOpen orderStatus"},[e.createElementVNode("view",{class:"tips"},[e.createElementVNode("i",{class:"iconfont icon-xuanze1"}),e.createElementVNode("text",null,"开单成功")]),e.createElementVNode("view",{class:"orderBox"},[e.createElementVNode("ul",{class:"orderLists"},[e.createElementVNode("li",null,[e.createElementVNode("text",null,"订单号："+e.toDisplayString(i.orderInfo.orderId),1)]),e.createElementVNode("li",null,[e.createElementVNode("text",null,"下单时间："+e.toDisplayString(i.orderInfo.orderTime),1)]),e.createElementVNode("li",null,[e.createElementVNode("text",null,"开单人："+e.toDisplayString(i.orderInfo.people),1)]),e.createElementVNode("li",{class:"mt20"}),e.createElementVNode("li",null,[e.createElementVNode("text",{class:"fl"},"锁牌："+e.toDisplayString(i.orderInfo.suopai),1),e.createElementVNode("text",{class:"fr"},"房间："+e.toDisplayString(i.orderInfo.room),1)]),e.createElementVNode("li",{class:"line"}),e.createElementVNode("li",{class:"f-w700"},[e.createElementVNode("text",{class:"fl-t"},"商品名称"),e.createElementVNode("view",{class:"fr fr-b"},[e.createElementVNode("text",{class:"fr-w3"},"金额"),e.createElementVNode("text",{class:"fr-w2"},"数量"),e.createElementVNode("text",{class:"fr-w1"},"技师")])]),(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(i.orderGoods,(t=>(e.openBlock(),e.createElementBlock("li",null,[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(t.lists,(t=>(e.openBlock(),e.createElementBlock("view",null,[e.createElementVNode("text",{class:"fl"},e.toDisplayString(t.name),1),e.createElementVNode("view",{class:"fr fr-b"},[e.createElementVNode("text",{class:"fr-w3"},"￥"+e.toDisplayString(t.price),1),e.createElementVNode("text",{class:"fr-w2"},e.toDisplayString(t.num),1),e.createElementVNode("text",{class:"fr-w1"},e.toDisplayString(t.job_num),1)])])))),256))])))),256)),e.createElementVNode("li",{class:"line"}),e.createElementVNode("li",null,[e.createElementVNode("view",{class:"fr"},[e.createElementVNode("text",null,"￥"+e.toDisplayString(i.orderInfo.realAmount),1),e.createElementVNode("text",null,"小计：")])])])]),e.createElementVNode("view",{class:"orderFoot IOSBottom"},[e.createElementVNode("text",{class:"btn fl",onClick:a[45]||(a[45]=e=>c.openSysTips(1))},"打印开单小票"),e.createElementVNode("text",{class:"btn fr",onClick:a[46]||(a[46]=(...e)=>c.backUrl&&c.backUrl(...e))},"查看详情")])])):e.createCommentVNode("",!0),e.createVNode(r,{config:i.sysTipsConfig,onBtnSure:c.sucBack,onBtnClose:c.closeSysTips,onBtnBgClose:c.closeSysTips},null,8,["config","onBtnSure","onBtnClose","onBtnBgClose"])],64)}]]);const q=n({props:{cancelColor:{type:String,default:"#808080"},cancelType:{type:String,default:"text"},cancleFontSize:{type:String,default:"1.05rem"},title:{type:String,default:""},titleColor:{type:String,default:""},titleFontSize:{type:String,default:"26rpx"},confirmColor:{type:String,default:"#ff9800"},confirmFontSize:{type:String,default:"1.05rem"},confirmFontWeight:{type:String,default:""},itemFontSize:{type:String,default:"28rpx"},pickerList:{type:Array},value:{type:String,default:0},rangeKey:{type:String,default:"title"}},data:()=>({showPicker:!1,pickerValue:[0]}),methods:{_close(){this.showPicker=!1},_open(){this.showPicker=!0},__confirmPicker(){this.showPicker=!1;let e=this.pickerValue;this.$emit("onConfirm",e)},changePicker(e){this.pickerValue=e.detail.value}}},[["render",function(t,a,l,o,n,s){return e.openBlock(),e.createElementBlock("view",null,[n.showPicker?(e.openBlock(),e.createElementBlock("view",{key:0,class:"picker-modal",onClick:a[0]||(a[0]=(...e)=>s._close&&s._close(...e))})):e.createCommentVNode("",!0),e.createElementVNode("view",{class:"picker-content",style:e.normalizeStyle({transform:n.showPicker?"translateY(0)":"translateY(100%)"})},[e.createElementVNode("view",{class:"picker-header"},["text"==l.cancelType?(e.openBlock(),e.createElementBlock("view",{key:0,style:e.normalizeStyle({color:l.cancelColor,fontSize:l.cancleFontSize}),onClick:a[1]||(a[1]=(...e)=>s._close&&s._close(...e))},"取消",4)):(e.openBlock(),e.createElementBlock("icon",{key:1,type:"clear",size:"18",onClick:a[2]||(a[2]=(...e)=>s._close&&s._close(...e))})),e.createElementVNode("view",{class:"packer-title",style:e.normalizeStyle({color:l.titleColor,fontSize:l.titleFontSize})},e.toDisplayString(l.title),5),e.createElementVNode("view",{style:e.normalizeStyle({color:l.confirmColor,fontSize:l.confirmFontSize,fontWeight:l.confirmFontWeight}),onClick:a[3]||(a[3]=(...e)=>s.__confirmPicker&&s.__confirmPicker(...e))},"确定",4)]),e.createElementVNode("picker-view",{"indicator-style":"height: 72rpx;",class:"picker-view",value:n.pickerValue,onChange:a[4]||(a[4]=(...e)=>s.changePicker&&s.changePicker(...e))},[e.createElementVNode("picker-view-column",null,[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(l.pickerList,((t,a)=>(e.openBlock(),e.createElementBlock("view",{class:"picker-item",style:e.normalizeStyle({fontSize:l.itemFontSize}),key:a},e.toDisplayString(t[l.rangeKey]),5)))),128))])],40,["value"])],4)])}],["__scopeId","data-v-a19da7ce"]]);var X;const Y=n({data:()=>({title:"修改房态",id:"",staffList:[],setLeave:0,setLeaveIndex:0,room:{new_status:0,status:"脏房",cleanId:"",remarks:""},sysTipsConfig:{}}),onLoad(e){X=getApp(),this.id=e.id,a("log","at pages/roomstatus/roomstatus.vue:114",this.room),this.getData(),this.sysTipsConfig=X.getInitSysTipsConfig()},methods:{qidai:function(e){X.showMsg("敬请期待")},getData(){let e=this,t={roomId:this.id};X.goPost("dingdan/getdatafororder",t,(function(t){1!=t.room.isUpdate&&e.openSysTips(),e.staffList=t.staffList,e.room.status=t.room.statusTxt,uni.setNavigationBarTitle({title:"修改房态（"+t.room.name+"）"})}))},radioChange(e){a("log","at pages/roomstatus/roomstatus.vue:154",e.detail.value),this.room.new_status=e.detail.value},bindTextAreaBlur:function(e){this.room.remarks=e.detail.value},sureOrder:function(){let e=this,t=e.room;t.status,t.new_status;let a={roomId:e.id,roomStatus:t.new_status,cleanId:t.cleanId,remarks:t.remarks};X.goPost("room/changestatus",a,(function(t){setTimeout((function(){e.getData()}),1e3),e.setLeave=0,e.setLeaveIndex=0,e.room={new_status:0,status:"脏房",cleanId:"",remarks:""},X.showMsg("更改成功")}))},seleLeave:function(e){let t=e.detail.value;this.setLeaveIndex=t,this.setLeave=this.staffList[t].id,this.room.cleanId=this.staffList[t].id},openSysTips:function(){var e=this.sysTipsConfig;e.Bg="",e.Box="",e.iconCss="orange",e.iconFont="icon-gantanhao",e.title="温馨提示",e.tips="存在未完成项目,不可修改!",e.showLeftBtn=!1,e.bindRightBtnCss="bg-red-JB",e.bindRightBtn="closeSysTips",e.rightBtn="我知道了",this.sysTipsConfig=e},closeSysTips:function(){var e=this.sysTipsConfig;e.Bg="hide",e.Box="hide",this.sysTipsConfig=e},backTop:function(){this.closeSysTips(),uni.navigateBack({delta:1})}}},[["render",function(t,a,o,n,i,c){const r=l(e.resolveDynamicComponent("ydSystemTips"),s),d=l(e.resolveDynamicComponent("ydPicker"),q);return e.openBlock(),e.createElementBlock(e.Fragment,null,[e.createElementVNode("view",{class:"topTitleBox"},[e.createElementVNode("view",{class:"titleName"},"当房间有计时项目未完成时，不可修改状态！")]),e.createElementVNode("view",{class:"allModelBox"},[e.createElementVNode("view",{class:"modelList"},[e.createElementVNode("view",{class:"modelIcon"},"*"),e.createElementVNode("view",{class:"modelTitle"},"当前状态"),e.createElementVNode("view",{class:"modelName"},e.toDisplayString(i.room.status),1)]),e.createElementVNode("view",{class:"modelList modelRadioBox"},[e.createElementVNode("view",{class:"modelIcon"},"*"),e.createElementVNode("view",{class:"modelTitle"},"更改状态"),e.createElementVNode("radio-group",{class:"modelRadio",onChange:a[0]||(a[0]=(...e)=>c.radioChange&&c.radioChange(...e))},[e.createElementVNode("label",{class:"radioLabel"},[e.createElementVNode("radio",{value:"0",color:"#ff8100",checked:0==i.room.new_status},null,8,["checked"]),e.createTextVNode("设为空净 ")]),e.createElementVNode("label",{class:"radioLabel"},[e.createElementVNode("radio",{value:"2",color:"#ff8100",checked:2==i.room.new_status},null,8,["checked"]),e.createTextVNode("设为待洁 ")]),e.createElementVNode("label",{class:"radioLabel"},[e.createElementVNode("radio",{value:"7",color:"#ff8100",checked:7==i.room.new_status},null,8,["checked"]),e.createTextVNode("设为维修 ")]),e.createElementVNode("label",{class:"radioLabel"},[e.createElementVNode("radio",{value:"5",color:"#ff8100",checked:5==i.room.new_status},null,8,["checked"]),e.createTextVNode("设为待结 ")]),e.createElementVNode("label",{class:"radioLabel"},[e.createElementVNode("radio",{value:"6",color:"#ff8100",checked:6==i.room.new_status},null,8,["checked"]),e.createTextVNode("设为住房 ")]),e.createElementVNode("label",{class:"radioLabel"},[e.createElementVNode("radio",{value:"41",color:"#ff8100",checked:41==i.room.new_status},null,8,["checked"]),e.createTextVNode("设为预定 ")]),e.createElementVNode("label",{class:"radioLabel"},[e.createElementVNode("radio",{value:"42",color:"#ff8100",checked:42==i.room.new_status},null,8,["checked"]),e.createTextVNode("设为过夜 ")])],32)])]),0==i.room.new_status?(e.openBlock(),e.createElementBlock("view",{key:0,class:"allModelBox"},[e.createElementVNode("view",{class:"modelTips"}," 如需计算提成，请录入净房人员。无提成请忽略！ "),e.createElementVNode("view",{class:"modelBox"},[e.createElementVNode("view",{class:"title"},"净房人员"),e.createElementVNode("picker",{onChange:a[1]||(a[1]=(...e)=>c.seleLeave&&c.seleLeave(...e)),value:i.setLeaveIndex,range:i.staffList,"range-key":"name","indicator-style":"height:50px;",class:"bigPicker"},[e.createElementVNode("view",{class:"seaCon"},e.toDisplayString(""===i.setLeave||0==i.staffList.length?"请选择":i.staffList[i.setLeaveIndex].name),1)],40,["value","range"]),e.createElementVNode("textarea",{onBlur:a[2]||(a[2]=(...e)=>c.bindTextAreaBlur&&c.bindTextAreaBlur(...e)),"auto-height":"",placeholder:"备注说明...",class:"seaCon4"},null,32)])])):e.createCommentVNode("",!0),e.createElementVNode("view",{class:"footBox IOSBottom"},[e.createElementVNode("text",{class:"btn",onClick:a[3]||(a[3]=(...e)=>c.sureOrder&&c.sureOrder(...e))},"确定修改")]),e.createVNode(r,{config:i.sysTipsConfig,onBtnSure:c.backTop,onBtnClose:c.closeSysTips,onBtnBgClose:c.closeSysTips},null,8,["config","onBtnSure","onBtnClose","onBtnBgClose"]),e.createVNode(d,{modelValue:t.isShowPark,"onUpdate:modelValue":a[4]||(a[4]=e=>t.isShowPark=e),options:i.staffList,"range-key":"name",title:"籍贯",onChange:c.seleLeave},null,8,["modelValue","options","onChange"])],64)}]]);var Z;const Q=n({data:()=>({roomId:"",roomName:"",postBool:!0,hideSuoBox:!1,jsList:[],spList:[],xmList:[],typeList:[],szList:[],op:{js:"",sp:"",xm:["",""],xmNum:1,type:0,sz:0,strTime:"",endTime:""},classifyArr:[[],[]],classifyIndex:[0,0],childArr:[],selJsBox:!1,jsNumIndex:"",jsNum:"",jsName:"",jsId:0,sysTipsConfig:{}}),onLoad(e){Z=getApp(),this.sysTipsConfig=Z.getInitSysTipsConfig(),this.roomId=e.id,this.roomName=e.name,this.getData("getJsList"),this.getData("getLcardList"),this.getData("getProjectList"),uni.setNavigationBarTitle({title:"补单("+this.roomName+"房)"})},methods:{getData:function(e){let t=this,l=t.$data.op.js;a("log","at pages/budan/budan.vue:229",t.$data.jsList);let o=""!==l?t.$data.jsList[l].id:"",n=t.jsNum,s={getData:e,roomId:t.$data.roomId,jsId:o,jsNum:n};Z.goPost("order/budan",s,(function(a){switch(e){case"getJsList":t.jsList=a.list;break;case"getLcardList":t.spList=a.list,t.op.sp=0;break;case"getProjectList":t.xmList=a.list}t.typeList=a.typeList,t.szList=a.szList,t.getAllClassify()}))},chaSz:function(e){this.op.sz=e,this.closeBox()},seleStrTime:function(e){this.op.strTime=e.key,this.initTime()},seleEndTime:function(e){this.op.endTime=e.key},changeInput:function(e){var t=e.currentTarget.dataset.name,a=e.detail.value;this[t]=a},submit:function(){let e=this;if(!e.postBool)return!1;let t=e.op,l={room_id:e.roomId,room_name:e.roomName,lcard_id:""!==t.sp?e.spList[t.sp].id:"",lcard_name:""!==t.sp?e.spList[t.sp].name:"",ser_id:""!==t.js?e.jsList[t.js].id:"",js_name:""!==t.js?e.jsList[t.js].name:"",p_id:""!==t.xm[1]?e.xmList[t.xm[0]].child[t.xm[1]].id:"",p_name:""!==t.xm[1]?e.xmList[t.xm[0]].child[t.xm[1]].name:"",p_num:t.xmNum,p_price_type:t.type,ser_type:""!==t.sz?e.szList[t.sz].id:"",ser_type_name:""!==t.sz?e.szList[t.sz].name:"",ser_start_time:t.strTime?t.strTime.substr(0,5):"",ser_end_time:t.endTime?t.endTime.substr(0,5):""};Z.goPost("order/budan",l,(function(t,l){if(a("log","at pages/budan/budan.vue:331",t,l),105==l){let e="技师"+t.jobNum+t.workStatus+"，请更换技师";return Z.showMsg(e),!1}e.postBool=!1,setTimeout((function(){uni.navigateBack({delta:1})}),1e3)}))},chaXmNum:function(e){var t=this.$data.op.xmNum;t=1==e?t>=99?99:t+1:t<=1?1:t-1,this.op.xmNum=t},seleCha:function(e){var t=e.detail.value,a=e.currentTarget.dataset.model;this.op[a]=t,"js"==a||"sp"==a||"type"==a&&this.initTime()},getAllClassify(){let e=this.xmList.length;for(let t=0;t<e;t++)this.childArr.push(this.xmList[t].child);this.classifyArr[0]=this.xmList,this.classifyArr[1]=this.childArr[0]},classifyChange(e){let t=e.detail.value;if(this.classifyIndex=t,0==this.classifyArr[1].length)return Z.showMsg("请选择项目"),!1;let a=[{id:0,name:"首钟"}];1==this.classifyArr[1][t[1]].isAdd&&a.push({id:1,name:"加钟"}),this.op.type=0,this.typeList=a,this.op.xm=[t[0],t[1]],this.initTime()},columnchange(e){let t=this;0==e.detail.column&&(t.classifyIndex[0]=e.detail.value,t.classifyArr[1]=t.childArr[e.detail.value])},initTime:function(){let e="",t="",l=""!=this.op.strTime?Date.parse(new Date("2022-11-10 "+this.op.strTime)):(new Date).getTime();if(e=parseInt(l/1e3),""!==this.op.xm[1]){let a=this.classifyArr[1][this.classifyIndex[1]];t=e+(1==this.op.type?parseInt(a.addLongTime):parseInt(a.longTime))}a("log","at pages/budan/budan.vue:438","kkkkkk"),a("log","at pages/budan/budan.vue:439",t),this.op.strTime=e?this.formatDate(e):"",this.op.endTime=t?this.formatDate(t):""},showBomBox:function(){this.hideSuoBox=!0},showJsBox:function(){this.selJsBox=!0},closeBox:function(){this.hideSuoBox=!1,this.selJsBox=!1},openSysTips:function(){var e=this.sysTipsConfig;e.Bg="",e.Box="",e.iconCss="orange",e.iconFont="icon-gantanhao",e.title="温馨提示",e.tips="暂无锁牌，不可补单!",e.showLeftBtn=!1,e.bindRightBtnCss="bg-red-JB",e.rightBtn="确认",this.sysTipsConfig=e},closeSysTips:function(){var e=this.sysTipsConfig;e.Bg="hide",e.Box="hide",this.sysTipsConfig=e},goBack:function(){uni.navigateBack({delta:1})},formatDate:function(e){e*=1e3;let t=new Date(e);t.getFullYear(),t.getMonth(),t.getDate();let a=t.getHours(),l=t.getMinutes(),o=t.getSeconds();return a=a>=10?a:"0"+a,l=l>=10?l:"0"+l,o=o>=10?o:"0"+o,`${a}:${l}:${o}`},fillInput:function(e){let t=e.detail.value;this[e.currentTarget.dataset.model]=t},searchData:function(e){this.getData("getJsList")},clearSearch:function(e){this.jsNum="",this.getData("getJsList")},radioChange(e){let t=e.detail.value;this.jsList,this.op.js=t,this.jsNumIndex=t,this.jsName=this.jsList[t].name,this.jsId=this.jsList[t].id,this.closeBox()}}},[["render",function(t,a,o,n,i,c){const r=l(e.resolveDynamicComponent("timeSelector"),w),d=l(e.resolveDynamicComponent("ydSystemTips"),s);return e.openBlock(),e.createElementBlock(e.Fragment,null,[e.createElementVNode("view",{class:"sdFormInfo"},[e.createElementVNode("view",{class:"sdFormInputSet"},[e.createElementVNode("view",{class:"sdFormInlineTitleSet"},[e.createElementVNode("view",{class:"sdFormXing red"},"*"),e.createElementVNode("view",{class:"sdFormInlineTitle"},"技师")]),e.createElementVNode("view",{class:"sdFormInlineInput",onClick:a[0]||(a[0]=(...e)=>c.showJsBox&&c.showJsBox(...e))},[e.createElementVNode("view",{class:e.normalizeClass(["sdFormInlineName",""!==i.jsNumIndex?"orange":""])},e.toDisplayString(""!=i.jsName?i.jsName:"请选择"),3),e.createElementVNode("view",{class:"sdFormRightJianTou"},[e.createElementVNode("text",{class:"iconfont icon-youbian1"})])])]),e.createElementVNode("view",{class:"sdFormInputSet"},[e.createElementVNode("view",{class:"sdFormInlineTitleSet"},[e.createElementVNode("view",{class:"sdFormXing red"},"*"),e.createElementVNode("view",{class:"sdFormInlineTitle"},"锁牌")]),e.createElementVNode("view",{class:"sdFormInlineInput"},[e.createElementVNode("picker",{onChange:a[1]||(a[1]=(...e)=>c.seleCha&&c.seleCha(...e)),value:i.op.sp,range:i.spList,"range-key":"name","data-model":"sp"},[e.createElementVNode("view",{class:e.normalizeClass(["sdFormInlineName",""===i.op.sp?"":"orange"])},e.toDisplayString(""===i.op.sp?"请选择":i.spList[i.op.sp].name),3),e.createElementVNode("view",{class:"sdFormRightJianTou"},[e.createElementVNode("text",{class:"iconfont icon-youbian1"})])],40,["value","range"])])])]),e.createElementVNode("view",{class:"sdFormInfo"},[e.createElementVNode("view",{class:"sdFormInputSet"},[e.createElementVNode("view",{class:"sdFormInlineTitleSet"},[e.createElementVNode("view",{class:"sdFormXing red"},"*"),e.createElementVNode("view",{class:"sdFormInlineTitle"},"项目")]),e.createElementVNode("view",{class:"sdFormInlineInput"},[e.createElementVNode("picker",{class:"item-picker",mode:"multiSelector","range-key":"name",onChange:a[2]||(a[2]=(...e)=>c.classifyChange&&c.classifyChange(...e)),onColumnchange:a[3]||(a[3]=(...e)=>c.columnchange&&c.columnchange(...e)),value:i.classifyIndex,range:i.classifyArr},[e.createElementVNode("view",{class:e.normalizeClass(["sdFormInlineName",""===i.op.xm[1]?"":"orange"])},e.toDisplayString(""===i.op.xm[1]?"请选择":i.xmList[i.op.xm[0]].child[i.op.xm[1]].name),3),e.createElementVNode("view",{class:"sdFormRightJianTou"},[e.createElementVNode("text",{class:"iconfont icon-youbian1"})])],40,["value","range"])])]),e.createElementVNode("view",{class:"sdFormInputSet"},[e.createElementVNode("view",{class:"sdFormInlineTitleSet"},[e.createElementVNode("view",{class:"sdFormXing red"},"*"),e.createElementVNode("view",{class:"sdFormInlineTitle"},"类型")]),e.createElementVNode("view",{class:"sdFormInlineInput"},[e.createElementVNode("picker",{onChange:a[4]||(a[4]=(...e)=>c.seleCha&&c.seleCha(...e)),value:i.op.type,range:i.typeList,"range-key":"name","data-model":"type"},[e.createElementVNode("view",{class:e.normalizeClass(["sdFormInlineName",""!==i.op.type&&i.typeList.length>0?"orange":""])},e.toDisplayString(""!==i.op.type&&i.typeList.length>0?i.typeList[i.op.type].name:"请选择"),3),e.createElementVNode("view",{class:"sdFormRightJianTou"},[e.createElementVNode("text",{class:"iconfont icon-youbian1"})])],40,["value","range"])])]),e.createElementVNode("view",{class:"sdFormInputSet"},[e.createElementVNode("view",{class:"sdFormInlineTitleSet"},[e.createElementVNode("view",{class:"sdFormXing red"},"*"),e.createElementVNode("view",{class:"sdFormInlineTitle"},"项目数量")]),e.createElementVNode("view",{class:"sdFormInlineInput"},[e.createElementVNode("view",{class:"xmNumBox"},[e.createElementVNode("view",{class:"opbtn reduce",onClick:a[5]||(a[5]=e=>c.chaXmNum(0))},[e.createElementVNode("i",{class:"iconfont icon-jian"})]),e.createElementVNode("input",{type:"number",value:i.op.xmNum,maxlength:"2",disabled:""},null,8,["value"]),e.createElementVNode("view",{class:"opbtn add",onClick:a[6]||(a[6]=e=>c.chaXmNum(1))},[e.createElementVNode("i",{class:"iconfont icon-jia"})])])])]),e.createElementVNode("view",{class:"sdFormInputSet"},[e.createElementVNode("view",{class:"sdFormInlineTitleSet"},[e.createElementVNode("view",{class:"sdFormXing red"},"*"),e.createElementVNode("view",{class:"sdFormInlineTitle"},"上钟方式")]),e.createElementVNode("view",{class:"sdFormInlineInput",onClick:a[7]||(a[7]=(...e)=>c.showBomBox&&c.showBomBox(...e))},[e.createElementVNode("view",{class:e.normalizeClass(["sdFormInlineName",""!==i.op.sz&&i.szList.length>0?"orange":""])},e.toDisplayString(""!==i.op.sz&&i.szList.length>0?i.szList[i.op.sz].name:"请选择"),3),e.createElementVNode("view",{class:"sdFormRightJianTou"},[e.createElementVNode("text",{class:"iconfont icon-youbian1"})])])])]),e.createElementVNode("view",{class:"sdFormInfo"},[e.createElementVNode("view",{class:"sdFormInputSet"},[e.createElementVNode("view",{class:"sdFormInlineTitleSet"},[e.createElementVNode("view",{class:"sdFormXing red"},"*"),e.createElementVNode("view",{class:"sdFormInlineTitle"},"开始时间")]),e.createElementVNode("view",{class:"sdFormInlineInput"},[e.createVNode(r,{showType:"time",defaultValue:i.op.strTime,onBtnConfirm:c.seleStrTime,onBtnCancel:t.btnCancel},{default:e.withCtx((()=>[e.createElementVNode("view",{class:"sdFormInlineName"},e.toDisplayString(""!=i.op.strTime?i.op.strTime:"请选择"),1),e.createElementVNode("view",{class:"sdFormRightJianTou"},[e.createElementVNode("text",{class:"iconfont icon-youbian1"})])])),_:1},8,["defaultValue","onBtnConfirm","onBtnCancel"])])]),e.createElementVNode("view",{class:"sdFormInputSet"},[e.createElementVNode("view",{class:"sdFormInlineTitleSet"},[e.createElementVNode("view",{class:"sdFormXing red"},"*"),e.createElementVNode("view",{class:"sdFormInlineTitle"},"结束时间")]),e.createElementVNode("view",{class:"sdFormInlineInput"},[e.createVNode(r,{showType:"time",defaultValue:i.op.endTime,onBtnConfirm:c.seleEndTime,onBtnCancel:t.btnCancel},{default:e.withCtx((()=>[e.createElementVNode("view",{class:"sdFormInlineName"},e.toDisplayString(""!=i.op.endTime?i.op.endTime:"请选择"),1),e.createElementVNode("view",{class:"sdFormRightJianTou"},[e.createElementVNode("text",{class:"iconfont icon-youbian1"})])])),_:1},8,["defaultValue","onBtnConfirm","onBtnCancel"])])])]),e.createElementVNode("view",{class:"submit IOSBottom"},[e.createElementVNode("view",{class:"btn",onClick:a[8]||(a[8]=(...e)=>c.submit&&c.submit(...e))},"确认补单")]),i.hideSuoBox?(e.openBlock(),e.createElementBlock("view",{key:0,class:"openBox"},[e.createElementVNode("view",{class:"bg",onClick:a[9]||(a[9]=(...e)=>c.closeBox&&c.closeBox(...e))}),e.createElementVNode("view",{class:"cenOpen MeunBox"},[e.createElementVNode("view",{class:"title"},[e.createElementVNode("text",{class:"s-top","data-type":"2",onClick:a[10]||(a[10]=(...e)=>t.sel_suo_fun&&t.sel_suo_fun(...e))},"上钟方式"),e.createElementVNode("i",{onClick:a[11]||(a[11]=(...e)=>c.closeBox&&c.closeBox(...e)),class:"iconfont icon-shanchuxuanze"})]),e.createElementVNode("view",{class:"meunList"},[e.createElementVNode("ul",{class:"seleBox"},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(i.szList,((t,a)=>(e.openBlock(),e.createElementBlock("li",{class:e.normalizeClass(i.op.sz==a?"onset":""),onClick:e=>c.chaSz(a)},e.toDisplayString(t.name),11,["onClick"])))),256))])])])])):e.createCommentVNode("",!0),i.selJsBox?(e.openBlock(),e.createElementBlock("view",{key:1,class:"openBox"},[e.createElementVNode("view",{class:"bg",onClick:a[12]||(a[12]=(...e)=>c.closeBox&&c.closeBox(...e))}),e.createElementVNode("view",{class:"cenOpen MeunBox bigMeunBox"},[e.createElementVNode("view",{class:"title"},[e.createElementVNode("text",{class:"s-top sel_suo"},"选择技师"),e.createElementVNode("i",{onClick:a[13]||(a[13]=(...e)=>c.closeBox&&c.closeBox(...e)),class:"iconfont icon-shanchuxuanze"})]),e.createElementVNode("view",{class:"meunList spBox"},[e.createElementVNode("view",{class:"searchBox"},[e.createElementVNode("input",{class:"queryTxt",onInput:a[14]||(a[14]=(...e)=>c.fillInput&&c.fillInput(...e)),value:i.jsNum,"data-model":"jsNum",placeholder:"请输入技师工号"},null,40,["value"]),i.jsNum.length>0?(e.openBlock(),e.createElementBlock("i",{key:0,class:"iconfont icon-shanchuxuanze clearSearch",onClick:a[15]||(a[15]=e=>c.clearSearch(1))})):e.createCommentVNode("",!0),e.createElementVNode("view",{class:"queryBtn",onClick:a[16]||(a[16]=e=>c.searchData())},"查询")]),e.createElementVNode("radio-group",{class:"menuTypeBox",onChange:a[17]||(a[17]=(...e)=>c.radioChange&&c.radioChange(...e))},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(i.jsList,((t,a)=>(e.openBlock(),e.createElementBlock("label",{key:t.id},[e.createElementVNode("view",{class:e.normalizeClass(i.jsId==t.id?"li sel_suo":"li")},[e.createElementVNode("radio",{value:a,class:"radioBtn",style:{transform:"scale(0.7)"},color:"#ff8100"},null,8,["value"]),e.createElementVNode("text",null,e.toDisplayString(t.name),1)],2)])))),128))],32),0==i.jsList.length?(e.openBlock(),e.createElementBlock("view",{key:0,class:"noData"},[e.createElementVNode("i",{class:"iconfont icon-kongshuju"}),e.createTextVNode(" 暂无技师 ")])):e.createCommentVNode("",!0)])])])):e.createCommentVNode("",!0),e.createVNode(d,{config:i.sysTipsConfig,onBtnSure:c.goBack,onBtnClose:c.closeSysTips,onBtnBgClose:c.closeSysTips},null,8,["config","onBtnSure","onBtnClose","onBtnBgClose"])],64)}]]);var ee;const te=n({data:()=>({id:"",page:1,lists:[],mergeNav:[],setLcardIds:[],hideOptBox:!1,statusBarHeight:0,setTopKey:0,openBox:{title:"",tips:"",type:"",id:""}}),onLoad(e){ee=getApp(),this.statusBarHeight=ee.globalData.statusBarHeight,this.id=e.id},onShow(){this.getData()},methods:{saoma:function(){var e=this;let t=e.$data.lists;ee.saomaCode((function(a){var l={info:a};ee.goPost("Lcard/getQrLcardId",l,(function(a){t.forEach((function(t,l){a==t.id&&e.addMerge(t.id)}))}))}))},goBack:function(){uni.navigateBack({delta:1})},chaTop:function(e){this.setTopKey=e,this.getData()},addMerge:function(e){let t=this.$data.setLcardIds.indexOf(e);t>-1?this.setLcardIds.splice(t,1):this.setLcardIds.push(e)},delMerge:function(e){let t=this.$data.setLcardIds;this.setLcardIds.splice(t.indexOf(e),1)},showOpenBox:function(e,t){let a="",l="",o="",n=this.lists,s=this.$data.setLcardIds;switch(e){case 0:if(0==s.length)return void ee.showMsg("请选择2个以上锁牌后再操作合并");n.forEach((function(e,t){s.indexOf(e.id)>-1&&(o+=o?"、"+e.title:e.title)})),a="是否要将"+o+"组合?";break;case 1:let e=[];for(let a in n[t].lcard)e.push(n[t].lcard[a].title);a="是否要将"+e.join(",")+"拆分?",l=n[t].token}this.hideOptBox=!0,this.openBox={title:"",tips:a,type:e,id:l}},optSure:function(){switch(this.$data.openBox.type){case 0:this.postMerge();break;case 1:this.splitMerge()}},postMerge:function(){let e=this,t=e.$data.setLcardIds;if(0==t.length)return void ee.showMsg("请选择2个以上锁牌后再操作合并");let a={ids:t.join(",")};ee.goPost("pay/lcardmerge",a,(function(t){e.closeBox(),setTimeout((function(){e.setLcardIds=[],e.getData()}),1500)}),(function(t){e.closeBox()}))},splitMerge:function(){let e=this,t={token:e.$data.openBox.id};ee.goPost("pay/splitLcard",t,(function(t){e.closeBox(),setTimeout((function(){e.setLcardIds=[],e.getData()}),1500)}),(function(t){e.closeBox()}))},getData(){let e=this,t=e.$data.setTopKey,a=this.$data.mergeNav;e.lists=[];let l="pay/getLcardList";Object.keys(a).length>0&&(l=a[t].url),ee.goPost(l,{},(function(t){e.mergeNav=t.mergeNav,e.lists=t.lists}))},closeBox:function(){this.hideOptBox=!1},splitMoreOp(e){let t=this,l=e.currentTarget.dataset.index,o=e.currentTarget.dataset.index2,n=t.lists[l].lcard[o];a("log","at pages/lcardmerge/lcardmerge.vue:307",n),uni.showActionSheet({itemList:["订单","剔除"],success(e){switch(e.tapIndex){case 0:t.goRoomInfo(n.room_id);break;case 1:t.tiChu(n.id,n.title)}}})},goRoomInfo(e){let t="/pages/roominfo/roominfo?id="+e;uni.navigateTo({url:t})},tiChu(e,t){let a=this,l={lcardId:e};uni.showModal({title:"温馨提示",content:"确定要剔除锁牌"+t+"吗?",success(e){e.confirm&&ee.goPost("pay/splitlcard",l,(function(e){a.getData()}))}})}}},[["render",function(t,a,l,o,n,s){return e.openBlock(),e.createElementBlock(e.Fragment,null,[e.createElementVNode("view",{class:"topBox",style:e.normalizeStyle({paddingTop:n.statusBarHeight+"px"})},[e.createElementVNode("view",{class:"backBtn",onClick:a[0]||(a[0]=(...e)=>s.goBack&&s.goBack(...e))},[e.createElementVNode("i",{class:"iconfont icon-fanhui"}),e.createElementVNode("text",null,"返回")]),e.createElementVNode("ul",{class:"topTab"},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(n.mergeNav,((t,a)=>(e.openBlock(),e.createElementBlock("li",{class:e.normalizeClass(n.setTopKey===a?"onset":""),onClick:e=>s.chaTop(a)},[e.createElementVNode("text",null,e.toDisplayString(t.name),1)],10,["onClick"])))),256))])],4),e.createElementVNode("view",{class:"conBox",style:e.normalizeStyle({top:n.statusBarHeight+59+"px"})},[e.createElementVNode("view",{class:"explain"},"组合之后，任何一个锁牌都可以买单！"),0==n.setTopKey&&n.lists.length>0?(e.openBlock(),e.createElementBlock("view",{key:0},[e.createElementVNode("ul",{class:"roomCon"},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(n.lists,((t,a)=>(e.openBlock(),e.createElementBlock("li",{class:e.normalizeClass(["roomBox",n.setLcardIds.indexOf(t.id)>-1?"onset":""]),onClick:e=>s.addMerge(t.id)},[e.createElementVNode("view",{class:"roomName"},e.toDisplayString(t.title),1),e.createElementVNode("view",{class:"roomNum"},e.toDisplayString(t.room_num),1),e.createElementVNode("view",{class:"jobNum"},e.toDisplayString(t.job_num),1)],10,["onClick"])))),256))]),e.createElementVNode("view",{class:"fixBom IOSBottom"},[e.createElementVNode("ul",{class:"lbox"},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(n.lists,((t,a)=>(e.openBlock(),e.createElementBlock(e.Fragment,null,[n.setLcardIds.indexOf(t.id)>-1?(e.openBlock(),e.createElementBlock("li",{key:0,onClick:e=>s.delMerge(t.id)},[e.createTextVNode(e.toDisplayString(t.title)+" ",1),e.createElementVNode("i",{class:"iconfont icon-guanbi"})],8,["onClick"])):e.createCommentVNode("",!0)],64)))),256)),e.createElementVNode("i",{class:"iconfont icon-saoma",onClick:a[1]||(a[1]=(...e)=>s.saoma&&s.saoma(...e))})]),e.createElementVNode("view",{class:"merBtn",onClick:a[2]||(a[2]=e=>s.showOpenBox(0))},"组合")])])):e.createCommentVNode("",!0),1==n.setTopKey&&n.lists.length>0?(e.openBlock(),e.createElementBlock("view",{key:1},[e.createElementVNode("view",{class:"splitBox"},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(n.lists,((t,l)=>(e.openBlock(),e.createElementBlock("view",{class:"line"},[e.createElementVNode("view",{class:"time"},[e.createTextVNode(e.toDisplayString(t.addtime)+" ",1),e.createElementVNode("view",{class:"disBtn",onClick:e=>s.showOpenBox(1,l)},"拆分",8,["onClick"])]),e.createElementVNode("ul",{class:"roomList"},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(t.lcard,((t,o)=>(e.openBlock(),e.createElementBlock("li",{"data-index":l,"data-index2":o,onClick:a[3]||(a[3]=(...e)=>s.splitMoreOp&&s.splitMoreOp(...e))},[e.createElementVNode("view",{class:"roomName"},e.toDisplayString(t.title),1),e.createElementVNode("view",{class:"roomNum"},e.toDisplayString(t.room_num),1),e.createElementVNode("view",{class:"jobNum"},e.toDisplayString(t.job_num),1)],8,["data-index","data-index2"])))),256))])])))),256))])])):e.createCommentVNode("",!0),0==n.lists.length?(e.openBlock(),e.createElementBlock("view",{key:2,class:"noData"},[e.createElementVNode("i",{class:"iconfont icon-kongshuju"}),e.createTextVNode(" 暂无数据 ")])):e.createCommentVNode("",!0)],4),n.hideOptBox?(e.openBlock(),e.createElementBlock("view",{key:0,class:"openBox"},[e.createElementVNode("view",{class:"bg",onClick:a[4]||(a[4]=(...e)=>s.closeBox&&s.closeBox(...e))}),e.createElementVNode("view",{class:"cenOpen alertBox"},[e.createElementVNode("view",{class:"content"},[e.createElementVNode("view",{class:"title"},e.toDisplayString(n.openBox.title),1),e.createElementVNode("view",{class:"openList"},[e.createElementVNode("view",{class:"show-tips"},e.toDisplayString(n.openBox.tips),1)]),e.createElementVNode("view",{class:"orderFoot"},[e.createElementVNode("text",{class:"btn fl",onClick:a[5]||(a[5]=(...e)=>s.closeBox&&s.closeBox(...e))},"取消"),e.createElementVNode("text",{class:"btn fr",onClick:a[6]||(a[6]=(...e)=>s.optSure&&s.optSure(...e))},"确定")])])])])):e.createCommentVNode("",!0)],64)}]]);var ae;const le=n({data:()=>({statusBarHeight:0,tabList:[],termList:[],lists:[],workList:[],waitList:[],workNum:0,makeNum:0,rankNum:0,makeList:[],rankList:[],timer:"",selJsItem:{},selJsId:"",selJobNum:"",selPhone:"",setTab:0,setTerm0:0,setTerm1:"all",setTerm2:"all",setTerm3:"",showTermKey:"",newSet:"",showBg:!1,showBigBg:!1,showOpBox:!1,showWaitBox:!1,showRankBox:!1,openWinType:"",setWaitKey:"",orderInfo:[],selOrderid:"",selRoomName:"",selLcardName:"",jsName:"",openBoxTitle:"",isOpenBox:!1,gradeList:[],serTypeList:[],selSetTypeId:0,gradeId:0,sexId:0,jobNum:"",roomName:"",lcardName:"",cancelRemark:"",important_level:0,selOrderList:[],selOrderIds:[],isOpenLcardBox:!1,lcardList:{useList:[],noUseList:[]},selectLcardType:1,isOpenDetailBox:!1,workDetail:{},hidejsBox:!1,jsList:[],seach:"",isGrade:0,isOpenJiShiOpBox:!1,jiShiOpBoxData:{},changeRoomSetLcard:0,cusTechShow:{},cusTechShowList:[],isOpenCusShowBox:!1}),onLoad(){ae=getApp(),this.statusBarHeight=ae.globalData.statusBarHeight,this.setTerm1="all",this.setTerm2="all",this.setTerm3=""},onShow(){let e=this;e.setTab=e.setTab?e.setTab:0,e.getData(!0)},methods:{goback:function(){uni.navigateBack()},serviceProject:function(){this.showOpBox=!1,this.showBigBg=!1;var e=this.selJsId;uni.navigateTo({url:"/pages/serviceproject/serviceproject?id="+e})},goRoomInfo:function(){let e=this.orderInfo.room_id;this.clearBigBg(),this.fangJianXiangQing(e)},fangJianXiangQing(e){uni.navigateTo({url:"/pages/roominfo/roominfo?id="+e})},goYuyue:function(){uni.navigateTo({url:"/pages/addyuyue/addyuyue?jsNum="+this.selJobNum})},waitOpFun:function(e){var t=this,l=e.currentTarget.dataset.waitIndex,o=e.currentTarget.dataset.type,n=[];switch(o){case"1":n=t.makeList[l];break;case"2":n=t.rankList[l];break;case"3":n=t.waitList[l]}this.orderInfo=n,this.selOrderid=n.orderid,this.selRoomName=n.room_name,this.jsName="("+n.job_num+"/"+n.ser_type+")",1==o&&(this.jsName=""),this.selLcardName=n.lcard_name,this.important_level=n.important_level,this.openWinType=o,this.showWaitBox=!0,this.showBigBg=!0,a("log","at pages/jishi/jishi.vue:842",n)},chaWait:function(e){let t=this;if(this.setWaitKey=e,0==e)t.openBoxTitle="更换技师";else if(2==e){let e="order/getchangeroomdata",a={lcardName:t.selLcardName};ae.goPost(e,a,(function(e){let a=e.list;if(t.changeRoomSetLcard=e.changeRoomSetLcard,a.length>0){t.selOrderList=a;for(let e in a)t.selOrderIds.push(a[e].orderid)}}))}else 3==e?t.openBoxTitle="修改上钟方式":4==e?t.openBoxTitle="优先排钟设置":5==e?(t.openBoxTitle="安排技师",t.sexId=t.orderInfo.ser_sex):6==e&&(t.openBoxTitle="撤销订单");this.lookDetails()},chaTab:function(e){this.setTab=e,this.showTermKey="",this.showBg=!1,this.getData(!0)},showTechOp:function(e){return!1},qidai:function(){this.clearBigBg(),ae.showMsg("敬请期待")},chaTopTerm:function(e){let t=this;if(t.$data.showTermKey===e)return void t.clearTerm();let a="";switch(e){case 0:a=t.$data.setTerm0;break;case 1:a=t.$data.setTerm1;break;case 2:a=t.$data.setTerm2;break;case 3:a=t.$data.setTerm3}t.showTermKey=e,t.newSet=a,t.showBg=!0},chaTerm:function(e){let t=this,a=t.$data.termList,l=t.$data.showTermKey,o=a[l].list[e];switch(l){case 0:t.$data.setTerm0=o.id;break;case 1:t.$data.setTerm1=o.id;break;case 2:t.$data.setTerm2=o.id;break;case 3:t.$data.setTerm3=o.id}0==l?a[0].name=0==e?a[0].oname:o.name:"all"==o.id?a[l].name=a[l].oname:a[l].name=o.name,t.termList=a,t.clearTerm(),t.getData()},clearTerm:function(){this.showTermKey="",this.showBg=!1},seachData:function(e){var t=e.currentTarget.dataset.key,a=e.detail.value;this[t]=a,""===a&&this.getData(!0)},clearSeach:function(){let e=this.seach;this.seach="",e&&this.getData(!0)},clearBigBg:function(){this.showOpBox=!1,this.showBigBg=!1,this.showWaitBox=!1},getData:function(e){let t=this,a=t.$data.setTab,l=t.$data.tabList,o=t.$data.seach,n="tech/techList";a>0&&(n=l[a].fun);let s={setTerm0:t.$data.setTerm0,setTerm1:t.$data.setTerm1,setTerm2:t.$data.setTerm2,setTerm3:t.$data.setTerm3,seach:o,cusTechShow:JSON.stringify(t.cusTechShow)};ae.goPost(n,s,(function(l){switch(t.gradeList.length<1&&(t.gradeList=l.gradeList,t.serTypeList=l.serTypeList),e&&(t.termList=l.termList,t.cusTechShow=l.cusTechShow,t.cusTechShowList=l.cusTechShowList),a){case 0:t.backTechList(l);break;case 1:t.backWorkList(l);break;case 2:t.backLineUpList(l);break;case 3:t.backWaitList(l)}""==t.setTerm3&&(t.setTerm3=l.setTerm3)}))},openCusShowBox(){this.isOpenCusShowBox=!0},closeCusShowBox(){this.isOpenCusShowBox=!1},changeCusTechShow(e){let t=e.currentTarget.dataset.key;this.cusTechShow[t]=1==this.cusTechShow[t]?0:1,this.closeCusShowBox(),this.getData()},backTechList(e){let t=this;t.tabList=e.tabList,t.lists=e.lists,t.isGrade=e.isGrade},backWorkList(e){let t=this;t.tabList=e.tabList,t.workList=e.lists,t.workNum=e.num},backLineUpList(e){let t=this;t.tabList=e.tabList,t.makeNum=e.makeNum,t.rankNum=e.rankNum,t.makeList=e.makeList,t.rankList=e.rankList},backWaitList(e){this.tabList=e.tabList,this.waitList=e.lists},jstiaopai:function(){var e=this.selJsId;uni.navigateTo({url:"/pages/tiaopai/tiaopai?id="+e})},jsKaoqin:function(){var e=this.selJsId;uni.navigateTo({url:"/pages/kaoqin/kaoqin?id="+e})},jsshangzhong:function(){var e=this.selJsId;uni.navigateTo({url:"/pages/shangzhong/shangzhong?id="+e})},set_type:function(e,t){var a=this;"ser_type"==t?a.selSetTypeId=e:"ser_grade"==t?a.gradeId=e:"ser_sex"==t&&(a.sexId=e)},optInput:function(e){var t=e.currentTarget.dataset.name,a=e.detail.value;this[t]=a},openBox:function(){this.isOpenBox=!0},closeBox:function(){this.selOrderList=[],this.selOrderIds=[],this.roomName="",this.lcardName="",this.cancelRemark="",this.isOpenBox=!1,this.selSetTypeId=0,this.gradeId=0,this.sexId=0,this.jobNum="",this.isOpenJiShiOpBox=!1,this.jiShiOpBoxData={},this.selJsItem={}},lookDetails:function(){var e=this;0==e.setWaitKey||2==e.setWaitKey||3==e.setWaitKey||4==e.setWaitKey||5==e.setWaitKey||6==e.setWaitKey?(e.openBox(),e.clearBigBg()):1==e.setWaitKey?(e.openProject(),e.clearBigBg()):e.qidai()},sureOperation:function(){let e=this,t="",a="",l={},o=0,n="";if(0==e.setWaitKey)t="更换技师",a="order/changejs",l={orderid:e.selOrderid,serType:e.selSetTypeId,jobNum:e.jobNum,serGrade:e.gradeId,serSex:e.sexId};else if(2==e.setWaitKey){if(e.selOrderIds.length<1)return ae.showMsg("请选择要换房间的订单"),!1;if(e.selOrderIds.length!=e.selOrderList.length&&""==e.lcardName){if(1==e.changeRoomSetLcard)return ae.showMsg("换房只换部分订单时，需要选择真实锁牌"),!1;o=1,n="部分项目换房，可能存在风险，系统将为您发放虚拟锁牌"}t="房间更换",a="order/changeroom",l={oldLcardName:e.selLcardName,newRoomName:e.roomName,newLcardName:e.lcardName,orderIds:e.selOrderIds.join(",")}}else 3==e.setWaitKey?(t="改钟",a="order/changesertype",l={orderid:e.selOrderid,serType:e.selSetTypeId}):4==e.setWaitKey?(t="设置优先级",a="order/setLevel",l={orderid:e.selOrderid,important_level:e.important_level}):5==e.setWaitKey?(t="安排技师",a="order/changejs",l={orderid:e.selOrderid,serType:e.selSetTypeId,jobNum:e.jobNum,serGrade:e.gradeId,serSex:e.sexId,opType:"add"}):6==e.setWaitKey&&(t="订单撤销",a="order/cancel",l={orderid:e.selOrderid,reason:e.cancelRemark});o?uni.showModal({title:"温馨提示",content:n,success(o){o.confirm&&ae.goPost(a,l,(function(a){ae.showMsg(t+"成功"),setTimeout((function(){e.closeBox(),e.getData()}),1e3)}))}}):ae.goPost(a,l,(function(a){ae.showMsg(t+"成功"),setTimeout((function(){e.closeBox(),e.getData()}),1e3)}))},openProject:function(){var e=this,t=e.orderInfo,a="/pages/roomitemsel/roomitemsel?id="+t.room_id,l={type:"2430",jsid:t.ser_id,id:t.p_id,orderid:t.orderid,name:t.p_name,new_name:t.p_name};uni.navigateTo({url:a,success:function(t){e.closeBox(),t.eventChannel.emit("postGoods",l)}})},selectOrder(e){this.selOrderIds=e.detail.value},openLcardBox(){let e=this;if(""==e.roomName)return ae.showMsg("请先输入房间号"),!1;let t={roomName:e.roomName};ae.goPost("dingdan/getlcardlist",t,(function(t){e.lcardList.useList=t.useList,e.lcardList.noUseList=t.noUseList,e.isOpenLcardBox=!0}))},closeLcardBox(){this.isOpenLcardBox=!1,this.lcardList.useList=[],this.lcardList.noUseList=[]},selectLcard(e){let t,a=this,l=e.currentTarget.dataset.index;t=1==a.selectLcardType?a.lcardList.useList[l]:a.lcardList.noUseList[l],a.lcardName=t.title,a.closeLcardBox()},changeSelectLcardType(e){let t=e.currentTarget.dataset.type;this.selectLcardType=t},openDetailBox(e){let t=e.currentTarget.dataset.index,a=this.workList[t],l={job_num:a.job_num,room_id:a.room_id,room_name:a.room_name,p_name:a.p_name,p_duration:a.p_duration,downTime:a.downTime};this.isOpenDetailBox=!0,this.workDetail=l},closeDetailBox(e){this.isOpenDetailBox=!1},goRoomDetail(){this.fangJianXiangQing(this.workDetail.room_id),this.closeDetailBox()},ser_jobNum:function(){var e=this,t={ser_type:e.selSetTypeId,pid:e.orderInfo.p_id};ae.goPost("Staffinfo/getJsInfo",t,(function(t,a){e.jsList=t})),e.hidejsBox=!0},radioChangeJs:function(e){var t=e.detail.value;this.jobNum=t,this.closeBox2()},jobNumInput:function(e){var t=this.jsList,a=e.detail.value;for(var l in t){-1!=t[l].job_num.indexOf(a)?t[l].is_show=!0:t[l].is_show=!1}this.jsList=t},closeBox2:function(){this.hidejsBox=!1},copyText(e){let t=e.currentTarget.dataset.text;ae.copyText(t)},jiShiCall(e){let t=e.currentTarget.dataset.text;"ios"==ae.globalData.os&&uni.makePhoneCall({phoneNumber:t})},openJiShiOpBox(e){let t=e.currentTarget.dataset.type,a=this.selJsItem,l=[2,3,4,5,8],o=1;if(["xiaZhong","cheXiao"].indexOf(t)>-1){if(o=0,""==a.server_order)return ae.showMsg("当前技师没有正在服务"),!1;if("xiaZhong"==t&&l.indexOf(a.work_status)<0)return ae.showMsg("当前技师没有在上钟"),!1}let n="联系方式",s="复制";switch(t){case"xiaZhong":s="确定下钟",n="快速下钟";break;case"cheXiao":s="确定撤销",n="快速撤销"}let i={opType:o,type:t,title:n,room_id:a.room_id,room_name:a.room_name,lcard_name:a.lcard_name,orderList:a.orderList,job_num:a.job_num,phone:a.phone,cornet_tel:a.cornet_tel,name:a.name,btnTxt:s,orderid:a.server_order,jsId:a.id};this.isOpenJiShiOpBox=!0,this.jiShiOpBoxData=i,this.showOpBox=!1,this.showBigBg=!1},jiShiDetail(){this.fangJianXiangQing(this.jiShiOpBoxData.room_id)},jiShiSure(){let e=this,t=e.jiShiOpBoxData;if(""==t.orderid)return ae.showMsg("当前技师没有正在服务"),!1;let a="order/changetime",l={orderid:t.orderid,type:2},o="操作成功";"cheXiao"==t.type&&(a="order/cancel",l={orderid:t.orderid},o=""),ae.goPost(a,l,(function(t){""!=o&&ae.showMsg(o,"success"),setTimeout((function(){e.closeBox(),e.getData()}),1e3)}))}},onHide:function(){clearInterval(this.$data.timer)},onUnload:function(){clearInterval(this.$data.timer)}},[["render",function(t,a,o,n,s,i){const c=l(e.resolveDynamicComponent("ydPromptBottom"),b),r=l(e.resolveDynamicComponent("ydWin"),I);return e.openBlock(),e.createElementBlock(e.Fragment,null,[e.createElementVNode("view",{class:"topBox",style:e.normalizeStyle({paddingTop:s.statusBarHeight+"px"})},[e.createElementVNode("i",{class:"iconfont icon-fanhui backBtn",onClick:a[0]||(a[0]=(...e)=>i.goback&&i.goback(...e))}),e.createElementVNode("view",{class:"searchBox"},[e.createElementVNode("i",{class:"iconfont icon-sousuo search"}),e.createElementVNode("input",{class:"seaCon",onInput:a[1]||(a[1]=(...e)=>i.seachData&&i.seachData(...e)),type:"text",placeholder:"请输入技师工号","data-key":"seach",value:s.seach},null,40,["value"]),""!=s.seach?(e.openBlock(),e.createElementBlock("i",{key:0,class:"iconfont icon-shibai1 close",onClick:a[2]||(a[2]=(...e)=>i.clearSeach&&i.clearSeach(...e))})):e.createCommentVNode("",!0),e.createElementVNode("view",{class:"seaBtn",onClick:a[3]||(a[3]=e=>i.getData(!1))},"搜索")]),0==s.setTab?(e.openBlock(),e.createElementBlock("ul",{key:0,class:"termBox"},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(s.termList,((t,a)=>(e.openBlock(),e.createElementBlock("li",null,[e.createElementVNode("view",{onClick:e=>i.chaTopTerm(a),class:e.normalizeClass(t.name!=t.oname?"orange":"")},[e.createElementVNode("text",null,e.toDisplayString(t.name),1),s.showTermKey!==a?(e.openBlock(),e.createElementBlock("i",{key:0,class:e.normalizeClass(["iconfont icon-tubiaozhizuo-1",t.name!=t.oname?"orange":""])},null,2)):s.showTermKey===a?(e.openBlock(),e.createElementBlock("i",{key:1,class:e.normalizeClass(["iconfont icon-tubiaozhizuo-",t.name!=t.oname?"orange":""])},null,2)):e.createCommentVNode("",!0)],10,["onClick"]),s.showTermKey===a?(e.openBlock(),e.createElementBlock("ul",{key:0,class:"nextBox",style:e.normalizeStyle({top:s.statusBarHeight+90+"px"})},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(t.list,((t,a)=>(e.openBlock(),e.createElementBlock("li",{onClick:e=>i.chaTerm(a)},[e.createTextVNode(e.toDisplayString(t.name)+" ",1),s.newSet==t.id?(e.openBlock(),e.createElementBlock("i",{key:0,class:"iconfont icon-xuanzhong"})):e.createCommentVNode("",!0)],8,["onClick"])))),256))],4)):e.createCommentVNode("",!0)])))),256)),e.createElementVNode("li",null,[e.createElementVNode("view",{onClick:a[4]||(a[4]=(...e)=>i.openCusShowBox&&i.openCusShowBox(...e)),class:""},[e.createElementVNode("text",null,"更多"),e.createElementVNode("i",{class:"iconfont icon-tubiaozhizuo-1"})])])])):e.createCommentVNode("",!0),1==s.setTab?(e.openBlock(),e.createElementBlock("div",{key:1,class:"termTips"},[e.createTextVNode(" 当前人数 "),e.createElementVNode("text",{class:"num"},e.toDisplayString(s.workNum),1),e.createTextVNode(" 人正在上钟 ")])):e.createCommentVNode("",!0)],4),e.createElementVNode("view",{class:"content",style:e.normalizeStyle({top:(0==s.setTab||1==s.setTab?s.statusBarHeight+93:s.statusBarHeight+55)+"px"})},[e.createElementVNode("view",{class:"listBox"},[0==s.setTab?(e.openBlock(),e.createElementBlock("view",{key:0,class:"list"},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(s.lists,((t,l)=>(e.openBlock(),e.createElementBlock("view",{class:"typeBox"},[e.createElementVNode("view",{class:"typeTitle"},[e.createElementVNode("view",{class:"lBlock"}),e.createTextVNode(" "+e.toDisplayString(l)+" ",1),e.createElementVNode("text",{class:"num"},e.toDisplayString(t.length),1)]),e.createElementVNode("view",{class:"room_wrapContent"},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(t,((t,l)=>(e.openBlock(),e.createElementBlock("view",{class:"item","data-id":t.id,"data-jobNum":t.job_num,"data-phone":t.phone,onClick:a[5]||(a[5]=(...e)=>i.showTechOp&&i.showTechOp(...e))},[e.createElementVNode("view",{class:"sp-no"},[e.createElementVNode("view",{class:"roomName"},[e.createElementVNode("image",{class:"image",src:2==t.sex?"/static/images/jishi/staff_female.png":"/static/images/jishi/staff_male.png"},null,8,["src"]),e.createTextVNode(e.toDisplayString(t.job_num),1)])]),e.createElementVNode("view",{class:"detail",style:e.normalizeStyle("background:"+t.color+";")},[""!=t.server_order?(e.openBlock(),e.createElementBlock("view",{key:0},[e.createElementVNode("view",{class:"line roomNum"},[s.cusTechShow&&1==s.cusTechShow.djshow?(e.openBlock(),e.createElementBlock("text",{key:0},e.toDisplayString(t.work_grade)+" ",1)):e.createCommentVNode("",!0),e.createElementVNode("text",null,e.toDisplayString(t.workName),1)]),e.createElementVNode("view",{class:"line"},[t.room_name?(e.openBlock(),e.createElementBlock("text",{key:0,class:"workRoom"},e.toDisplayString(t.room_name)+"房",1)):e.createCommentVNode("",!0),e.createElementVNode("text",{class:"workSP"},e.toDisplayString(t.lcard_name),1)]),e.createElementVNode("view",{class:"line"},[e.createElementVNode("text",{class:"makeNum"},e.toDisplayString(t.p_name)+" "+e.toDisplayString(t.clockStatus),1)])])):(e.openBlock(),e.createElementBlock("view",{key:1},[s.cusTechShow&&1==s.cusTechShow.djshow?(e.openBlock(),e.createElementBlock("text",{key:0},e.toDisplayString(t.work_grade)+" ",1)):e.createCommentVNode("",!0),e.createElementVNode("text",null,e.toDisplayString(t.workName),1),e.createElementVNode("view",{class:"fixStatus"},e.toDisplayString(t.statusTxt),1)]))],4),""!=t.duration?(e.openBlock(),e.createElementBlock("view",{key:0,class:"bottom"},[e.createElementVNode("view",{class:"service-time"},[e.createElementVNode("text",null,e.toDisplayString(t.duration),1)])])):e.createCommentVNode("",!0),t.is_yue?(e.openBlock(),e.createElementBlock("view",{key:1,class:"yuyue"},"约")):e.createCommentVNode("",!0),t.is_wait?(e.openBlock(),e.createElementBlock("view",{key:2,class:"yuyue bg-red"},"等")):e.createCommentVNode("",!0),s.cusTechShow&&1==s.cusTechShow.jbshow?(e.openBlock(),e.createElementBlock("view",{key:3,class:"isOverTime orange"},e.toDisplayString(t.banci_type),1)):e.createCommentVNode("",!0)],8,["data-id","data-jobNum","data-phone"])))),256))])])))),256)),0==s.lists.length?(e.openBlock(),e.createElementBlock("view",{key:0,class:"noData"},[e.createElementVNode("i",{class:"iconfont icon-kongshuju"}),e.createTextVNode(" 暂无数据 ")])):e.createCommentVNode("",!0)])):e.createCommentVNode("",!0)]),1==s.setTab?(e.openBlock(),e.createElementBlock("view",{key:0,class:"downBox"},[e.createElementVNode("ul",{class:"downList"},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(s.workList,((t,l)=>(e.openBlock(),e.createElementBlock("li",{"data-index":l,onClick:a[6]||(a[6]=(...e)=>i.openDetailBox&&i.openDetailBox(...e))},[e.createElementVNode("view",{class:"jsJob"},e.toDisplayString(t.job_num),1),e.createElementVNode("view",{class:"downInfo"},[e.createElementVNode("view",null,e.toDisplayString(t.p_name)+" / "+e.toDisplayString(t.p_duration)+"分钟",1),e.createElementVNode("view",null,"预计下钟："+e.toDisplayString(t.downTime),1)]),e.createElementVNode("view",{class:"serTime"},[e.createElementVNode("view",{class:"num orange"},e.toDisplayString(t.surtime),1),e.createTextVNode(" 分钟 ")])],8,["data-index"])))),256))]),0==s.workList.length?(e.openBlock(),e.createElementBlock("view",{key:0,class:"noData"},[e.createElementVNode("i",{class:"iconfont icon-kongshuju"}),e.createTextVNode(" 暂无数据 ")])):e.createCommentVNode("",!0)])):e.createCommentVNode("",!0),2==s.setTab?(e.openBlock(),e.createElementBlock("view",{key:1,class:"lineUpBox"},[e.createElementVNode("view",{class:"ypBox"},[e.createElementVNode("view",{class:"title"},[e.createElementVNode("view",{class:"lBlock"}),e.createTextVNode(" 预排人数 "),e.createElementVNode("text",{class:"num"},e.toDisplayString(s.makeNum),1),e.createElementVNode("view",{class:"tips"},"* 当前没有空闲技师轮钟！")]),e.createElementVNode("view",{class:"infoLists"},[e.createElementVNode("view",{class:"listsTop"},[e.createElementVNode("view",{class:"pro pro2"},"项目"),e.createElementVNode("view",{class:"js"},"技师要求"),e.createElementVNode("view",{class:"room"},"房间"),e.createElementVNode("view",{class:"time"},"时长"),e.createElementVNode("view",{class:"op"},"操作")]),e.createElementVNode("ul",{class:"lineUpList"},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(s.makeList,((l,o)=>(e.openBlock(),e.createElementBlock("li",{class:"listsContent"},[e.createElementVNode("view",{class:"pro pro2"},e.toDisplayString(l.p_name),1),e.createElementVNode("view",{class:"js"},e.toDisplayString(l.ser_sex_text),1),e.createElementVNode("view",{class:"room"},e.toDisplayString(l.room_name),1),e.createElementVNode("view",{class:"time"},"已等"+e.toDisplayString(l.duration),1),t.menuPerm(97)?(e.openBlock(),e.createElementBlock("view",{key:0,class:"op","data-waitIndex":o,"data-type":"1",onClick:a[7]||(a[7]=(...e)=>i.waitOpFun&&i.waitOpFun(...e))},[e.createElementVNode("i",{class:"iconfont icon-liebiao"})],8,["data-waitIndex"])):e.createCommentVNode("",!0)])))),256))]),0==s.makeList.length?(e.openBlock(),e.createElementBlock("view",{key:0,class:"noData"},[e.createElementVNode("i",{class:"iconfont icon-kongshuju"}),e.createTextVNode(" 暂无数据 ")])):e.createCommentVNode("",!0)])]),e.createElementVNode("view",{class:"dwBox"},[e.createElementVNode("view",{class:"title"},[e.createElementVNode("view",{class:"lBlock"}),e.createTextVNode(" 等位人数 "),e.createElementVNode("text",{class:"num"},e.toDisplayString(s.rankNum),1),e.createElementVNode("view",{class:"tips"},"* 选了技师，但是技师可能正在上钟！")]),e.createElementVNode("view",{class:"infoLists"},[e.createElementVNode("view",{class:"listsTop"},[e.createElementVNode("view",{class:"pro"},"项目"),e.createElementVNode("view",{class:"room"},"房间"),e.createElementVNode("view",{class:"time"},"时长"),e.createElementVNode("view",{class:"op"},"操作")]),e.createElementVNode("ul",{class:"lineUpList"},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(s.rankList,((l,o)=>(e.openBlock(),e.createElementBlock("li",{class:"listsContent"},[e.createElementVNode("view",{class:"pro"},e.toDisplayString(l.p_name),1),e.createElementVNode("view",{class:"room"},e.toDisplayString(l.room_name),1),e.createElementVNode("view",{class:"time"},e.toDisplayString(l.duration),1),t.menuPerm(97)?(e.openBlock(),e.createElementBlock("view",{key:0,class:"op","data-waitIndex":o,"data-type":"2",onClick:a[8]||(a[8]=(...e)=>i.waitOpFun&&i.waitOpFun(...e))},[e.createElementVNode("i",{class:"iconfont icon-liebiao"})],8,["data-waitIndex"])):e.createCommentVNode("",!0)])))),256))]),0==s.rankList.length?(e.openBlock(),e.createElementBlock("view",{key:0,class:"noData"},[e.createElementVNode("i",{class:"iconfont icon-kongshuju"}),e.createTextVNode(" 暂无数据 ")])):e.createCommentVNode("",!0)])])])):e.createCommentVNode("",!0),3==s.setTab?(e.openBlock(),e.createElementBlock("view",{key:2,class:"waitBox"},[e.createElementVNode("view",{class:"tips orange"},"* 技师空闲，但是还没上钟！"),(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(s.waitList,((l,o)=>(e.openBlock(),e.createElementBlock("view",{class:"infoLists"},[e.createElementVNode("view",{class:"listsTop"},[e.createElementVNode("view",{class:"listsTopTitle"},e.toDisplayString(l.job_num)+"/"+e.toDisplayString(l.ser_type),1),t.menuPerm(98)?(e.openBlock(),e.createElementBlock("view",{key:0,class:"waitOpBtn","data-waitIndex":o,"data-type":"3",onClick:a[9]||(a[9]=(...e)=>i.waitOpFun&&i.waitOpFun(...e))},[e.createElementVNode("i",{class:"iconfont icon-liebiao"})],8,["data-waitIndex"])):e.createCommentVNode("",!0)]),e.createElementVNode("view",{class:"listsContent"},[e.createElementVNode("view",{class:"listsConName"},"项目名称"),e.createElementVNode("view",{class:"listsConInfo"},e.toDisplayString(l.p_name),1)]),e.createElementVNode("view",{class:"listsContent"},[e.createElementVNode("view",{class:"listsConName"},"房间锁牌"),e.createElementVNode("view",{class:"listsConInfo"},e.toDisplayString(l.room_name)+" / "+e.toDisplayString(l.lcard_name),1)]),e.createElementVNode("view",{class:"listsContent"},[e.createElementVNode("view",{class:"listsConName"},"开单时间"),e.createElementVNode("view",{class:"listsConInfo"},e.toDisplayString(l.addtime),1)]),e.createElementVNode("view",{class:"listsContent"},[e.createElementVNode("view",{class:"listsConName"},"开单人"),e.createElementVNode("view",{class:"listsConInfo"},e.toDisplayString(l.xdName),1)])])))),256)),0==s.waitList.length?(e.openBlock(),e.createElementBlock("view",{key:0,class:"noData"},[e.createElementVNode("i",{class:"iconfont icon-kongshuju"}),e.createTextVNode(" 暂无数据 ")])):e.createCommentVNode("",!0)])):e.createCommentVNode("",!0)],4),s.showOpBox?(e.openBlock(),e.createElementBlock("view",{key:0,class:"opBox"},[e.createElementVNode("view",{class:"opTitle"},[e.createTextVNode("操作("+e.toDisplayString(s.selJobNum)+") ",1),e.createElementVNode("i",{class:"iconfont icon-shibai1 opClose",onClick:a[10]||(a[10]=(...e)=>i.clearBigBg&&i.clearBigBg(...e))})]),e.createElementVNode("ul",{class:"opList"},[e.withDirectives(e.createElementVNode("li",{onClick:a[11]||(a[11]=(...e)=>i.goYuyue&&i.goYuyue(...e))},[e.createElementVNode("i",{class:"iconfont icon-yuyue"}),e.createElementVNode("view",{class:"opSubTitle"},"添加预约")],512),[[e.vShow,t.menuPerm(165)]]),e.withDirectives(e.createElementVNode("li",{onClick:a[12]||(a[12]=(...e)=>i.jstiaopai&&i.jstiaopai(...e))},[e.createElementVNode("i",{class:"iconfont icon-jiaohuan"}),e.createElementVNode("view",{class:"opSubTitle"},"技师调牌")],512),[[e.vShow,t.menuPerm(47)]]),e.withDirectives(e.createElementVNode("li",{onClick:a[13]||(a[13]=(...e)=>i.jsKaoqin&&i.jsKaoqin(...e))},[e.createElementVNode("i",{class:"iconfont icon-biaoge"}),e.createElementVNode("view",{class:"opSubTitle"},"技师考勤")],512),[[e.vShow,t.menuPerm(84)]]),e.withDirectives(e.createElementVNode("li",{onClick:a[14]||(a[14]=(...e)=>i.jsshangzhong&&i.jsshangzhong(...e))},[e.createElementVNode("i",{class:"iconfont icon-shichang"}),e.createElementVNode("view",{class:"opSubTitle"},"上钟情况")],512),[[e.vShow,t.menuPerm(85)]]),e.withDirectives(e.createElementVNode("li",{"data-type":"xiaZhong",onClick:a[15]||(a[15]=(...e)=>i.openJiShiOpBox&&i.openJiShiOpBox(...e))},[e.createElementVNode("i",{class:"iconfont icon-dianji"}),e.createElementVNode("view",{class:"opSubTitle"},"快速下钟")],512),[[e.vShow,t.menuPerm(166)]]),e.withDirectives(e.createElementVNode("li",{"data-type":"cheXiao",onClick:a[16]||(a[16]=(...e)=>i.openJiShiOpBox&&i.openJiShiOpBox(...e))},[e.createElementVNode("i",{class:"iconfont icon-yuyuequxiao"}),e.createElementVNode("view",{class:"opSubTitle"},"快速撤销")],512),[[e.vShow,t.menuPerm(167)]]),e.withDirectives(e.createElementVNode("li",{"data-type":"relate",onClick:a[17]||(a[17]=(...e)=>i.openJiShiOpBox&&i.openJiShiOpBox(...e))},[e.createElementVNode("i",{class:"iconfont icon-dianhua1"}),e.createElementVNode("view",{class:"opSubTitle"},"联系方式")],512),[[e.vShow,t.menuPerm(168)]]),e.withDirectives(e.createElementVNode("li",{"data-type":"servicePro",onClick:a[18]||(a[18]=(...e)=>i.serviceProject&&i.serviceProject(...e))},[e.createElementVNode("i",{class:"iconfont icon-fuwu"}),e.createElementVNode("view",{class:"opSubTitle"},"服务项目")],512),[[e.vShow,t.menuPerm(86)]])])])):e.createCommentVNode("",!0),s.showWaitBox?(e.openBlock(),e.createElementBlock("view",{key:1,class:"waitOpBox"},[e.createElementVNode("view",{class:"opTitle"},[e.createElementVNode("text",null,e.toDisplayString(s.selRoomName)+" "+e.toDisplayString(s.orderInfo.p_name)+" "+e.toDisplayString(s.jsName),1),e.createTextVNode(),e.createElementVNode("i",{class:"iconfont icon-shibai1 opClose",onClick:a[19]||(a[19]=(...e)=>i.clearBigBg&&i.clearBigBg(...e))})]),e.createElementVNode("ul",{class:"opList"},[1==s.openWinType?(e.openBlock(),e.createElementBlock(e.Fragment,{key:0},[e.withDirectives(e.createElementVNode("li",{onClick:a[20]||(a[20]=e=>i.chaWait(2))},[e.createElementVNode("i",{class:"iconfont icon-cangfang"}),e.createTextVNode(" 换房间")],512),[[e.vShow,t.menuPerm(169)]]),e.withDirectives(e.createElementVNode("li",{onClick:a[21]||(a[21]=e=>i.chaWait(4))},[e.createElementVNode("i",{class:"iconfont icon-edit"}),e.createTextVNode(" 优先排钟")],512),[[e.vShow,t.menuPerm(87)]]),e.withDirectives(e.createElementVNode("li",{onClick:a[22]||(a[22]=e=>i.chaWait(5))},[e.createElementVNode("i",{class:"iconfont icon-my"}),e.createTextVNode(" 安排技师")],512),[[e.vShow,t.menuPerm(170)]]),e.withDirectives(e.createElementVNode("li",{onClick:a[23]||(a[23]=e=>i.chaWait(6))},[e.createElementVNode("i",{class:"iconfont icon-shibai"}),e.createTextVNode(" 撤销")],512),[[e.vShow,t.menuPerm(172)]])],64)):e.createCommentVNode("",!0),2==s.openWinType?(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[e.withDirectives(e.createElementVNode("li",{onClick:a[24]||(a[24]=e=>i.chaWait(2))},[e.createElementVNode("i",{class:"iconfont icon-cangfang"}),e.createTextVNode(" 换房间")],512),[[e.vShow,t.menuPerm(169)]]),e.withDirectives(e.createElementVNode("li",{onClick:a[25]||(a[25]=e=>i.chaWait(4))},[e.createElementVNode("i",{class:"iconfont icon-edit"}),e.createTextVNode(" 优先排钟")],512),[[e.vShow,t.menuPerm(87)]]),e.withDirectives(e.createElementVNode("li",{onClick:a[26]||(a[26]=e=>i.chaWait(3))},[e.createElementVNode("i",{class:"iconfont icon-edit"}),e.createTextVNode(" 改钟")],512),[[e.vShow,t.menuPerm(171)]])],64)):e.createCommentVNode("",!0),3==s.openWinType?(e.openBlock(),e.createElementBlock(e.Fragment,{key:2},[e.withDirectives(e.createElementVNode("li",{onClick:a[27]||(a[27]=e=>i.chaWait(0))},[e.createElementVNode("i",{class:"iconfont icon-jiaoshiliebiao"}),e.createTextVNode(" 换技师")],512),[[e.vShow,t.menuPerm(173)]]),e.withDirectives(e.createElementVNode("li",{onClick:a[28]||(a[28]=e=>i.chaWait(1))},[e.createElementVNode("i",{class:"iconfont icon-liebiao"}),e.createTextVNode(" 换项目")],512),[[e.vShow,t.menuPerm(174)]]),e.withDirectives(e.createElementVNode("li",{onClick:a[29]||(a[29]=e=>i.chaWait(2))},[e.createElementVNode("i",{class:"iconfont icon-cangfang"}),e.createTextVNode(" 换房间")],512),[[e.vShow,t.menuPerm(175)]]),e.withDirectives(e.createElementVNode("li",{onClick:a[30]||(a[30]=e=>i.chaWait(3))},[e.createElementVNode("i",{class:"iconfont iconfont icon-edit"}),e.createTextVNode(" 改钟")],512),[[e.vShow,t.menuPerm(176)]])],64)):e.createCommentVNode("",!0)]),e.createElementVNode("view",{class:"goDetail",onClick:a[31]||(a[31]=(...e)=>i.goRoomInfo&&i.goRoomInfo(...e))},"查看详情")])):e.createCommentVNode("",!0),s.showBg?(e.openBlock(),e.createElementBlock("view",{key:2,class:"fixBg",onClick:a[32]||(a[32]=(...e)=>i.clearTerm&&i.clearTerm(...e))})):e.createCommentVNode("",!0),s.showBigBg?(e.openBlock(),e.createElementBlock("view",{key:3,class:"fixBigBg",onClick:a[33]||(a[33]=(...e)=>i.clearBigBg&&i.clearBigBg(...e))})):e.createCommentVNode("",!0),s.isOpenBox?(e.openBlock(),e.createElementBlock("view",{key:4,class:"openBox"},[e.createElementVNode("view",{class:"openBg"}),0==s.setWaitKey||3==s.setWaitKey||5==s.setWaitKey?(e.openBlock(),e.createElementBlock("view",{key:0,class:"openConOne"},[e.createElementVNode("view",{class:"conOneTitle"},e.toDisplayString(s.openBoxTitle),1),e.createElementVNode("view",{class:"conOneType"},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(s.serTypeList,(t=>(e.openBlock(),e.createElementBlock("view",{class:e.normalizeClass(t.id==s.selSetTypeId?"conOneSelList conOneSeled":"conOneSelList"),onClick:e=>i.set_type(t.id,"ser_type")},e.toDisplayString(t.name),11,["onClick"])))),256))]),s.selSetTypeId<1&&(0==s.setWaitKey||5==s.setWaitKey)?(e.openBlock(),e.createElementBlock("view",{key:0,class:"conOneSelBox1"},[1==s.isGrade?(e.openBlock(),e.createElementBlock("view",{key:0,class:"conOneSel1"},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(s.gradeList,(t=>(e.openBlock(),e.createElementBlock("view",{class:e.normalizeClass(t.id==s.gradeId?"conOneSelList conOneSeled":"conOneSelList"),onClick:e=>i.set_type(t.id,"ser_grade")},e.toDisplayString(t.title),11,["onClick"])))),256))])):e.createCommentVNode("",!0),e.createElementVNode("view",{class:"conOneSel2"},[e.createElementVNode("view",{class:e.normalizeClass(0==s.sexId?"conOneSelList conOneSeled":"conOneSelList"),onClick:a[34]||(a[34]=e=>i.set_type(0,"ser_sex"))},"不限",2),e.createElementVNode("view",{class:e.normalizeClass(1==s.sexId?"conOneSelList conOneSeled":"conOneSelList"),onClick:a[35]||(a[35]=e=>i.set_type(1,"ser_sex"))},"男",2),e.createElementVNode("view",{class:e.normalizeClass(2==s.sexId?"conOneSelList conOneSeled":"conOneSelList"),onClick:a[36]||(a[36]=e=>i.set_type(2,"ser_sex"))},"女",2)])])):e.createCommentVNode("",!0),s.selSetTypeId>0&&(0==s.setWaitKey||5==s.setWaitKey)?(e.openBlock(),e.createElementBlock("view",{key:1,class:"conOneSelBox2"},[e.createElementVNode("input",{type:"text",class:"conOneInput","data-name":"jobNum",onInput:a[37]||(a[37]=(...e)=>i.optInput&&i.optInput(...e)),placeholder:"技师工号",value:s.jobNum,"cursor-spacing":"150"},null,40,["value"]),2==s.selSetTypeId?(e.openBlock(),e.createElementBlock("view",{key:0,class:"conOneSelJob",onClick:a[38]||(a[38]=e=>i.ser_jobNum())},"选择")):e.createCommentVNode("",!0)])):e.createCommentVNode("",!0),e.createElementVNode("view",{class:"conOneBtnBox"},[e.createElementVNode("view",{class:"conOneBtnClose",onClick:a[39]||(a[39]=(...e)=>i.closeBox&&i.closeBox(...e))},"取消"),e.createElementVNode("view",{class:"conOneBtnSure",onClick:a[40]||(a[40]=(...e)=>i.sureOperation&&i.sureOperation(...e))},"确定")])])):e.createCommentVNode("",!0),2==s.setWaitKey?(e.openBlock(),e.createElementBlock("view",{key:1,class:"openConTwo"},[e.createElementVNode("view",{class:"conTwoTitle"},[e.createTextVNode(" 更换房间 "),e.createElementVNode("i",{class:"iconfont icon-shibai1 conTwoClose",onClick:a[41]||(a[41]=(...e)=>i.closeBox&&i.closeBox(...e))})]),e.createElementVNode("view",{class:"conTwoInfo"},[e.createElementVNode("text",null,"房间号 "),e.createElementVNode("text",{class:"orange"},e.toDisplayString(s.selRoomName),1),e.createElementVNode("text",null," , "),e.createElementVNode("text",null,"锁牌号 "),e.createElementVNode("text",{class:"orange"},e.toDisplayString(s.selLcardName),1)]),e.createElementVNode("checkbox-group",{class:"selectOrderList",onChange:a[42]||(a[42]=(...e)=>i.selectOrder&&i.selectOrder(...e))},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(s.selOrderList,((t,a)=>(e.openBlock(),e.createElementBlock("label",{class:"item",key:t.orderid},[e.createElementVNode("checkbox",{class:"checkbox",color:"red",value:t.orderid,checked:"true"},null,8,["value"]),e.createElementVNode("text",null,e.toDisplayString(t.p_name),1),"2438"==t.p_kind?(e.openBlock(),e.createElementBlock("text",{key:0}," x"+e.toDisplayString(t.p_num),1)):e.createCommentVNode("",!0)])))),128))],32),e.createElementVNode("view",{class:"conTwoSelBox2 mb10"},[e.createElementVNode("text",null,"转移到房间"),e.createElementVNode("input",{type:"text",class:"conTwoInput sm","data-name":"roomName",onInput:a[43]||(a[43]=(...e)=>i.optInput&&i.optInput(...e)),placeholder:"输入房间号"},null,32)]),e.createElementVNode("view",{class:"conTwoSelBox2 mb10"},[e.createElementVNode("text",null,"转移到锁牌"),e.createElementVNode("input",{type:"text",class:"conTwoInput xs","data-name":"lcardName",onInput:a[44]||(a[44]=(...e)=>i.optInput&&i.optInput(...e)),placeholder:"输入锁牌号",value:s.lcardName,"cursor-spacing":"150"},null,40,["value"]),e.createElementVNode("text",{class:"selectBtn orange",onClick:a[45]||(a[45]=(...e)=>i.openLcardBox&&i.openLcardBox(...e))},"选择")]),e.createElementVNode("view",{class:"conTwoBtnBox"},[e.createElementVNode("view",{class:"conTwoBtnSure bg-red-JB",onClick:a[46]||(a[46]=(...e)=>i.sureOperation&&i.sureOperation(...e))},"确定更换")])])):e.createCommentVNode("",!0),4==s.setWaitKey?(e.openBlock(),e.createElementBlock("view",{key:2,class:"openConTwo"},[e.createElementVNode("view",{class:"conTwoTitle"},[e.createTextVNode(" 优先排钟 "),e.createElementVNode("i",{class:"iconfont icon-shibai1 conTwoClose",onClick:a[47]||(a[47]=(...e)=>i.closeBox&&i.closeBox(...e))})]),e.createElementVNode("view",{class:"conTwoInfo"},[e.createElementVNode("text",{class:"tips red"},"输入数字（最大5位数），值越大越优先")]),e.createElementVNode("view",{class:"conTwoSelBox2"},[e.withDirectives(e.createElementVNode("input",{type:"number",class:"conTwoInput","data-name":"roomName",maxlength:"5",onInput:a[48]||(a[48]=(...e)=>i.optInput&&i.optInput(...e)),placeholder:"请输入优先级","onUpdate:modelValue":a[49]||(a[49]=e=>s.important_level=e),"cursor-spacing":"150"},null,544),[[e.vModelText,s.important_level]])]),e.createElementVNode("view",{class:"conTwoBtnBox"},[e.createElementVNode("view",{class:"conTwoBtnSure bg-red-JB",onClick:a[50]||(a[50]=(...e)=>i.sureOperation&&i.sureOperation(...e))},"确定更新")])])):e.createCommentVNode("",!0),6==s.setWaitKey?(e.openBlock(),e.createElementBlock("view",{key:3,class:"openConTwo"},[e.createElementVNode("view",{class:"conTwoTitle"},[e.createTextVNode(" 撤销订单 "),e.createElementVNode("i",{class:"iconfont icon-shibai1 conTwoClose",onClick:a[51]||(a[51]=(...e)=>i.closeBox&&i.closeBox(...e))})]),e.createElementVNode("view",{class:"conTwoInfo"},[e.createElementVNode("text",null,"房间号 "),e.createElementVNode("text",{class:"orange"},e.toDisplayString(s.orderInfo.room_name),1)]),e.createElementVNode("view",{class:"conTwoInfo"},[e.createElementVNode("text",null,"锁牌号 "),e.createElementVNode("text",{class:"orange"},e.toDisplayString(s.orderInfo.lcard_name),1)]),e.createElementVNode("view",{class:"conTwoInfo"},[e.createElementVNode("text",null,"项目 "),e.createElementVNode("text",{class:"orange"},e.toDisplayString(s.orderInfo.p_name),1)]),e.createElementVNode("view",{class:"conTwoSelBox2 mt10 mb10"},[e.createElementVNode("text",null,"撤销原因"),e.createElementVNode("input",{type:"text",class:"conTwoInput sm","data-name":"cancelRemark",onInput:a[52]||(a[52]=(...e)=>i.optInput&&i.optInput(...e)),placeholder:"输入撤销原因"},null,32)]),e.createElementVNode("view",{class:"conTwoBtnBox"},[e.createElementVNode("view",{class:"conTwoBtnSure bg-red-JB",onClick:a[53]||(a[53]=(...e)=>i.sureOperation&&i.sureOperation(...e))},"确定撤销")])])):e.createCommentVNode("",!0)])):e.createCommentVNode("",!0),e.createVNode(c,{isOpen:s.isOpenLcardBox,onClose:i.closeLcardBox},{default:e.withCtx((()=>[e.createElementVNode("view",{class:"MeunBox"},[e.createElementVNode("view",{class:"title"},[e.createElementVNode("text",{class:e.normalizeClass(0==s.selectLcardType?"s-top sel_suo":"s-top"),"data-type":"0",onClick:a[54]||(a[54]=(...e)=>i.changeSelectLcardType&&i.changeSelectLcardType(...e))},"全新锁牌",2),e.createElementVNode("text",{class:e.normalizeClass(1==s.selectLcardType?"s-top sel_suo":"s-top"),"data-type":"1",onClick:a[55]||(a[55]=(...e)=>i.changeSelectLcardType&&i.changeSelectLcardType(...e))},"已发锁牌",2),e.createElementVNode("i",{onClick:a[56]||(a[56]=(...e)=>i.closeLcardBox&&i.closeLcardBox(...e)),class:"iconfont icon-shanchuxuanze"})]),e.createElementVNode("view",{class:"meunList"},[1==s.selectLcardType?(e.openBlock(),e.createElementBlock("view",{key:0,class:"orange"},"正在使用的锁牌！")):e.createCommentVNode("",!0),0==s.selectLcardType?(e.openBlock(),e.createElementBlock("view",{key:1,class:"orange"},"发新锁牌！")):e.createCommentVNode("",!0),1==s.selectLcardType?(e.openBlock(),e.createElementBlock("view",{key:2,class:"menuTypeBox"},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(s.lcardList.useList,((t,l)=>(e.openBlock(),e.createElementBlock("view",{class:"li",key:t.id,"data-index":l,onClick:a[57]||(a[57]=(...e)=>i.selectLcard&&i.selectLcard(...e))},[e.createElementVNode("text",null,e.toDisplayString(t.title),1)],8,["data-index"])))),128))])):e.createCommentVNode("",!0),0==s.selectLcardType?(e.openBlock(),e.createElementBlock("view",{key:3,class:"menuTypeBox"},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(s.lcardList.noUseList,((t,l)=>(e.openBlock(),e.createElementBlock("view",{class:"li",key:t.id,"data-index":l,onClick:a[58]||(a[58]=(...e)=>i.selectLcard&&i.selectLcard(...e))},[e.createElementVNode("text",null,e.toDisplayString(t.title),1)],8,["data-index"])))),128))])):e.createCommentVNode("",!0)])])])),_:1},8,["isOpen","onClose"]),e.createVNode(r,{title:"详情",isOpen:s.isOpenDetailBox,isFixTop:!1,boxTop:"50%",onClose:i.closeDetailBox},{default:e.withCtx((()=>[e.createElementVNode("view",{class:"workDetailBox"},[e.createElementVNode("view",{class:"ul"},[e.createElementVNode("view",{class:"li"},[e.createElementVNode("text",null,"技师："),e.createElementVNode("text",null,e.toDisplayString(s.workDetail.job_num),1)]),e.createElementVNode("view",{class:"li"},[e.createElementVNode("text",null,"房间："),e.createElementVNode("text",null,e.toDisplayString(s.workDetail.room_name),1)]),e.createElementVNode("view",{class:"li"},[e.createElementVNode("text",null,"项目："),e.createElementVNode("text",null,e.toDisplayString(s.workDetail.p_name)+" / "+e.toDisplayString(s.workDetail.p_duration)+"分钟",1)]),e.createElementVNode("view",{class:"li"},[e.createElementVNode("text",null,"下钟："),e.createElementVNode("text",null,e.toDisplayString(s.workDetail.downTime),1)])]),e.createElementVNode("view",{class:"btnList"},[e.createElementVNode("view",{class:"item gray",onClick:a[59]||(a[59]=(...e)=>i.closeDetailBox&&i.closeDetailBox(...e))},"我知道了"),e.createElementVNode("view",{class:"item orange",onClick:a[60]||(a[60]=(...e)=>i.goRoomDetail&&i.goRoomDetail(...e))},"查看详情")])])])),_:1},8,["isOpen","onClose"]),s.hidejsBox?(e.openBlock(),e.createElementBlock("view",{key:5,class:"jsListBox"},[e.createElementVNode("view",{class:"jsListBg",onClick:a[61]||(a[61]=(...e)=>i.closeBox2&&i.closeBox2(...e))}),e.createElementVNode("view",{class:"jsListOpen"},[e.createElementVNode("view",{class:"jsListTitleBox"},[e.createElementVNode("text",{class:"jsListTitle jsListTitleSel"},"技师列表"),e.createElementVNode("i",{onClick:a[62]||(a[62]=(...e)=>i.closeBox2&&i.closeBox2(...e)),class:"iconfont icon-shanchuxuanze"})]),e.createElementVNode("view",{class:"jsMeunList"},[e.createElementVNode("view",{class:"jsSearchBox"},[e.createElementVNode("input",{class:"jsQueryTxt",onInput:a[63]||(a[63]=(...e)=>i.jobNumInput&&i.jobNumInput(...e)),placeholder:"请输入工号"},null,32)]),e.createElementVNode("radio-group",{class:"jsMenuTypeBox",onChange:a[64]||(a[64]=(...e)=>i.radioChangeJs&&i.radioChangeJs(...e))},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(s.jsList,((t,a)=>(e.openBlock(),e.createElementBlock("label",{key:t.id},[e.createElementVNode("view",{class:e.normalizeClass(t.is_show?"li":"li hide")},[e.createElementVNode("radio",{value:t.job_num,class:"radioBtn",style:{transform:"scale(0.7)"},color:"#ff8100"},null,8,["value"]),e.createElementVNode("text",null,e.toDisplayString(t.job_num)+"("+e.toDisplayString(t.work_status)+")",1)],2)])))),128)),0==s.jsList.length?(e.openBlock(),e.createElementBlock("view",{key:0,class:"noData"},[e.createElementVNode("i",{class:"iconfont icon-kongshuju"}),e.createTextVNode(" 暂无技师 ")])):e.createCommentVNode("",!0)],32)])])])):e.createCommentVNode("",!0),s.isOpenJiShiOpBox?(e.openBlock(),e.createElementBlock("view",{key:6,class:"prompt"},[e.createElementVNode("view",{class:"prompt-shadow"}),e.createElementVNode("view",{class:"pos-middle jiShiOpBox"},[e.createElementVNode("view",{class:"title"},[e.createTextVNode(e.toDisplayString(s.jiShiOpBoxData.title)+"（",1),e.createElementVNode("text",{class:"red"},e.toDisplayString(s.jiShiOpBoxData.job_num),1),e.createTextVNode("）（"),e.createElementVNode("text",{class:"red"},e.toDisplayString(s.jiShiOpBoxData.name),1),e.createTextVNode("）"),e.createElementVNode("text",{class:"iconfont icon-shanchuxuanze red",onClick:a[65]||(a[65]=(...e)=>i.closeBox&&i.closeBox(...e))})]),0==s.jiShiOpBoxData.opType?(e.openBlock(),e.createElementBlock(e.Fragment,{key:0},[e.createElementVNode("view",{class:"con"},[e.createElementVNode("view",{class:"item"},[e.createElementVNode("text",{class:"label"},"位置："),e.createElementVNode("view",{class:"info"},e.toDisplayString(s.jiShiOpBoxData.room_name)+" / "+e.toDisplayString(s.jiShiOpBoxData.lcard_name),1)]),e.createElementVNode("view",{class:"item"},[e.createElementVNode("text",{class:"label"},"项目："),e.createElementVNode("view",{class:"info"},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(s.jiShiOpBoxData.orderList,((t,a)=>(e.openBlock(),e.createElementBlock("view",{class:"txt",key:t.orderid},[e.createTextVNode(e.toDisplayString(t.p_name),1),1==t.p_price_type?(e.openBlock(),e.createElementBlock("text",{key:0,class:"red"},"(加钟)")):e.createCommentVNode("",!0)])))),128))])])]),e.createElementVNode("view",{class:"bot"},[e.createElementVNode("view",{class:"jiShiBtn bg-orange-JB",onClick:a[66]||(a[66]=(...e)=>i.jiShiDetail&&i.jiShiDetail(...e))},"订单详情"),e.createElementVNode("view",{class:"jiShiBtn bg-reds-JB fr",onClick:a[67]||(a[67]=(...e)=>i.jiShiSure&&i.jiShiSure(...e))},e.toDisplayString(s.jiShiOpBoxData.btnTxt),1)])],64)):e.createCommentVNode("",!0),1==s.jiShiOpBoxData.opType?(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[e.createElementVNode("view",{class:"con cornet"},[e.createElementVNode("view",{class:"item"},[e.createElementVNode("text",{class:"label"},"手   机："),e.createElementVNode("view",{class:"info"},e.toDisplayString(s.jiShiOpBoxData.phone),1),e.createElementVNode("view",{class:"copybtn bg-reds-JB fr","data-text":s.jiShiOpBoxData.phone,onClick:a[68]||(a[68]=(...e)=>i.copyText&&i.copyText(...e))},e.toDisplayString(s.jiShiOpBoxData.btnTxt),9,["data-text"])]),""!=s.jiShiOpBoxData.cornet_tel?(e.openBlock(),e.createElementBlock("view",{key:0,class:"item"},[e.createElementVNode("text",{class:"label"},"集团号："),e.createElementVNode("view",{class:"info"},e.toDisplayString(s.jiShiOpBoxData.cornet_tel),1),e.createElementVNode("view",{class:"copybtn bg-reds-JB fr","data-text":s.jiShiOpBoxData.cornet_tel,onClick:a[69]||(a[69]=(...e)=>i.copyText&&i.copyText(...e))},e.toDisplayString(s.jiShiOpBoxData.btnTxt),9,["data-text"])])):e.createCommentVNode("",!0)]),e.createElementVNode("view",{class:"bot cenbot"},[e.createElementVNode("view",{class:"jiShiBtn bg-grey-JB",onClick:a[70]||(a[70]=(...e)=>i.closeBox&&i.closeBox(...e))},"取消")])],64)):e.createCommentVNode("",!0)])])):e.createCommentVNode("",!0),e.createVNode(c,{isOpen:s.isOpenCusShowBox,onClose:i.closeCusShowBox},{default:e.withCtx((()=>[e.createElementVNode("view",{class:"prompt-title"},[e.createTextVNode("更多筛选"),e.createElementVNode("text",{class:"iconfont icon-guanbi close-icon red",onClick:a[71]||(a[71]=(...e)=>i.closeCusShowBox&&i.closeCusShowBox(...e))})]),e.createElementVNode("view",{class:"cusShowBoxCon"},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(s.cusTechShowList,((t,l)=>(e.openBlock(),e.createElementBlock("view",{class:e.normalizeClass(["item",1==s.cusTechShow[t.key]?"selected":""]),key:t.key,"data-key":t.key,onClick:a[72]||(a[72]=(...e)=>i.changeCusTechShow&&i.changeCusTechShow(...e))},[e.createElementVNode("text",{class:e.normalizeClass(["iconfont",1==s.cusTechShow[t.key]?"icon-xuanzhong":"icon-weixuanzhong"])},null,2),e.createTextVNode(e.toDisplayString(t.name),1)],10,["data-key"])))),128))])])),_:1},8,["isOpen","onClose"])],64)}]]);var oe;const ne=n({data:()=>({lists:[],page:1,moreTxt:"加载中...",hasMore:!0,emptyData:!1,termList:[],termIdx:[0,0,0],showTermKey:"",showBg:!1,spTxt:"",opinBox:!1,poinTitle:"",idx:""}),components:{},onLoad(){oe=getApp()},onShow(){this.chaTerm()},methods:{poinBox(e){this.spTxt="撤销",this.poinTitle="确定要撤销吗？",this.opinBox=!0,this.idx=e},closeBox:function(){this.idx="",this.spTxt="",this.poinTitle="",this.opinBox=!1},approver:function(){let e=this,t=e.idx,l=e.lists[t].order_id;a("log","at pages/leaveapply/leaveapply.vue:163",e.lists[t]);let o={order_id:l};oe.goPost("Qingjia/revoke",o,(function(l){e.lists[t].status=l.status,e.lists[t].statusTxt=l.statusTxt,e.lists[t].edittime=l.edittime,a("log","at pages/leaveapply/leaveapply.vue:175",e.lists[t]),e.closeBox()}))},chaTopTerm:function(e){let t=this;t.showTermKey!==e?(t.showTermKey=e,t.showBg=!0):t.clearTerm()},chaTerm:function(e){let t=this,a=t.showTermKey;t.termIdx,t.termIdx[a]=e,t.clearTerm(),t.resetData(),t.getDetail()},clearTerm:function(e){this.showTermKey="",this.showBg=!1},getDetail(){let e=this;if(!e.hasMore)return;let t=e.page,l=e.termList,o=e.termIdx;var n="",s="",i="";l.length>0&&(n=l[0].list[o[0]].id,s=l[1].list[o[1]].id,i=l[2].list[o[2]].id);let c={page:t,sort:n,status:s,type:i};a("log","at pages/leaveapply/leaveapply.vue:250",c),oe.goPost("qingjia/applelists",c,(function(l){a("log","at pages/leaveapply/leaveapply.vue:254","res:",l),1==t?(l.lists.length<1&&(e.emptyData=!0),e.termList=l.termList,e.lists=l.lists):e.lists=e.lists.concat(l.lists);var o="点击加载更多";l.lists.length<l.pageCount&&(e.hasMore=!1,o="到底了"),e.moreTxt=o,e.page=t+1}))},resetData:function(){let e=this;e.lists=[],e.page=1,e.hasMore=!0,e.moreTxt="加载中...",e.emptyData=!1},showImg:function(e){if(e.length>0){let t=[],l="";for(let a in e)t[a]=e[a].url,0==a&&(l=e[a].url);a("log","at pages/leaveapply/leaveapply.vue:310","urls",t),a("log","at pages/leaveapply/leaveapply.vue:311","current",l),uni.previewImage({current:l,urls:t})}},addLeave:function(){uni.navigateTo({url:"/pages/staffleave/staffleave"})}},onReachBottom:function(){this.getDetail()}},[["render",function(t,a,l,o,n,s){return e.openBlock(),e.createElementBlock(e.Fragment,null,[e.createElementVNode("view",{class:"topBox"},[e.createElementVNode("ul",{class:"termBox"},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(n.termList,((t,a)=>(e.openBlock(),e.createElementBlock("li",null,[e.createElementVNode("view",{onClick:e=>s.chaTopTerm(a),class:e.normalizeClass(n.termIdx[a]>0?"orange":"")},[e.createElementVNode("text",null,e.toDisplayString(0===n.termIdx[a]?t.name:t.list[n.termIdx[a]].name),1),n.showTermKey!==a?(e.openBlock(),e.createElementBlock("i",{key:0,class:e.normalizeClass(["iconfont icon-tubiaozhizuo-1",n.termIdx[a]>0?"orange":""])},null,2)):n.showTermKey===a?(e.openBlock(),e.createElementBlock("i",{key:1,class:e.normalizeClass(["iconfont icon-tubiaozhizuo-",n.termIdx[a]>0?"orange":""])},null,2)):e.createCommentVNode("",!0)],10,["onClick"]),n.showTermKey===a?(e.openBlock(),e.createElementBlock("ul",{key:0,class:"nextBox"},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(t.list,((t,a)=>(e.openBlock(),e.createElementBlock("li",{onClick:e=>s.chaTerm(a)},[e.createTextVNode(e.toDisplayString(t.name)+" ",1),n.termIdx[n.showTermKey]===a?(e.openBlock(),e.createElementBlock("i",{key:0,class:"iconfont icon-xuanzhong"})):e.createCommentVNode("",!0)],8,["onClick"])))),256))])):e.createCommentVNode("",!0)])))),256))])]),e.createElementVNode("view",{class:"itemList"},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(n.lists,((a,l)=>(e.openBlock(),e.createElementBlock("view",{class:"item"},[e.createElementVNode("view",{class:"info"},[e.createElementVNode("view",{class:"head"},[e.createElementVNode("image",{class:"img",src:a.head_img?a.head_img:"/static/images/headImg.png"},null,8,["src"])]),e.createElementVNode("view",{class:"right"},[e.createElementVNode("view",{class:"name"},[e.createElementVNode("text",{class:"n"},e.toDisplayString(a.name),1),e.createElementVNode("text",{class:e.normalizeClass(["st","st"+a.status])},e.toDisplayString(a.statusTxt),3)]),e.createElementVNode("view",{class:"oth"},[e.createElementVNode("text",{class:"t"},e.toDisplayString(a.type),1),e.createElementVNode("text",{class:"t s"},e.toDisplayString(a.duration),1)])])]),e.createElementVNode("view",{class:"detail"},[e.createElementVNode("view",{class:"line"},[e.createTextVNode("开始时间"),e.createElementVNode("text",{class:"n"},e.toDisplayString(a.start_time),1)]),e.createElementVNode("view",{class:"line"},[e.createTextVNode("结束时间"),e.createElementVNode("text",{class:"n"},e.toDisplayString(a.end_time),1)]),e.createElementVNode("view",{class:"line"},[e.createTextVNode("请假事由"),e.createElementVNode("text",{class:e.normalizeClass(["n",""==a.reason?"n2":""])},e.toDisplayString(""==a.reason?"未填写":a.reason),3)]),e.createElementVNode("view",{class:"line"},[e.createTextVNode("图片上传"),e.createElementVNode("text",{class:e.normalizeClass(["n n3",a.pic.length<1?"n2":""]),onClick:e=>s.showImg(a.pic)},e.toDisplayString(a.pic.length<1?"未上传":"点击查看"),11,["onClick"])])]),0==a.status&&t.menuPerm(6)?(e.openBlock(),e.createElementBlock("view",{key:0,class:"approver"},[e.createElementVNode("view",{class:"b b3",onClick:e=>s.poinBox(l)},"撤销",8,["onClick"])])):3==a.status?(e.openBlock(),e.createElementBlock("view",{key:1,class:"approver"},[e.createElementVNode("text",{class:"b fr"},e.toDisplayString(a.edittime),1)])):(e.openBlock(),e.createElementBlock("view",{key:2,class:"approver"},[e.createElementVNode("text",{class:"b upstaff"},"审批员："+e.toDisplayString(a.approver),1),e.createElementVNode("text",{class:"b fr"},e.toDisplayString(a.updatetime),1)]))])))),256)),n.emptyData?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock("view",{key:0,class:"more",onClick:a[0]||(a[0]=e=>s.getDetail())},[e.createElementVNode("text",null,e.toDisplayString(n.moreTxt),1)])),e.createElementVNode("view",{class:"clear"})]),t.menuPerm(212)?(e.openBlock(),e.createElementBlock("view",{key:0,class:"submit IOSBottom"},[e.createElementVNode("view",{class:"btn",onClick:a[1]||(a[1]=e=>s.addLeave())},"我要请假")])):e.createCommentVNode("",!0),n.emptyData?(e.openBlock(),e.createElementBlock("view",{key:1,class:"emptyData"},[e.createElementVNode("view",{class:"icon"},[e.createElementVNode("text",{class:"iconfont icon-kongshuju"})]),e.createElementVNode("view",{class:"txt"},"暂无数据")])):e.createCommentVNode("",!0),n.showBg?(e.openBlock(),e.createElementBlock("view",{key:2,class:"fixBg",onClick:a[2]||(a[2]=(...e)=>s.clearTerm&&s.clearTerm(...e))})):e.createCommentVNode("",!0),n.opinBox?(e.openBlock(),e.createElementBlock("view",{key:3,class:"openBox"},[e.createElementVNode("view",{class:"bg",onClick:a[3]||(a[3]=(...e)=>s.closeBox&&s.closeBox(...e))}),e.createElementVNode("view",{class:"cenOpen alertBox"},[e.createElementVNode("view",{class:"content"},[e.createElementVNode("view",{class:"title"},e.toDisplayString(n.poinTitle),1),e.createElementVNode("view",{class:"orderFoot"},[e.createElementVNode("text",{class:"btn fl",onClick:a[4]||(a[4]=(...e)=>s.closeBox&&s.closeBox(...e))},"取消"),e.createElementVNode("text",{class:"btn fr",onClick:a[5]||(a[5]=(...e)=>s.approver&&s.approver(...e))},"确定")])])])])):e.createCommentVNode("",!0)],64)}]]);var se;const ie=n({data:()=>({hideBomBox:!1,hideTimeBox:!1,hideRoomBox:!1,bomBoxTitle:"",job:"",jobNum:"",typeItems:[{value:"0",name:"留牌",checked:"true"},{value:"2",name:"不留牌"}],lpCurrent:0,startTime:"",lpTime:45,lpTimeItem:[],lpTimeIdx:8,phone:"",note:"",room:"",roomName:"",roomItem:[],roomIdx:"",getRoomId:"",getJsNum:"",projectWay:2,setGoods:[{id:0,num:1,price:0,title:"暂无项目",project_type:"2430",ser_type:3,ser_sex:0,ser_grade:0,ser_no:"",is_free:0}],serTypeList:[],sysTipsConfig:{},chaTxt:"",jsList:[],jsIndex:0,hidejsBox:!1,upDetailBool:!0}),components:{timeSelector:w},onLoad(e){se=getApp(),this.sysTipsConfig=se.getInitSysTipsConfig(),a("log","at pages/addyuyue/addyuyue.vue:275",se.getPageUrl(!0));let t=5,l=[];for(let a=0;a<20;a++)t=5*(a+1),l.push(t);this.lpTimeItem=l,this.getRoomId=this.room=e.roomId?e.roomId:"",this.getJsNum=this.setGoods[0].ser_no=e.jsNum?e.jsNum:"",this.getDetail()},methods:{openBomBox:function(e){1==e?(this.bomBoxTitle="留牌时间",this.hideTimeBox=!0):2==e?(this.getRoomList(),this.bomBoxTitle="房间列表",this.hideRoomBox=!0):(this.bomBoxTitle="技师列表",this.hidejsBox=!0),this.hideBomBox=!0},getRoomList(){let e=this,t={roomName:e.chaTxt};se.goPost("dingdan/getRoomlist",t,(function(t){e.roomItem=t.list,e.room>0&&""==e.roomName&&t.list.forEach(((t,a)=>{e.room==t.id&&(e.roomName=t.title)}))}))},radioChangeTime(e){let t=e.detail.value,a=this.roomItem;if(this.id==t)return!1;for(let o in a)if(a[o].id==t){this.roomName=a[o].name;break}let l=e.detail.value;this.lpTimeIdx=l,this.lpTime=this.lpTimeItem[l],this.closeBox()},radioChangeRoom(e){let t=e.detail.value,a=this.roomItem;if(this.id==t)return!1;for(let l in a)if(a[l].id==t){this.roomName=a[l].name;break}this.room=t,this.closeBox()},searchData:function(e){1==e?this.jobNumInput():this.getRoomList()},clearSearch:function(e){this.chaTxt="",1==e?this.jobNumInput():this.getRoomList()},closeBox:function(){this.hideBomBox=!1,this.hideTimeBox=!1,this.hideRoomBox=!1,this.hidejsBox=!1,this.roomItem=[],this.chaTxt=""},lpTypeChange:function(e){this.lpCurrent=e.detail.value},sureSubmit:function(e){let t=this,a=t.setGoods,l={};for(let n in a)l[n]={ser_job:a[n].ser_no,ser_type:a[n].ser_type,p_id:a[n].id};let o={type:t.lpCurrent,time:t.startTime,duration:t.lpTime,name:"",phone:t.phone,roomId:t.room,remark:t.note,project:JSON.stringify(l)};se.goPost("yuyue/add",o,(function(e){t.openSysTips()}))},btnConfirm(e){this.startTime=e.key},btnCancel(e){a("log","at pages/addyuyue/addyuyue.vue:461","取消时间")},onKeyInput:function(e){this[e.target.dataset.key]=e.detail.value},selectProjectWay:function(e){let t=this;if(se.copyObject(t.setGoods),t.projectWay,!t.upDetailBool)return;t.upDetailBool=!1;let l=se.showActionSheetParams({itemList:["去选项目","到店选择"],success:function(e){let a=e.tapIndex+1;if(t.projectWay=a,1==a)t.openProject();else{let e=[],a={id:0,num:1,price:0,title:"暂无项目",project_type:"2430",ser_type:3,ser_sex:0,ser_grade:0,ser_no:"",is_free:0};e.push(a),t.setGoods=e}},fail:function(e){a("log","at pages/addyuyue/addyuyue.vue:518",e.errMsg)}});uni.showActionSheet(l),setTimeout((function(){t.upDetailBool=!0}),1e3)},getDetail(){let e=this;e.getRoomId;se.goPost("dingdan/getdataser",{addyuye:1},(function(t){e.serTypeList=t.serTypeList,e.jobNum=t.staffInfo.staffName,e.job=t.staffInfo.job_num,e.setGoods[0].ser_no=t.staffInfo.job_num}))},openProject:function(){let e=this;se.copyObject(e.setGoods);uni.navigateTo({url:"/pages/roomitem/roomitem?seltype=2430",events:{getGoods:function(t){a("log","at pages/addyuyue/addyuyue.vue:551","/////");let l=[];a("log","at pages/addyuyue/addyuyue.vue:554",t);for(let a in t)if(!(t[a].id<=0))if(0===t[a].ser_type&&(t[a].ser_type=3),2430==t[a].project_type&&(t[a].ser_no=e.job),2430==t[a].project_type&&t[a].num>1){let e=t[a].num;for(let o=0;o<e;o++)t[a].num=1,l.push(se.copyObject(t[a]))}else l.push(t[a]);a("log","at pages/addyuyue/addyuyue.vue:583",l),e.setGoods=l}},success:function(t){let a=e.setGoods,l={};for(let e in a){let t="p_"+a[e].id;l.hasOwnProperty(t)&&(a[e].num=l[t].num+1),l[t]=a[e]}t.eventChannel.emit("postGoods",l)}})},ser_type:function(e,t){let a=this.setGoods;a[t],a[t].ser_type=e},ser_grade:function(e,t){this.setGoods[t].ser_grade=e},ser_sex:function(e,t){this.setGoods[t].ser_sex=e},jobInput:function(e){this.setGoods[e.currentTarget.dataset.index].ser_no=e.detail.value},delGoods:function(e){let t=this.setGoods,a=e.currentTarget.dataset.index;if(t.length<=1)return se.showMsg("最少一个项目"),!1;t.splice(a,1)},openSysTips:function(){let e=this.setGoods,t="";for(let l in e)t+=e[l].ser_no+",";t=t.substring(0,t.lastIndexOf(","));var a=this.sysTipsConfig;a.Bg="",a.Box="",a.iconCss="green",a.iconFont="icon-xuanze",a.title=t+"技师,预约成功",a.tips="",a.bindLeftBtnCss="bg-orange-JB",a.leftBtn="查看预约",a.bindRightBtnCss="bg-red-JB",a.rightBtn="我知道了",this.sysTipsConfig=a},closeSysTips:function(){var e=this.sysTipsConfig;e.Bg="hide",e.Box="hide",this.sysTipsConfig=e},backTop:function(){this.closeSysTips(),uni.navigateBack({delta:1})},jumpYuyue:function(){this.closeSysTips(),uni.navigateBack({delta:1})},ser_jobNum:function(e){var t=this,a={ser_type:t.setGoods[e].ser_type,pid:t.setGoods[e].id};se.goPost("Staffinfo/getJsInfo",a,(function(e,a){t.jsList=e})),t.jsIndex=e,t.openBomBox(3)},radioChangeJs:function(e){var t=this.jsIndex,a=e.detail.value;this.setGoods[t].ser_no=a,this.closeBox()},jobNumInput:function(){var e=this,t=e.jsList,a=e.chaTxt;for(var l in t){-1!=t[l].job_num.indexOf(a)?t[l].is_show=!0:t[l].is_show=!1}e.jsList=t}}},[["render",function(t,a,o,n,i,c){const r=l(e.resolveDynamicComponent("timeSelector"),w),d=l(e.resolveDynamicComponent("ydSystemTips"),s);return e.openBlock(),e.createElementBlock(e.Fragment,null,[e.createElementVNode("view",{class:"content"},[e.createElementVNode("view",{class:"itemList"},[e.createElementVNode("view",{class:"item"},[e.createElementVNode("view",{class:"left"},[e.createElementVNode("i",null,"*"),e.createTextVNode("留牌")]),e.createElementVNode("view",{class:"right"},[e.createElementVNode("radio-group",{onChange:a[0]||(a[0]=(...e)=>c.lpTypeChange&&c.lpTypeChange(...e))},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(i.typeItems,((t,a)=>(e.openBlock(),e.createElementBlock("label",{class:"uni-list-cell uni-list-cell-pd",key:t.value},[e.createElementVNode("radio",{value:t.value,checked:i.lpCurrent==t.value},null,8,["value","checked"]),e.createElementVNode("text",null,e.toDisplayString(t.name),1)])))),128))],32)])]),0==i.lpCurrent?(e.openBlock(),e.createElementBlock("view",{key:0,class:"item"},[e.createElementVNode("view",{class:"left"},[e.createElementVNode("i",null,"*"),e.createTextVNode("开始时间")]),e.createElementVNode("view",{class:"right"},[e.createVNode(r,{showType:"yearToMinute",defaultValue:i.startTime,beginDate:"2022-01-01",endDate:"2025-12-31",onBtnConfirm:c.btnConfirm,onBtnCancel:c.btnCancel},{default:e.withCtx((()=>[e.createElementVNode("text",{class:"select"},[e.createTextVNode(e.toDisplayString(""!=i.startTime?i.startTime:"请选择")+" ",1),e.createElementVNode("i",{class:"iconfont icon-jinrujiantou"})])])),_:1},8,["defaultValue","onBtnConfirm","onBtnCancel"])])])):e.createCommentVNode("",!0),0==i.lpCurrent?(e.openBlock(),e.createElementBlock("view",{key:1,class:"item items"},[e.createElementVNode("view",{class:"left"},[e.createElementVNode("i",null,"*"),e.createTextVNode("留牌时间")]),e.createElementVNode("view",{class:"right",onClick:a[1]||(a[1]=e=>c.openBomBox(1))},[e.createElementVNode("text",{class:"select orange"},[e.createTextVNode(e.toDisplayString(i.lpTimeItem[i.lpTimeIdx]+"分钟")+" ",1),e.createElementVNode("i",{class:"iconfont icon-jinrujiantou"})])])])):e.createCommentVNode("",!0),e.createElementVNode("view",{class:"item"},[e.createElementVNode("view",{class:"left"},"顾客号码"),e.createElementVNode("view",{class:"right"},[e.createElementVNode("input",{class:"inp",value:i.phone,type:"number",maxlength:"11",onInput:a[2]||(a[2]=(...e)=>c.onKeyInput&&c.onKeyInput(...e)),"data-key":"phone",placeholder:"请输入手机号码"},null,40,["value"])])]),e.createElementVNode("view",{class:"item items"},[e.createElementVNode("view",{class:"left"},"备注提示"),e.createElementVNode("view",{class:"right"},[e.createElementVNode("input",{class:"inp",value:i.note,onInput:a[3]||(a[3]=(...e)=>c.onKeyInput&&c.onKeyInput(...e)),"data-key":"note",placeholder:"请输入备注"},null,40,["value"])])]),e.createElementVNode("view",{class:"item"},[e.createElementVNode("view",{class:"left"},"房间"),e.createElementVNode("view",{class:"right",onClick:a[4]||(a[4]=e=>c.openBomBox(2))},[e.createElementVNode("text",{class:"select"},[e.createTextVNode(e.toDisplayString(i.roomName?i.roomName:"请选择")+" ",1),e.createElementVNode("i",{class:"iconfont icon-jinrujiantou"})])])]),e.createElementVNode("view",{class:"item items"},[e.createElementVNode("view",{class:"left"},"项目"),e.createElementVNode("view",{class:"right"},[e.createElementVNode("text",{class:"select",onClick:a[5]||(a[5]=(...e)=>c.selectProjectWay&&c.selectProjectWay(...e))},[e.createTextVNode(e.toDisplayString(i.projectWay>0?1==i.projectWay?"去选项目":"到店再选":"请选择")+" ",1),e.createElementVNode("i",{class:"iconfont icon-jinrujiantou"})])])])]),e.createElementVNode("scroll-view",{"scroll-y":"true",class:"allModelBox orderBox pb70"},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(i.setGoods,((t,l)=>(e.openBlock(),e.createElementBlock("view",null,[2438!=t.project_type?(e.openBlock(),e.createElementBlock("view",{key:0,class:"item"},[e.createElementVNode("view",{class:"title"},[e.createElementVNode("text",null,e.toDisplayString(t.title),1),e.createElementVNode("i",{class:"iconfont icon-shanchuxuanze",onClick:a[6]||(a[6]=(...e)=>c.delGoods&&c.delGoods(...e)),"data-index":l},null,8,["data-index"])]),e.createElementVNode("view",{class:"item-box"},[e.createElementVNode("ul",{class:"work-type"},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(i.serTypeList,(a=>(e.openBlock(),e.createElementBlock("li",{key:a.id,onClick:e=>c.ser_type(a.id,l),class:e.normalizeClass(t.ser_type==a.id?"on":"")},e.toDisplayString(a.name),11,["onClick"])))),128))]),e.createElementVNode("view",{class:"job_num"},[e.createElementVNode("text",{class:"js"},"技师"),e.createElementVNode("input",{class:"job_num-input",type:"number",onInput:a[7]||(a[7]=(...e)=>c.jobInput&&c.jobInput(...e)),"data-index":l,value:t.ser_no,placeholder:"请输入工号",disabled:"disabled"},null,40,["data-index","value"])])])])):e.createCommentVNode("",!0)])))),256))]),e.createElementVNode("view",{class:"footBox IOSBottom"},[e.createElementVNode("view",{class:"item-left"},[e.createElementVNode("view",{class:"num"},e.toDisplayString(i.jobNum),1),e.createElementVNode("view",{class:"txt"},"当前技师人员")]),e.createElementVNode("view",{class:"item-right",onClick:a[8]||(a[8]=(...e)=>c.sureSubmit&&c.sureSubmit(...e))},[e.createElementVNode("text",{class:"btn"},"确定预约")])])]),i.hideBomBox?(e.openBlock(),e.createElementBlock("view",{key:0,class:"openBox"},[e.createElementVNode("view",{class:"bg",onClick:a[9]||(a[9]=(...e)=>c.closeBox&&c.closeBox(...e))}),e.createElementVNode("view",{class:"cenOpen MeunBox"},[e.createElementVNode("view",{class:"title"},[e.createElementVNode("text",{class:"s-top sel_suo"},e.toDisplayString(i.bomBoxTitle),1),e.createElementVNode("i",{onClick:a[10]||(a[10]=(...e)=>c.closeBox&&c.closeBox(...e)),class:"iconfont icon-shanchuxuanze"})]),i.hideTimeBox?(e.openBlock(),e.createElementBlock("view",{key:0,class:"meunList timeBox"},[e.createElementVNode("radio-group",{class:"menuTypeBox minTop",onChange:a[11]||(a[11]=(...e)=>c.radioChangeTime&&c.radioChangeTime(...e))},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(i.lpTimeItem,((t,a)=>(e.openBlock(),e.createElementBlock("label",{key:t},[e.createElementVNode("view",{class:e.normalizeClass(i.lpTimeIdx==a?"li sel_suo":"li")},[e.createElementVNode("radio",{value:a,class:"radioBtn",style:{transform:"scale(0.7)"},color:"#ff8100",checked:i.lpTimeIdx==a},null,8,["value","checked"]),e.createElementVNode("text",null,e.toDisplayString(t)+"分钟",1)],2)])))),128)),0==i.lpTimeItem.length?(e.openBlock(),e.createElementBlock("view",{key:0,class:"noData"},[e.createElementVNode("i",{class:"iconfont icon-kongshuju"}),e.createTextVNode(" 暂无留牌时间 ")])):e.createCommentVNode("",!0)],32)])):e.createCommentVNode("",!0),i.hideRoomBox?(e.openBlock(),e.createElementBlock("view",{key:1,class:"meunList roomBox"},[e.createElementVNode("view",{class:"searchBox"},[e.createElementVNode("input",{class:"queryTxt",onInput:a[12]||(a[12]=(...e)=>c.onKeyInput&&c.onKeyInput(...e)),value:i.chaTxt,"data-key":"chaTxt",placeholder:"请输入房间号"},null,40,["value"]),i.chaTxt.length>0?(e.openBlock(),e.createElementBlock("i",{key:0,class:"iconfont icon-shanchuxuanze clearSearch",onClick:a[13]||(a[13]=e=>c.clearSearch(2))})):e.createCommentVNode("",!0),e.createElementVNode("view",{class:"queryBtn",onClick:a[14]||(a[14]=e=>c.searchData(2))},"查询")]),e.createElementVNode("radio-group",{class:"menuTypeBox",onChange:a[15]||(a[15]=(...e)=>c.radioChangeRoom&&c.radioChangeRoom(...e))},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(i.roomItem,((t,a)=>(e.openBlock(),e.createElementBlock("label",{key:t.id},[e.createElementVNode("view",{class:e.normalizeClass(i.room==t.id?"li sel_suo":"li")},[e.createElementVNode("radio",{value:t.id,class:"radioBtn",style:{transform:"scale(0.7)"},color:"#ff8100",checked:i.room==t.id},null,8,["value","checked"]),e.createElementVNode("text",null,e.toDisplayString(t.title),1)],2)])))),128)),0==i.roomItem.length?(e.openBlock(),e.createElementBlock("view",{key:0,class:"noData"},[e.createElementVNode("i",{class:"iconfont icon-kongshuju"}),e.createTextVNode(" 暂无房间 ")])):e.createCommentVNode("",!0)],32)])):e.createCommentVNode("",!0),i.hidejsBox?(e.openBlock(),e.createElementBlock("view",{key:2,class:"meunList jsBox"},[e.createElementVNode("view",{class:"searchBox"},[e.createElementVNode("input",{class:"queryTxt",onInput:a[16]||(a[16]=(...e)=>c.onKeyInput&&c.onKeyInput(...e)),value:i.chaTxt,"data-key":"chaTxt",placeholder:"请输入工号"},null,40,["value"]),i.chaTxt.length>0?(e.openBlock(),e.createElementBlock("i",{key:0,class:"iconfont icon-shanchuxuanze clearSearch",onClick:a[17]||(a[17]=e=>c.clearSearch(1))})):e.createCommentVNode("",!0),e.createElementVNode("view",{class:"queryBtn",onClick:a[18]||(a[18]=e=>c.searchData(1))},"查询")]),e.createElementVNode("radio-group",{class:"menuTypeBox",onChange:a[19]||(a[19]=(...e)=>c.radioChangeJs&&c.radioChangeJs(...e))},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(i.jsList,((t,a)=>(e.openBlock(),e.createElementBlock("label",{key:t.id},[e.createElementVNode("view",{class:e.normalizeClass(t.is_show?"li":"li hide")},[e.createElementVNode("radio",{value:t.job_num,class:"radioBtn",style:{transform:"scale(0.7)"},color:"#ff8100"},null,8,["value"]),e.createElementVNode("text",null,e.toDisplayString(t.job_num)+"("+e.toDisplayString(t.work_status)+")",1)],2)])))),128)),0==i.jsList.length?(e.openBlock(),e.createElementBlock("view",{key:0,class:"noData"},[e.createElementVNode("i",{class:"iconfont icon-kongshuju"}),e.createTextVNode(" 暂无技师 ")])):e.createCommentVNode("",!0)],32)])):e.createCommentVNode("",!0)])])):e.createCommentVNode("",!0),e.createVNode(d,{config:i.sysTipsConfig,onBtnSure:c.backTop,onBtnClose:c.jumpYuyue,onBtnBgClose:c.closeSysTips},null,8,["config","onBtnSure","onBtnClose","onBtnBgClose"])],64)}]]);var ce;const re=n({data:()=>({os:"",page:1,lists:[],seleList:[],topTime:[],weekTime:[],getBool:!0,showAddStaff:!1,statusBarHeight:0,isBlackBg:!1,showTypeList:!1,seach:"",setStatus:"all",setJob:"all",setSource:"all",setTopTime:0,setWeekTime:"",showTermKey:"",newSet:"",hideOptBox:!1,yanList:[],minute:0,mainId:"",mainType:"",yid:"",hidCancelBox:!1,cancelList:[],cancelId:[],sysTipsConfig:{}}),onLoad(){ce=getApp(),this.os=ce.globalData.os,this.statusBarHeight=ce.globalData.statusBarHeight,this.sysTipsConfig=ce.getInitSysTipsConfig()},onShow(){let e=this;e.seach="",e.setStatus="all",e.setJob="all",e.setSource="all",e.setTopTime=0,e.setWeekTime="",this.getData(!0)},mounted(){window.addEventListener("scroll",this.handleScroll,!0)},methods:{handleScroll(e){var t=e.target.scrollTop,a=e.target.scrollHeight;if(t+e.target.clientHeight+300>=a){this.$data.getBool&&this.getData(!1)}},goOpen:function(e,t){t=t||0,uni.navigateTo({url:"/pages/roomopen/roomopen?id="+t+"&yyid="+e})},cliSeaBtn:function(){this.getData(!0)},seachData:function(e){var t=e.currentTarget.dataset.key,a=e.detail.value;this[t]=a,""===a&&this.getData(!0)},clearSeach:function(){let e=this.seach;this.seach="",e&&this.getData(!0)},chaTopTime:function(e){this.setTopTime=e,this.setWeekTime="",this.showTypeList=!1,this.getData(!0),this.clickBG(),this.closeBox()},chaWeekTime:function(e){this.setTopTime="",this.setWeekTime=e,this.getData(!0),this.clickBG()},chaTerm:function(e){let t=this,a=t.$data.seleList,l=t.$data.showTermKey,o=a[l].list[e];switch(l){case 0:t.$data.setStatus=o.id;break;case 1:t.$data.setJob=o.id;break;case 2:t.$data.setSource=o.id}0==l?a[0].name=0==e?a[0].oname:o.name:"all"==o.id?a[l].name=a[l].oname:a[l].name=o.name,t.seleList=a,t.clickBG(),t.getData(!0)},showTerm:function(e){let t=this;if(t.$data.showTermKey===e)return void t.clickBG();let a="";switch(e){case 0:a=t.$data.setStatus;break;case 1:a=t.$data.setJob;break;case 2:a=t.$data.setSource}t.showTermKey=e,t.newSet=a,t.isBlackBg=!0,t.closeBox()},shaixuan:function(e,t){let a=this.$data.showTypeList;this.showTypeList=!a,this.closeBox()},clickBG:function(e){this.showTermKey="",this.showTypeList=!1,this.isBlackBg=!1,this.hideOptBox=!1,this.hidCancelBox=!1},getData(e){let t=this,a=t.$data.page;if(t.$data.getBool,!t.$data.getBool)return!1;if(e)a=1;else if(0==a)return!1;t.clickBG(),t.getBool=!1;let l={page:a,seach:t.$data.seach,setStatus:t.$data.setStatus,setJob:t.$data.setJob,setSource:t.$data.setSource,setTopTime:t.$data.setTopTime,setWeekTime:t.$data.setWeekTime};ce.goPost("yuyue/getData",l,(function(a){if(e){t.lists=a.lists;let e=t.$data.setStatus,l=t.$data.setJob,o=t.$data.setSource;t.showAddStaff=a.showAddStaff,"all"==e&&"all"==l&&"all"==o&&(t.seleList=a.seleList)}else t.lists=t.$data.lists.concat(a.lists);t.getBool=!0,t.topTime=a.topTime,t.weekTime=a.weekTime,t.page=a.page}))},closeBox:function(){this.hideOptBox=!1,this.hidCancelBox=!1},showBox(e,t){this.mainId=e,this.hideOptBox=!0,this.getYanShiOrder()},cancelBox(e){this.mainId=e,this.hidCancelBox=!0,this.getCancelOrder()},openSysTips:function(e,t){let a=this.sysTipsConfig,l="";if(this.mainId=e,this.mainType=t,1===t)l="是否确定删除吗？";a.Bg="",a.Box="",a.iconCss="orange",a.iconFont="icon-gantanhao",a.title="温馨提示",a.tips=l,a.bindLeftBtnCss="bg-orange-JB",a.bindRightBtnCss="bg-red-JB",a.rightBtn="确认",this.sysTipsConfig=a},sucBack:function(){if(1===this.mainType)this.del()},closeSysTips:function(){var e=this.sysTipsConfig;e.Bg="hide",e.Box="hide",this.sysTipsConfig=e},del:function(){let e=this,t={id:e.mainId};ce.goPost("yuyue/del",t,(function(t){e.closeSysTips(),setTimeout((function(){e.getData(!0)}),1e3)}))},optInput:function(e){let t=e.detail.value;this.minute=t},chaYsId:function(e){this.yid=e},getYanShiOrder:function(){let e=this,t={id:e.$data.mainId};ce.goPost("yuyue/update",t,(function(t){e.yanList=t.data,e.yid=t.setId}))},update:function(){let e=this,t={id:e.$data.mainId,yid:e.$data.yid,time:e.$data.minute,type:"update"};ce.goPost("yuyue/update",t,(function(t){e.yid="",e.closeBox(),setTimeout((function(){e.getData(!0)}),1e3)}))},checkboxChange:function(e){var t=e.detail.value;this.cancelId=t},getCancelOrder:function(){let e=this,t={id:e.$data.mainId};ce.goPost("yuyue/cancel",t,(function(t){e.cancelList=t.data,e.cancelId=t.setId}))},cancel:function(){let e=this,t=e.$data.cancelId,a={id:e.$data.mainId,yid:t.length>0?t.join(","):"",type:"update"};ce.goPost("yuyue/cancel",a,(function(t){e.cancelId=[],e.closeBox(),setTimeout((function(){e.getData(!0)}),1e3)}))},qidai:function(e){ce.showMsg("敬请期待")}}},[["render",function(t,a,o,n,i,c){const r=l(e.resolveDynamicComponent("ydSystemTips"),s);return e.openBlock(),e.createElementBlock(e.Fragment,null,[e.createElementVNode("view",{class:"totalTop"},[e.createElementVNode("view",{class:"topBox"},[e.createElementVNode("ul",{class:"topTab"},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(i.topTime,((t,a)=>(e.openBlock(),e.createElementBlock("li",{class:e.normalizeClass(i.setTopTime===a?"onset":""),onClick:e=>c.chaTopTime(a)},[e.createElementVNode("text",null,e.toDisplayString(t),1)],10,["onClick"])))),256))]),e.createElementVNode("view",{class:e.normalizeClass(["topRBtn",""!==i.setWeekTime?"orange":""]),onClick:a[0]||(a[0]=(...e)=>c.shaixuan&&c.shaixuan(...e))},[e.createElementVNode("i",{class:"iconfont icon-shaixuan"}),e.createTextVNode(" 筛选 ")],2)]),e.createElementVNode("view",{class:"topSeachBox"},[e.createElementVNode("view",{class:"searchBox"},[e.createElementVNode("i",{class:"iconfont icon-sousuo search"}),e.createElementVNode("input",{class:"seaCon",onInput:a[1]||(a[1]=(...e)=>c.seachData&&c.seachData(...e)),type:"text",placeholder:"请输入房间号","data-key":"seach",value:i.seach},null,40,["value"]),""!=i.seach?(e.openBlock(),e.createElementBlock("i",{key:0,class:"iconfont icon-shibai1 close",onClick:a[2]||(a[2]=(...e)=>c.clearSeach&&c.clearSeach(...e))})):e.createCommentVNode("",!0),e.createElementVNode("view",{class:"seaBtn",onClick:a[3]||(a[3]=(...e)=>c.cliSeaBtn&&c.cliSeaBtn(...e))},"搜索")])]),e.createElementVNode("ul",{class:"termBox"},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(i.seleList,((t,a)=>(e.openBlock(),e.createElementBlock("li",null,[e.createElementVNode("view",{onClick:e=>c.showTerm(a),class:e.normalizeClass(t.name!=t.oname?"orange":"")},[e.createElementVNode("text",null,e.toDisplayString(t.name),1),i.showTermKey!==a?(e.openBlock(),e.createElementBlock("i",{key:0,class:e.normalizeClass(["iconfont icon-tubiaozhizuo-1",t.name!=t.oname?"orange":""])},null,2)):i.showTermKey===a?(e.openBlock(),e.createElementBlock("i",{key:1,class:e.normalizeClass(["iconfont icon-tubiaozhizuo-",t.name!=t.oname?"orange":""])},null,2)):e.createCommentVNode("",!0)],10,["onClick"]),i.showTermKey===a?(e.openBlock(),e.createElementBlock("ul",{key:0,class:"nextBox",style:{top:"145px"}},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(t.list,((t,a)=>(e.openBlock(),e.createElementBlock("li",{onClick:e=>c.chaTerm(a)},[e.createTextVNode(e.toDisplayString(t.name)+" ",1),i.newSet==t.id?(e.openBlock(),e.createElementBlock("i",{key:0,class:"iconfont icon-xuanzhong"})):e.createCommentVNode("",!0)],8,["onClick"])))),256))])):e.createCommentVNode("",!0)])))),256))])]),e.createElementVNode("view",{class:"infoListBox",id:"infoListBox",style:{top:"146px"}},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(i.lists,((a,l)=>(e.openBlock(),e.createElementBlock("view",{class:"infoLists"},[e.createElementVNode("view",{class:"listsTop"},[e.createElementVNode("view",{class:"listsTopTitle"},e.toDisplayString(a.l_times),1),e.createElementVNode("view",{class:e.normalizeClass(["listsTopMoney",a.color])},e.toDisplayString(a.statusTxt),3)]),""!=a.name?(e.openBlock(),e.createElementBlock("view",{key:0,class:"listsContent"},[e.createElementVNode("view",{class:"listsConName"},[e.createElementVNode("i",{class:"iconfont icon-wode"}),e.createTextVNode(" 客户")]),e.createElementVNode("view",{class:"listsConInfo"},[e.createTextVNode(e.toDisplayString(a.name)+" ",1),a.vip?(e.openBlock(),e.createElementBlock("text",{key:0},"VIP")):e.createCommentVNode("",!0)])])):e.createCommentVNode("",!0),""!=a.js?(e.openBlock(),e.createElementBlock("view",{key:1,class:"listsContent"},[e.createElementVNode("view",{class:"listsConName"},[e.createElementVNode("i",{class:"iconfont icon-anmo"}),e.createTextVNode(" 技师")]),e.createElementVNode("view",{class:"listsConInfo"},e.toDisplayString(a.js),1)])):e.createCommentVNode("",!0),""!=a.room_name?(e.openBlock(),e.createElementBlock("view",{key:2,class:"listsContent"},[e.createElementVNode("view",{class:"listsConName"},[e.createElementVNode("i",{class:"iconfont icon-cangfang"}),e.createTextVNode(" 房间")]),e.createElementVNode("view",{class:"listsConInfo"},e.toDisplayString(a.room_name),1)])):e.createCommentVNode("",!0),""!=a.pro?(e.openBlock(),e.createElementBlock("view",{key:3,class:"listsContent"},[e.createElementVNode("view",{class:"listsConName"},[e.createElementVNode("i",{class:"iconfont icon-liebiao"}),e.createTextVNode(" 项目")]),e.createElementVNode("view",{class:"listsConInfo"},e.toDisplayString(a.pro),1)])):e.createCommentVNode("",!0),""!=a.remark?(e.openBlock(),e.createElementBlock("view",{key:4,class:"listsContent"},[e.createElementVNode("view",{class:"listsConName"},[e.createElementVNode("i",{class:"iconfont icon-beizhu"}),e.createTextVNode(" 备注")]),e.createElementVNode("view",{class:"listsConInfo"},e.toDisplayString(a.remark),1)])):e.createCommentVNode("",!0),t.menuPerm(468)?(e.openBlock(),e.createElementBlock("view",{key:5,class:"listsContent"},[e.createElementVNode("view",{class:"listsConName"},[e.createElementVNode("i",{class:"iconfont icon-my s17"}),e.createTextVNode(" 添加人")]),e.createElementVNode("view",{class:"listsConInfo"},e.toDisplayString(a.addStaff),1)])):e.createCommentVNode("",!0),e.createElementVNode("view",{class:"listsContent"},[e.createElementVNode("view",{class:"listsConName"},[e.createElementVNode("i",{class:"iconfont icon-biaoqian4"}),e.createTextVNode(" 来源")]),e.createElementVNode("view",{class:"listsConInfo"},[e.createElementVNode("span",null,e.toDisplayString(a.sourceTxt),1)]),e.createElementVNode("view",{class:"listsConInfo"},[e.createElementVNode("span",null,e.toDisplayString(a.sourceTxt),1)]),e.createElementVNode("view",{class:"listsConInfo"},[e.createElementVNode("span",null,e.toDisplayString(a.sourceTxt),1)])])])))),256)),0==i.lists.length?(e.openBlock(),e.createElementBlock("view",{key:0,class:"noData"},[e.createElementVNode("i",{class:"iconfont icon-kongshuju"}),e.createTextVNode(" 暂无数据 ")])):e.createCommentVNode("",!0)]),e.createElementVNode("view",{class:e.normalizeClass(i.isBlackBg?"blackBg":"blackBg hide"),onClick:a[4]||(a[4]=(...e)=>c.clickBG&&c.clickBG(...e))},null,2),i.showTypeList?(e.openBlock(),e.createElementBlock("view",{key:0,class:"fixBox",style:{top:"0px"}},[e.createElementVNode("view",{class:"fixBg",onClick:a[5]||(a[5]=(...e)=>c.shaixuan&&c.shaixuan(...e))}),e.createElementVNode("view",{class:"typeList"},[e.createElementVNode("i",{class:"iconfont icon-tubiaozhizuo- jiantou"}),e.createElementVNode("ul",null,[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(i.weekTime,((t,a)=>(e.openBlock(),e.createElementBlock("li",{onClick:e=>c.chaWeekTime(a)},e.toDisplayString(t),9,["onClick"])))),256))])])])):e.createCommentVNode("",!0),t.menuPerm(4846)?(e.openBlock(),e.createElementBlock("view",{key:1,class:"addBtn"},[e.createElementVNode("navigator",{url:"/pages/addyuyue/addyuyue","hover-class":"none"},[e.createElementVNode("i",{class:"iconfont icon-shangchuantupian"}),e.createElementVNode("i",{class:"t"},"新增")])])):e.createCommentVNode("",!0),i.hideOptBox?(e.openBlock(),e.createElementBlock("view",{key:2,class:"openBox"},[e.createElementVNode("view",{class:"bg",onClick:a[6]||(a[6]=e=>c.closeBox())}),e.createElementVNode("view",{class:"cenOpen optBox"},[e.createElementVNode("view",{class:"content"},[e.createElementVNode("view",{class:"title"},[e.createTextVNode("预约延迟"),e.createElementVNode("text",{onClick:a[7]||(a[7]=e=>c.closeBox()),class:"iconfont icon-shanchuxuanze"})]),e.createElementVNode("view",{class:"ysList"},[e.createElementVNode("radio-group",{class:"radioGroup"},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(i.yanList,((t,a)=>(e.openBlock(),e.createElementBlock("label",{class:"radioLabel",onClick:e=>c.chaYsId(t.id)},[e.createElementVNode("radio",{value:t.id,color:"darkorange",disabled:0!=t.status,checked:i.yid==t.id&&0==t.status},null,8,["value","disabled","checked"]),e.createTextVNode(" "+e.toDisplayString(t.detailed.ser_job)+" / "+e.toDisplayString(t.detailed.ser_type)+" / "+e.toDisplayString(t.detailed.p_name)+" / ",1),e.createElementVNode("text",{class:e.normalizeClass(t.status_color)},e.toDisplayString(t.status_text),3)],8,["onClick"])))),256))])]),e.createElementVNode("view",{class:"openList"},[e.createElementVNode("view",{class:"show-box"},[e.createElementVNode("view",{class:"labelInputRow"},[e.createElementVNode("text",{class:"label"},"延迟"),e.createElementVNode("input",{class:"seaCon5",onInput:a[8]||(a[8]=(...e)=>c.optInput&&c.optInput(...e)),type:"number",placeholder:"请输入分钟","cursor-spacing":"150"},null,32),e.createTextVNode(" 分钟 ")])])]),e.createElementVNode("view",{class:"btn",onClick:a[9]||(a[9]=e=>c.update())}," 确定 ")])])])):e.createCommentVNode("",!0),i.hidCancelBox?(e.openBlock(),e.createElementBlock("view",{key:3,class:"openBox"},[e.createElementVNode("view",{class:"bg",onClick:a[10]||(a[10]=e=>c.closeBox())}),e.createElementVNode("view",{class:"cenOpen optBox"},[e.createElementVNode("view",{class:"content"},[e.createElementVNode("view",{class:"title"},[e.createTextVNode("取消预约"),e.createElementVNode("text",{onClick:a[11]||(a[11]=e=>c.closeBox()),class:"iconfont icon-shanchuxuanze"})]),e.createElementVNode("view",{class:"cancelList"},[e.createElementVNode("checkbox-group",{onChange:a[12]||(a[12]=(...e)=>c.checkboxChange&&c.checkboxChange(...e))},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(i.cancelList,((t,a)=>(e.openBlock(),e.createElementBlock("label",{class:"checkboxLabel"},[e.createElementVNode("checkbox",{value:t.id,style:{transform:"scale(0.7)"},disabled:0!=t.status,checked:-1!==i.cancelId.indexOf(t.id)&&0==t.status},null,8,["value","disabled","checked"]),e.createTextVNode(" "+e.toDisplayString(t.detailed.ser_job)+" / "+e.toDisplayString(t.detailed.ser_type)+" / "+e.toDisplayString(t.detailed.p_name)+" / ",1),e.createElementVNode("text",{class:e.normalizeClass(t.status_color)},e.toDisplayString(t.status_text),3)])))),256))],32)]),e.createElementVNode("view",{class:"btn",onClick:a[13]||(a[13]=e=>c.cancel())}," 确定 ")])])])):e.createCommentVNode("",!0),e.createVNode(r,{config:i.sysTipsConfig,onBtnSure:c.sucBack,onBtnClose:c.closeSysTips,onBtnBgClose:c.closeSysTips},null,8,["config","onBtnSure","onBtnClose","onBtnBgClose"])],64)}]]);var de;const me=n({data:()=>({id:"",page:1,lists:[],mergeNav:[],setRoomIds:[],hideOptBox:!1,statusBarHeight:0,setTopKey:0,openBox:{title:"",tips:"",type:"",id:""}}),onLoad(e){de=getApp(),this.statusBarHeight=de.globalData.statusBarHeight,this.id=e.id},onShow(){this.getData()},methods:{goBack:function(){uni.navigateBack({delta:1})},chaTop:function(e){this.setTopKey=e,this.getData()},addMerge:function(e){let t=this.$data.setRoomIds.indexOf(e);t>-1?this.setRoomIds.splice(t,1):this.setRoomIds.push(e)},delMerge:function(e){let t=this.$data.setRoomIds;this.setRoomIds.splice(t.indexOf(e),1)},showOpenBox:function(e,t){let a="",l="",o="",n=this.$data.lists,s=this.$data.setRoomIds;switch(e){case 0:if(0==s.length)return void de.showMsg("请选择2个以上房间后再操作合并");n.forEach((function(e,t){s.indexOf(e.id)>-1&&(o+=o?"、"+e.name:e.name)})),a="是否要将"+o+"组合?";break;case 1:o=n[t].room.join("、"),a="是否要将"+o+"拆分?",l=n[t].token}this.hideOptBox=!0,this.openBox={title:"",tips:a,type:e,id:l}},optSure:function(){switch(this.$data.openBox.type){case 0:this.postMerge();break;case 1:this.splitMerge()}},postMerge:function(){let e=this,t=e.$data.setRoomIds;if(0==t.length)return void de.showMsg("请选择2个以上房间后再操作合并");let a={ids:t.join(",")};de.goPost("pay/merge",a,(function(t){e.closeBox(),setTimeout((function(){e.setRoomIds=[],e.getData()}),1500)}),(function(t){e.closeBox()}))},splitMerge:function(){let e=this,t={token:e.$data.openBox.id};de.goPost("pay/splitRoom",t,(function(t){e.closeBox(),setTimeout((function(){e.setRoomIds=[],e.getData()}),1500)}),(function(t){e.closeBox()}))},getData(){let e=this,t=e.$data.setTopKey,a=this.$data.mergeNav;e.lists=[];let l="pay/getRoomList";Object.keys(a).length>0&&(l=a[t].url),de.goPost(l,{},(function(t){e.mergeNav=t.mergeNav,e.lists=t.lists}))},closeBox:function(){this.hideOptBox=!1}}},[["render",function(t,a,l,o,n,s){return e.openBlock(),e.createElementBlock(e.Fragment,null,[e.createElementVNode("view",{class:"topBox",style:e.normalizeStyle({paddingTop:n.statusBarHeight+"px"})},[e.createElementVNode("view",{class:"backBtn",onClick:a[0]||(a[0]=(...e)=>s.goBack&&s.goBack(...e))},[e.createElementVNode("i",{class:"iconfont icon-fanhui"}),e.createElementVNode("text",null,"返回")]),e.createElementVNode("ul",{class:"topTab"},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(n.mergeNav,((t,a)=>(e.openBlock(),e.createElementBlock("li",{class:e.normalizeClass(n.setTopKey===a?"onset":""),onClick:e=>s.chaTop(a)},[e.createElementVNode("text",null,e.toDisplayString(t.name),1)],10,["onClick"])))),256))])],4),e.createElementVNode("view",{class:"conBox",style:e.normalizeStyle({top:n.statusBarHeight+59+"px"})},[e.createElementVNode("view",{class:"explain"},"组合之后，任何一个锁牌都可以买单！"),0==n.setTopKey&&n.lists.length>0?(e.openBlock(),e.createElementBlock("view",{key:0},[e.createElementVNode("ul",{class:"roomCon"},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(n.lists,((t,a)=>(e.openBlock(),e.createElementBlock("li",{class:e.normalizeClass(["roomBox",n.setRoomIds.indexOf(t.id)>-1?"onset":""]),onClick:e=>s.addMerge(t.id)},[e.createElementVNode("view",{class:"roomName"},e.toDisplayString(t.name),1),e.createElementVNode("view",{class:"roomType"},e.toDisplayString(t.type),1),e.createElementVNode("view",{class:"rommBom"},[e.createElementVNode("text",{class:"seat"},e.toDisplayString(t.num)+"/"+e.toDisplayString(t.remain),1),e.createElementVNode("text",{class:"status"},e.toDisplayString(t.status),1)])],10,["onClick"])))),256))]),e.createElementVNode("view",{class:"fixBom IOSBottom"},[e.createElementVNode("ul",{class:"lbox"},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(n.lists,((t,a)=>(e.openBlock(),e.createElementBlock(e.Fragment,null,[n.setRoomIds.indexOf(t.id)>-1?(e.openBlock(),e.createElementBlock("li",{key:0,onClick:e=>s.delMerge(t.id)},[e.createTextVNode(e.toDisplayString(t.name)+" ",1),e.createElementVNode("i",{class:"iconfont icon-guanbi"})],8,["onClick"])):e.createCommentVNode("",!0)],64)))),256))]),e.createElementVNode("view",{class:"merBtn",onClick:a[1]||(a[1]=e=>s.showOpenBox(0))},"组合")])])):e.createCommentVNode("",!0),1==n.setTopKey&&n.lists.length>0?(e.openBlock(),e.createElementBlock("view",{key:1},[e.createElementVNode("view",{class:"splitBox"},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(n.lists,((t,a)=>(e.openBlock(),e.createElementBlock("view",{class:"line"},[e.createElementVNode("view",{class:"time"},[e.createTextVNode(e.toDisplayString(t.addtime)+" ",1),e.createElementVNode("view",{class:"disBtn",onClick:e=>s.showOpenBox(1,a)},"拆分",8,["onClick"])]),e.createElementVNode("ul",{class:"roomList"},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(t.room,((t,a)=>(e.openBlock(),e.createElementBlock("li",null,e.toDisplayString(t),1)))),256))])])))),256))])])):e.createCommentVNode("",!0),0==n.lists.length?(e.openBlock(),e.createElementBlock("view",{key:2,class:"noData"},[e.createElementVNode("i",{class:"iconfont icon-kongshuju"}),e.createTextVNode(" 暂无数据 ")])):e.createCommentVNode("",!0)],4),n.hideOptBox?(e.openBlock(),e.createElementBlock("view",{key:0,class:"openBox"},[e.createElementVNode("view",{class:"bg",onClick:a[2]||(a[2]=(...e)=>s.closeBox&&s.closeBox(...e))}),e.createElementVNode("view",{class:"cenOpen alertBox"},[e.createElementVNode("view",{class:"content"},[e.createElementVNode("view",{class:"title"},e.toDisplayString(n.openBox.title),1),e.createElementVNode("view",{class:"openList"},[e.createElementVNode("view",{class:"show-tips"},e.toDisplayString(n.openBox.tips),1)]),e.createElementVNode("view",{class:"orderFoot"},[e.createElementVNode("text",{class:"btn fl",onClick:a[3]||(a[3]=(...e)=>s.closeBox&&s.closeBox(...e))},"取消"),e.createElementVNode("text",{class:"btn fr",onClick:a[4]||(a[4]=(...e)=>s.optSure&&s.optSure(...e))},"确定")])])])])):e.createCommentVNode("",!0)],64)}]]);var ue;const pe=n({data:()=>({totalList:[],lists:[],typeList:[],type:0,seltype:"",orderid:"",setGoods:{},totalMoney:0,orderProject:{}}),onLoad(e){ue=getApp(),this.seltype=e.seltype,this.orderid=e.orderid,this.getProTypeList()},methods:{getProTypeList(){let e=this,t=e.seltype,a={orderid:e.orderid};""!=t&&(a.type=t),ue.goPost("dingdan/getprotypelist",a,(function(t){e.typeList=t.list,e.orderProject=t.orderProject,e.typeList.length>0&&(e.type=e.typeList[0].id,e.getProjectList())}))},getProjectList(){let e=this,t=e.type,a="type_"+t;if(e.totalList.hasOwnProperty(a)&&e.totalList[a].length>0)return e.lists=e.totalList[a],!1;let l={type:t,setGoods:JSON.stringify(e.setGoods),queryType:1};ue.goPost("dingdan/getprojectlist",l,(function(t){e.lists=t.list,e.totalList[a]=t.list}))},upType:function(e){let t=e.currentTarget.dataset.id;this.type=t,this.getProjectList()},getGoodsKey:e=>"p_"+e,addGoods:function(e){let t=this,a=ue.copyObject(t.setGoods),l=e.currentTarget.dataset.index,o=t.lists[l],n=o.id,s=t.getGoodsKey(n);o.num++,a.hasOwnProperty(s)?a[s].num+=1:a[s]={id:n,num:1,price:ue.round(o.price,2),title:o.title,project_type:o.project_type,ser_type:0,ser_sex:0,ser_grade:0,ser_no:"",is_free:0},this.setGoods=a,this.totalMoneyFun()},cutGoods:function(e){let t=this,a=t.setGoods,l=e.currentTarget.dataset.index,o=t.lists[l],n=o.id,s=t.getGoodsKey(n);a.hasOwnProperty(s)&&(a[s].num>0?(a[s].num-=1,o.num--):delete a[s]),this.setGoods=a,this.totalMoneyFun()},totalMoneyFun:function(){let e=this.setGoods,t=0;for(let a in e)t+=parseFloat(e[a].num*e[a].price);this.totalMoney=ue.round(t,2)},checkBeforeSubmit(){let e=this,t=e.setGoods,a=e.orderProject,l=[],o=0;if(a.addOrderLimit>0)for(let n in t){l.push(t[n].title);let e=t[n].id;(1==a.addOrderLimit&&e!=a.id||2==a.addOrderLimit&&a.addOrderLimitProject.indexOf(e)<0)&&(o=1)}o?uni.showModal({title:"温馨提示",content:"当前技师服务项目为"+a.name+"，是否确定加钟 "+l.join("，")+" ?",success(t){t.confirm&&e.goOrder()}}):e.goOrder()},goOrder:function(){var e=this.setGoods,t=this.orderid,a={setGoods:JSON.stringify(e),orderid:t,duoNum:1};ue.goPost("Order/addProject",a,(function(e){setTimeout((function(){uni.navigateBack()}),2e3)}))}}},[["render",function(t,a,l,o,n,s){return e.openBlock(),e.createElementBlock(e.Fragment,null,[e.createElementVNode("view",{class:"contentBox"},[e.createElementVNode("view",{class:"levelList"},[e.createElementVNode("ul",null,[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(n.typeList,((t,l)=>(e.openBlock(),e.createElementBlock("li",{key:t.id,class:e.normalizeClass(["hideTxt",n.type==t.id?"onset":""]),"data-id":t.id,onClick:a[0]||(a[0]=(...e)=>s.upType&&s.upType(...e))},e.toDisplayString(t.title),11,["data-id"])))),128))]),e.createElementVNode("view",{class:"IOSBottom"})]),e.createElementVNode("scroll-view",{"scroll-y":"true",class:"goodList"},[e.createElementVNode("ul",{class:"goodsUl"},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(n.lists,((t,l)=>(e.openBlock(),e.createElementBlock("li",{class:"goodbox",key:t.id},[e.createElementVNode("view",{class:"goodImg"},[e.createElementVNode("image",{class:"filled-image",src:t.img,mode:"aspectFill"},null,8,["src"])]),e.createElementVNode("view",{class:"goodInfo"},[e.createElementVNode("view",{class:"title"},e.toDisplayString(t.title),1),e.createElementVNode("view",{class:"price"},[e.createTextVNode("￥"),e.createElementVNode("text",{class:"priceNum"},e.toDisplayString(t.price),1)]),e.createElementVNode("view",{class:"opBox"},[t.num>0?(e.openBlock(),e.createElementBlock("icon",{key:0,class:"iconfont icon-jian cutBtn",onClick:a[1]||(a[1]=(...e)=>s.cutGoods&&s.cutGoods(...e)),"data-index":l},null,8,["data-index"])):e.createCommentVNode("",!0),t.num>0?(e.openBlock(),e.createElementBlock("text",{key:1,class:"setNum"},e.toDisplayString(t.num),1)):e.createCommentVNode("",!0),e.createElementVNode("icon",{class:"iconfont icon-jia addBtn",onClick:a[2]||(a[2]=(...e)=>s.addGoods&&s.addGoods(...e)),"data-index":l},null,8,["data-index"])])])])))),128))]),n.lists.length<1?(e.openBlock(),e.createElementBlock("view",{key:0,class:"emptyData"},[e.createElementVNode("view",{class:"icon"},[e.createElementVNode("text",{class:"iconfont icon-kongshuju"})]),e.createElementVNode("view",{class:"txt"},"暂无数据")])):e.createCommentVNode("",!0),e.createElementVNode("view",{class:"IOSBottom"})])]),e.createElementVNode("view",{class:"fixBomBox IOSBottom"},[e.createElementVNode("view",{class:"totalBox"},[e.createElementVNode("image",{class:"img",src:"/static/images/goodsPrice.png",mode:"aspectFill"}),e.createElementVNode("view",{class:"money"},[e.createElementVNode("text",{class:"unti"},"￥"),e.createTextVNode(" "+e.toDisplayString(n.totalMoney),1)])]),e.createElementVNode("view",{class:"addOrder",onClick:a[3]||(a[3]=(...e)=>s.checkBeforeSubmit&&s.checkBeforeSubmit(...e))},"确定")])],64)}]]);var he;const ge={data:()=>({jsId:"",totalList:[],lists:[],typeList:[],type:0,setGoods:{},hideOptBox2:!1,gradeList:[],serTypeList:[]}),onLoad(){he=getApp()},methods:{getProTypeList(e=2430){let t=this,a={type:e};he.goPost("dingdan/getprotypelist",a,(function(e){t.typeList=e.list,t.typeList.length>0&&(t.type=t.typeList[0].id,t.getProjectList())}))},getProjectList(){let e=this,t=e.type,l=e.setGoods,o="type_"+t;if(e.totalList.hasOwnProperty(o)&&e.totalList[o].length>0)return e.lists=e.totalList[o],!1;let n={type:t,jsId:e.jsId,orderid:l.orderid,setGoods:{},queryType:2};a("log","at pages/roomitemsel/roomitemsel.vue:161",n),he.goPost("dingdan/getprojectlist",n,(function(t){e.lists=t.list,e.totalList[o]=t.list}))},upType:function(e){let t=e.currentTarget.dataset.id;this.type=t,this.getProjectList()},selGoods:function(e){let t=e.currentTarget.dataset.index,l=this.lists[t],o=l.id,n=this.$data.setGoods;n.id=o,n.new_name=l.title,a("log","at pages/roomitemsel/roomitemsel.vue:190",n),this.setGoods=n},goOrder:function(){this.hideOptBox2=!0},closeBox:function(){this.hideOptBox2=!1},optSure:function(e){let t=this,l=this.$data.setGoods,o={orderid:l.orderid,pid:l.id};a("log","at pages/roomitemsel/roomitemsel.vue:223",o),he.goPost("order/changeproject",o,(function(e){a("log","at pages/roomitemsel/roomitemsel.vue:225",e),he.showMsg("更换项目成功"),t.closeBox(),uni.navigateBack()}))}}},ve=Object.assign(ge,{__name:"roomitemsel",setup(t){const a=e.getCurrentInstance();return o((async()=>{await e.nextTick();a.proxy.getOpenerEventChannel().on("postGoods",(function(e){a.data.setGoods=e,a.data.jsId=e.jsid,a.ctx.getProTypeList(e.type)}))})),(t,a)=>(e.openBlock(),e.createElementBlock(e.Fragment,null,[e.createElementVNode("view",{class:"contentBox"},[e.createElementVNode("view",{class:"levelList"},[e.createElementVNode("ul",null,[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(t.typeList,((l,o)=>(e.openBlock(),e.createElementBlock("li",{key:l.id,class:e.normalizeClass(["hideTxt",t.type==l.id?"onset":""]),"data-id":l.id,onClick:a[0]||(a[0]=(...e)=>t.upType&&t.upType(...e))},e.toDisplayString(l.title),11,["data-id"])))),128))]),e.createElementVNode("view",{class:"IOSBottom"})]),e.createElementVNode("scroll-view",{"scroll-y":"true",class:"goodList"},[e.createElementVNode("ul",{class:"goodsUl"},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(t.lists,((l,o)=>(e.openBlock(),e.createElementBlock("li",{key:l.id,class:e.normalizeClass(t.setGoods.id==l.id?"goodbox bor":"goodbox")},[e.createElementVNode("view",{class:"goodImg"},[e.createElementVNode("image",{class:"filled-image",src:l.img,mode:"aspectFill"},null,8,["src"])]),e.createElementVNode("view",{class:"goodInfo"},[e.createElementVNode("view",{class:"title"},e.toDisplayString(l.title),1),e.createElementVNode("view",{class:"price"},[e.createTextVNode("￥"),e.createElementVNode("text",{class:"priceNum"},e.toDisplayString(l.price),1)]),e.createElementVNode("view",{class:"opBox"},[e.createElementVNode("text",{class:e.normalizeClass(t.setGoods.id==l.id?"setNum on":"setNum"),onClick:a[1]||(a[1]=(...e)=>t.selGoods&&t.selGoods(...e)),"data-index":o},"选择",10,["data-index"])])])],2)))),128))]),t.lists.length<1?(e.openBlock(),e.createElementBlock("view",{key:0,class:"emptyData"},[e.createElementVNode("view",{class:"icon"},[e.createElementVNode("text",{class:"iconfont icon-kongshuju"})]),e.createElementVNode("view",{class:"txt"},"暂无数据")])):e.createCommentVNode("",!0),e.createElementVNode("view",{class:"IOSBottom"})])]),e.createElementVNode("view",{class:"fixBomBox IOSBottom"},[e.createElementVNode("view",{class:"totalBox"},[e.createElementVNode("image",{class:"img",src:"/static/images/goodsPrice.png",mode:"aspectFill"}),e.createElementVNode("view",{class:"money"},e.toDisplayString(t.setGoods.new_name),1)]),e.createElementVNode("view",{class:"addOrder",onClick:a[2]||(a[2]=(...e)=>t.goOrder&&t.goOrder(...e))},"确定")]),t.hideOptBox2?(e.openBlock(),e.createElementBlock("view",{key:0,class:"openBox"},[e.createElementVNode("view",{class:"bg",onClick:a[3]||(a[3]=(...e)=>t.closeBox&&t.closeBox(...e))}),e.createElementVNode("view",{class:"cenOpen alertBox"},[e.createElementVNode("view",{class:"content"},[e.createElementVNode("view",{class:"title"},"更换项目"),e.createElementVNode("view",{class:"openList"},[e.createElementVNode("view",{class:"show-box"},[e.createElementVNode("text",{class:"show-fl"},"原项目："),e.createElementVNode("text",{class:"orange"},e.toDisplayString(t.setGoods.name),1)]),e.createElementVNode("view",{class:"show-box"},[e.createElementVNode("text",{class:"show-fl"},"新项目："),e.createElementVNode("text",{class:"seaCon"},e.toDisplayString(t.setGoods.new_name),1)])]),e.createElementVNode("view",{class:"orderFoot"},[e.createElementVNode("text",{class:"btn fl",onClick:a[4]||(a[4]=(...e)=>t.closeBox&&t.closeBox(...e))},"取消"),e.createElementVNode("text",{class:"btn fr",onClick:a[5]||(a[5]=(...e)=>t.optSure&&t.optSure(...e))},"确定")])])])])):e.createCommentVNode("",!0)],64))}});var ye;const ke={data:()=>({bid:0,sid:0,roomName:"",multType:1,totalList:[],lists:[],typeList:[],type:0,seltype:"",setGoods:{},totalMoney:0,isOpenSizeBox:!1,sizeBoxItem:{},techSex:0,chaTxt:"",bomBox:!1,planData:{},startTime:"",yxRecordVoiceSwitch:0}),onLoad(e){ye=getApp(),this.seltype=e.seltype,this.multType="0"===e.multType?0:1,a("log","at pages/roomitem/roomitem.vue:239",e),a("log","at pages/roomitem/roomitem.vue:240",this.$data)},onShow(){let e=this;1==e.yxRecordVoiceSwitch&&e.startRecordVoice()},methods:{btnConfirm(e){this.startTime=e.key},btnCancel(e){a("log","at pages/roomitem/roomitem.vue:262","取消时间")},showPlan(e){this.lists;let t=e.currentTarget.dataset.key,a=this.lists[t];if(2430!=a.project_type)return;let l={title:a.title,img:a.img,money:a.p_origin_price,time:a.duration,plan:a.plan};this.bomBox=!0,this.planData=l},closeBomBox(){this.bomBox=!1},getProTypeList(){let e=this,t=e.seltype,a={};""!=t&&(a={type:t}),ye.goPost("dingdan/getprotypelist",a,(function(t){e.typeList=t.list,e.techSex=t.techSex,e.typeList.length>0&&(e.type=e.typeList[0].id,e.getProjectList())}))},getProjectList(){let e=this,t=e.type,a="type_"+t;if(e.totalList.hasOwnProperty(a)&&e.totalList[a].length>0)return e.lists=e.totalList[a],!1;let l={type:t,setGoods:JSON.stringify(e.setGoods)};ye.goPost("dingdan/getprojectlist",l,(function(t){e.lists=t.list,e.totalList[a]=t.list}))},searchData(){let e=this,t=0;""==e.chaTxt?(t=e.typeList[0].id,e.type=t):e.type=0;let a={type:t,keyword:e.chaTxt,setGoods:JSON.stringify(e.setGoods)};ye.goPost("dingdan/getprojectlist",a,(function(t){e.lists=t.list}))},clearSearch:function(e){this.chaTxt="",this.searchData()},fillInput:function(e){let t=e.detail.value;this[e.currentTarget.dataset.model]=t},upType:function(e){let t=e.currentTarget.dataset.id;this.type=t,this.chaTxt="",this.getProjectList()},getGoodsKey:e=>"p_"+e,addGoods:function(e){let t=this,a=ye.copyObject(t.setGoods),l=e.currentTarget.dataset.index,o=t.lists[l],n=o.id,s=t.getGoodsKey(n);if(o.remarkOptions.length>0||1==o.is_preopen)return t.openSizeBox(e),!1;o.num++,a.hasOwnProperty(s)?a[s].num+=1:a[s]={id:n,num:1,price:ye.round(o.price,2),title:o.title,project_type:o.project_type,p_type:o.type,ser_type:0,ser_sex:t.techSex,ser_grade:0,ser_no:"",show_free:o.canFree,is_free:this.checkSong(o.canFree,o.project_type),remark:"",preopen:"",select:[],custom:"",set_js_type:0,user_type:0,userTypePriceList:o.hasOwnProperty("userTypePriceList")?o.userTypePriceList:[]},this.setGoods=a,this.totalMoneyFun()},cutGoods:function(e){let t=this,a=t.setGoods,l=e.currentTarget.dataset.index,o=t.lists[l],n=o.id,s=t.getGoodsKey(n);if(o.remarkOptions.length>0)return t.openSizeBox(e),!1;a.hasOwnProperty(s)&&(a[s].num-=1,o.num--,a[s].num<=0&&delete a[s]),this.setGoods=a,this.totalMoneyFun()},totalMoneyFun:function(){let e=this.setGoods,t=0;for(let a in e)t+=parseFloat(e[a].num*e[a].price);this.totalMoney=ye.round(t,2)},backData:function(e){if(1==this.multType)return!1;let t=this,a=ye.copyObject(t.setGoods),l=e.currentTarget.dataset.index,o=t.lists[l],n=o.id;a[0]={id:n,num:1,price:ye.round(o.price,2),title:o.title,project_type:o.project_type,p_type:o.type,ser_type:0,ser_sex:t.techSex,ser_grade:0,ser_no:"",show_free:o.canFree,is_free:this.checkSong(o.canFree,o.project_type),remark:"",preopen:"",select:[],custom:"",set_js_type:0,user_type:0,userTypePriceList:o.hasOwnProperty("userTypePriceList")?o.userTypePriceList:[]},this.setGoods=a,this.goOrder()},checkSong:(e,t)=>2==e&&"2438"==t?1:0,goOrder:function(){const e=this.getOpenerEventChannel();let t=ye.copyObject(this.setGoods);e.emit("getGoods",t),uni.navigateBack()},openSizeBox:function(e){let t=this,a=e.currentTarget.dataset.index,l=t.lists[a],o=l.id,n=l.num>0?l.num:1,s=ye.copyObject(l.remarkOptions),i=l.remark,c=[];for(let d in s){let e=s[d].child,t=s[d].select_type;for(let a in e)if(e[a].selected=0,i.length>0){if(void 0!==i[d]){i[d].split("+").indexOf(e[a].remark)>-1&&(e[a].selected=1),c[d]=i[d]}}else 0==a&&(c[d]="",0==t&&(e[a].selected=1,c[d]=e[a].remark))}let r={op:l.num>0?"edit":"add",id:o,index:a,name:l.title,num:n,total:ye.round(l.price*n,2),price:l.price,remarkOptions:s,select:c,custom:l.custom,is_preopen:l.is_preopen,user_type:l.user_type,userTypePriceList:l.hasOwnProperty("userTypePriceList")?l.userTypePriceList:[]};t.startTime=l.preopen,t.sizeBoxItem=r,t.isOpenSizeBox=!0},closeSizeBox:function(){this.sizeBoxItem={},this.isOpenSizeBox=!1},changeNumsForSize:function(e){let t=e.currentTarget.dataset.type,a=this.sizeBoxItem,l=a.num,o=a.price;"-"==t?l>1&&l--:l++,a.num=l,a.total=ye.round(o*l,2)},changeSize:function(e){let t=e.currentTarget.dataset.index,a=e.currentTarget.dataset.index2,l=this.sizeBoxItem,o=l.remarkOptions[t].child,n=l.remarkOptions[t].select_type,s=o[a].remark;if(l.select,0==n){l.select[t]=s;for(let e in o)o[e].selected=e==a?1:0}else{o[a].selected=o[a].selected?0:1,l.select[t]=[];for(let e in o)o[e].selected&&l.select[t].push(o[e].remark);l.select[t]=l.select[t].join("+")}},sureSize(){let e=this,t=e.sizeBoxItem,a=t.id,l=e.setGoods,o=e.lists[t.index],n=[];if(t.select.length>0)for(let s in t.select)""!=t.select[s]&&n.push(t.select[s].replace("+","/"));""!=t.custom&&n.push(t.custom),n=n.join("/"),l[e.getGoodsKey(a)]={id:a,num:t.num,price:t.price,title:t.name,project_type:o.project_type,p_type:o.type,ser_type:0,ser_sex:e.techSex,ser_grade:0,ser_no:"",show_free:o.canFree,is_free:e.checkSong(o.canFree,o.project_type),remark:n,preopen:e.startTime,select:ye.copyObject(t.select),custom:t.custom,set_js_type:0,user_type:t.user_type,userTypePriceList:o.hasOwnProperty("userTypePriceList")?o.userTypePriceList:[]},o.num=t.num,o.remark=ye.copyObject(t.select),o.custom=t.custom,o.remarkText=n,o.preopen=e.startTime,e.closeSizeBox(),e.totalMoneyFun()},editSize(e){this.openSizeBox(e)},delSize(){let e=this,t=e.sizeBoxItem,a=t.id,l=e.setGoods,o=e.getGoodsKey(a),n=e.lists[t.index];delete l[o],n.num=0,n.remark=[],n.custom="",n.remarkText="",n.preopen="",e.closeSizeBox(),e.totalMoneyFun()},keyInput(e){let t=e.currentTarget.dataset.key;this.sizeBoxItem[t]=e.detail.value},previewImage(e){let t=e.currentTarget.dataset.url;uni.previewImage({urls:[t],current:t})},startRecordVoice(){let e=this;ye.startRecordVoice({duration:600},(function(t){let l=ye.getTimestamp();uni.saveFile({tempFilePath:t.tempFilePath,success:function(t){a("log","at pages/roomitem/roomitem.vue:821","录音文件保存成功：",t);let o=t.savedFilePath,n=ye.getFileName(o),s={name:n,path:o,bid:e.bid,sid:e.sid,type:1,time:l,key:n,room_name:e.roomName};uni.setStorageSync(n,s),ye.checkRecordVoice()}})}))}}},Ne=Object.assign(ke,{__name:"roomitem",setup(t){const n=e.getCurrentInstance();return o((async()=>{await e.nextTick();const t=n.proxy.getOpenerEventChannel();a("log","at pages/roomitem/roomitem.vue:861",n),t.on("postGoods",(function(e){a("log","at pages/roomitem/roomitem.vue:865","shou"),a("log","at pages/roomitem/roomitem.vue:866",e),n.data.setGoods=e,n.ctx.getProTypeList(),n.ctx.totalMoneyFun()})),t.on("postData",(function(e){e.hasOwnProperty("bid")&&(n.data.bid=e.bid),e.hasOwnProperty("sid")&&(n.data.sid=e.sid),e.hasOwnProperty("roomName")&&(n.data.roomName=e.roomName),e.hasOwnProperty("yxRecordVoiceSwitch")&&(n.data.yxRecordVoiceSwitch=e.yxRecordVoiceSwitch)}))})),(t,a)=>{const o=l(e.resolveDynamicComponent("timeSelector"),w),n=l(e.resolveDynamicComponent("ydPromptBottom"),b);return e.openBlock(),e.createElementBlock(e.Fragment,null,[e.createElementVNode("view",{class:"contentBox"},[e.createElementVNode("view",{class:"searchBox"},[e.createElementVNode("input",{class:"queryTxt",value:t.chaTxt,"data-model":"chaTxt",onInput:a[0]||(a[0]=(...e)=>t.fillInput&&t.fillInput(...e)),placeholder:"输入项目名称/编号搜索"},null,40,["value"]),t.chaTxt.length>0?(e.openBlock(),e.createElementBlock("i",{key:0,class:"iconfont icon-shanchuxuanze clearSearch",onClick:a[1]||(a[1]=e=>t.clearSearch())})):e.createCommentVNode("",!0),e.createElementVNode("view",{class:"queryBtn",onClick:a[2]||(a[2]=e=>t.searchData())},"查询")]),e.createElementVNode("view",{class:"levelList"},[e.createElementVNode("ul",null,[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(t.typeList,((l,o)=>(e.openBlock(),e.createElementBlock("li",{key:l.id,class:e.normalizeClass(["hideTxt",t.type==l.id?"onset":""]),"data-id":l.id,onClick:a[3]||(a[3]=(...e)=>t.upType&&t.upType(...e))},e.toDisplayString(l.title),11,["data-id"])))),128))]),e.createElementVNode("view",{class:"IOSBottom"})]),e.createElementVNode("scroll-view",{"scroll-y":"true",class:"goodList"},[e.createElementVNode("ul",{class:"goodsUl"},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(t.lists,((l,o)=>(e.openBlock(),e.createElementBlock("li",{class:"goodbox",key:l.id,onClick:a[10]||(a[10]=(...e)=>t.backData&&t.backData(...e)),"data-index":o},[e.createElementVNode("view",{class:"goodImg","data-url":l.bigImg,onClick:a[4]||(a[4]=e.withModifiers(((...e)=>t.previewImage&&t.previewImage(...e)),["stop"]))},[e.createElementVNode("image",{class:"filled-image",src:l.img,mode:"aspectFill"},null,8,["src"])],8,["data-url"]),e.createElementVNode("view",{class:"goodInfo"},[""!=l.preopen?(e.openBlock(),e.createElementBlock("text",{key:0,class:"preopen","data-index":o,onClick:a[5]||(a[5]=(...e)=>t.editSize&&t.editSize(...e))},"预",8,["data-index"])):e.createCommentVNode("",!0),e.createElementVNode("view",{class:"title"},[e.createElementVNode("text",{class:"goodName",onClick:a[6]||(a[6]=(...e)=>t.showPlan&&t.showPlan(...e)),"data-key":o},e.toDisplayString(l.title),9,["data-key"]),""!=l.remarkText?(e.openBlock(),e.createElementBlock("text",{key:0,class:"remark","data-index":o,onClick:a[7]||(a[7]=(...e)=>t.editSize&&t.editSize(...e))},e.toDisplayString(l.remarkText),9,["data-index"])):e.createCommentVNode("",!0)]),e.createElementVNode("view",{class:"price"},[e.createTextVNode("￥"),e.createElementVNode("text",{class:"priceNum"},e.toDisplayString(l.price),1)]),1==t.multType?(e.openBlock(),e.createElementBlock("view",{key:1,class:"opBox"},[l.num>0?(e.openBlock(),e.createElementBlock("icon",{key:0,class:"iconfont icon-jian cutBtn",onClick:a[8]||(a[8]=(...e)=>t.cutGoods&&t.cutGoods(...e)),"data-index":o},null,8,["data-index"])):e.createCommentVNode("",!0),l.num>0?(e.openBlock(),e.createElementBlock("text",{key:1,class:"setNum"},e.toDisplayString(l.num),1)):e.createCommentVNode("",!0),e.createElementVNode("icon",{class:"iconfont icon-jia addBtn",onClick:a[9]||(a[9]=(...e)=>t.addGoods&&t.addGoods(...e)),"data-index":o},null,8,["data-index"])])):e.createCommentVNode("",!0)])],8,["data-index"])))),128))]),t.lists.length<1?(e.openBlock(),e.createElementBlock("view",{key:0,class:"emptyData"},[e.createElementVNode("view",{class:"icon"},[e.createElementVNode("text",{class:"iconfont icon-kongshuju"})]),e.createElementVNode("view",{class:"txt"},"暂无数据")])):e.createCommentVNode("",!0),e.createElementVNode("view",{class:"IOSBottom"})])]),1==t.multType?(e.openBlock(),e.createElementBlock("view",{key:0,class:"fixBomBox IOSBottom"},[e.createElementVNode("view",{class:"totalBox"},[e.createElementVNode("image",{class:"img",src:"/static/images/goodsPrice.png",mode:"aspectFill"}),e.createElementVNode("view",{class:"money"},[e.createElementVNode("text",{class:"unti"},"￥"),e.createTextVNode(" "+e.toDisplayString(t.totalMoney),1)])]),e.createElementVNode("view",{class:"addOrder",onClick:a[11]||(a[11]=(...e)=>t.goOrder&&t.goOrder(...e))},"确定")])):e.createCommentVNode("",!0),t.isOpenSizeBox?(e.openBlock(),e.createElementBlock("view",{key:1,class:"size-box prompt"},[e.createElementVNode("view",{class:"prompt-shadow",onClick:a[12]||(a[12]=(...e)=>t.closeSizeBox&&t.closeSizeBox(...e))}),e.createElementVNode("view",{class:"size-box-content"},[e.createElementVNode("view",{class:"size-box-title"},e.toDisplayString(t.sizeBoxItem.name),1),e.createElementVNode("view",{class:"size-list"},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(t.sizeBoxItem.remarkOptions,((l,o)=>(e.openBlock(),e.createElementBlock("view",{class:"size-item",key:l.id},[e.createElementVNode("view",{class:"size-name gray"},e.toDisplayString(l.remark),1),e.createElementVNode("view",{class:"size-value"},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(l.child,((l,n)=>(e.openBlock(),e.createElementBlock("text",{class:e.normalizeClass([l.selected?"selected":""]),"data-index":o,"data-index2":n,onClick:a[13]||(a[13]=(...e)=>t.changeSize&&t.changeSize(...e))},e.toDisplayString(l.remark),11,["data-index","data-index2"])))),256))])])))),128))]),1==t.sizeBoxItem.is_preopen?(e.openBlock(),e.createElementBlock("view",{key:0,class:"size-custom"},[e.createElementVNode("view",{class:"left"},"开单时间"),e.createElementVNode("view",{class:"right"},[e.createVNode(o,{showType:"yearToMinute",defaultValue:t.startTime,beginDate:"2022-01-01",endDate:"2025-12-31",onBtnConfirm:t.btnConfirm,onBtnCancel:t.btnCancel},{default:e.withCtx((()=>[e.createElementVNode("text",{class:"select"},[e.createTextVNode(e.toDisplayString(""!=t.startTime?t.startTime:"请选择")+" ",1),e.createElementVNode("i",{class:"iconfont icon-jinrujiantou"})])])),_:1},8,["defaultValue","onBtnConfirm","onBtnCancel"])])])):e.createCommentVNode("",!0),e.createElementVNode("view",{class:"size-custom"},[e.createElementVNode("text",{class:"txt gray"},"数量"),e.createElementVNode("text",{class:"iconfont icon-jian red","data-type":"-",onClick:a[14]||(a[14]=(...e)=>t.changeNumsForSize&&t.changeNumsForSize(...e))}),e.createElementVNode("text",{class:"nums"},e.toDisplayString(t.sizeBoxItem.num),1),e.createElementVNode("text",{class:"iconfont icon-jia red","data-type":"+",onClick:a[15]||(a[15]=(...e)=>t.changeNumsForSize&&t.changeNumsForSize(...e))})]),e.createElementVNode("view",{class:"size-custom"},[e.createElementVNode("view",{class:"txt gray"},"自定义备注"),e.createElementVNode("input",{class:"input",type:"text",value:t.sizeBoxItem.custom,"data-key":"custom",maxlength:"60",onInput:a[16]||(a[16]=(...e)=>t.keyInput&&t.keyInput(...e)),placeholder:"输入自定义备注内容..."},null,40,["value"])]),e.createElementVNode("view",{class:"total"},[e.createElementVNode("text",{class:"txt"},"总计"),e.createElementVNode("text",{class:"b red"},"￥"),e.createElementVNode("text",{class:"j red"},e.toDisplayString(t.sizeBoxItem.total),1),e.createElementVNode("view",{class:"size-btn fr"},["edit"==t.sizeBoxItem.op?(e.openBlock(),e.createElementBlock("view",{key:0,class:"add-gwc bg-reds-JB",onClick:a[17]||(a[17]=(...e)=>t.delSize&&t.delSize(...e))},"删除")):e.createCommentVNode("",!0),e.createElementVNode("view",{class:"add-gwc bg-orange-JB",onClick:a[18]||(a[18]=(...e)=>t.sureSize&&t.sureSize(...e))},"确定")])]),e.createElementVNode("text",{class:"iconfont icon-shibai",onClick:a[19]||(a[19]=(...e)=>t.closeSizeBox&&t.closeSizeBox(...e))})])])):e.createCommentVNode("",!0),e.createVNode(n,{isOpen:t.bomBox,height:"70%",onClose:t.closeBomBox},{default:e.withCtx((()=>[e.createElementVNode("view",{class:"planBox"},[e.createElementVNode("i",{class:"iconfont icon-shanchuxuanze closeBtn",onClick:a[20]||(a[20]=(...e)=>t.closeBomBox&&t.closeBomBox(...e))}),e.createElementVNode("view",{class:"planHead clearfix"},[e.createElementVNode("view",{class:"imgBox"},[e.createElementVNode("image",{src:t.planData.img,alt:"",mode:"aspectFill",class:"filled-image"},null,8,["src"])]),e.createElementVNode("view",{class:"goodDetail"},[e.createElementVNode("view",{class:"title"},e.toDisplayString(t.planData.title),1),e.createElementVNode("view",{class:"money"},[e.createElementVNode("text",{class:"unit"},"￥"),e.createTextVNode(e.toDisplayString(t.planData.money),1)])])]),e.createElementVNode("view",{class:"planDetail"},[e.createElementVNode("view",{class:"line"},[e.createElementVNode("view",{class:"title"},"服务时间："),e.createElementVNode("view",{class:"rBox"},e.toDisplayString(t.planData.time)+"分钟",1)]),e.createElementVNode("view",{class:"line"},[e.createElementVNode("view",{class:"title"},"服务部位："),e.createElementVNode("view",{class:"rBox"},e.toDisplayString(t.planData.plan?t.planData.plan.title:""),1)]),e.createElementVNode("view",{class:"line"},[e.createElementVNode("view",{class:"title"},"服务流程："),t.planData.plan?(e.openBlock(),e.createElementBlock("view",{key:0,class:"rBox"},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(t.planData.plan.detail,((t,a)=>(e.openBlock(),e.createElementBlock("view",{class:"path"},[e.createElementVNode("text",{class:"num"},e.toDisplayString(a+1),1),e.createElementVNode("text",{class:"name"},e.toDisplayString(t.name),1),e.createElementVNode("text",{class:"time"},e.toDisplayString(t.time)+"分钟",1)])))),256))])):e.createCommentVNode("",!0)]),e.createElementVNode("view",{class:"line"},[e.createElementVNode("view",{class:"title"},"效果推荐："),e.createElementVNode("view",{class:"rBox"},e.toDisplayString(t.planData.plan?t.planData.plan.effect:""),1)])])])])),_:1},8,["isOpen","onClose"])],64)}}});var we;const be=n({data:()=>({typeList:[],setLeave:1,startTime:"",endTime:"",setLeaveIndex:0,pic:[],path:[],reason:"",sysTipsConfig:{}}),onLoad(){we=getApp(),this.getData(),this.sysTipsConfig=we.getInitSysTipsConfig()},methods:{getData:function(){var e=this;we.goPost("apply/getData",{},(function(t){e.typeList=t.typeList}))},seleLeave:function(e){let t=e.detail.value;this.setLeaveIndex=t,this.setLeave=this.typeList[t].id},seleStrTime:function(e){let t=e.key,a=this.$data.endTime,l=new Date(t),o=new Date(a);if(l.getTime()>=o.getTime())return we.showMsg("开始时间需小于结束时间"),!1;this.startTime=e.key},seleEndTime:function(e){let t=this.$data.startTime,l=e.key,o=new Date(t),n=new Date(l);if(a("log","at pages/staffleave/staffleave.vue:152",o.getTime()),a("log","at pages/staffleave/staffleave.vue:153",n.getTime()),a("log","at pages/staffleave/staffleave.vue:154",o.getTime()<=n.getTime()),o.getTime()>n.getTime())return we.showMsg("结束时间需大于开始时间"),!1;this.endTime=e.key},chooseImage:function(e){let t=this;uni.chooseImage({sizeType:["original","compressed"],sourceType:["album","camera"],count:1,success(e){t.uploadImg(e)},fail(e){}})},uploadImg:function(e){var t=this;let l=e.tempFilePaths[0];we.uploadFile(l,{type:1},(function(e){a("log","at pages/staffleave/staffleave.vue:189","res",e),t.pic.push(e.url),t.path.push(e.path)}),(function(e){we.showMsg("上传中"+e.progress+"%","loading")}))},changeInput:function(e){var t=e.currentTarget.dataset.name,a=e.detail.value;this[t]=a},submit:function(){let e=this,t=e.setLeave,a=e.startTime,l=e.endTime,o=e.path,n=e.reason;if(!a)return void we.showMsg("选择开始时间");if(!l)return void we.showMsg("选择结束时间");o.length>0&&(o=o.join(","));let s={type:t,startTime:a,endTime:l,path:o,reason:n};we.goPost("apply/addLeave",s,(function(t){e.openSysTips()}))},openSysTips:function(){var e=this.sysTipsConfig;e.Bg="",e.Box="",e.iconCss="green",e.iconFont="icon-xuanze",e.title="提交成功",e.tips="请耐心等待相关工作人员审批!",e.showLeftBtn=!1,e.bindRightBtnCss="bg-red-JB",e.bindRightBtn="closeSysTips",e.rightBtn="我知道了",this.sysTipsConfig=e},closeSysTips:function(){var e=this.sysTipsConfig;e.Bg="hide",e.Box="hide",this.sysTipsConfig=e},backTop:function(){this.closeSysTips(),uni.navigateBack({delta:1})}}},[["render",function(t,a,o,n,i,c){const r=l(e.resolveDynamicComponent("timeSelector"),w),d=l(e.resolveDynamicComponent("ydSystemTips"),s);return e.openBlock(),e.createElementBlock(e.Fragment,null,[e.createElementVNode("view",{class:"sdFormInfo"},[e.createElementVNode("view",{class:"sdFormInputSet"},[e.createElementVNode("view",{class:"sdFormInlineTitleSet"},[e.createElementVNode("view",{class:"sdFormXing red"},"*"),e.createElementVNode("view",{class:"sdFormInlineTitle"},"请假类型"),e.createElementVNode("view",{class:"sdFormTips"},[e.createElementVNode("text",{class:"iconfont icon-gantan blue"})])]),e.createElementVNode("view",{class:"sdFormInlineInput"},[e.createElementVNode("picker",{onChange:a[0]||(a[0]=(...e)=>c.seleLeave&&c.seleLeave(...e)),value:i.setLeaveIndex,range:i.typeList,"range-key":"name"},[e.createElementVNode("view",{class:"sdFormInlineName orange"},e.toDisplayString(""===i.setLeave||0==i.typeList.length?"请选择":i.typeList[i.setLeaveIndex].name),1),e.createElementVNode("view",{class:"sdFormRightJianTou"},[e.createElementVNode("text",{class:"iconfont icon-youbian1"})])],40,["value","range"])])]),e.createElementVNode("view",{class:"sdFormInputSet"},[e.createElementVNode("view",{class:"sdFormInlineTitleSet"},[e.createElementVNode("view",{class:"sdFormXing red"},"*"),e.createElementVNode("view",{class:"sdFormInlineTitle"},"开始时间")]),e.createElementVNode("view",{class:"sdFormInlineInput"},[e.createVNode(r,{showType:"yearToMinute",defaultValue:i.startTime,beginDate:"2022-01-01",endDate:"2100-12-31",onBtnConfirm:c.seleStrTime,onBtnCancel:t.btnCancel},{default:e.withCtx((()=>[e.createElementVNode("view",{class:"sdFormInlineName"},e.toDisplayString(""!=i.startTime?i.startTime:"请选择"),1),e.createElementVNode("view",{class:"sdFormRightJianTou"},[e.createElementVNode("text",{class:"iconfont icon-youbian1"})])])),_:1},8,["defaultValue","onBtnConfirm","onBtnCancel"])])]),e.createElementVNode("view",{class:"sdFormInputSet"},[e.createElementVNode("view",{class:"sdFormInlineTitleSet"},[e.createElementVNode("view",{class:"sdFormXing red"},"*"),e.createElementVNode("view",{class:"sdFormInlineTitle"},"结束时间")]),e.createElementVNode("view",{class:"sdFormInlineInput"},[e.createVNode(r,{showType:"yearToMinute",defaultValue:i.endTime,beginDate:"2022-01-01",endDate:"2100-12-31",onBtnConfirm:c.seleEndTime,onBtnCancel:t.btnCancel},{default:e.withCtx((()=>[e.createElementVNode("view",{class:"sdFormInlineName"},e.toDisplayString(""!=i.endTime?i.endTime:"请选择"),1),e.createElementVNode("view",{class:"sdFormRightJianTou"},[e.createElementVNode("text",{class:"iconfont icon-youbian1"})])])),_:1},8,["defaultValue","onBtnConfirm","onBtnCancel"])])]),e.createElementVNode("view",{class:"sdFormInputSet"},[e.createElementVNode("view",{class:"sdFormBlockTitleSet"},[e.createElementVNode("view",{class:"sdFormInlineTitle"},"请假事由"),e.createElementVNode("view",{class:"sdFormTips"},[e.createElementVNode("text",{class:"iconfont icon-gantan blue"})])]),e.createElementVNode("view",{class:"sdFormBlockInput"},[e.createElementVNode("textarea",{class:"sdFormBlockTextarea",maxlength:"100","placeholder-style":"color:#999;",placeholder:"输入请假事由",value:"","data-name":"reason",onInput:a[1]||(a[1]=(...e)=>c.changeInput&&c.changeInput(...e))},null,32)])])]),e.createElementVNode("view",{class:"sdFormInfo"},[e.createElementVNode("view",{class:"sdFormManyPicSet"},[e.createElementVNode("view",{class:"sdFormManyPicTitleSet"},[e.createElementVNode("view",{class:"sdFormManyPicTitle"},"图片上传")]),e.createElementVNode("view",{class:"sdFormManyPicBox fl"},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(i.pic,((t,a)=>(e.openBlock(),e.createElementBlock("view",{class:"sdFormManyPicImg fl"},[e.createElementVNode("image",{src:t},null,8,["src"]),e.createElementVNode("view",{class:"sdFormManyPicImgDel"},[e.createElementVNode("text",{class:"iconfont icon-guanbi"})])])))),256)),e.createElementVNode("view",{class:"sdFormManyPicAdd fl",onClick:a[2]||(a[2]=(...e)=>c.chooseImage&&c.chooseImage(...e))},[e.createElementVNode("text",{class:"iconfont icon-shangchuantupian"})])]),e.createElementVNode("view",{class:"clearfix"}),e.createElementVNode("view",{class:"sdFormManyPicTips gray"})])]),e.createElementVNode("view",{class:"submit"},[e.createElementVNode("view",{class:"btn",onClick:a[3]||(a[3]=(...e)=>c.submit&&c.submit(...e))},"提交申请")]),e.createVNode(d,{config:i.sysTipsConfig,onBtnSure:c.backTop,onBtnClose:c.closeSysTips,onBtnBgClose:c.closeSysTips},null,8,["config","onBtnSure","onBtnClose","onBtnBgClose"])],64)}]]);var Be,Ee,fe,xe,Ve;const Te=n({data:()=>({env:"",os:"android",phoneType:"android",notify:!1,isWifiCuePlay:1,cid:"",mesTxtArr:[],hideTxtArr:[],noSettingTxt:"",tipsType:"",tipsBool:!1,config:{showRightBtn:!0,showLeftBtn:!0},lanConfig:{},shangZhongVibrate:0,shangZhongXiPing:0,isOpenXiPingTipsBox:!1}),onLoad(){if(Be=getApp(),this.os=Be.globalData.os,this.phoneType=uni.getDeviceInfo().deviceBrand,this.env="production",a("log","at pages/settings/settings.vue:194",this.os),"android"==this.os)try{Ee=t("AppModule"),fe=t("NotificationModule"),xe=t("WiFiModule"),Ve=t("PermissionModule"),this.cid=Ee.pushGetCID()}catch(e){a("log","at pages/settings/settings.vue:209",e)}else"ios"==this.os&&this.iosIsNotificationsEnabled();this.lanConfig=Be.getLanConfig()},onShow(){if("android"==this.os&&Ee)this.notify=fe.areNotificationsEnabled();else if("ios"==this.os)try{this.iosIsNotificationsEnabled()}catch(e){a("log","at pages/settings/settings.vue:229",e)}this.getData(),1!=Be.globalData.isApproveApp&&this.checkAlertAuth()},methods:{clickTipsBg(){1==this.tipsType&&this.closeTips()},showTips(e){let t=this,l=this.os,o=this.phoneType;t.config.tips="",t.config.otherTips=[],t.config.showRtClose=!0,t.config.showLeftBtn=!0,t.config.leftBtn="关闭",t.config.rightBtn="设置",t.config.bindLeftBtnCss="bg-orange-JB",t.config.bindRightBtnCss="bg-red-JB",t.config.title="温馨提示";let n="qita";o&&-1!==["huawei","xiaomi","oppo","vivo","honor","oneplus"].indexOf(o)&&(n=o),a("log","at pages/settings/settings.vue:277","phoneType:"+o),a("log","at pages/settings/settings.vue:278","tipsKey:"+n),1==e?(t.config.otherTips="android"==l?t.mesTxtArr[n]:t.mesTxtArr,t.config.showLeftBtn=!1):2==e?(t.config.otherTips="android"==l?t.hideTxtArr[n]:t.hideTxtArr,t.config.leftBtn="不会设置",t.config.rightBtn="设置",t.config.showRtClose=!1):3==e?(t.config.tips=t.noSettingTxt,t.config.bindLeftBtnCss="",t.config.leftBtn="返回",t.config.rightBtn="确定",t.config.showRtClose=!1):4==e&&(t.config.title="我已设置完成",t.config.bindLeftBtnCss="",t.config.leftBtn="返回",t.config.rightBtn="确定",t.config.showRtClose=!1),t.tipsType=e,t.tipsBool=!0},lSure(){let e=this,t=e.tipsType;2!=t?3!=t&&4!=t?e.closeTips():e.showTips(2):e.showTips(3)},rSure(){let e=this,t=e.tipsType;if(1==t)"android"==e.os?Be.goToAppByAndroid("notificationSetting"):"ios"==e.os&&this.iosGoNotificationsEnabled();else{if(2==t)return Be.goToAppByAndroid("keepAliveSetting"),void e.showTips(4);3==t?(e.hideRunChange(1),Ee.appKeepAlive(),Ee.appBatteryOptimization()):4==t&&(e.hideRunChange(2),Ee.appKeepAliveRelease(),Ee.appBatteryOptimization())}e.closeTips()},closeTips(){let e=this;e.tipsType="",e.tipsBool=!1,e.config.otherTips=[]},goUrl(e){let t="";switch(e){case 1:t="/pages/sound/sound";break;case 2:t="/pages/agreement/agreement?type=1";break;case 3:t="/pages/agreement/agreement?type=2";break;case 4:t="/pages/renLian/renLian";break;case 5:t="/pages/pushtest/pushtest"}""!=t?uni.navigateTo({url:t}):Be.showMsg("敬请期待")},getData(){let e=this;Be.goPost("settings/getJsSetting",{hideLoading:1},(function(t){e.isWifiCuePlay=parseInt(t.isWifiCuePlay),e.mesTxtArr=t.mesTxtArr[e.os],e.hideTxtArr=t.hideTxtArr[e.os],e.noSettingTxt=t.noSettingTxt,e.shangZhongVibrate=t.shangZhongVibrate,e.shangZhongXiPing=t.shangZhongXiPing}))},wifiPlayChange(e){let t=this,a=e.detail.value?1:0,l={isWifiCuePlay:a};Be.goPost("settings/wifiPlayChange",l,(function(e){t.isWifiCuePlay=a,1==a?(xe.registerNetworkListener(),Be.globalData.isWifiCuePlay=1,Be.wifiWeakSignal()):(xe.unregisterNetworkListener(),Be.globalData.isWifiCuePlay=0)}))},settingsChange(e){let t=this,a=e.currentTarget.dataset.key,l=e.detail.value?1:0,o="shang_zhong_vibrate";"shangZhongXiPing"==a&&(o="shang_zhong_xi_ping");let n={val:l,key:o};Be.goPost("settings/settingschange",n,(function(e){t[a]=l,Be.globalData[a]=l,"shangZhongXiPing"==a&&1==l&&setTimeout((function(){t.openXiPingTipsBox()}),500)}))},lanChange(e){let t=this,a=t.lanConfig.lanTrue?0:1;Be.ping({ip:t.lanConfig.lanHost,timeout:500,surePing:1,success:e=>{if(0==e&&1==a)return t.lanConfig.lanTrue=!1,Be.showMsg("当前WIFI信号差不可用，内网无法使用!"),!1;t.lanConfig.lanTrue=1==a,Be.saveLanConfig(t.lanConfig.lanHost,t.lanConfig.appPortNei,t.lanConfig.xcxPortNei,t.lanConfig.lanTrue),Be.resetApiUrl()}})},hideRunChange(e){if(1!=e&&2!=e)return void Be.showMsg("参数错误");let t={run:e};Be.goPost("settings/runChange",t)},iosIsNotificationsEnabled(){var e=plus.ios.import("UIApplication").sharedApplication(),t=0;e.currentUserNotificationSettings?t=e.currentUserNotificationSettings().plusGetAttribute("types"):t=e.enabledRemoteNotificationTypes();plus.ios.deleteObject(e),this.notify=0!=t},iosGoNotificationsEnabled(){var e=plus.ios.import("UIApplication"),t=plus.ios.import("NSURL").URLWithString("app-settings:"),a=e.sharedApplication();a.openURL(t),plus.ios.deleteObject(t),plus.ios.deleteObject(a)},openXiPingTipsBox(){this.isOpenXiPingTipsBox=!0},closeXiPingTipsBox(){this.isOpenXiPingTipsBox=!1},goAppSet(){Be.goToApp("appSetting")},checkAlertAuth(){if("ios"==Be.globalData.os)return!1;try{let e=Ve.checkOverlayPermission();a("log","at pages/settings/settings.vue:624","PermissionModule.checkOverlayPermission:",e),e||uni.showModal({title:"权限申请",content:"请开启悬浮窗权限",showCancel:!1,confirmText:"去设置",success:e=>{Ve.jumpOverlayPermission()}})}catch(e){a("log","at pages/settings/settings.vue:640","PermissionModule.checkOverlayPermission fail:",e)}}}},[["render",function(t,a,o,n,i,c){const r=l(e.resolveDynamicComponent("ydSystemTips"),s);return e.openBlock(),e.createElementBlock(e.Fragment,null,[e.createElementVNode("view",{class:"content"},[e.createElementVNode("view",{class:"box"},[e.createElementVNode("view",{class:"title"},"WIFI信号检测"),e.createElementVNode("view",{class:"tips"},"自动检测当前WIFI网络"),e.createElementVNode("view",{class:"rinfo"},[e.createElementVNode("switch",{checked:i.isWifiCuePlay,color:"#1AA034",style:{},onChange:a[0]||(a[0]=(...e)=>c.wifiPlayChange&&c.wifiPlayChange(...e))},null,40,["checked"])])]),e.createElementVNode("view",{class:"box"},[e.createElementVNode("view",{class:"title"},"上钟振动提醒"),e.createElementVNode("view",{class:"tips"},"上钟提醒语音播报，手机振动"),e.createElementVNode("view",{class:"rinfo"},[e.createElementVNode("switch",{checked:1==i.shangZhongVibrate,color:"#1AA034",style:{},"data-key":"shangZhongVibrate",onChange:a[1]||(a[1]=(...e)=>c.settingsChange&&c.settingsChange(...e))},null,40,["checked"])])]),"android"==i.os||"development"==i.env?(e.openBlock(),e.createElementBlock("view",{key:0,class:"box"},[e.createElementVNode("view",{class:"title"},"上钟息屏时钟显示"),e.createElementVNode("view",{class:"tips"},"上钟状态，手机息屏，显示服务时长"),e.createElementVNode("view",{class:"rinfo"},[e.createElementVNode("switch",{checked:1==i.shangZhongXiPing,color:"#1AA034",style:{},"data-key":"shangZhongXiPing",onChange:a[2]||(a[2]=(...e)=>c.settingsChange&&c.settingsChange(...e))},null,40,["checked"])])])):e.createCommentVNode("",!0),"android"==i.os||"development"==i.env?(e.openBlock(),e.createElementBlock("view",{key:1,class:"box",onClick:a[3]||(a[3]=e=>c.goUrl(1))},[e.createElementVNode("view",{class:"title"},"语音播报音量"),e.createElementVNode("view",{class:"tips"},"不同业务类型，音量大小控制"),e.createElementVNode("view",{class:"rinfo"},[e.createElementVNode("text",{class:"iconfont icon-youbian1"})])])):e.createCommentVNode("",!0),"android"==i.os||"development"==i.env?(e.openBlock(),e.createElementBlock("view",{key:2,class:"box",onClick:a[4]||(a[4]=e=>c.goUrl(5))},[e.createElementVNode("text",{class:"title"},"上钟语音推送测试"),e.createElementVNode("view",{class:"tips"},"智能测试手机推送是否正常"),e.createElementVNode("view",{class:"rinfo"},[e.createElementVNode("text",{class:"iconfont icon-youbian1"})])])):e.createCommentVNode("",!0),""!=i.lanConfig.lanHost?(e.openBlock(),e.createElementBlock("view",{key:3,class:"box"},[e.createElementVNode("text",{class:"title"},"内网模式"),e.createElementVNode("view",{class:"tips"},"连接内部WIFI使用APP"),e.createElementVNode("view",{class:"rinfo"},[e.createElementVNode("switch",{checked:i.lanConfig.lanTrue,color:"#1AA034",style:{},onChange:a[5]||(a[5]=(...e)=>c.lanChange&&c.lanChange(...e))},null,40,["checked"])])])):e.createCommentVNode("",!0),e.createElementVNode("view",{class:"box nopad"},[e.createElementVNode("view",{class:"line",onClick:a[6]||(a[6]=e=>c.goUrl(2))},[e.createElementVNode("text",{class:"title"},"隐私政策"),e.createElementVNode("view",{class:"rinfo"},[e.createElementVNode("text",{class:"iconfont icon-youbian1"})])]),e.createElementVNode("view",{class:"line",onClick:a[7]||(a[7]=e=>c.goUrl(3))},[e.createElementVNode("text",{class:"title"},"用户协议"),e.createElementVNode("view",{class:"rinfo"},[e.createElementVNode("text",{class:"iconfont icon-youbian1"})])])]),"android"==i.os||"development"==i.env?(e.openBlock(),e.createElementBlock("view",{key:4,class:"box nopad"},[e.createElementVNode("view",{class:"line"},[e.createElementVNode("text",{class:"title"},"cid:"+e.toDisplayString(i.cid),1)])])):e.createCommentVNode("",!0),e.createElementVNode("view",{class:"pb50"})]),i.tipsBool?(e.openBlock(),e.createBlock(r,{key:0,config:i.config,onBtnSure:c.rSure,onBtnClose:c.lSure,onBtnBgClose:c.clickTipsBg},null,8,["config","onBtnSure","onBtnClose","onBtnBgClose"])):e.createCommentVNode("",!0),i.isOpenXiPingTipsBox?(e.openBlock(),e.createElementBlock("view",{key:1,class:"prompt"},[e.createElementVNode("view",{class:"prompt-shadow"}),e.createElementVNode("view",{class:"prompt-box-w90 pos-middle"},[e.createElementVNode("view",{class:"prompt-title text-center"},"权限申请"),e.createElementVNode("view",{class:"tipsBox"},[e.createElementVNode("view",{class:"txt gray"},"请检查以下两个权限，如无请忽略"),e.createElementVNode("view",{class:"txt"},[e.createElementVNode("text",{class:"i"},"1"),e.createTextVNode("权限 -> "),e.createElementVNode("text",{class:"orange"},"后台弹窗"),e.createTextVNode(" -> 允许")]),e.createElementVNode("view",{class:"txt"},[e.createElementVNode("text",{class:"i"},"2"),e.createTextVNode("权限 -> "),e.createElementVNode("text",{class:"orange"},"锁屏显示"),e.createTextVNode(" -> 允许")])]),e.createElementVNode("view",{class:"prompt-btn"},[e.createElementVNode("view",{class:"btn-item-primary gray",onClick:a[8]||(a[8]=(...e)=>c.closeXiPingTipsBox&&c.closeXiPingTipsBox(...e))},"我知道了"),e.createElementVNode("view",{class:"btn-item-primary red",onClick:a[9]||(a[9]=(...e)=>c.goAppSet&&c.goAppSet(...e))},"去设置")])])])):e.createCommentVNode("",!0)],64)}]]);const Se=n({props:["min","max","default","name","isTips"],data(){return{name:this.name,slideBarWidth:0,minScore:this.min?this.min:0,maxScore:this.max?this.max:100,score:this.default?this.default:0,x:0,y:0,isCahngeBool:!1,isTips:!!this.isTips&&this.isTips}},created(){var e=this;e.$nextTick((()=>{uni.createSelectorQuery().select(".slider-box").boundingClientRect((function(t){var a=parseFloat(t.width),l=parseInt(e.score/100*a)-parseInt(e.minScore),o=parseInt(e.minScore/100*a)-parseInt(e.minScore);e.x=l-o,e.slideBarWidth=a})).exec()})),setTimeout((function(){e.isCahngeBool=!0}),1400)},methods:{onChange:function(e,t){if(!this.isCahngeBool)return;let a=parseInt(e.detail.x/this.slideBarWidth*100)+parseInt(this.minScore);this.maxScore-a<=1&&(a=this.maxScore),this.score=a,this.x=e.detail.x,this.$emit("change",this.score,this.name)}}},[["render",function(t,a,l,o,n,s){return e.openBlock(),e.createElementBlock("view",null,[e.createElementVNode("view",{class:"slider-box"},[e.createElementVNode("view",{class:"flex"}),e.createElementVNode("movable-area",{class:"sliderBar",style:e.normalizeStyle({width:100-(parseInt(n.minScore)+(100-parseInt(n.maxScore)))+"%"})},[e.createElementVNode("view",{class:"gone",style:e.normalizeStyle({width:n.x+"px"})},null,4),e.createElementVNode("movable-view",{class:"slider",x:n.x,y:n.y,direction:"all",onChange:a[0]||(a[0]=(...e)=>s.onChange&&s.onChange(...e)),disabled:!n.isCahngeBool},[n.isTips?(e.openBlock(),e.createElementBlock("text",{key:0,class:"sliderTxt"},e.toDisplayString(n.score),1)):e.createCommentVNode("",!0)],40,["x","y","disabled"])],4),e.createElementVNode("view",{style:e.normalizeStyle({width:100-n.maxScore+"%"})},null,4)])])}],["__scopeId","data-v-8786519d"]]);var Ce;const De=n({data:()=>({lists:[]}),onLoad(){Ce=getApp(),this.getData()},onShow(){},methods:{switchChange(e){let t=e.currentTarget.dataset.key,a=e.detail.value?1:0;this.lists[t].status=a},soundChange(e,t){this.lists[t].set=e},getData(){let e=this;Ce.goPost("settings/getAppVolume",{},(function(t){e.lists=t.lists}))},upVolume(){let e={lists:JSON.stringify(this.lists)};Ce.goPost("settings/upAppVolume",e)}}},[["render",function(t,a,o,n,s,i){const c=l(e.resolveDynamicComponent("sliderBar"),Se);return e.openBlock(),e.createElementBlock(e.Fragment,null,[e.createElementVNode("view",{class:"content"},[e.createElementVNode("view",{class:"tips"}," 默认采用系统音量大小，可自定义调节 "),(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(s.lists,((t,l)=>(e.openBlock(),e.createElementBlock("view",{class:"line"},[e.createTextVNode(e.toDisplayString(t.title)+" ",1),e.createElementVNode("view",{class:"rinfo switchBtn"},[e.createElementVNode("switch",{checked:t.status,"data-key":l,color:"#0066CB",style:{transform:"scale(0.7)"},onChange:a[0]||(a[0]=(...e)=>i.switchChange&&i.switchChange(...e))},null,40,["checked","data-key"])]),t.status?(e.openBlock(),e.createElementBlock("view",{key:0,class:e.normalizeClass(["sliderBox",t.status?"":"disBlock"])},[e.createVNode(c,{max:t.max,min:t.min,default:t.set,name:l,onChange:i.soundChange},null,8,["max","min","default","name","onChange"])],2)):e.createCommentVNode("",!0)])))),256))]),e.createElementVNode("view",{class:"flowbom"},[e.createElementVNode("view",{class:"updateBtn bg-red-JB",onClick:a[1]||(a[1]=(...e)=>i.upVolume&&i.upVolume(...e))},"保存设置")])],64)}]]);var Ie;const Le=n({data:()=>({}),onLoad(){Ie=getApp()},onShow(){this.getData()},methods:{goDetails:function(){uni.navigateTo({url:"/pages/newsdetails/newsdetails"})},getData:function(){Ie.goPost("msg/getNotReadNum",{},(function(e){a("log","at pages/news/news.vue:40",e)}))}}},[["render",function(t,a,l,o,n,s){return e.openBlock(),e.createElementBlock("view",{class:"listsBox"},[e.createElementVNode("view",{class:"lists",onClick:a[0]||(a[0]=e=>s.goDetails())},[e.createElementVNode("text",{class:"iconfont icon-xiaoxitongzhi icon"}),e.createTextVNode(" 上下钟提醒 "),e.createElementVNode("view",{class:"tipsNum"},"99")])])}]]);var _e;const Pe=n({data:()=>({statusBarHeight:0}),onLoad(){_e=getApp(),this.statusBarHeight=_e.globalData.statusBarHeight},onShow(){},methods:{goBack:function(){let e=getCurrentPages();e[e.length-2]?uni.navigateBack():uni.reLaunch({url:"/pages/index/index"})}}},[["render",function(t,a,l,o,n,s){return e.openBlock(),e.createElementBlock(e.Fragment,null,[e.createElementVNode("view",{class:"topTitleBox",style:e.normalizeStyle({marginTop:n.statusBarHeight+"px"})},[e.createElementVNode("view",{class:"titleName",onClick:a[0]||(a[0]=e=>s.goBack())},[e.createElementVNode("i",{class:"iconfont icon-fanhui"}),e.createTextVNode("详情")]),e.createElementVNode("view",{class:"tipsIcon red"},"清空")],4),e.createElementVNode("view",{class:"listsBox"},[e.createElementVNode("view",{class:"item"},[e.createElementVNode("view",{class:"conTop"},[e.createElementVNode("view",{class:"conTitle"},"上钟提醒"),e.createElementVNode("view",{class:"conTime"},"2023/05/18 15:12:32")]),e.createElementVNode("view",{class:"content"},"809号请求上钟"),e.createElementVNode("view",{class:"conBtn"},[e.createElementVNode("view",{class:"btnLeft orange"},"我知道了"),e.createElementVNode("view",{class:"btnRight orange"},"查看详情")])]),e.createElementVNode("view",{class:"onBottom"},"—— 到底了 ——"),e.createElementVNode("view",{class:"noData"},[e.createElementVNode("i",{class:"iconfont icon-kongshuju"}),e.createTextVNode(" 暂无数据 ")])])],64)}]]);var Fe;const Oe=n({data:()=>({info:{},applyNum:"",imgLists:[],fileLists:[],readInfo:{},applyType:"",detail:[],nextNum:"",notReadNums:0,onlyNotRead:1,unreadList:[],isUnReadBox:!1}),onLoad(e){Fe=getApp(),this.applyNum=e.num,this.getDetail()},onShow(){},methods:{openUnReadBox(){this.isUnReadBox=!0},closeUnReadBox(){this.isUnReadBox=!1},goBack(){uni.navigateBack({delta:1})},getDetail(){let e=this,t={applyNum:e.applyNum,onlyNotRead:e.onlyNotRead};Fe.goPost("oagonggao/detail",t,(function(t){e.info=t.info,e.imgLists=t.imgLists,e.fileLists=t.fileLists,e.nextNum=t.nextNum,e.readInfo=t.readInfo,e.applyType=t.applyType,e.detail=t.detail,e.unreadList=t.unreadList,t.hasOwnProperty("notReadNums")&&(e.notReadNums=t.notReadNums),Fe.readNotice(e.applyNum),uni.setNavigationBarTitle({title:t.title})}))},goNext(){let e=this;""!=e.nextNum&&(e.applyNum=e.nextNum,e.getDetail())},changeOnlyNotRead(e){this.onlyNotRead=e.detail.value.length>0?1:0,this.getDetail()},previewImage(e){let t=e.currentTarget.dataset.index,a=this.imgLists,l=a[t],o=[];for(let n in a)o.push(a[n]);uni.previewImage({current:l,urls:o})},clickFile(e){let t=e.currentTarget.dataset.index,a=this.fileLists[t];if(1==a.type)return uni.previewImage({current:a.url,urls:[a.url]}),!1;let l=[];if(1==a.open&&l.push("打开"),1==a.download&&l.push("下载"),l.length<1)return Fe.showMsg("该文件暂不支持打开或下载"),!1;uni.showActionSheet({title:!1,itemList:l,success:function(e){switch(l[e.tapIndex]){case"打开":Fe.openFile(a.url);break;case"下载":Fe.downloadFile(a.url)}}})}}},[["render",function(t,a,o,n,s,i){const c=l(e.resolveDynamicComponent("ydPromptBottom"),b);return e.openBlock(),e.createElementBlock(e.Fragment,null,[5!=s.info.status?(e.openBlock(),e.createElementBlock("view",{key:0,class:"detailBox"},[e.createElementVNode("view",{class:"title"},e.toDisplayString(s.info.title),1),e.createElementVNode("text",{class:"detail"},e.toDisplayString(s.info.content),1),s.imgLists.length>0?(e.openBlock(),e.createElementBlock(e.Fragment,{key:0},[e.createElementVNode("view",{class:"smallTitle"},"图片："),e.createElementVNode("view",{class:"imgLists"},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(s.imgLists,((t,l)=>(e.openBlock(),e.createElementBlock("view",{class:"imgItem","data-index":l,onClick:a[0]||(a[0]=(...e)=>i.previewImage&&i.previewImage(...e))},[e.createElementVNode("image",{class:"filled-image",mode:"aspectFill",src:t},null,8,["src"])],8,["data-index"])))),256))])],64)):e.createCommentVNode("",!0),s.fileLists.length>0?(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[e.createElementVNode("view",{class:"smallTitle"},"附件："),e.createElementVNode("view",{class:"fileLists"},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(s.fileLists,((t,l)=>(e.openBlock(),e.createElementBlock("view",{class:"fileItem","data-index":l,onClick:a[1]||(a[1]=(...e)=>i.clickFile&&i.clickFile(...e))},[e.createElementVNode("text",{class:"txt orange"},e.toDisplayString(t.name),1)],8,["data-index"])))),256))])],64)):e.createCommentVNode("",!0),6==s.info.status&&(s.readInfo.has>0||s.readInfo.not>0)?(e.openBlock(),e.createElementBlock("view",{key:2,class:"read"},[e.createElementVNode("text",{class:"has"},e.toDisplayString(s.readInfo.has)+"人已读",1),e.createElementVNode("text",{class:""}," / "),e.createElementVNode("text",{class:"not red"},e.toDisplayString(s.readInfo.not)+"人未读",1),e.createElementVNode("text",{class:"unreadBtn",onClick:a[2]||(a[2]=(...e)=>i.openUnReadBox&&i.openUnReadBox(...e))},"点击查看")])):e.createCommentVNode("",!0)])):e.createCommentVNode("",!0),5!=s.info.status?(e.openBlock(),e.createElementBlock("view",{key:1,class:"detailBox"},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(s.detail,((t,a)=>(e.openBlock(),e.createElementBlock("view",{class:"infoItem"},[e.createElementVNode("view",{class:"label"},e.toDisplayString(t.name),1),e.createElementVNode("view",{class:"txt"},[e.createTextVNode(e.toDisplayString(t.value?t.value:" ")+" ",1),t.subTxt?(e.openBlock(),e.createElementBlock("text",{key:0,class:e.normalizeClass(["ml15",t.subClass])},e.toDisplayString(t.subTxt),3)):e.createCommentVNode("",!0)])])))),256))])):e.createCommentVNode("",!0),5==s.info.status?(e.openBlock(),e.createElementBlock("view",{key:2,class:"noData"},[e.createElementVNode("i",{class:"iconfont icon-kongshuju"}),e.createTextVNode(" 记录已被删除 ")])):e.createCommentVNode("",!0),e.createElementVNode("view",{class:"pb80"}),e.createElementVNode("view",{class:"pb15"}),e.createElementVNode("view",{class:"IOSBottom"}),e.createElementVNode("checkbox-group",{class:e.normalizeClass(["notReadNums red IOSBottom",""!=s.nextNum?"":"notNext"]),onChange:a[3]||(a[3]=(...e)=>i.changeOnlyNotRead&&i.changeOnlyNotRead(...e))},[e.createElementVNode("label",null,[e.createElementVNode("checkbox",{value:"1",color:"#f00",checked:1==s.onlyNotRead},null,8,["checked"]),e.createTextVNode("只看未读"),s.notReadNums>0?(e.openBlock(),e.createElementBlock("text",{key:0},"（还有"+e.toDisplayString(s.notReadNums)+"条）",1)):e.createCommentVNode("",!0)])],34),""!=s.nextNum?(e.openBlock(),e.createElementBlock("view",{key:3,class:"submit IOSBottom"},[e.createElementVNode("text",{class:"btn",onClick:a[4]||(a[4]=(...e)=>i.goNext&&i.goNext(...e))},"下一条")])):e.createCommentVNode("",!0),""==s.nextNum?(e.openBlock(),e.createElementBlock("view",{key:4,class:"submit IOSBottom"},[e.createElementVNode("text",{class:"btn",onClick:a[5]||(a[5]=(...e)=>i.goBack&&i.goBack(...e))},"点击返回")])):e.createCommentVNode("",!0),e.createVNode(c,{isOpen:s.isUnReadBox,onClose:i.closeUnReadBox},{default:e.withCtx((()=>[e.createElementVNode("view",{class:"prompt-title"},[e.createTextVNode("未读人员"),e.createElementVNode("text",{class:"iconfont icon-guanbi close-icon red",onClick:a[6]||(a[6]=(...e)=>i.closeUnReadBox&&i.closeUnReadBox(...e))})]),e.createElementVNode("ul",{class:"unreadList"},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(s.unreadList,((t,a)=>(e.openBlock(),e.createElementBlock("li",null,e.toDisplayString(t),1)))),256))])])),_:1},8,["isOpen","onClose"])],64)}]]);var Ae,Me;const je=n({data:()=>({}),onLoad(){Ae=getApp();try{Me=t("CameraModule")}catch(e){a("log","at pages/renLian/renLian.vue:22","CameraModule初始化失败",e)}},onShow(){},methods:{openRenLianBox(){let e=this;try{Me.jumpFaceDetection((t=>{a("log","at pages/renLian/renLian.vue:36","call back imgPath",t),e.callBack(t)}))}catch(t){a("log","at pages/renLian/renLian.vue:42","调用jumpFaceDetection失败",t)}},callBack(e){Ae.uploadFile(e,{type:1},(function(e){a("log","at pages/renLian/renLian.vue:53","上传成功",e)}),(function(e){Ae.showMsg("上传中"+e.progress+"%","loading")}))}}},[["render",function(t,a,l,o,n,s){return e.openBlock(),e.createElementBlock("button",{onClick:a[0]||(a[0]=(...e)=>s.openRenLianBox&&s.openRenLianBox(...e))},"人脸识别")}]]);var ze;const Re=n({data:()=>({page:1,lists:[],searchTxt:"",upDetailBool:!0,termList:[],sort:0,status:"all",type:"all",showTermKey:"",newSet:"",showBg:!1,boxTop:0,currTop:0,zhidingNum:0,isHua:0,isSetScreen:"",screenLists:{0:0,1:0,2:0},isAdd:!1}),onLoad(){ze=getApp(),this.getInitData()},onShow(){this.goSearch()},methods:{goDetail(e){let t=this.lists[e].apply_num,a=this.lists[e].oaType;uni.navigateTo({url:"/pages/oadetail/oadetail?apply_num="+t+"&oa_type="+a})},edit(e){let t=this.lists[e];uni.navigateTo({url:"/pages/oaapplyadd/leave?apply_num="+t.apply_num})},goSearch(){this.page=1,this.getData()},clearSearch(){this.searchTxt="",this.page=1,this.getData()},chaTopTerm(e){let t=this,a=e.currentTarget.dataset.index,l=t.termList[a];if(t.showTermKey===a)return void t.clearTerm();let o=l.key;t[o],t.showTermKey=a,t.newSet=t[o],t.showBg=!0},chaTerm(e){let t=this,a=e.currentTarget.dataset.index,l=e.currentTarget.dataset.index2,o=t.termList[a],n=t.termList[a].list[l];t[o.key]=n.id,t.screenLists[a]=l,"all"===n.id?o.name=o.oname:o.name=n.name,t.clearTerm(),t.goSearch()},clearTerm(){this.showTermKey="",this.showBg=!1},getInitData(){let e=this;ze.goPost("oaapply/initdata",{type:"leave"},(function(t){e.termList=t.termList,e.isAdd=t.isAdd}))},getData(){let e=this,t={page:e.page,oaType:4,searchTxt:e.searchTxt,type:e.type,sort:e.sort,status:e.status};if(0==e.page)return!1;ze.goPost("oaapply/myApplyList",t,(function(t){1==e.page?e.lists=t.lists:e.lists=e.lists.concat(t.lists),e.page++,t.lists.length<1&&(e.page=0)}))},moreOp(e){let t=this,a=e.currentTarget.dataset.index,l=t.lists[a],o=l.leaveStatus,n=l.isSelf,s=l.isXiaojia,i=["详情"];1==n&&(0==o&&(i.push("撤销"),i.push("加急")),2!=o&&4!=o&&5!=o||i.push("编辑"),5==o&&i.push("作废")),1==o&&1==s&&i.push("销假");let c=ze.showActionSheetParams({itemList:i,success:function(e){switch(i[e.tapIndex]){case"详情":t.goDetail(a);break;case"编辑":t.edit(a);break;case"撤销":t.updateStatus(a,5);break;case"作废":t.updateStatus(a,4);break;case"加急":t.urgentNotice(a);break;case"销假":t.revokeLeave(a)}}});t.upDetailBool&&(t.upDetailBool=!1,uni.showActionSheet(c),setTimeout((function(){t.upDetailBool=!0}),1e3))},updateStatus(e,t){let a=this,l=a.lists[e],o={orderid:l.apply_num,status:t,oaType:4},n=5==t?"撤销":"作废";uni.showModal({title:"温馨提示",content:"确定要"+n+"吗?",success(e){e.confirm&&ze.goPost("oaapply/updatestatus",o,(function(e){a.goSearch()}))}})},revokeLeave(e){let t=this,a=t.lists[e],l={orderid:a.apply_num};uni.showModal({title:"温馨提示",content:"确定要销假吗?",success(e){e.confirm&&ze.goPost("oaapply/revokeLeave",l,(function(e){t.goSearch()}))}})},apply(){uni.navigateTo({url:"/pages/oaapplyadd/leave"})},cliSeaBtn(){this.getData()},clearSeach(){let e=this.searchTxt;this.searchTxt="",e&&this.goSearch()},urgentNotice(e){let t={apply_num:this.lists[e].apply_num};ze.goPost("oaapply/getUrgentNum",t,(function(e){let a=e.maxLen,l=a-e.num,o=l<=0?0:l,n="本审批单剩余加急次数："+o+" \r\n确定要加急吗?";0==l&&(n="本审批单剩余加急次数："+o+" \r\n暂时无法加急!"),uni.showModal({title:"加急督办(最多"+a+"次)",content:n,success(e){if(e.confirm&&l>0){let e="oaapply/urgentNotice";ze.goPost(e,t,(function(e){}))}}})}))},startScroll:function(){this.isHua=1},boxscroll:function(e){var t=this,a=e.detail.scrollTop,l=t.currTop,o=t.boxTop;a>l&&0==t.isHua&&a>20&&a<50&&(this.isHua=1),1==t.isHua&&(a>=l?(o-=8)>-49&&(t.boxTop=o):(o+=8)<1&&(t.boxTop=o)),t.currTop=a},zhidingBtn:function(){var e=this;e.boxTop=0,e.isHua=0,e.zhidingNum=1==e.zhidingNum?0:1},sureTop:function(){this.boxTop=0,this.isHua=0},sureBom:function(){var e=this;e.boxTop=-48,e.isHua=0,e.getData()},openSearchInfo:function(){this.clearTerm(),this.isSetScreen=1},closeSearchInfo:function(){this.isSetScreen=0},selScreen:function(e){var t=e.currentTarget.dataset.idx,a=e.currentTarget.dataset.idx2;this.screenLists[t]=a},resetScreen:function(){this.screenLists={0:0,1:0,2:0}},sureSeach:function(){var e=this,t=e.screenLists;for(var a in t){var l=e.termList[a],o=e.termList[a].list[t[a]];e[l.key]=o.id,"all"===o.id?l.name=l.oname:l.name=o.name}e.closeSearchInfo(),e.goSearch()}}},[["render",function(t,a,l,o,n,s){return e.openBlock(),e.createElementBlock(e.Fragment,null,[e.createElementVNode("view",{class:"topBox",style:e.normalizeStyle("top:"+n.boxTop+"px;")},[e.createElementVNode("view",{class:"searchBox"},[e.createElementVNode("i",{class:"iconfont icon-sousuo search"}),e.withDirectives(e.createElementVNode("input",{class:"seaCon",type:"text",placeholder:"请输入订单号","onUpdate:modelValue":a[0]||(a[0]=e=>n.searchTxt=e)},null,512),[[e.vModelText,n.searchTxt]]),""!=n.searchTxt?(e.openBlock(),e.createElementBlock("i",{key:0,class:"iconfont icon-shibai1 close",onClick:a[1]||(a[1]=(...e)=>s.clearSeach&&s.clearSeach(...e))})):e.createCommentVNode("",!0),e.createElementVNode("view",{class:"seaBtn",onClick:a[2]||(a[2]=(...e)=>s.goSearch&&s.goSearch(...e))},"搜索")]),e.createElementVNode("ul",{class:"termBox"},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(n.termList,((t,l)=>(e.openBlock(),e.createElementBlock("li",null,[e.createElementVNode("view",{onClick:a[3]||(a[3]=(...e)=>s.chaTopTerm&&s.chaTopTerm(...e)),class:e.normalizeClass(t.name!=t.oname?"red":""),"data-index":l},[e.createElementVNode("text",null,e.toDisplayString(t.name),1),n.showTermKey!==l?(e.openBlock(),e.createElementBlock("i",{key:0,class:e.normalizeClass(["iconfont icon-tubiaozhizuo-1",t.name!=t.oname?"red":""])},null,2)):n.showTermKey===l?(e.openBlock(),e.createElementBlock("i",{key:1,class:e.normalizeClass(["iconfont icon-tubiaozhizuo-",t.name!=t.oname?"red":""])},null,2)):e.createCommentVNode("",!0)],10,["data-index"]),n.showTermKey===l?(e.openBlock(),e.createElementBlock("ul",{key:0,class:"nextBox"},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(t.list,((t,o)=>(e.openBlock(),e.createElementBlock("li",{onClick:a[4]||(a[4]=(...e)=>s.chaTerm&&s.chaTerm(...e)),"data-index":l,"data-index2":o},[e.createTextVNode(e.toDisplayString(t.name)+" ",1),n.newSet==t.id?(e.openBlock(),e.createElementBlock("i",{key:0,class:"iconfont icon-xuanzhong"})):e.createCommentVNode("",!0)],8,["data-index","data-index2"])))),256))])):e.createCommentVNode("",!0)])))),256)),e.createElementVNode("li",{style:{width:"18%"}},[e.createElementVNode("view",{onClick:a[5]||(a[5]=(...e)=>s.openSearchInfo&&s.openSearchInfo(...e))},[e.createElementVNode("text",null,[e.createTextVNode(" 筛选"),e.createElementVNode("i",{class:"iconfont icon-shaixuan",style:{color:"#333"}})])])])])],4),e.createElementVNode("scroll-view",{class:e.normalizeClass(["infoListBox",n.isAdd?"":"bom0"]),id:"infoListBox","scroll-y":"true","scroll-top":n.zhidingNum,onScrolltolower:a[7]||(a[7]=(...e)=>s.sureBom&&s.sureBom(...e)),style:e.normalizeStyle("top:"+(n.boxTop+82)+"px;"),onScroll:a[8]||(a[8]=(...e)=>s.boxscroll&&s.boxscroll(...e)),onScrolltoupper:a[9]||(a[9]=(...e)=>s.sureTop&&s.sureTop(...e)),onTouchstart:a[10]||(a[10]=(...e)=>s.startScroll&&s.startScroll(...e))},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(n.lists,((l,o)=>(e.openBlock(),e.createElementBlock("view",{class:"infoLists yfBox",key:t.apply_num,"data-index":o,onClick:a[6]||(a[6]=(...e)=>s.moreOp&&s.moreOp(...e))},[e.createElementVNode("view",{class:"listsTop"},[e.createElementVNode("view",{class:"listsTopTitle"},e.toDisplayString(l.typeName),1),e.createElementVNode("view",{class:e.normalizeClass(["listsTopMoney",l.statusClass])},[e.createElementVNode("text",null,e.toDisplayString(l.statusTxt),1)],2)]),e.createElementVNode("view",{class:"listsContent"},[e.createElementVNode("view",{class:"listsConName"},"请假员工"),e.createElementVNode("view",{class:"listsConInfo"},e.toDisplayString(l.staffName),1)]),e.createElementVNode("view",{class:"listsContent"},[e.createElementVNode("view",{class:"listsConName"},"请假类型"),e.createElementVNode("view",{class:"listsConInfo"},e.toDisplayString(l.typeTxt),1)]),e.createElementVNode("view",{class:"listsContent bombor"},[e.createElementVNode("view",{class:"listsConName"},"请假时长"),e.createElementVNode("view",{class:"listsConInfo leaveTime"},e.toDisplayString(l.abbr_start_time)+" ~ "+e.toDisplayString(l.abbr_end_time)+"（"+e.toDisplayString(l.duration)+")",1)]),e.createElementVNode("view",{class:"listsContent"},[e.createElementVNode("view",{class:"listsConName"},"申请时间"),e.createElementVNode("view",{class:"listsConInfo"},e.toDisplayString(l.addtime),1)])],8,["data-index"])))),128)),n.lists.length>0&&0==n.page?(e.openBlock(),e.createElementBlock("view",{key:0,class:"daoDiLe IOSBottom"},"到底了")):e.createCommentVNode("",!0),0==n.lists.length?(e.openBlock(),e.createElementBlock("view",{key:1,class:"noData"},[e.createElementVNode("i",{class:"iconfont icon-kongshuju"}),e.createTextVNode(" 暂无数据 ")])):e.createCommentVNode("",!0)],46,["scroll-top"]),n.isAdd?(e.openBlock(),e.createElementBlock("view",{key:0,class:"foot IOSBottom"},[e.createElementVNode("view",{class:"footBtn bg-orange-JB",onClick:a[11]||(a[11]=(...e)=>s.apply&&s.apply(...e))},"新增申请")])):e.createCommentVNode("",!0),n.showBg?(e.openBlock(),e.createElementBlock("view",{key:1,class:"fixBg",onClick:a[12]||(a[12]=(...e)=>s.clearTerm&&s.clearTerm(...e))})):e.createCommentVNode("",!0),e.createElementVNode("view",{class:"rBomOpBox"},[n.currTop>50?(e.openBlock(),e.createElementBlock("view",{key:0,class:"subBtn IOSMGBottom",onClick:a[13]||(a[13]=(...e)=>s.zhidingBtn&&s.zhidingBtn(...e))},[e.createElementVNode("i",{class:"iconfont icon-fanhuidingbu"})])):e.createCommentVNode("",!0)]),1==n.isSetScreen?(e.openBlock(),e.createElementBlock("view",{key:2,class:"blackBg",onClick:a[14]||(a[14]=(...e)=>s.closeSearchInfo&&s.closeSearchInfo(...e))})):e.createCommentVNode("",!0),1==n.isSetScreen?(e.openBlock(),e.createElementBlock("view",{key:3,class:"screenBox IOSBottom"},[e.createElementVNode("view",{class:"screenTitle"},"筛选"),e.createElementVNode("view",{style:{height:"3rem"}}),(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(n.termList,((t,l)=>(e.openBlock(),e.createElementBlock("view",{class:"screenCon"},[e.createElementVNode("view",{class:"screenTips"},e.toDisplayString(t.oname),1),e.createElementVNode("view",{class:"screenSetBox"},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(t.list,((t,o)=>(e.openBlock(),e.createElementBlock("view",{class:e.normalizeClass(["screenSet",n.screenLists[l]==o?"screenSeted":""]),"data-idx":l,"data-idx2":o,onClick:a[15]||(a[15]=(...e)=>s.selScreen&&s.selScreen(...e))},e.toDisplayString(t.name),11,["data-idx","data-idx2"])))),256))])])))),256)),e.createElementVNode("view",{style:{height:"3.6rem"}}),e.createElementVNode("view",{class:"screenBtn IOSBottom"},[e.createElementVNode("view",{class:"screenLBtn bg-orange-JB",onClick:a[16]||(a[16]=(...e)=>s.resetScreen&&s.resetScreen(...e))},"重置"),e.createElementVNode("view",{class:"screenRBtn bg-red-JB",onClick:a[17]||(a[17]=(...e)=>s.sureSeach&&s.sureSeach(...e))},"确定")])])):e.createCommentVNode("",!0)],64)}]]);var Ue;const He=n({data:()=>({apply_num:"",setLeave:1,startTime:"",endTime:"",setLeaveIndex:0,pic:[],path:[],reason:"",status:"",typeList:[],sysTipsConfig:{},oaType:4,spTypeList:[],spTypeIndex:"",spType:"",default_approve:[],custom_person:[],approve:[],copy_person:[],setType:"",proBom:!1,isOpenTimeErrorBox:!1,timeError:{}}),onLoad(e){Ue=getApp(),this.apply_num=e.apply_num?e.apply_num:"",this.getData(),this.apply_num&&this.getDetail(),this.sysTipsConfig=Ue.getInitSysTipsConfig()},methods:{getData:function(){let e=this,t={type:"leave",orderid:e.apply_num,oaType:e.oaType,getMrSpr:0,qjType:0};Ue.goPost("oaapply/getInitDataForAdd",t,(function(t){e.typeList=t.typeList,e.spTypeList=t.spTypeList,e.spTypeIndex=t.spTypeIndex,e.spType=t.data.spType,e.default_approve=t.default_approve;let a=t.data.custom_person;if(a.approve&&(e.approve=a.approve),a.copy_person&&(e.copy_person=a.copy_person),1==t.hasData){let a=t.data;e.setLeave=a.setLeave,e.setLeaveIndex=a.setLeaveIndex,e.startTime=a.startTime,e.endTime=a.endTime,e.path=a.path,e.pic=a.pic,e.reason=a.reason,e.getspr()}}))},seleLeave:function(e){this.setLeaveIndex=e,this.setLeave=this.typeList[e].id,this.closeProBom()},seleStrTime:function(e){let t=e.key,a=this.$data.endTime,l=new Date(t),o=new Date(a);if(l.getTime()>=o.getTime())return Ue.showMsg("开始时间需小于结束时间"),!1;this.startTime=e.key,this.getspr()},seleEndTime:function(e){let t=this.$data.startTime,l=e.key,o=new Date(t),n=new Date(l);if(a("log","at pages/oaapplyadd/leave.vue:354",o.getTime()),a("log","at pages/oaapplyadd/leave.vue:355",n.getTime()),a("log","at pages/oaapplyadd/leave.vue:356",o.getTime()<=n.getTime()),o.getTime()>n.getTime())return Ue.showMsg("结束时间需大于开始时间"),!1;this.endTime=e.key,this.getspr()},chooseImage:function(e){let t=this;uni.chooseImage({sizeType:["original","compressed"],sourceType:["album","camera"],count:1,success(e){t.uploadImg(e)},fail(e){}})},uploadImg:function(e){var t=this;let l=e.tempFilePaths[0];Ue.uploadFile(l,{type:1},(function(e){a("log","at pages/oaapplyadd/leave.vue:393","res",e),t.pic.push(e.url),t.path.push(e.path)}),(function(e){Ue.showMsg("上传中"+e.progress+"%","loading")}))},changeInput:function(e){var t=e.currentTarget.dataset.name,a=e.detail.value;this[t]=a},submitData:function(){let e=this,t=e.apply_num,a=e.setLeave,l=e.startTime,o=e.endTime,n=e.path,s=e.reason,i=e.status;if(!l)return void Ue.showMsg("选择开始时间");if(!o)return void Ue.showMsg("选择结束时间");n=n.length>0?n.join(","):"";let c={type:a,start:l,end:o,path:n,reason:s,spType:e.spType,custom_person:e.getCustomPeople()},r="apply/addLeave";""!=t&&5==i&&(r="oaapply/leaveEdit",c.apply_num=t,c.isUpdata=1),Ue.goPost(r,c,(function(a){""!=t&&5==i?e.updateStatus(0):setTimeout((function(){uni.navigateBack()}),1500)}),(function(t,a){"121"==a&&e.openTimeErrorBox(t)}))},openTimeErrorBox(e){this.timeError=e,this.isOpenTimeErrorBox=!0},closeTimeErrorBox(){this.isOpenTimeErrorBox=!1},updateStatus(e){let t=this,a={orderid:t.apply_num,status:e,oaType:4};Ue.goPost("oaapply/updatestatus",a,(function(e){setTimeout((function(){uni.navigateBack()}),1500)}),(function(e,a){"121"==a&&t.openTimeErrorBox(e)}))},backTop:function(){this.closeSysTips(),uni.navigateBack({delta:1})},getDetail(){let e=this,t={apply_num:e.apply_num};Ue.goPost("oaapply/leaveEdit",t,(function(t){let a=t.data;e.setLeave=a.setLeave,e.setLeaveIndex=a.setLeaveIndex,e.startTime=a.startTime,e.endTime=a.endTime,e.path=a.path,e.pic=a.pic,e.reason=a.reason,e.status=a.status}))},saveData(){let e=this,t=e.apply_num;if(e.path,""!=t)return!1;let a={setLeave:e.setLeave,setLeaveIndex:e.setLeaveIndex,startTime:e.startTime,endTime:e.endTime,path:e.path.join(","),reason:e.reason,oaType:e.oaType,spType:e.spType,custom_person:e.getCustomPeople()};Ue.goPost("oaapply/savedata",a,(function(e){}))},delImg(e){let t=this,a=[],l=[],o=e.currentTarget.dataset.index;for(let n in t.pic)n!=o&&a.push(t.pic[n]);for(let n in t.path)n!=o&&l.push(t.path[n]);t.pic=a,t.path=l},selectSpType:function(e){let t=e.detail.value;this.spTypeIndex=t,this.spType=this.spTypeList[t].id,a("log","at pages/oaapplyadd/leave.vue:628","this.spType",this.spType)},goSetCustomPerson(e){let t=this;a("log","at pages/oaapplyadd/leave.vue:637","t",e),t.setType=e;uni.navigateTo({url:"/pages/companysel/companysel?op=chooseStaff",events:{backFun:function(e){a("log","at pages/oaapplyadd/leave.vue:646","data",JSON.stringify(e));let l=e.sid,o=e.sendTxt.split(",");for(let a=0;a<l.length;a++){let e=[{id:l[a],name:o[a],way:1}];e=t.getNewSetPeople(e),1==t.setType?t.approve=t.approve.concat(e):2==t.setType&&(t.copy_person=t.copy_person.concat(e))}}},success:function(e){let a=[];1==t.setType?a=t.approve:2==t.setType&&(a=t.copy_person);let l=a.map((e=>e.id));e.eventChannel.emit("afferent",{sid:l,did:[]})}})},getNewSetPeople(e){let t=this,a=e.map((e=>e.id)),l=[];l=1==t.setType?t.approve.map((e=>e.id)):2==t.setType?t.copy_person.map((e=>e.id)):t.work_person.map((e=>e.id));let o=[];for(var n=0;n<a.length;n++)l.includes(a[n])||o.push(e[n]);return o},movePeople(e,t){let l=this,o=l.approve[t];l.approve.splice(t,1);let n=t-1;2==e&&(n=Number(t)+1),a("log","at pages/oaapplyadd/leave.vue:746",t,n),l.approve.splice(n,0,o)},delPeople(e,t){let a=this;1==e?a.approve.splice(t,1):2==e?a.copy_person.splice(t,1):a.work_person.splice(t,1)},getCustomPeople(){let e={approve:this.approve,copy_person:this.copy_person};return e=JSON.stringify(e),e},getspr(){let e=this,t=e.startTime,l=e.endTime;if(""==t||""==l)return!1;let o=new Date(t),n=new Date(l),s=o.getTime(),i=n.getTime();if(i<s)return Ue.showMsg("开始时间需小于结束时间"),!1;let c=((Number(i)-Number(s))/1e3/86400).toFixed(2);a("log","at pages/oaapplyadd/leave.vue:813","getspr",s,i,c);let r={oaType:e.oaType,qjType:0,day:c};Ue.goPost("oaapply/getspr",r,(function(t){a("log","at pages/oaapplyadd/leave.vue:826",t),e.default_approve=t.approve}))},showProBom:function(){this.proBom=!0},closeProBom:function(){this.proBom=!1}}},[["render",function(t,a,o,n,s,i){const c=l(e.resolveDynamicComponent("timeSelector"),w),r=l(e.resolveDynamicComponent("ydPromptBottom"),b);return e.openBlock(),e.createElementBlock(e.Fragment,null,[e.createElementVNode("view",{class:"content"},[e.createElementVNode("view",{class:"sdFormInfo"},[e.createElementVNode("view",{class:"sdFormInputSet"},[e.createElementVNode("view",{class:"sdFormInlineTitleSet"},[e.createElementVNode("view",{class:"sdFormXing red"},"*"),e.createElementVNode("view",{class:"sdFormInlineTitle"},"请假类型")]),e.createElementVNode("view",{class:"sdFormInlineInput",onClick:a[0]||(a[0]=(...e)=>i.showProBom&&i.showProBom(...e))},[e.createElementVNode("view",{class:e.normalizeClass(["sdFormInlineName",""===s.setLeave||0==s.typeList.length?"":"orange"])},e.toDisplayString(""===s.setLeave||0==s.typeList.length?"请选择":s.typeList[s.setLeaveIndex].name),3),e.createElementVNode("view",{class:"sdFormRightJianTou"},[e.createElementVNode("text",{class:"iconfont icon-youbian1"})])])]),e.createElementVNode("view",{class:"sdFormInputSet"},[e.createElementVNode("view",{class:"sdFormInlineTitleSet"},[e.createElementVNode("view",{class:"sdFormXing red"},"*"),e.createElementVNode("view",{class:"sdFormInlineTitle"},"开始时间")]),e.createElementVNode("view",{class:"sdFormInlineInput"},[e.createVNode(c,{showType:"yearToMinute",defaultValue:s.startTime,beginDate:"2022-01-01",endDate:"2100-12-31",defaultMinute:"0",onBtnConfirm:i.seleStrTime,onBtnCancel:t.btnCancel},{default:e.withCtx((()=>[e.createElementVNode("view",{class:"sdFormInlineName"},e.toDisplayString(""!=s.startTime?s.startTime:"请选择"),1),e.createElementVNode("view",{class:"sdFormRightJianTou"},[e.createElementVNode("text",{class:"iconfont icon-youbian1"})])])),_:1},8,["defaultValue","onBtnConfirm","onBtnCancel"])])]),e.createElementVNode("view",{class:"sdFormInputSet"},[e.createElementVNode("view",{class:"sdFormInlineTitleSet"},[e.createElementVNode("view",{class:"sdFormXing red"},"*"),e.createElementVNode("view",{class:"sdFormInlineTitle"},"结束时间")]),e.createElementVNode("view",{class:"sdFormInlineInput"},[e.createVNode(c,{showType:"yearToMinute",defaultValue:s.endTime,beginDate:"2022-01-01",endDate:"2100-12-31",defaultMinute:"0",onBtnConfirm:i.seleEndTime,onBtnCancel:t.btnCancel},{default:e.withCtx((()=>[e.createElementVNode("view",{class:"sdFormInlineName"},e.toDisplayString(""!=s.endTime?s.endTime:"请选择"),1),e.createElementVNode("view",{class:"sdFormRightJianTou"},[e.createElementVNode("text",{class:"iconfont icon-youbian1"})])])),_:1},8,["defaultValue","onBtnConfirm","onBtnCancel"])])]),e.createElementVNode("view",{class:"sdFormInputSet"},[e.createElementVNode("view",{class:"sdFormBlockTitleSet"},[e.createElementVNode("view",{class:"sdFormInlineTitle"},"请假事由")]),e.createElementVNode("view",{class:"sdFormBlockInput"},[e.createElementVNode("textarea",{class:"sdFormBlockTextarea",maxlength:"100","placeholder-style":"color:#999;",placeholder:"输入请假事由","data-name":"reason",value:s.reason,onInput:a[1]||(a[1]=(...e)=>i.changeInput&&i.changeInput(...e))},null,40,["value"])])])]),e.createElementVNode("view",{class:"sdFormInfo"},[e.createElementVNode("view",{class:"sdFormManyPicSet"},[e.createElementVNode("view",{class:"sdFormManyPicTitleSet"},[e.createElementVNode("view",{class:"sdFormManyPicTitle"},"图片上传"),e.createElementVNode("text",{class:"sdFormManyPicSubTips"},"最多1张")]),e.createElementVNode("view",{class:"sdFormManyPicBox fl"},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(s.pic,((t,l)=>(e.openBlock(),e.createElementBlock("view",{class:"sdFormManyPicImg fl"},[e.createElementVNode("image",{src:t},null,8,["src"]),e.createElementVNode("view",{class:"sdFormManyPicImgDel","data-index":l,onClick:a[2]||(a[2]=(...e)=>i.delImg&&i.delImg(...e))},[e.createElementVNode("text",{class:"iconfont icon-guanbi"})],8,["data-index"])])))),256)),e.createElementVNode("view",{class:"sdFormManyPicAdd fl",onClick:a[3]||(a[3]=(...e)=>i.chooseImage&&i.chooseImage(...e))},[e.createElementVNode("text",{class:"iconfont icon-shangchuantupian"})])]),e.createElementVNode("view",{class:"clearfix"}),e.createElementVNode("view",{class:"sdFormManyPicTips gray"})])]),e.createElementVNode("view",{class:"sdFormInfo",style:{"padding-bottom":"65px"}},[e.createElementVNode("view",{class:"sdFormInputSet"},[e.createElementVNode("view",{class:"sdFormInlineTitleSet"},[e.createElementVNode("view",{class:"sdFormXing red"},"*"),e.createElementVNode("view",{class:"sdFormInlineTitle"},"审批类型")]),e.createElementVNode("view",{class:"sdFormInlineInput"},[e.createElementVNode("picker",{onChange:a[4]||(a[4]=(...e)=>i.selectSpType&&i.selectSpType(...e)),value:s.spTypeIndex,range:s.spTypeList,"range-key":"name"},[e.createElementVNode("view",{class:"sdFormInlineName"},e.toDisplayString(""===s.spTypeIndex||0==s.spTypeList.length?"请选择":s.spTypeList[s.spTypeIndex].name),1),e.createElementVNode("view",{class:"sdFormRightJianTou"},[e.createElementVNode("text",{class:"iconfont icon-youbian1"})])],40,["value","range"])])]),1==s.spType?(e.openBlock(),e.createElementBlock("view",{key:0,class:"sdFormInputSet"},[e.createElementVNode("view",{class:"sprTitle"},"审批人"),e.createElementVNode("view",{class:"mrSpr"},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(s.default_approve,((t,a)=>(e.openBlock(),e.createElementBlock("view",{class:"peo"},[e.createElementVNode("text",{class:"n"},e.toDisplayString(t.node),1),e.createTextVNode(e.toDisplayString(t.name),1)])))),256)),s.default_approve.length<1?(e.openBlock(),e.createElementBlock("view",{key:0,class:"tips"}," 未设置审批人或根据请假天数显示对应审批人 ")):e.createCommentVNode("",!0)])])):e.createCommentVNode("",!0),2==s.spType?(e.openBlock(),e.createElementBlock("view",{key:1,class:"sdFormInputSet"},[e.createElementVNode("view",{class:"sprTitle"},[e.createElementVNode("text",{class:"txt"},"审批人"),e.createElementVNode("text",{class:"add iconfont icon-54",onClick:a[5]||(a[5]=e=>i.goSetCustomPerson(1))})]),e.createElementVNode("view",{class:"mrSpr"},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(s.approve,((t,a)=>(e.openBlock(),e.createElementBlock("view",{class:"peo"},[e.createElementVNode("text",{class:"n"},e.toDisplayString(a+1),1),e.createElementVNode("text",{class:"na"},e.toDisplayString(t.name),1),e.createElementVNode("text",{class:"set",onClick:e=>i.delPeople(1,a)},[e.createElementVNode("i",{class:"iconfont icon-guanbi"})],8,["onClick"]),a+1<s.approve.length?(e.openBlock(),e.createElementBlock("text",{key:0,class:"set",onClick:e=>i.movePeople(2,a)},[e.createElementVNode("i",{class:"iconfont icon-xiangxiayidong"})],8,["onClick"])):e.createCommentVNode("",!0),a>0?(e.openBlock(),e.createElementBlock("text",{key:1,class:"set",onClick:e=>i.movePeople(1,a)},[e.createElementVNode("i",{class:"iconfont icon-xiangshangyidong"})],8,["onClick"])):e.createCommentVNode("",!0)])))),256))]),e.createElementVNode("view",{class:"sprTitle"},[e.createElementVNode("text",{class:"txt"},"抄送人"),e.createElementVNode("text",{class:"add iconfont icon-54",onClick:a[6]||(a[6]=e=>i.goSetCustomPerson(2))})]),e.createElementVNode("view",{class:"mrSpr"},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(s.copy_person,((t,a)=>(e.openBlock(),e.createElementBlock("view",{class:"peo"},[e.createElementVNode("text",{class:"na"},e.toDisplayString(t.name),1),e.createElementVNode("text",{class:"set",onClick:e=>i.delPeople(2,a)},[e.createElementVNode("i",{class:"iconfont icon-guanbi"})],8,["onClick"])])))),256))])])):e.createCommentVNode("",!0)]),e.createElementVNode("view",{class:"foot IOSBottom"},[e.createElementVNode("view",{class:e.normalizeClass(["footBtn half",""==s.apply_num?"bg-orange-JB":"bg-grey-JB"]),onClick:a[7]||(a[7]=(...e)=>i.saveData&&i.saveData(...e))},"暂存",2),e.createElementVNode("view",{class:"footBtn half bg-reds-JB",onClick:a[8]||(a[8]=(...e)=>i.submitData&&i.submitData(...e))},"提交")])]),e.createVNode(r,{isOpen:s.proBom,height:"70%",onClose:i.closeProBom},{default:e.withCtx((()=>[e.createElementVNode("view",{class:"promBox"},[e.createElementVNode("view",{class:"title"},[e.createTextVNode(" 请假类型 "),e.createElementVNode("i",{class:"iconfont icon-shibai1",onClick:a[9]||(a[9]=(...e)=>i.closeProBom&&i.closeProBom(...e))})]),e.createElementVNode("ul",{class:"lists"},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(s.typeList,((t,a)=>(e.openBlock(),e.createElementBlock("li",{onClick:e=>i.seleLeave(a),class:e.normalizeClass(s.setLeaveIndex==a?"onset":"")},e.toDisplayString(t.name),11,["onClick"])))),256))])])])),_:1},8,["isOpen","onClose"]),s.isOpenTimeErrorBox?(e.openBlock(),e.createElementBlock("view",{key:0,class:"prompt"},[e.createElementVNode("view",{class:"prompt-shadow",onClick:a[10]||(a[10]=(...e)=>i.closeTimeErrorBox&&i.closeTimeErrorBox(...e))}),e.createElementVNode("view",{class:"prompt-box-w90 pos-middle"},["预约"==s.timeError.type?(e.openBlock(),e.createElementBlock(e.Fragment,{key:0},[e.createElementVNode("view",{class:"timeErrorTips red"},"当前时间段内已存在预约记录"),e.createElementVNode("view",{class:"timeErrorDetail"},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(s.timeError.list,((t,a)=>(e.openBlock(),e.createElementBlock("view",{class:"txt"},"预约时间："+e.toDisplayString(t.l_time_str),1)))),256))])],64)):(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[e.createElementVNode("view",{class:"timeErrorTips red"},"当前时间段内已存在其它申请记录"),e.createElementVNode("view",{class:"timeErrorDetail"},[e.createElementVNode("view",{class:"txt"},"申请类型："+e.toDisplayString(s.timeError.type),1),e.createElementVNode("view",{class:"txt"},"开始时间："+e.toDisplayString(s.timeError.start_time),1),e.createElementVNode("view",{class:"txt"},"结束时间："+e.toDisplayString(s.timeError.end_time),1),e.createElementVNode("view",{class:"txt"},"审批状态："+e.toDisplayString(s.timeError.status_text),1),e.createElementVNode("view",{class:"txt"},"申请原因："+e.toDisplayString(s.timeError.reason),1)])],64)),e.createElementVNode("view",{class:"prompt-btn"},[e.createElementVNode("view",{class:"btn-item-full orange",onClick:a[11]||(a[11]=(...e)=>i.closeTimeErrorBox&&i.closeTimeErrorBox(...e))},"我知道了")])])])):e.createCommentVNode("",!0)],64)}]]);var Je;const We=n({data:()=>({setDate:0,list:[]}),onLoad(){Je=getApp(),this.statusBarHeight=Je.globalData.statusBarHeight},onShow(){this.getData()},methods:{getData(){let e=this;Je.goPost("oanotify/mainlist",{},(function(t){e.list=t.list}))},jumpUrl:function(e){let t=e.currentTarget.dataset.type;uni.navigateTo({url:"/pages/noticeinfo/noticeinfo?type="+t})},goBack:function(){let e=getCurrentPages();e[e.length-2]?uni.navigateBack():uni.reLaunch({url:"/pages/index/index"})},readall:function(){let e=this;uni.showModal({title:"温馨提示",content:"是否确定全部标为已读?",success:t=>{if(t.confirm){let t="oanotify/readall",a={};Je.goPost(t,a,(function(t){setTimeout((function(){e.getData()}),1500)}))}}})}}},[["render",function(t,a,l,o,n,s){return e.openBlock(),e.createElementBlock(e.Fragment,null,[e.createElementVNode("view",{class:"topTitleBox",style:e.normalizeStyle({"padding-top":t.statusBarHeight+"px"})},[e.createElementVNode("view",{class:"titleName"},[e.createElementVNode("i",{class:"iconfont icon-fanhui",onClick:a[0]||(a[0]=(...e)=>s.goBack&&s.goBack(...e))}),e.createElementVNode("text",null,"消息通知"),e.createElementVNode("view",{class:"readallBtn",onClick:a[1]||(a[1]=(...e)=>s.readall&&s.readall(...e)),style:e.normalizeStyle({top:t.statusBarHeight+15+"px"})},[e.createTextVNode(" 一键已读 "),e.createElementVNode("i",{class:"iconfont icon-shanchu5"})],4)])],4),e.createElementVNode("view",{class:"allModelBox",style:e.normalizeStyle("top:"+(t.statusBarHeight+53)+"px")},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(n.list,((t,l)=>(e.openBlock(),e.createElementBlock("view",{class:"modelList","data-type":t.type,onClick:a[2]||(a[2]=(...e)=>s.jumpUrl&&s.jumpUrl(...e))},[e.createElementVNode("view",{class:"modelIcon"},[e.createElementVNode("image",{class:"img",src:t.img,mode:"aspectFill"},null,8,["src"])]),e.createElementVNode("view",{class:"modelTitle"},[e.createElementVNode("view",{class:"modelTitle1"},e.toDisplayString(t.name),1),e.createElementVNode("view",{class:"modelTitle2"},e.toDisplayString(t.content),1)]),e.createElementVNode("view",{class:"modelName1 red"},e.toDisplayString(t.addtime),1),t.nums>0?(e.openBlock(),e.createElementBlock("view",{key:0,class:"modelName2"},e.toDisplayString(t.nums),1)):e.createCommentVNode("",!0)],8,["data-type"])))),256))],4)],64)}]]);var Ke;const Ge=n({data:()=>({lists:[],opList:[],seleBool:!1,showBg:!1,page:1,type:0,status:"all",topTitle:"",isOpenApproveBox:!1,editApplyNum:"",editStatus:0,editReply:"",currTop:0,zhidingNum:0,boxTop:0,currTop:0}),onLoad(e){Ke=getApp(),this.statusBarHeight=Ke.globalData.statusBarHeight,this.type=e.type},onShow(){this.goSearch()},methods:{startScroll:function(){this.isHua=1},boxscroll:function(e){var t=this,a=e.detail.scrollTop,l=t.currTop,o=t.boxTop;a>l&&0==t.isHua&&a>20&&a<50&&(this.isHua=1),1==t.isHua&&(a>=l?(o-=8)>-49&&(t.boxTop=o):(o+=8)<1&&(t.boxTop=o)),t.currTop=a},zhidingBtn:function(){var e=this;e.boxTop=0,e.isHua=0,e.zhidingNum=1==e.zhidingNum?0:1},sureTop:function(){this.boxTop=0,this.isHua=0},opFun(){this.seleBool=!this.seleBool,this.showBg=!this.showBg},closeBg(){this.seleBool=!1,this.showBg=!1},setSele(e,t){let a=this;3==e?a.readall():(a.status=t,a.goSearch()),a.closeBg()},readall:function(){let e=this;uni.showModal({title:"温馨提示",content:"是否确定全部标为已读?",success:t=>{if(t.confirm){let t="oanotify/readall",a={type:e.type};Ke.goPost(t,a,(function(t){setTimeout((function(){e.goSearch()}),1500)}))}}})},goBack(){let e=getCurrentPages();e[e.length-2]?uni.navigateBack():uni.reLaunch({url:"/pages/index/index"})},getData(){let e=this,t={page:e.page,type:e.type,status:e.status};if(0==e.page)return!1;Ke.goPost("oanotify/getlist",t,(function(t){1==e.page?(e.lists=t.lists,e.opList=t.opList,e.topTitle=t.topTitle):e.lists=e.lists.concat(t.lists),e.page++,t.lists.length<1&&(e.page=0)}))},goSearch(){this.page=1,this.getData()},goDetail(e){let t=e.currentTarget.dataset.index,a=this.lists[t];""!=a.url&&uni.navigateTo({url:a.url})},approve(e){let t=this,a=e.currentTarget.dataset.index,l=t.lists[a];if(0!=l.approve_status)return uni.navigateTo({url:l.url}),!1;let o=e.currentTarget.dataset.status,n=1==o?"同意":"拒绝";t.editApplyNum=l.apply_num,t.editStatus=o,t.editReply=n,t.openApproveBox()},openApproveBox(){this.isOpenApproveBox=!0},closeApproveBox(){this.editApplyNum="",this.editStatus=0,this.editReply="",this.isOpenApproveBox=!1},verify(){let e=this,t=e.editStatus,a={apply_num:e.editApplyNum,status:t,reply:e.editReply};Ke.goPost("oaapply/verify",a,(function(t){e.closeApproveBox(),setTimeout((function(){e.goSearch()}),1e3)}))}}},[["render",function(t,a,l,o,n,s){return e.openBlock(),e.createElementBlock(e.Fragment,null,[e.createElementVNode("view",{class:"topTitleBox",style:e.normalizeStyle({"padding-top":t.statusBarHeight+"px"})},[e.createElementVNode("view",{class:"titleName"},[e.createElementVNode("i",{class:"iconfont icon-fanhui",onClick:a[0]||(a[0]=(...e)=>s.goBack&&s.goBack(...e))}),e.createElementVNode("text",null,e.toDisplayString(n.topTitle),1),e.createElementVNode("view",{class:e.normalizeClass(["opBtn",0==n.status||1==n.status?"red":""]),onClick:a[1]||(a[1]=(...e)=>s.opFun&&s.opFun(...e)),style:e.normalizeStyle({top:t.statusBarHeight+14+"px"})},[e.createTextVNode(" 操作 "),e.createElementVNode("i",{class:e.normalizeClass(["iconfont icon-shaixuan6",0==n.status||1==n.status?"red":""])},null,2)],6)]),n.seleBool?(e.openBlock(),e.createElementBlock("ul",{key:0,class:"seleBox",style:e.normalizeStyle("top:"+(t.statusBarHeight+53)+"px")},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(n.opList,((t,a)=>(e.openBlock(),e.createElementBlock("li",{onClick:e=>s.setSele(a,t.val)},[""!==t.val?(e.openBlock(),e.createElementBlock("view",{key:0,class:e.normalizeClass(["lbox",n.status===t.val?"onset":""])},null,2)):e.createCommentVNode("",!0),""===t.val?(e.openBlock(),e.createElementBlock("i",{key:1,class:"iconfont licon icon-shanchu5"})):e.createCommentVNode("",!0),e.createElementVNode("text",{class:e.normalizeClass(["setTxt",n.status===t.val?"onset":""])},e.toDisplayString(t.name),3),n.status===t.val?(e.openBlock(),e.createElementBlock("i",{key:2,class:"iconfont icon-xuanzhong ricon"})):e.createCommentVNode("",!0)],8,["onClick"])))),256))],4)):e.createCommentVNode("",!0)],4),e.createElementVNode("scroll-view",{class:"itemList","scroll-y":"true",onScrolltolower:a[5]||(a[5]=(...e)=>s.getData&&s.getData(...e)),style:e.normalizeStyle("top:"+(t.statusBarHeight+53)+"px"),"scroll-top":n.zhidingNum,onScroll:a[6]||(a[6]=(...e)=>s.boxscroll&&s.boxscroll(...e)),onScrolltoupper:a[7]||(a[7]=(...e)=>s.sureTop&&s.sureTop(...e)),onTouchstart:a[8]||(a[8]=(...e)=>s.startScroll&&s.startScroll(...e))},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(n.lists,((t,l)=>(e.openBlock(),e.createElementBlock("view",{class:"item","data-index":l,onClick:a[4]||(a[4]=(...e)=>s.goDetail&&s.goDetail(...e))},[e.createElementVNode("view",{class:"top"},[e.createElementVNode("view",{class:"img"},[e.createElementVNode("image",{class:"filled-image",mode:"aspectFill",src:t.img},null,8,["src"])]),e.createElementVNode("view",{class:"txt"},e.toDisplayString(t.addtime),1),0==t.is_read?(e.openBlock(),e.createElementBlock("view",{key:0,class:e.normalizeClass(["status",t.status_class])},e.toDisplayString(t.status_text),3)):e.createCommentVNode("",!0)]),e.createElementVNode("view",{class:"detail"},[e.createElementVNode("view",{class:"tit"},e.toDisplayString(t.title),1),(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(t.detail,((t,a)=>(e.openBlock(),e.createElementBlock("view",{class:"detailItem"},[e.createElementVNode("text",{class:"label"},e.toDisplayString(t.name),1),e.createElementVNode("text",{class:"txt"},e.toDisplayString(t.value),1)])))),256)),""!=t.approve_status_img?(e.openBlock(),e.createElementBlock("view",{key:0,class:"img"},[e.createElementVNode("image",{class:"filled-image",src:t.approve_status_img},null,8,["src"])])):e.createCommentVNode("",!0)]),e.createElementVNode("view",{class:"btnRow"},[0==t.approve_status?(e.openBlock(),e.createElementBlock(e.Fragment,{key:0},[e.createElementVNode("view",{class:"half red","data-index":l,"data-status":"2",onClick:a[2]||(a[2]=e.withModifiers(((...e)=>s.approve&&s.approve(...e)),["stop"]))},"拒绝",8,["data-index"]),e.createElementVNode("view",{class:"half blue","data-index":l,"data-status":"1",onClick:a[3]||(a[3]=e.withModifiers(((...e)=>s.approve&&s.approve(...e)),["stop"]))},"通过",8,["data-index"])],64)):(e.openBlock(),e.createElementBlock("view",{key:1,class:"full gray","data-index":l},"查看详情",8,["data-index"]))])],8,["data-index"])))),256)),n.lists.length>0&&0==n.page?(e.openBlock(),e.createElementBlock("view",{key:0,class:"daoDiLe IOSBottom"},"到底了")):e.createCommentVNode("",!0),0==n.lists.length?(e.openBlock(),e.createElementBlock("view",{key:1,class:"noData"},[e.createElementVNode("i",{class:"iconfont icon-kongshuju"}),e.createTextVNode(" 暂无数据 ")])):e.createCommentVNode("",!0)],44,["scroll-top"]),n.isOpenApproveBox?(e.openBlock(),e.createElementBlock("view",{key:0,class:"openBox"},[e.createElementVNode("view",{class:"bg",onClick:a[9]||(a[9]=(...e)=>s.closeApproveBox&&s.closeApproveBox(...e))}),e.createElementVNode("view",{class:"cenOpen alertBox"},[e.createElementVNode("view",{class:"content"},[e.createElementVNode("view",{class:"title"},"审批意见"),e.createElementVNode("view",{class:"openList optBox"},[e.createElementVNode("view",{class:"show-box"},[e.createElementVNode("view",{class:"input"},[e.withDirectives(e.createElementVNode("textarea",{placeholder:"请输入",class:"seaCon","onUpdate:modelValue":a[10]||(a[10]=e=>n.editReply=e),"ccursor-spacing":"100"},null,512),[[e.vModelText,n.editReply]])])])]),e.createElementVNode("view",{class:"orderFoot"},[e.createElementVNode("text",{class:"btn fl",onClick:a[11]||(a[11]=(...e)=>s.closeApproveBox&&s.closeApproveBox(...e))},"取消"),e.createElementVNode("text",{class:"btn fr",onClick:a[12]||(a[12]=(...e)=>s.verify&&s.verify(...e))},"确定")])])])])):e.createCommentVNode("",!0),e.createElementVNode("view",{class:"rBomOpBox"},[n.currTop>50?(e.openBlock(),e.createElementBlock("view",{key:0,class:"subBtn IOSMGBottom",onClick:a[13]||(a[13]=(...e)=>s.zhidingBtn&&s.zhidingBtn(...e))},[e.createElementVNode("i",{class:"iconfont icon-fanhuidingbu"})])):e.createCommentVNode("",!0)]),n.showBg?(e.openBlock(),e.createElementBlock("view",{key:1,class:"fixBg",onClick:a[14]||(a[14]=(...e)=>s.closeBg&&s.closeBg(...e)),style:e.normalizeStyle("top:"+(t.statusBarHeight+53)+"px")},null,4)):e.createCommentVNode("",!0)],64)}]]);var $e;const qe=n({data:()=>({applyNum:"",manageId:"all",list:[],manageList:[],setMangeKey:"",upDetailBool:!0}),onLoad(e){$e=getApp(),this.applyNum=e.apply_num,this.getData()},methods:{getData(){let e=this,t=e.setMangeKey,a={manageId:""===t?"":e.manageList[t].id};$e.goPost("stock/warnLists",a,(function(a){e.list=a.list,e.manageList=a.manageList,""===t&&(e.setMangeKey=0),$e.readNotice(e.applyNum)}))},moreOp(e){let t=this,a=t.manageList,l=[];for(let n=0;n<a.length;n++)l.push(a[n].title);let o=$e.showActionSheetParams({itemList:l,success:function(e){t.setMangeKey=e.tapIndex,t.getData()}});t.upDetailBool&&(t.upDetailBool=!1,uni.showActionSheet(o),setTimeout((function(){t.upDetailBool=!0}),1e3))}}},[["render",function(t,a,l,o,n,s){return e.openBlock(),e.createElementBlock("view",{class:"lists"},[e.createElementVNode("view",{class:"top"},[e.createElementVNode("text",{class:"manage"},"所属仓库"),e.createElementVNode("view",{class:"fr manageName",onClick:a[0]||(a[0]=(...e)=>s.moreOp&&s.moreOp(...e))},[e.createTextVNode(e.toDisplayString(""===n.setMangeKey?"":n.manageList[n.setMangeKey].title)+" ",1),e.createElementVNode("i",{class:"iconfont icon-jinrujiantou"})])]),e.createElementVNode("view",{class:"title"},[e.createElementVNode("text",{class:"t1"},"商品名称"),e.createElementVNode("text",{class:"t2"},"规格"),e.createElementVNode("text",{class:"t3"},"数量"),e.createElementVNode("text",{class:"t4"},"仓库")]),e.createElementVNode("view",{class:"detail"},[e.createElementVNode("ul",null,[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(n.list,((t,a)=>(e.openBlock(),e.createElementBlock("li",null,[e.createElementVNode("text",{class:"t1"},e.toDisplayString(t.title),1),e.createElementVNode("text",{class:"t2"},e.toDisplayString(t.gureTxt),1),e.createElementVNode("text",{class:"t3 red"},e.toDisplayString(t.remain),1),e.createElementVNode("text",{class:"t4"},e.toDisplayString(t.storeName),1)])))),256))]),0==n.list.length?(e.openBlock(),e.createElementBlock("view",{key:0,class:"noData"},[e.createElementVNode("i",{class:"iconfont icon-kongshuju"}),e.createTextVNode(" 暂无数据 ")])):e.createCommentVNode("",!0)])])}]]);var Xe;const Ye=n({data:()=>({sysTipsConfig:{},noReadNum:0,remarkBox:!1,exportBox:!1,exportPdfBool:!0,isExport:!1,apply_num:"",oa_type:"",addStaffType:"",isApproval:!1,showUnred:!0,data:[],reatList:[],csData:"",reply:"",status:1,turnPeople:"",imgLists:[],isUploadImg:!1,isLastApproveUpload:!1}),onLoad(e){Xe=getApp(),this.sysTipsConfig=Xe.getInitSysTipsConfig(),this.apply_num=e.apply_num?e.apply_num:"",this.oa_type=e.oa_type?e.oa_type:"",this.getData()},onShow(){},methods:{chaIsImg(e){this.isUploadImg=e.detail.value.length>0},getData(){let e=this,t={apply_num:e.apply_num,oa_type:e.oa_type};Xe.goPost("oaapply/oaDetail",t,(function(t){e.isApproval=t.isApproval,e.data=t.data,e.reatList=t.reatList,e.csData=t.csData,e.addStaffType=t.addStaffType,e.noReadNum=t.noReadNum,e.showUnred=t.showUnred,e.email=t.email,e.isExport=t.isExport,e.isLastApproveUpload=t.isLastApproveUpload,e.isUploadImg=t.isLastApproveUpload,Xe.readNotice(e.apply_num),uni.setNavigationBarTitle({title:t.data.typeName})}))},ask(e){let t=this,a=e.currentTarget.dataset.status;t.status=a,t.reply=1==a?"同意":"拒绝",t.remarkBox=!0},showExport(e){this.exportBox=!0},closeAsk(){this.remarkBox=!1,this.isUploadImg=!1,this.exportBox=!1,this.imgLists=[]},verify(){let e=this,t=e.reply,a=e.imgLists;e.isUploadImg,e.isLastApproveUpload;let l="";if(a.length<1&&e.isLastApproveUpload)return void Xe.showMsg("最后审批人需上传凭证");a.length>0&&e.isUploadImg&&a.forEach(((e,t)=>{l+=l?","+e.path:e.path}));let o={apply_num:e.apply_num,status:e.status,reply:t,picurl:l};""!=t?Xe.goPost("oaapply/verify",o,(function(t){e.closeAsk(),setTimeout((function(){e.getData()}),1e3)})):Xe.showMsg("拒绝请输入审批意见")},exportPdf(){let e=this,t=e.email,l={orderid:e.apply_num,type:e.oa_type,email:t};if(""==t||null==t)return a("log","at pages/oadetail/oadetail.vue:862","7777"),void Xe.showMsg("请输入邮箱地址");Xe.goPost("oaapply/exportPdf",l,(function(t){e.closeAsk(),e.getData()}))},showImg(e){let t=this.data.img;if(t.length>0){let l=[],o=t[e];a("log","at pages/oadetail/oadetail.vue:884",e);for(let e in t)l[e]=t[e];a("log","at pages/oadetail/oadetail.vue:890","urls",l),a("log","at pages/oadetail/oadetail.vue:891","current",o),uni.previewImage({current:o,urls:l})}},showApproveImg(e,t,l){let o=this.reatList[e].list[t].picurl;if(o.length>0){let e=[],t=o[l];a("log","at pages/oadetail/oadetail.vue:911",l);for(let a in o)e[a]=o[a];a("log","at pages/oadetail/oadetail.vue:917","urls",e),a("log","at pages/oadetail/oadetail.vue:918","current",t),uni.previewImage({current:t,urls:e})}},onCopy(e){Xe.copyText(e)},imgError:function(e){this.data.oaStatusImg="/static/images/oa/oa_error.png"},turnSp(){let e=this;uni.navigateTo({url:"/pages/companysel/companysel?op=chooseStaff&onlyOne=1",events:{backFun:function(t){a("log","at pages/oadetail/oadetail.vue:951","data",JSON.stringify(t)),e.turnPeople=t.sid[0];let l=t.sendTxt;uni.showModal({title:"温馨提示",content:"确定要转交给“"+l+"”审批吗",success:function(t){if(t.confirm){let t="oaapply/addturn",a={applyNum:e.data.apply_num,staff_id:e.turnPeople};Xe.goPost(t,a,(function(t){setTimeout((function(){e.getData()}),1e3)}))}}})}},success:function(e){e.eventChannel.emit("afferent",{sid:[],did:[]})}})},downPDF(){},previewImage(e){let t=e.currentTarget.dataset.index,a=this.imgLists,l=a[t].url,o=[];for(let n in a)o.push(a[n].url);uni.previewImage({current:l,urls:o})},delImg(e){let t=e.currentTarget.dataset.index;this.imgLists.splice(t,1)},chooseImage:function(e){let t=this,l=t.imgLists.length;l>=5?Xe.showMsg("最多5张图片"):uni.chooseImage({sizeType:["original","compressed"],sourceType:["album","camera"],count:9,success(e){let o=e.tempFilePaths;o.length+l>5?Xe.showMsg("最多5张图片"):Xe.uploadImgMultiple(o,0,1,o.length,(function(e){t.imgLists.push({url:e.url,path:e.path}),a("log","at pages/oadetail/oadetail.vue:1054",t.imgLists)}))},fail(e){a("log","at pages/oadetail/oadetail.vue:1058",e)}})}}},[["render",function(t,a,o,n,i,c){const r=e.resolveComponent("veiw"),d=l(e.resolveDynamicComponent("ydSystemTips"),s);return e.openBlock(),e.createElementBlock(e.Fragment,null,[e.createElementVNode("view",{class:"content"},[e.createElementVNode("view",{class:"rowBox"},[e.createElementVNode("view",{class:"row"},[e.createElementVNode("text",{class:"label"},"审批单号"),e.createElementVNode("view",{class:"txt orderid",onLongpress:a[0]||(a[0]=e=>c.onCopy(i.data.apply_num))},e.toDisplayString(i.data.apply_num),33)]),e.createElementVNode("view",{class:"row"},[e.createElementVNode("text",{class:"label"},e.toDisplayString(i.addStaffType),1),e.createElementVNode("view",{class:"txt"},e.toDisplayString(i.data.addStaffName),1)]),e.createElementVNode("view",{class:"row"},[e.createElementVNode("text",{class:"label"},"申请时间"),e.createElementVNode("view",{class:"txt"},e.toDisplayString(i.data.addtime),1)]),e.createElementVNode("image",{src:i.data.oaStatusImg,onError:a[1]||(a[1]=(...e)=>c.imgError&&c.imgError(...e)),class:"statusImg",alt:""},null,40,["src"])]),e.createElementVNode("view",{class:"rowBox"},[1==i.data.type?(e.openBlock(),e.createElementBlock(e.Fragment,{key:0},[e.createElementVNode("view",{class:"row"},[e.createElementVNode("text",{class:"label"},"采购类型"),e.createElementVNode("view",{class:"txt"},e.toDisplayString(i.data.cgTypeName),1)]),e.createElementVNode("view",{class:"row"},[e.createElementVNode("text",{class:"label"},"采购摘要"),e.createElementVNode("view",{class:"txt"},e.toDisplayString(i.data.desc),1)]),e.createElementVNode("view",{class:"row"},[e.createElementVNode("text",{class:"label"},"采购金额"),e.createElementVNode("view",{class:"txt red txtBlod"},"￥"+e.toDisplayString(i.data.amount),1)]),e.createElementVNode("view",{class:"row"},[e.createElementVNode("text",{class:"label"},"采购日期"),e.createElementVNode("view",{class:"txt"},e.toDisplayString(i.data.buyDay),1)]),e.createElementVNode("view",{class:"row"},[e.createElementVNode("text",{class:"label"},"采购备注"),e.createElementVNode("view",{class:"txt"},e.toDisplayString(i.data.remark),1)]),i.data.img.length>0?(e.openBlock(),e.createElementBlock("view",{key:0,class:"row"},[e.createElementVNode("text",{class:"label"},"采购凭证"),e.createElementVNode("view",{class:"imgLists"},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(i.data.img,((t,a)=>(e.openBlock(),e.createElementBlock("image",{class:"img",src:t,onClick:e=>c.showImg(a),mode:"aspectFill"},null,8,["src","onClick"])))),256)),e.createTextVNode("   ")])])):e.createCommentVNode("",!0)],64)):e.createCommentVNode("",!0),2==i.data.type?(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[e.createElementVNode("view",{class:"row"},[e.createElementVNode("text",{class:"label"},"仓库"),e.createElementVNode("view",{class:"txt"},e.toDisplayString(i.data.stockName),1)]),e.createElementVNode("view",{class:"row"},[e.createElementVNode("text",{class:"label"},"出库类型"),e.createElementVNode("view",{class:"txt"},e.toDisplayString(i.data.billType),1)]),"{}"!=JSON.stringify(i.data.goods)?(e.openBlock(),e.createElementBlock("view",{key:0,class:"row goodBox"},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(i.data.goods,(t=>(e.openBlock(),e.createElementBlock("view",{class:"line"},[e.createElementVNode("img",{src:t.goodImg,alt:""},null,8,["src"]),e.createElementVNode("view",{class:"info"},[e.createElementVNode("view",{class:"vblock name"},[e.createTextVNode(e.toDisplayString(t.title)+" ",1),e.createElementVNode("p",{class:"num"},[e.createElementVNode("i",{class:"iconfont icon-guanbi"}),e.createTextVNode(" "+e.toDisplayString(t.nums),1)])]),e.createElementVNode("view",{class:"vblock money"},[e.createElementVNode("span",{class:"rmbUnit"},"￥"),e.createTextVNode(e.toDisplayString(t.price)+" ",1),t.calcu?(e.openBlock(),e.createElementBlock("p",{key:0,class:"unit"},e.toDisplayString(t.calcu),1)):e.createCommentVNode("",!0)]),t.other_expense>0?(e.openBlock(),e.createElementBlock("view",{key:0,class:"vblock other"},"其他费用："+e.toDisplayString(t.other_expense),1)):e.createCommentVNode("",!0)])])))),256))])):e.createCommentVNode("",!0),e.createElementVNode("view",{class:"row"},[e.createElementVNode("text",{class:"label"},"合计数量"),e.createElementVNode("view",{class:"txt"},e.toDisplayString(i.data.totle_num),1)]),e.createElementVNode("view",{class:"row"},[e.createElementVNode("text",{class:"label"},"合计成本"),e.createElementVNode("view",{class:"txt red txtBlod"},"￥"+e.toDisplayString(i.data.totle_cost_price),1)]),e.createElementVNode("view",{class:"row"},[e.createElementVNode("text",{class:"label"},"合计其他费用"),e.createElementVNode("view",{class:"txt red txtBlod"},"￥"+e.toDisplayString(i.data.totle_other_expense),1)]),e.createElementVNode("view",{class:"row"},[e.createElementVNode("text",{class:"label"},"出库备注"),e.createElementVNode("view",{class:"txt"},e.toDisplayString(i.data.content),1)]),i.data.img.length>0?(e.openBlock(),e.createElementBlock("view",{key:1,class:"row"},[e.createElementVNode("text",{class:"label"},"出库凭证"),e.createElementVNode("view",{class:"imgLists"},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(i.data.img,((t,a)=>(e.openBlock(),e.createElementBlock("image",{class:"img",src:t,mode:"aspectFill",onClick:e=>c.showImg(a)},null,8,["src","onClick"])))),256)),e.createTextVNode("   ")])])):e.createCommentVNode("",!0)],64)):e.createCommentVNode("",!0),3==i.data.type?(e.openBlock(),e.createElementBlock(e.Fragment,{key:2},[e.createElementVNode("view",{class:"row"},[e.createElementVNode("text",{class:"label"},"仓库"),e.createElementVNode("view",{class:"txt"},e.toDisplayString(i.data.stockName),1)]),e.createElementVNode("view",{class:"row"},[e.createElementVNode("text",{class:"label"},"入库类型"),e.createElementVNode("view",{class:"txt"},e.toDisplayString(i.data.billType),1)]),"{}"!=JSON.stringify(i.data.goods)?(e.openBlock(),e.createElementBlock("view",{key:0,class:"row goodBox"},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(i.data.goods,(t=>(e.openBlock(),e.createElementBlock("view",{class:"line"},[e.createElementVNode("img",{src:t.goodImg,alt:""},null,8,["src"]),e.createElementVNode("view",{class:"info"},[e.createElementVNode("view",{class:"vblock name"},[e.createTextVNode(e.toDisplayString(t.title)+" ",1),e.createElementVNode("p",{class:"num"},[e.createElementVNode("i",{class:"iconfont icon-guanbi"}),e.createTextVNode(" "+e.toDisplayString(t.nums),1)])]),e.createElementVNode("view",{class:"vblock money"},[e.createElementVNode("span",{class:"rmbUnit"},"￥"),e.createTextVNode(e.toDisplayString(t.price)+" ",1),t.calcu?(e.openBlock(),e.createElementBlock("p",{key:0,class:"unit"},e.toDisplayString(t.calcu),1)):e.createCommentVNode("",!0)]),t.other_expense>0?(e.openBlock(),e.createElementBlock("view",{key:0,class:"vblock other"},"其他费用："+e.toDisplayString(t.other_expense),1)):e.createCommentVNode("",!0)])])))),256))])):e.createCommentVNode("",!0),e.createElementVNode("view",{class:"row"},[e.createElementVNode("text",{class:"label"},"合计数量"),e.createElementVNode("view",{class:"txt"},e.toDisplayString(i.data.totle_num),1)]),e.createElementVNode("view",{class:"row"},[e.createElementVNode("text",{class:"label"},"合计成本"),e.createElementVNode("view",{class:"txt red txtBlod"},"￥"+e.toDisplayString(i.data.totle_cost_price),1)]),e.createElementVNode("view",{class:"row"},[e.createElementVNode("text",{class:"label"},"合计其他费用"),e.createElementVNode("view",{class:"txt red txtBlod"},"￥"+e.toDisplayString(i.data.totle_other_expense),1)]),e.createElementVNode("view",{class:"row"},[e.createElementVNode("text",{class:"label"},"入库备注"),e.createElementVNode("view",{class:"txt"},e.toDisplayString(i.data.content),1)]),i.data.img.length>0?(e.openBlock(),e.createElementBlock("view",{key:1,class:"row"},[e.createElementVNode("text",{class:"label"},"入库凭证"),e.createElementVNode("view",{class:"imgLists"},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(i.data.img,((t,a)=>(e.openBlock(),e.createElementBlock("image",{class:"img",src:t,mode:"aspectFill",onClick:e=>c.showImg(a)},null,8,["src","onClick"])))),256)),e.createTextVNode("   ")])])):e.createCommentVNode("",!0)],64)):e.createCommentVNode("",!0),4==i.data.type?(e.openBlock(),e.createElementBlock(e.Fragment,{key:3},[e.createElementVNode("view",{class:"row"},[e.createElementVNode("text",{class:"label"},"请假类型"),e.createElementVNode("view",{class:"txt"},e.toDisplayString(i.data.typeTxt),1)]),e.createElementVNode("view",{class:"row"},[e.createElementVNode("text",{class:"label"},"请假时长"),e.createElementVNode("view",{class:"txt"},e.toDisplayString(i.data.duration),1)]),e.createElementVNode("view",{class:"row"},[e.createElementVNode("text",{class:"label"},"开始时间"),e.createElementVNode("text",{class:"txt"},e.toDisplayString(i.data.start_time),1)]),e.createElementVNode("view",{class:"row"},[e.createElementVNode("text",{class:"label"},"结束时间"),e.createElementVNode("text",{class:"txt"},e.toDisplayString(i.data.end_time),1)]),e.createElementVNode("view",{class:"row"},[e.createElementVNode("text",{class:"label"},"请假原因"),e.createElementVNode("text",{class:"txt"},e.toDisplayString(i.data.reason),1)]),i.data.img.length>0?(e.openBlock(),e.createElementBlock("view",{key:0,class:"row"},[e.createElementVNode("text",{class:"label"},"图片"),e.createElementVNode("view",{class:"imgLists"},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(i.data.img,((t,a)=>(e.openBlock(),e.createElementBlock("image",{class:"img",src:t,onClick:e=>c.showImg(a),mode:"aspectFill"},null,8,["src","onClick"])))),256)),e.createTextVNode("   ")])])):e.createCommentVNode("",!0)],64)):e.createCommentVNode("",!0),5==i.data.type?(e.openBlock(),e.createElementBlock(e.Fragment,{key:4},[e.createElementVNode("view",{class:"row"},[e.createElementVNode("text",{class:"label"},"公告标题"),e.createElementVNode("view",{class:"txt"},e.toDisplayString(i.data.title),1)]),e.createElementVNode("view",{class:"row"},[e.createElementVNode("text",{class:"label"},"公告类型"),e.createElementVNode("view",{class:"txt"},e.toDisplayString(i.data.type_name),1)]),e.createElementVNode("view",{class:"row"},[e.createElementVNode("text",{class:"label"},"公告内容"),e.createElementVNode("text",{class:"txtRow"},e.toDisplayString(i.data.content),1)]),i.data.img.length>0?(e.openBlock(),e.createElementBlock("view",{key:0,class:"row"},[e.createElementVNode("text",{class:"label"},"图片"),e.createElementVNode("view",{class:"imgLists"},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(i.data.img,((t,a)=>(e.openBlock(),e.createElementBlock("image",{class:"img",src:t,onClick:e=>c.showImg(a),mode:"aspectFill"},null,8,["src","onClick"])))),256)),e.createTextVNode("   ")])])):e.createCommentVNode("",!0)],64)):e.createCommentVNode("",!0),6==i.data.type?(e.openBlock(),e.createElementBlock(e.Fragment,{key:5},[e.createElementVNode("view",{class:"row"},[e.createElementVNode("text",{class:"label"},"付款方式"),e.createElementVNode("view",{class:"txt"},e.toDisplayString(i.data.fkWay),1)]),e.createElementVNode("view",{class:"row"},[e.createElementVNode("text",{class:"label"},"付款事由"),e.createElementVNode("view",{class:"txt"},e.toDisplayString(i.data.reason),1)]),e.createElementVNode("view",{class:"row"},[e.createElementVNode("text",{class:"label"},"付款金额"),e.createElementVNode("view",{class:"txt red txtBlod"},"￥"+e.toDisplayString(i.data.money),1)]),e.createElementVNode("view",{class:"row"},[e.createElementVNode("text",{class:"label"},"付款日期"),e.createElementVNode("text",{class:"txt"},e.toDisplayString(i.data.dateDay),1)]),e.createElementVNode("view",{class:"row"},[e.createElementVNode("text",{class:"label"},"付款对象"),e.createElementVNode("text",{class:"txt"},e.toDisplayString(i.data.object),1)]),e.createElementVNode("view",{class:"row"},[e.createElementVNode("text",{class:"label"},"开户银行"),e.createElementVNode("text",{class:"txt"},e.toDisplayString(i.data.openbank),1)]),e.createElementVNode("view",{class:"row"},[e.createElementVNode("text",{class:"label"},"银行账户"),e.createElementVNode("text",{class:"txt"},e.toDisplayString(i.data.bank_account),1)]),e.createElementVNode("view",{class:"row"},[e.createElementVNode("text",{class:"label"},"付款备注"),e.createElementVNode("text",{class:"txt"},e.toDisplayString(i.data.remark),1)]),i.data.img.length>0?(e.openBlock(),e.createElementBlock("view",{key:0,class:"row"},[e.createElementVNode("text",{class:"label"},"图片"),e.createElementVNode("view",{class:"imgLists"},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(i.data.img,((t,a)=>(e.openBlock(),e.createElementBlock("image",{class:"img",src:t,onClick:e=>c.showImg(a),mode:"aspectFill"},null,8,["src","onClick"])))),256)),e.createTextVNode("   ")])])):e.createCommentVNode("",!0)],64)):e.createCommentVNode("",!0),7==i.data.type?(e.openBlock(),e.createElementBlock(e.Fragment,{key:6},[e.createElementVNode("view",{class:"row"},[e.createElementVNode("text",{class:"label"},"报销部门"),e.createElementVNode("view",{class:"txt"},e.toDisplayString(i.data.department_name),1)]),e.createElementVNode("view",{class:"row"},[e.createElementVNode("text",{class:"label"},"报销事由"),e.createElementVNode("view",{class:"txt"},e.toDisplayString(i.data.desc),1)]),(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(i.data.detail,((t,a)=>(e.openBlock(),e.createElementBlock(e.Fragment,null,[e.createElementVNode("view",{class:"row setBg"},[e.createElementVNode("text",{class:"label orange"},"报销明细"+e.toDisplayString(a+1),1),e.createElementVNode("view",{class:"txt"})]),e.createElementVNode("view",{class:"row"},[e.createElementVNode("text",{class:"label"},"报销类型"),e.createElementVNode("view",{class:"txt"},e.toDisplayString(t.type_name),1)]),e.createElementVNode("view",{class:"row"},[e.createElementVNode("text",{class:"label"},"报销金额"),e.createElementVNode("view",{class:"txt red txtBlod"},"￥"+e.toDisplayString(t.money),1)]),e.createElementVNode("view",{class:"row"},[e.createElementVNode("text",{class:"label"},"费用明细"),e.createElementVNode("text",{class:"txt"},e.toDisplayString(t.remark),1)])],64)))),256)),e.createElementVNode("view",{class:"row topbor"},[e.createElementVNode("text",{class:"label"},"总报销金额"),e.createElementVNode("view",{class:"txt red txtBlod"},"￥"+e.toDisplayString(i.data.amount),1)]),e.createElementVNode("view",{class:"row"},[e.createElementVNode("text",{class:"label"},"大写金额"),e.createElementVNode("text",{class:"txt"},e.toDisplayString(i.data.amount_cn),1)]),i.data.img.length>0?(e.openBlock(),e.createElementBlock("view",{key:0,class:"row"},[e.createElementVNode("text",{class:"label"},"报销凭证"),e.createElementVNode("view",{class:"imgLists"},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(i.data.img,((t,a)=>(e.openBlock(),e.createElementBlock("image",{class:"img",src:t,onClick:e=>c.showImg(a),mode:"aspectFill"},null,8,["src","onClick"])))),256)),e.createTextVNode("   ")])])):e.createCommentVNode("",!0)],64)):e.createCommentVNode("",!0),8==i.data.type?(e.openBlock(),e.createElementBlock(e.Fragment,{key:7},[e.createElementVNode("view",{class:"row"},[e.createElementVNode("text",{class:"label"},"通知类型"),e.createElementVNode("view",{class:"txt"},e.toDisplayString(i.data.type_name),1)]),e.createElementVNode("view",{class:"row"},[e.createElementVNode("text",{class:"label"},"接收部门/人"),e.createElementVNode("text",{class:"txt"},e.toDisplayString(i.data.send_name),1)]),e.createElementVNode("view",{class:"row"},[e.createElementVNode("text",{class:"label"},"通知标题"),e.createElementVNode("view",{class:"txt"},e.toDisplayString(i.data.title),1)]),e.createElementVNode("view",{class:"row"},[e.createElementVNode("text",{class:"label"},"通知内容"),e.createElementVNode("text",{class:"txt"},e.toDisplayString(i.data.content),1)]),e.createElementVNode("view",{class:"row"},[e.createElementVNode("text",{class:"label"},"通知时间"),e.createElementVNode("text",{class:"txt"},e.toDisplayString(i.data.publish_time),1)]),i.data.img.length>0?(e.openBlock(),e.createElementBlock("view",{key:0,class:"row"},[e.createElementVNode("text",{class:"label"},"通知凭证"),e.createElementVNode("view",{class:"imgLists"},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(i.data.img,((t,a)=>(e.openBlock(),e.createElementBlock("image",{class:"img",src:t,onClick:e=>c.showImg(a),mode:"aspectFill"},null,8,["src","onClick"])))),256)),e.createTextVNode("   ")])])):e.createCommentVNode("",!0)],64)):e.createCommentVNode("",!0),10==i.data.type?(e.openBlock(),e.createElementBlock(e.Fragment,{key:8},[e.createElementVNode("view",{class:"row"},[e.createElementVNode("text",{class:"label"},"章程标题"),e.createElementVNode("view",{class:"txt"},e.toDisplayString(i.data.title),1)]),e.createElementVNode("view",{class:"row"},[e.createElementVNode("text",{class:"label"},"章程类型"),e.createElementVNode("view",{class:"txt"},e.toDisplayString(i.data.type_name),1)]),e.createElementVNode("view",{class:"row"},[e.createElementVNode("text",{class:"label"},"章程内容"),e.createElementVNode("text",{class:"txtRow"},e.toDisplayString(i.data.content),1)]),i.data.img.length>0?(e.openBlock(),e.createElementBlock("view",{key:0,class:"row"},[e.createElementVNode("text",{class:"label"},"图片"),e.createElementVNode("view",{class:"imgLists"},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(i.data.img,((t,a)=>(e.openBlock(),e.createElementBlock("image",{class:"img",src:t,onClick:e=>c.showImg(a),mode:"aspectFill"},null,8,["src","onClick"])))),256)),e.createTextVNode("   ")])])):e.createCommentVNode("",!0)],64)):e.createCommentVNode("",!0),11==i.data.type?(e.openBlock(),e.createElementBlock(e.Fragment,{key:9},[e.createElementVNode("view",{class:"row"},[e.createElementVNode("text",{class:"label"},"加班时长"),e.createElementVNode("view",{class:"txt"},e.toDisplayString(i.data.duration),1)]),e.createElementVNode("view",{class:"row"},[e.createElementVNode("text",{class:"label"},"开始时间"),e.createElementVNode("text",{class:"txt"},e.toDisplayString(i.data.start_time),1)]),e.createElementVNode("view",{class:"row"},[e.createElementVNode("text",{class:"label"},"结束时间"),e.createElementVNode("text",{class:"txt"},e.toDisplayString(i.data.end_time),1)]),e.createElementVNode("view",{class:"row"},[e.createElementVNode("text",{class:"label"},"加班原因"),e.createElementVNode("text",{class:"txt"},e.toDisplayString(i.data.reason),1)]),i.data.img.length>0?(e.openBlock(),e.createElementBlock("view",{key:0,class:"row"},[e.createElementVNode("text",{class:"label"},"图片"),e.createElementVNode("view",{class:"imgLists"},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(i.data.img,((t,a)=>(e.openBlock(),e.createElementBlock("image",{class:"img",src:t,onClick:e=>c.showImg(a),mode:"aspectFill"},null,8,["src","onClick"])))),256)),e.createTextVNode("   ")])])):e.createCommentVNode("",!0)],64)):e.createCommentVNode("",!0),14==i.data.type?(e.openBlock(),e.createElementBlock(e.Fragment,{key:10},[e.createElementVNode("view",{class:"row"},[e.createElementVNode("text",{class:"label"},"出差部门"),e.createElementVNode("view",{class:"txt"},e.toDisplayString(i.data.depName),1)]),e.createElementVNode("view",{class:"row"},[e.createElementVNode("text",{class:"label"},"出差事由"),e.createElementVNode("text",{class:"txt"},e.toDisplayString(i.data.desc),1)]),(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(i.data.detail,((t,a)=>(e.openBlock(),e.createElementBlock(e.Fragment,null,[e.createElementVNode("view",{class:"row setBg"},[e.createElementVNode("text",{class:"label orange"},"行程"+e.toDisplayString(a+1),1),e.createElementVNode("view",{class:"txt"})]),e.createElementVNode("view",{class:"row"},[e.createElementVNode("text",{class:"label"},"交通工具"),e.createElementVNode("view",{class:"txt"},e.toDisplayString(t.tool),1)]),e.createElementVNode("view",{class:"row"},[e.createElementVNode("text",{class:"label"},"往返类型"),e.createElementVNode("view",{class:"txt"},e.toDisplayString(t.way),1)]),e.createElementVNode("view",{class:"row"},[e.createElementVNode("text",{class:"label"},"出发地点"),e.createElementVNode("view",{class:"txt"},e.toDisplayString(t.setout),1)]),e.createElementVNode("view",{class:"row"},[e.createElementVNode("text",{class:"label"},"到达地点"),e.createElementVNode("view",{class:"txt"},e.toDisplayString(t.reach),1)]),e.createElementVNode("view",{class:"row topbor"},[e.createElementVNode("text",{class:"label"},"开始时间"),e.createElementVNode("view",{class:"txt"},e.toDisplayString(t.start),1)]),e.createElementVNode("view",{class:"row"},[e.createElementVNode("text",{class:"label"},"结束时间"),e.createElementVNode("view",{class:"txt"},e.toDisplayString(t.end),1)])],64)))),256)),e.createElementVNode("view",{class:"row"},[e.createElementVNode("text",{class:"label"},"出差耗时"),e.createElementVNode("text",{class:"txt"},e.toDisplayString(i.data.duration),1)]),e.createElementVNode("view",{class:"row"},[e.createElementVNode("text",{class:"label"},"出差备注"),e.createElementVNode("text",{class:"txt"},e.toDisplayString(i.data.remark),1)]),i.data.img.length>0?(e.openBlock(),e.createElementBlock("view",{key:0,class:"row"},[e.createElementVNode("text",{class:"label"},"图片"),e.createElementVNode("view",{class:"imgLists"},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(i.data.img,((t,a)=>(e.openBlock(),e.createElementBlock("image",{class:"img",src:t,onClick:e=>c.showImg(a),mode:"aspectFill"},null,8,["src","onClick"])))),256)),e.createTextVNode("   ")])])):e.createCommentVNode("",!0)],64)):e.createCommentVNode("",!0)]),e.createElementVNode("view",{class:"rowBox"},[e.createElementVNode("view",{class:"title"},"审批人"),e.createElementVNode("view",{class:"approve"},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(i.reatList,((t,a)=>(e.openBlock(),e.createElementBlock("view",{class:"item"},[e.createElementVNode("text",{class:"icon"},e.toDisplayString(t.sp_way_txt),1),(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(t.list,((l,o)=>(e.openBlock(),e.createElementBlock("view",{class:"detail"},[e.createElementVNode("view",{class:"name"},[e.createTextVNode(e.toDisplayString(l.staffName)+" ",1),e.createElementVNode("text",{class:e.normalizeClass(l.status_class)},e.toDisplayString(l.status_txt),3),e.createElementVNode("view",{class:"time"},e.toDisplayString(l.jx_addtime),1)]),""!=l.reply?(e.openBlock(),e.createBlock(r,{key:0,class:"remark"},{default:e.withCtx((()=>[e.createTextVNode(e.toDisplayString(l.reply),1)])),_:2},1024)):e.createCommentVNode("",!0),t.style>0&&l.picurl.length>0?(e.openBlock(),e.createBlock(r,{key:1,class:"picBox"},{default:e.withCtx((()=>[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(l.picurl,((t,l)=>(e.openBlock(),e.createElementBlock("image",{src:t,onClick:e=>c.showApproveImg(a,o,l)},null,8,["src","onClick"])))),256))])),_:2},1024)):e.createCommentVNode("",!0),""!=t.otherName?(e.openBlock(),e.createBlock(r,{key:2,class:"oaOther"},{default:e.withCtx((()=>[e.createTextVNode(e.toDisplayString(t.otherName),1)])),_:2},1024)):e.createCommentVNode("",!0)])))),256))])))),256))])]),e.createElementVNode("view",{class:"rowBox no-border"},[i.csData.length>0?(e.openBlock(),e.createElementBlock("view",{key:0,class:"title"},[e.createTextVNode("抄送人 "),i.showUnred?(e.openBlock(),e.createElementBlock("text",{key:0,class:e.normalizeClass(["rtxt",i.noReadNum>0?"red":"blue"])},e.toDisplayString(i.noReadNum>0?i.noReadNum+"人未读":"全部已读"),3)):e.createCommentVNode("",!0),e.createElementVNode("view",{class:"csBox"},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(i.csData,((t,a)=>(e.openBlock(),e.createElementBlock("text",{class:e.normalizeClass(["csName",1==t.isRead?"":"red"]),style:e.normalizeStyle(1==t.isRead?"border-color=red":"")},e.toDisplayString(t.name),7)))),256))])])):e.createCommentVNode("",!0)]),i.isApproval?(e.openBlock(),e.createElementBlock("view",{key:0,class:"foot IOSBottom"},[e.createElementVNode("view",{class:"footBtn bg-reds-JB",onClick:a[2]||(a[2]=(...e)=>c.ask&&c.ask(...e)),"data-status":"2"},"拒绝"),e.createElementVNode("view",{class:"footBtn bg-orange-JB",onClick:a[3]||(a[3]=(...e)=>c.ask&&c.ask(...e)),"data-status":"1"},"同意")])):e.createCommentVNode("",!0)]),e.createElementVNode("ul",{class:"flxRigBth"},[i.isApproval?(e.openBlock(),e.createElementBlock("li",{key:0,class:"btn",onClick:a[4]||(a[4]=(...e)=>c.turnSp&&c.turnSp(...e))},"转交")):e.createCommentVNode("",!0),i.isExport?(e.openBlock(),e.createElementBlock("li",{key:1,class:"btn downBtn",onClick:a[5]||(a[5]=(...e)=>c.showExport&&c.showExport(...e))},[e.createElementVNode("i",{class:"iconfont icon-xiazai"})])):e.createCommentVNode("",!0)]),i.remarkBox?(e.openBlock(),e.createElementBlock("view",{key:0,class:"openBox"},[e.createElementVNode("view",{class:"bg",onClick:a[6]||(a[6]=(...e)=>c.closeAsk&&c.closeAsk(...e))}),e.createElementVNode("view",{class:"cenOpen alertBox"},[e.createElementVNode("view",{class:"content"},[e.createElementVNode("view",{class:"title"},"审批意见"),e.createElementVNode("view",{class:"openList optBox"},[e.createElementVNode("view",{class:"show-box"},[e.createElementVNode("view",{class:"input"},[e.withDirectives(e.createElementVNode("textarea",{placeholder:"请输入",class:"seaCon","onUpdate:modelValue":a[7]||(a[7]=e=>i.reply=e),"ccursor-spacing":"100"},null,512),[[e.vModelText,i.reply]])])]),e.createElementVNode("checkbox-group",{class:"isFileImgBtn",onChange:a[8]||(a[8]=(...e)=>c.chaIsImg&&c.chaIsImg(...e))},[e.createElementVNode("label",null,[e.createElementVNode("checkbox",{checked:i.isUploadImg,class:"sdFormCheckbox",color:"#fff",value:"1"},null,8,["checked"]),e.createTextVNode("上传图片（最多5张） ")])],32),i.isUploadImg?(e.openBlock(),e.createElementBlock("view",{key:0,class:"approveImg clearfix"},[e.createElementVNode("view",{class:"sdFormAllPicBox fl"},[i.imgLists.length<5?(e.openBlock(),e.createElementBlock("view",{key:0,class:"sdFormAllPicAdd fl"},[e.createElementVNode("text",{class:"iconfont icon-shangchuantupian",onClick:a[9]||(a[9]=(...e)=>c.chooseImage&&c.chooseImage(...e))})])):e.createCommentVNode("",!0),(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(i.imgLists,((t,l)=>(e.openBlock(),e.createElementBlock("view",{class:"sdFormAllPicImg fl"},[e.createElementVNode("image",{class:"filled-image",mode:"aspectFill",src:t.url,"data-index":l,onClick:a[10]||(a[10]=(...e)=>c.previewImage&&c.previewImage(...e))},null,8,["src","data-index"]),e.createElementVNode("view",{class:"sdFormAllPicImgDel","data-index":l,onClick:a[11]||(a[11]=e.withModifiers(((...e)=>c.delImg&&c.delImg(...e)),["prevent"]))},[e.createElementVNode("text",{class:"iconfont icon-guanbi"})],8,["data-index"])])))),256))])])):e.createCommentVNode("",!0)]),e.createElementVNode("view",{class:"orderFoot"},[e.createElementVNode("text",{class:"btn fl",onClick:a[12]||(a[12]=(...e)=>c.closeAsk&&c.closeAsk(...e))},"取消"),e.createElementVNode("text",{class:"btn fr",onClick:a[13]||(a[13]=(...e)=>c.verify&&c.verify(...e))},"确定")])])])])):e.createCommentVNode("",!0),i.exportBox?(e.openBlock(),e.createElementBlock("view",{key:1,class:"openBox exportBox"},[e.createElementVNode("view",{class:"bg",onClick:a[14]||(a[14]=(...e)=>c.closeAsk&&c.closeAsk(...e))}),e.createElementVNode("view",{class:"cenOpen alertBox"},[e.createElementVNode("view",{class:"content"},[e.createElementVNode("view",{class:"title"},"OA审批单下载"),e.createElementVNode("view",{class:"subTitle"},"*输入邮箱后确定发送，在邮箱中查看下载文件"),e.createElementVNode("view",{class:"openList optBox"},[e.createElementVNode("view",{class:"show-box"},[e.withDirectives(e.createElementVNode("input",{type:"text",placeholder:"请输入邮箱","onUpdate:modelValue":a[15]||(a[15]=e=>t.email=e)},null,512),[[e.vModelText,t.email]])])]),e.createElementVNode("view",{class:"orderFoot"},[e.createElementVNode("text",{class:"btn fl",onClick:a[16]||(a[16]=(...e)=>c.closeAsk&&c.closeAsk(...e))},"取消"),e.createElementVNode("text",{class:"btn fr",onClick:a[17]||(a[17]=(...e)=>c.exportPdf&&c.exportPdf(...e))},"确定")])])])])):e.createCommentVNode("",!0),e.createVNode(d,{config:i.sysTipsConfig,onBtnSure:c.verify,onBtnClose:t.closeSysTips,onBtnBgClose:t.closeSysTips},null,8,["config","onBtnSure","onBtnClose","onBtnBgClose"])],64)}]]);var Ze,Qe;const et=n({data:()=>({statusBarHeight:0,networkType:"",casePic:"",wifiList:[],wifiName:"",isOpenWifiErrorBox:!1,isInit:0,backPage:""}),onLoad(e){Ze=getApp();this.statusBarHeight=Ze.globalData.statusBarHeight;try{Qe=t("AppModule")}catch(l){}a("log","at pages/connect/connect.vue:126",e),e.hasOwnProperty("p")&&e.p},onShow(){this.updateNetworkType()},methods:{updateNetworkType(){let e=this;uni.getNetworkType({success:function(t){e.networkType=t.networkType,"none"==e.networkType?setTimeout((function(){e.updateNetworkType()}),500):0==e.isInit&&(e.isInit=1,e.initData())}})},initData(){let e=this;Ze.goPost("index/initdataforconnect",{},(function(t){e.wifiList=t.wifiList,e.casePic=t.casePic}))},getCurrentWiFi(){let e=this;try{a("log","at pages/connect/connect.vue:193","try WiFiModule"),t("WiFiModule").getConnectedWifi((function(t){a("log","at pages/connect/connect.vue:199","getConnectedWifi success:",t),e.checkWifiName(t.currentWiFi)}),(function(t){a("log","at pages/connect/connect.vue:205","getConnectedWifi fail:",t),e.wifiError("wifi异常","请确保WIFI连接正常")}))}catch(l){a("log","at pages/connect/connect.vue:211","WiFiModule err",l),e.wifiError("wifi异常","请确保WIFI连接正常")}},wifiError(e,t){uni.showModal({title:e,content:t,showCancel:!1,confirmText:"我知道了",success(e){}})},checkWifiName(e){let t=this;t.wifiName=e.ssid;let l={ssid:e.ssid,bssid:e.bssid};Ze.goPost("index/checkwifiuse",l,(function(e){a("log","at pages/connect/connect.vue:250","check wifi use result:",l,e),1!=e.status?t.openWifiErrorBox():t.checkSuc()}))},checkSuc(){let e=this;Ze.globalData.isConnectWifi=0,setTimeout((function(){Ze.globalData.lastCheckWifiUseTime=0}),3e3),""!=e.backPage?uni.reLaunch({url:e.backPage}):uni.reLaunch({url:"/pages/index/index"})},openWifiErrorBox(){this.isOpenWifiErrorBox=!0},closeWifiErrorBox(){this.isOpenWifiErrorBox=!1},checkAuth(){let e=this;Ze.updateAuth((function(){if(!Ze.globalData.isWifiUse)return e.checkSuc(),!1;"android"==Ze.globalData.os?e.checkAuthForAndroid():e.checkAuthForIos()}))},checkAuthForAndroid(){let e=this;Ze.getDeviceAuth({permissionID:"LOCATION",sucBack:function(){e.checkLocationSwitch()},failBack:function(){e.locationAuthTips()},redoBack:function(){e.locationAuthTips(1)}})},checkLocationSwitch(){if(a("log","at pages/connect/connect.vue:358","locationEnabled",Qe.locationEnabled()),!Qe.locationEnabled())return this.locationSwitchTips(),!1;this.checkWifiSwitch()},checkWifiSwitch(){const e=uni.getSystemSetting();if(a("log","at pages/connect/connect.vue:374","getWiFiEnabled",e.wifiEnabled),!e.wifiEnabled)return this.wifiSwitchTips(),!1;this.checkWifiConnect()},checkWifiConnect(){let e=this;uni.getNetworkType({success(t){a("log","at pages/connect/connect.vue:394","getNetworkType",t),"wifi"!=t.networkType?e.openWifiErrorBox():e.getCurrentWiFi()},fail(e){a("log","at pages/connect/connect.vue:404","获取WIFI网络状态失败",e),Ze.showMsg("获取WIFI网络状态失败")}})},checkAuthForIos(){let e=this;Ze.getDeviceAuth({permissionID:"LOCATION",sucBack:function(){e.checkWifiSwitch()},failBack:function(){e.locationAuthTips()},switchBack:function(){e.locationSwitchTips()},requestBack:function(){e.requestLocationAuth()}})},requestLocationAuth(){let e=this;try{Qe.requestLocationAuth((t=>{a("log","at pages/connect/connect.vue:440","IOS requestLocationAuth",t),3==t||4==t?e.checkWifiSwitch():e.locationAuthTips()}))}catch(t){a("log","at pages/connect/connect.vue:454","ios 请求定位权限失败",t),e.locationSwitchTips()}},locationAuthTips(e=0){let t=this;uni.showModal({title:"温馨提示",content:"为确保功能正常使用，请先开启定位权限",cancelText:"我知道了",confirmText:"去设置",success(a){a.confirm&&(1==e?t.checkAuth():Ze.goToApp("appSetting"))}})},locationSwitchTips(){uni.showModal({title:"温馨提示",content:"为确保功能正常使用，请先开启定位功能",cancelText:"我知道了",confirmText:"去设置",success(e){e.confirm&&Ze.goToApp("locationSetting")}})},wifiSwitchTips(){uni.showModal({title:"温馨提示",content:"为确保功能正常使用，请先开启WIFI功能",cancelText:"我知道了",confirmText:"去设置",success(e){e.confirm&&Ze.goToApp("wifiSetting")}})},goWifiConnect(){Ze.goToApp("wifiSetting")}}},[["render",function(t,a,l,o,n,s){return e.openBlock(),e.createElementBlock(e.Fragment,null,[e.createElementVNode("view",{class:"topTitleBox",style:e.normalizeStyle({paddingTop:n.statusBarHeight+"px"})},[e.createElementVNode("view",{class:"titleName"},"网络受限"),e.createElementVNode("view",{class:"tipsIcon network",onClick:a[0]||(a[0]=(...e)=>s.updateNetworkType&&s.updateNetworkType(...e))},[e.createElementVNode("text",{class:"icon"}),e.createTextVNode("网络类型："+e.toDisplayString(n.networkType),1)])],4),e.createElementVNode("view",{class:"wifiBox",style:e.normalizeStyle({top:n.statusBarHeight+53+"px"})},[e.createElementVNode("view",{class:"iconBox"},[e.createElementVNode("view",{class:"icon"},[e.createElementVNode("image",{class:"hor-image",mode:"widthFix",src:n.casePic},null,8,["src"])]),e.createElementVNode("view",{class:"wifiTips"},"网络受限，请在特定WIFI下使用"),e.createElementVNode("view",{class:"listTitle"},"本店WIFI"),e.createElementVNode("view",{class:"list"},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(n.wifiList,((t,a)=>(e.openBlock(),e.createElementBlock("view",{class:"item"},e.toDisplayString(t.name),1)))),256))]),e.createElementVNode("view",{class:"IOSBottom"})]),e.createElementVNode("view",{class:"bottom IOSBottom"},[e.createElementVNode("view",{class:"bigBtn",onClick:a[1]||(a[1]=(...e)=>s.goWifiConnect&&s.goWifiConnect(...e))},"去连WI-FI"),e.createElementVNode("view",{class:"smallBtn",onClick:a[2]||(a[2]=(...e)=>s.checkAuth&&s.checkAuth(...e))},"我已连接，刷新重试")])],4),n.isOpenWifiErrorBox?(e.openBlock(),e.createElementBlock("view",{key:0,class:"prompt"},[e.createElementVNode("view",{class:"prompt-shadow"}),e.createElementVNode("view",{class:"prompt-box-w90 pos-middle"},[e.createElementVNode("view",{class:"prompt-title"},"WIFI连接错误"),e.createElementVNode("view",{class:"wifiError"},[""!=n.wifiName?(e.openBlock(),e.createElementBlock("view",{key:0,class:"tips red"},[e.createTextVNode("当前连接WIFI名称为"),e.createElementVNode("text",{class:"red"},e.toDisplayString(n.wifiName),1),e.createTextVNode("，请连接以下列表中的WIFI后再操作：")])):e.createCommentVNode("",!0),""==n.wifiName?(e.openBlock(),e.createElementBlock("view",{key:1,class:"tips red"},"尚未连接WIFI，请连接以下列表中的WIFI后再操作：")):e.createCommentVNode("",!0),e.createElementVNode("view",{class:"wifiList"},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(n.wifiList,((t,a)=>(e.openBlock(),e.createElementBlock("view",{class:"item"},[e.createElementVNode("text",{class:"icon"}),e.createElementVNode("text",{class:"txt"},e.toDisplayString(t.name),1)])))),256))])]),e.createElementVNode("view",{class:"prompt-btn"},[e.createElementVNode("view",{class:"btn-item-primary blue",onClick:a[3]||(a[3]=(...e)=>s.closeWifiErrorBox&&s.closeWifiErrorBox(...e))},"我知道了"),e.createElementVNode("view",{class:"btn-item-primary orange",onClick:a[4]||(a[4]=(...e)=>s.goWifiConnect&&s.goWifiConnect(...e))},"去设置")])])])):e.createCommentVNode("",!0)],64)}]]);var tt,at;const lt=n({data:()=>({statusBarHeight:0,networkType:"",appFileUrl:"",appName:"",yesRowWidth:0,iconMoveX:0,iconMoveWidth:0,iconMoveStop:!1,isSubmit:0,isOpenDownAppBox:!1}),onLoad(){tt=getApp(),this.statusBarHeight=tt.globalData.statusBarHeight;try{at=t("AppModule")}catch(e){a("log","at pages/yuancheng/yuancheng.vue:119","引入插件AppModule报错",e)}this.getInitData()},onShow(){let e=this;e.updateNetworkType(),e.yesRowWidth>0&&(e.iconMoveX=e.yesRowWidth,setTimeout((function(){e.iconMoveX=0}),100))},mounted(){let e=this;uni.createSelectorQuery().in(this).select("#iconRow").boundingClientRect((t=>{a("log","at pages/yuancheng/yuancheng.vue:145","得到布局位置信息"+JSON.stringify(t)),e.iconMoveWidth=t.width-2})).exec()},methods:{goBack(){uni.navigateBack()},updateNetworkType(){let e=this;uni.getNetworkType({success:function(t){e.networkType=t.networkType}})},getInitData(){let e=this;tt.goPost("yuancheng/initdata",{},(function(t){e.appFileUrl=t.appFileUrl,e.appName=t.appName}))},checkApp(){this.doCheckApp()},doCheckApp(e=null){let t=this;if(!at)return t.isSubmit=0,tt.showMsg("模块功能初始化失败，请退出页面重进"),!1;let l=plus.runtime.isApplicationExist({pname:t.appName,action:""});if(a("log","at pages/yuancheng/yuancheng.vue:205","isApplicationExist:",l),l)return"function"==typeof e?(e(),!1):(uni.showModal({content:"一切正常，请操作第2步",showCancel:!1,confirmText:"好的",success:e=>{t.isSubmit=0}}),!1);t.isSubmit=0,t.openDownAppBox()},openDownAppBox(){this.isOpenDownAppBox=!0},closeDownAppBox(){this.isOpenDownAppBox=!1},downApp(){let e=this;if(""==e.appFileUrl)return tt.showMsg("APP下载链接失效"),!1;e.closeDownAppBox();let t=plus.nativeUI.showWaiting("正在下载 - 0%");uni.downloadFile({url:e.appFileUrl,success:e=>{if(plus.nativeUI.closeWaiting(),a("log","at pages/yuancheng/yuancheng.vue:258","app下载：",e),200===e.statusCode)return tt.showMsg("app下载成功，即将安装"),plus.runtime.install(e.tempFilePath),!1;tt.showMsg("app下载失败，请稍候重试")},fail:e=>{plus.nativeUI.closeWaiting(),a("log","at pages/yuancheng/yuancheng.vue:276","下载失败：",e),tt.showMsg("app下载失败，请稍候重试")}}).onProgressUpdate((e=>{a("log","at pages/yuancheng/yuancheng.vue:285","下载进度"+e.progress),t.setTitle("正在下载 - "+e.progress+"%")}))},moveIcon(e){let t=this,l=e.detail.x;if(a("log","at pages/yuancheng/yuancheng.vue:300","moveIcon",l),t.yesRowWidth=l,1==t.isSubmit)return!1;let o=t.iconMoveWidth;t.yesRowWidth+45>=o&&0==t.isSubmit&&(t.isSubmit=1,t.iconMoveStop=!0,t.doCheckApp((function(){t.openYuanChengApp()})))},moveIconEnd(e){a("log","at pages/yuancheng/yuancheng.vue:323","move icon end");let t=this;t.iconMoveX=t.yesRowWidth,setTimeout((function(){t.iconMoveX=0,t.iconMoveStop=!1}),100)},openYuanChengApp(){let e=this;setTimeout((function(){e.isSubmit=0}),500),tt.goPost("yuancheng/getappparams",{hideLoading:1},(function(t){let l=t.id,o=t.key,n=t.white_list;a("log","at pages/yuancheng/yuancheng.vue:356","远程参数：","id="+tt.decrypt(l)+";key="+tt.decrypt(o)+";white_list="+tt.decrypt(n)),tt.showMsg("正在唤醒App","loading"),setTimeout((function(){uni.hideToast();try{at.jumpRemoteApp(l,o,n)}catch(t){tt.showMsg("协助App启动失败"),a("log","at pages/yuancheng/yuancheng.vue:369","AppModule.jumpRemoteApp失败：",t)}e.iconMoveStop=!1}),2e3)}))}}},[["render",function(t,a,l,o,n,s){return e.openBlock(),e.createElementBlock(e.Fragment,null,[e.createElementVNode("view",{class:"topTitleBox",style:e.normalizeStyle({paddingTop:n.statusBarHeight+"px"})},[e.createElementVNode("view",{class:"titleName",onClick:a[0]||(a[0]=(...e)=>s.goBack&&s.goBack(...e))},[e.createElementVNode("i",{class:"iconfont icon-fanhui"}),e.createTextVNode(" 远程协助")]),e.createElementVNode("view",{class:"tipsIcon network",onClick:a[1]||(a[1]=(...e)=>s.updateNetworkType&&s.updateNetworkType(...e))},[e.createElementVNode("text",{class:"icon"}),e.createTextVNode("网络类型："+e.toDisplayString(n.networkType),1)])],4),e.createElementVNode("view",{class:"contentBox",style:e.normalizeStyle({top:n.statusBarHeight+53+"px"})},[e.createElementVNode("view",{class:"title"},"使用教程"),e.createElementVNode("view",{class:"img"},[e.createElementVNode("image",{class:"hor-image",mode:"widthFix",src:"/static/images/yuancheng/banner.png"})]),e.createElementVNode("view",{class:"txt"},"通过授权云端，支持A手机控制B手机，请不要随意授权给他人，建议在主管监督下使用"),e.createElementVNode("view",{class:"title"},"第 1 步"),e.createElementVNode("view",{class:"txt"},"点击下面按钮，自动检测当前运行环境"),e.createElementVNode("view",{class:"btnBox"},[e.createElementVNode("view",{class:"btnItem bg-orange-JB",onClick:a[2]||(a[2]=(...e)=>s.checkApp&&s.checkApp(...e))},"立即检查")]),e.createElementVNode("view",{class:"title"},"第 2 步"),e.createElementVNode("view",{class:"txt"},"2.1 启动服务，开启输入控制"),e.createElementVNode("view",{class:"txt"},"2.2 将设备ID发送给主管，由主管联系厂家"),e.createElementVNode("view",{class:"txt red"},"我已知晓并同意对方远程协助"),e.createElementVNode("view",{class:"sureBtnRow"},[e.createElementVNode("view",{class:"noRow"},[e.createTextVNode("向右滑动开启"),e.createElementVNode("text",{class:"iconfont icon-pageright"})]),e.createElementVNode("view",{class:"yesRow",style:e.normalizeStyle({width:n.yesRowWidth+"px"})},[e.createTextVNode("向右滑动开启"),e.createElementVNode("text",{class:"iconfont icon-pageright"})],4),e.createElementVNode("movable-area",{class:"iconRow",id:"iconRow"},[e.createElementVNode("movable-view",{class:"icon",direction:"horizontal",x:n.iconMoveX,onChange:a[3]||(a[3]=(...e)=>s.moveIcon&&s.moveIcon(...e)),onTouchend:a[4]||(a[4]=(...e)=>s.moveIconEnd&&s.moveIconEnd(...e)),disabled:n.iconMoveStop,damping:"50"},[e.createElementVNode("text",{class:"iconfont icon-arrow-double-right orange"})],40,["x","disabled"])])]),e.createElementVNode("view",{class:"IOSBottom"})],4),n.isOpenDownAppBox?(e.openBlock(),e.createElementBlock("view",{key:0,class:"prompt"},[e.createElementVNode("view",{class:"prompt-shadow"}),e.createElementVNode("view",{class:"prompt-box-w90 pos-middle"},[e.createElementVNode("view",{class:"prompt-title"},"工具下载"),e.createElementVNode("view",{class:"appInfo"},[e.createElementVNode("view",{class:"appName"},"叮客云协助APP v1.0"),e.createElementVNode("view",{class:"appIcon"},[e.createElementVNode("image",{class:"filled-image",mode:"aspectFill",src:"/static/images/yuancheng/app_icon.png"})]),e.createElementVNode("view",{class:"appDetail"},[e.createElementVNode("view",{class:"appIntro"},"针对企业内部的远程协助工具，经安全认证以及用户授权同意，可以实时同步对方手机屏幕。")])]),e.createElementVNode("view",{class:"prompt-btn"},[e.createElementVNode("view",{class:"btn-item-primary gray",onClick:a[5]||(a[5]=(...e)=>s.closeDownAppBox&&s.closeDownAppBox(...e))},"取消"),e.createElementVNode("view",{class:"btn-item-primary orange",onClick:a[6]||(a[6]=(...e)=>s.downApp&&s.downApp(...e))},"下载")])])])):e.createCommentVNode("",!0)],64)}]]);var ot,nt;const st=n({data:()=>({lists:[],isPhone:0,servicematter:"",showLists:[],isShowPhone:!1}),onLoad(){ot=getApp();try{nt=t("AppModule")}catch(e){}},onShow(){this.isPhone=0,this.getData(!0)},methods:{getData:function(){let e=this;ot.goPost("Settings/serviceTel",{},(function(t){e.lists=t.lists,e.servicematter=t.servicematter}))},showNumber:function(e){var t=this,a=e.currentTarget.dataset.idx;t.isShowPhone=!0,t.showLists=t.lists[a]},closeNumber:function(){this.isShowPhone=!1,this.showLists=[]},bohao:function(e){var t=this;if(1==t.isPhone)return!1;t.isPhone=1;var a=e.currentTarget.dataset.tel;if(nt){let e=function(){uni.makePhoneCall({phoneNumber:a})},l=function(){t.refuseAuth("获取通话权限失败")};ot.getDeviceAuth({permissionID:"CALL",sucBack:e,failBack:l})}else uni.makePhoneCall({phoneNumber:a})}}},[["render",function(t,a,l,o,n,s){return e.openBlock(),e.createElementBlock(e.Fragment,null,[e.createElementVNode("view",{class:"listsBox"},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(n.lists,((t,l)=>(e.openBlock(),e.createElementBlock("view",{class:"lists"},[e.createElementVNode("view",{class:"name"},e.toDisplayString(t.name)+" "+e.toDisplayString(t.linkman),1),e.createElementVNode("view",{class:"tel"},[e.createElementVNode("view",null,e.toDisplayString(t.cornet),1),e.createElementVNode("view",null,e.toDisplayString(t.telhide),1)]),e.createElementVNode("view",{class:"call",onClick:a[0]||(a[0]=(...e)=>s.showNumber&&s.showNumber(...e)),"data-idx":l},"拨打",8,["data-idx"])])))),256))]),e.createElementVNode("view",{class:"matterBox"}," 注意事项 : "+e.toDisplayString(n.servicematter),1),n.isShowPhone?(e.openBlock(),e.createElementBlock("view",{key:0,class:"balckBg",onClick:a[1]||(a[1]=(...e)=>s.closeNumber&&s.closeNumber(...e))})):e.createCommentVNode("",!0),n.isShowPhone?(e.openBlock(),e.createElementBlock("view",{key:1,class:"bodaBox"},[""!=n.showLists.cornet?(e.openBlock(),e.createElementBlock("view",{key:0,class:"phoneLists"},[e.createElementVNode("view",{class:"phoneNum"},e.toDisplayString(n.showLists.cornet),1),e.createElementVNode("view",{class:"phoneInfo"},e.toDisplayString(n.showLists.name)+" "+e.toDisplayString(n.showLists.linkman),1),e.createElementVNode("view",{class:"bodaBtn",onClick:a[2]||(a[2]=(...e)=>s.bohao&&s.bohao(...e)),"data-tel":n.showLists.cornet},[e.createElementVNode("text",{class:"iconfont icon-huchu"})],8,["data-tel"])])):e.createCommentVNode("",!0),e.createElementVNode("view",{class:"phoneLists"},[e.createElementVNode("view",{class:"phoneNum"},e.toDisplayString(n.showLists.tel),1),e.createElementVNode("view",{class:"phoneInfo"},e.toDisplayString(n.showLists.name)+" "+e.toDisplayString(n.showLists.linkman),1),e.createElementVNode("view",{class:"bodaBtn",onClick:a[3]||(a[3]=(...e)=>s.bohao&&s.bohao(...e)),"data-tel":n.showLists.tel},[e.createElementVNode("text",{class:"iconfont icon-huchu"})],8,["data-tel"])])])):e.createCommentVNode("",!0)],64)}]]);const it=n({props:{isOpen:{type:Boolean,default:!1},current:{type:Number,default:0},range:{type:Array,default:[]}},methods:{close:function(e){this.$emit("close",{},{})}}},[["render",function(t,a,l,o,n,s){return l.isOpen?(e.openBlock(),e.createElementBlock("view",{key:0,class:"previceImageBox",onClick:a[0]||(a[0]=(...e)=>s.close&&s.close(...e))},[e.createElementVNode("view",{class:"shadow"}),e.createElementVNode("swiper",{class:"previceImage",current:l.current},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(l.range,((t,a)=>(e.openBlock(),e.createElementBlock("swiper-item",{class:"item"},[e.createElementVNode("image",{class:"pic",mode:"aspectFit",src:t},null,8,["src"])])))),256))],8,["current"]),e.createElementVNode("text",{class:"iconfont icon-guanbi close"})])):e.createCommentVNode("",!0)}],["__scopeId","data-v-5820179d"]]);var ct,rt;const dt=n({data:()=>({statusBarHeight:0,phoneBrand:"",phoneRom:"",phoneVersion:"",phoneBrandStr:"",osVersion:"",typeIndex:0,typeKey:"",typeList:[],sysSetMethod:"",imgList:[],videoObj:{},videoList:[],hasVideo:!0,isOpenVideoBox:!1,isOpenBatteryBox:!1,isOpenPreviewImageBox:!1,previewImageList:[],previewCurrent:0}),onLoad(){ct=getApp(),this.statusBarHeight=ct.globalData.statusBarHeight;try{rt=t("AppModule")}catch(e){}this.checkPhoneBrand()},onShow(){},methods:{goBack(){uni.navigateBack()},getData(){let e=this,t=e.checkBattery(),a={brand:e.phoneBrand,version:e.phoneVersion,rom:e.phoneRom,osVersion:e.osVersion,battery:t?1:0};ct.goPost("appset/initdata",a,(function(a){e.phoneBrandStr=a.phoneBrandStr,e.typeList=a.typeList,e.typeKey=a.typeKey,e.imgList=a.imgList,e.videoList=a.videoList,e.sysSetMethod=a.sysSetMethod,t||1!=a.batteryType||e.sureBattery(a.batteryType),e.previewImageList=e.imgList[0].list,e.checkHasVideo()}))},checkPhoneBrand(){let e=uni.getDeviceInfo().deviceBrand;a("log","at pages/appset/appset.vue:224","deviceBrand",e),null!=e&&e||(e="unknown");let t=uni.getSystemInfoSync(),l=t.romVersion,o=t.romName,n=t.osVersion;null!=l&&l||(l="unknown"),null!=o&&o||(o="unknown"),null!=n&&n||(n="unknown"),this.phoneBrand=e.toLocaleLowerCase(),this.phoneVersion=l.toLocaleLowerCase(),this.phoneRom=o.toLocaleLowerCase(),this.osVersion=n.toLocaleLowerCase(),this.getData()},changeType(e){let t=this.typeList,a=e.currentTarget.dataset.index,l=t[a],o=l.key;if(this.typeIndex==a)return!1;this.typeIndex=a,this.sysSetMethod=l.method,this.typeKey=o,this.checkHasVideo()},checkHasVideo(){let e=this.typeKey,t=this.videoList,a=!1;for(let l in t)t[l].key==e&&""!=t[l].url&&(a=!0);this.hasVideo=a},openVideoBox(){let e=this.typeKey;this.videoObj.hasOwnProperty(e)||(this.videoObj[e]=uni.createVideoContext("video_"+e)),this.isOpenVideoBox=!0},closeVideoBox(){let e=this.typeKey;this.isOpenVideoBox=!1,this.videoObj[e].pause()},playVideo(){let e=this.typeKey;this.videoObj[e].play()},stopVideo(){let e=this.typeKey;this.videoObj[e].pause()},showImg(e){let t=this.imgList,a=e.currentTarget.dataset.index,l=e.currentTarget.dataset.index2,o=t[a].list[l];this.previewImageList=t[a].list,this.previewCurrent=l,uni.previewImage({current:o,urls:t[a].list,indicator:"default"})},closePreviewImageBox(){this.isOpenPreviewImageBox=!1,this.previewImageList=[],this.previewCurrent=0},openSysSet(){let e=this,t=e.sysSetMethod;if(""==t||"function"!=typeof e[t])return ct.showMsg("敬请期待"),!1;e[t]()},jumpAppSetting(){ct.goToApp("appSetting")},jumpSystemSetting(){ct.goToApp("systemSetting")},jumpNotificationSetting(){ct.goToApp("notificationSetting")},jumpAutoStartSetting(){let e=plus.runtime.isApplicationExist({pname:"com.hihonor.systemmanager",action:""}),t=plus.runtime.isApplicationExist({pname:"com.huawei.systemmanager",action:""});if(!e&&!t)return this.jumpSystemSetting(),!1;try{rt.jumpAutoStartSetting()}catch(l){a("log","at pages/appset/appset.vue:397","AppModule.jumpAutoStartSetting执行失败：",l),ct.showMsg("打开系统设置失败:"+l)}},checkBattery(){if(!rt)return!1;let e=!1;try{e=rt.appIsIgnoringBattery(),a("log","at pages/appset/appset.vue:416","AppModule.appIsIgnoringBattery:",e)}catch(t){a("log","at pages/appset/appset.vue:424","AppModule.appIsIgnoringBattery执行失败：",t)}return e},openBatteryBox(){this.isOpenBatteryBox=!0},closeBatteryBox(){this.isOpenBatteryBox=!1},sureBattery(e){let t=this;if(!rt)return!1;t.closeBatteryBox(),uni.showLoading({title:"请稍等"});try{rt.appBatteryOptimization((function(l){uni.hideLoading(),a("log","at pages/appset/appset.vue:457","AppModule.appBatteryOptimization：",l),l?2==e&&t.promptMsg("优化省电策略开启成功",(function(){t.getData()})):1==e?t.sureBattery(e):t.promptMsg("优化省电策略开启失败，请按照教程指示操作")}))}catch(l){a("log","at pages/appset/appset.vue:484","AppModule.appBatteryOptimization执行失败：",l),uni.hideLoading(),t.promptMsg("优化省电策略开启失败，请按照教程指示操作")}},sureBatteryForWin(){this.sureBattery(1)},sureBatteryForUrl(){this.sureBattery(2)},promptMsg(e,t=null){uni.showModal({content:e,showCancel:!1,confirmText:"我知道了",success:e=>{"function"==typeof t&&t()}})}}},[["render",function(t,a,o,n,s,i){const c=l(e.resolveDynamicComponent("ydPreviewImage"),it);return e.openBlock(),e.createElementBlock(e.Fragment,null,[e.createElementVNode("view",{class:"topTitleBox",style:e.normalizeStyle({paddingTop:s.statusBarHeight+"px"})},[e.createElementVNode("view",{class:"titleName",onClick:a[0]||(a[0]=(...e)=>i.goBack&&i.goBack(...e))},[e.createElementVNode("i",{class:"iconfont icon-fanhui"}),e.createTextVNode(" 权限申请")]),e.createElementVNode("view",{class:"tipsIcon network orange"},[e.createElementVNode("text",{class:"icon bg-orange"}),e.createTextVNode(e.toDisplayString(s.phoneBrandStr),1)])],4),e.createElementVNode("view",{class:"contentBox",style:e.normalizeStyle({top:s.statusBarHeight+53+"px"})},[e.createElementVNode("view",{class:"top"},[e.createElementVNode("view",{class:"title"},[e.createElementVNode("text",{class:"orange"},e.toDisplayString(s.typeList.length),1),e.createTextVNode("项权限待开启")]),e.createElementVNode("view",{class:"tips"},"开启全部权限才能正常使用APP哦!"),e.createElementVNode("view",{class:"icon"},[e.createElementVNode("image",{class:"filled-image",mode:"aspectFill",src:"/static/images/appset/phone.png"})])]),e.createElementVNode("scroll-view",{class:"typeList","scroll-x":"true"},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(s.typeList,((t,l)=>(e.openBlock(),e.createElementBlock("view",{class:e.normalizeClass(["item",s.typeIndex==l?"selected":""]),id:"type_"+t.key,"data-index":l,onClick:a[1]||(a[1]=(...e)=>i.changeType&&i.changeType(...e))},e.toDisplayString(t.name),11,["id","data-index"])))),256))]),e.createElementVNode("view",{class:"jiaoCheng"},[e.createElementVNode("view",{class:"jiaoChengTop"},[e.createElementVNode("text",{class:"tit"},"操作教程"),s.hasVideo?(e.openBlock(),e.createElementBlock("view",{key:0,class:"icon",onClick:a[2]||(a[2]=(...e)=>i.openVideoBox&&i.openVideoBox(...e))},[e.createElementVNode("text",{class:"iconfont icon-kaishi"}),e.createTextVNode("查看视频")])):e.createCommentVNode("",!0)]),e.createElementVNode("view",{class:"imgListBox"},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(s.imgList,((t,l)=>e.withDirectives((e.openBlock(),e.createElementBlock("view",{class:"imgList"},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(t.list,((t,o)=>(e.openBlock(),e.createElementBlock("view",{class:"item",key:t},[e.createElementVNode("image",{class:"filled-image",mode:"aspectFill",src:t,"data-index":l,"data-index2":o,onClick:a[3]||(a[3]=(...e)=>i.showImg&&i.showImg(...e))},null,8,["src","data-index","data-index2"])])))),128))],512)),[[e.vShow,s.typeKey==t.key]]))),256)),e.createElementVNode("view",{class:"imgTips orange"},"* 点击图片放大查看")])]),e.createElementVNode("view",{class:"IOSBottom"})],4),e.withDirectives(e.createElementVNode("view",{class:"submit low-index IOSBottom"},[e.createElementVNode("view",{class:"btn bg-red-JB",onClick:a[4]||(a[4]=(...e)=>i.openSysSet&&i.openSysSet(...e))},"打开系统设置")],512),[[e.vShow,""!=s.sysSetMethod]]),e.createElementVNode("view",{class:e.normalizeClass(["prompt",s.isOpenVideoBox?"":"hide"])},[e.createElementVNode("view",{class:"prompt-shadow not-opacity"}),e.createElementVNode("view",{class:"pos-middle videoBox"},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(s.videoList,((t,a)=>e.withDirectives((e.openBlock(),e.createElementBlock("video",{class:"video",poster:t.pic,src:t.url,id:"video_"+t.key,"show-fullscreen-btn":!1,"enable-play-gesture":!0},null,8,["poster","src","id"])),[[e.vShow,s.typeKey==t.key]]))),256)),e.createElementVNode("text",{class:"playBtn bg-blue",onClick:a[5]||(a[5]=(...e)=>i.playVideo&&i.playVideo(...e))},"播放"),e.createElementVNode("text",{class:"stopBtn bg-orange",onClick:a[6]||(a[6]=(...e)=>i.stopVideo&&i.stopVideo(...e))},"暂停"),e.createElementVNode("text",{class:"closeBtn bg-red",onClick:a[7]||(a[7]=(...e)=>i.closeVideoBox&&i.closeVideoBox(...e))},"关闭")])],2),e.createVNode(c,{isOpen:s.isOpenPreviewImageBox,range:s.previewImageList,current:s.previewCurrent,onClose:i.closePreviewImageBox},null,8,["isOpen","range","current","onClose"])],64)}]]);var mt,ut;const pt={data:()=>({statusBarHeight:0,topTitleNum:"",topName:"通讯录",seachInfo:"",lists:[],navName:"",currentId:"",opType:"",selDepIndx:[],sid:[],did:[],oData:[],onlyOne:!1}),onLoad(e){mt=getApp(),(ut=this).statusBarHeight=mt.globalData.statusBarHeight,e.hasOwnProperty("op")&&""!=e.op&&(ut.opType=e.op),e.hasOwnProperty("onlyOne")&&""!=e.onlyOne&&(ut.onlyOne=!0),ut.getData()},methods:{clear:function(){let e=this;e.sid=[],e.did=[],e.oData=[]},getData:function(e){let t=this,a={opType:t.opType};mt.goPost("company/lists",a,(function(e){t.topName=e.topName,t.lists=e.lists,t.topTitleNum=e.allNum}))},lookInfo:function(e){var t=this,a=e.currentTarget.dataset.id,l=e.currentTarget.dataset.isstaff,o=e.currentTarget.dataset.index;if(1==l)return!1;var n=t.lists[o].title;t.navName+="> "+n,t.currentId=a;var s={id:a,navName:t.navName};t.selDepIndx.push(s),t.seachDepStaff()},initialDep:function(){var e=this;e.navName="",e.seachInfo="",e.currentId="",e.selDepIndx=[],e.getData()},seach:function(){this.seachDepStaff()},seachDepStaff:function(){var e=this,t={seachInfo:e.seachInfo,depid:e.currentId,opType:e.opType};mt.goPost("company/depStaff",t,(function(t){e.lists=t.lists}))},inputinfo:function(e){this.seachInfo=e.detail.value},lookBigImg:function(e){uni.previewImage({current:e,urls:[e]})},chooseDep(e){let t,a,l=this,o=l.lists[e],n=o.id,s=l.sid,i=l.did,c=l.oData;1==o.isStaff?l.onlyOne?(l.sid=[n],l.oData=[o]):s.includes(n)?(t=l.backArrIndex(s,n),a=l.backArrIndex(c,n,"id"),s.splice(t,1),c.splice(a,1)):(s.push(n),c.push(o)):i.includes(n)?(t=l.backArrIndex(i,n),a=l.backArrIndex(c,n,"id"),i.splice(t,1),c.splice(a,1)):(i.push(n),c.push(o))},backArrIndex:(e,t,a)=>e.findIndex((e=>{if(e==t||a&&e[a]==t)return!0})),sureDatas:function(){let e=this,t=e.sid,l=e.did,o=e.oData,n="",s="",i="",c="";if(0==t.length&&0==l.length)return void mt.showMsg("请选择接收部门/人");if(e.onlyOne&&t.length>1)return void mt.showMsg("只能选择一个人");let r={sid:t,did:l};mt.goPost("oadept/clearRepeatStaff",r,(function(r){t=r.sid;for(let e in o){let a=o[e];t.includes(a.id)&&(n=a.title,i+=i?","+n:n),l.includes(a.id)&&(s=a.title,c+=c?","+s:s)}let d=c;i&&(d+=d?","+i:i);let m={sid:t,did:l,sendTxt:d};a("log","at pages/companysel/companysel.vue:337",m);e.getOpenerEventChannel().emit("backFun",m),uni.navigateBack()}))},goBack:function(){var e=this;let t=getCurrentPages();var l=e.selDepIndx.length;e.selDepIndx[l-2],l>1?(e.navName=e.selDepIndx[l-2].navName,e.currentId=e.selDepIndx[l-2].id,e.selDepIndx.splice(l-1,1),e.seachDepStaff(),a("log","at pages/companysel/companysel.vue:360",e.selDepIndx)):1==l?e.initialDep():t[t.length-2]?uni.navigateBack():uni.reLaunch({url:"/pages/index/index"})},initOdata(){let e=this,t={sid:e.sid,did:e.did};mt.goPost("oadept/initOdata",t,(function(t){let a=t.length>0?t:[];e.oData=a}))}}},ht=Object.assign(pt,{__name:"companysel",setup(t){const l=e.getCurrentInstance();return o((async()=>{await e.nextTick();const t=l.proxy.getOpenerEventChannel();a("log","at pages/companysel/companysel.vue:412",l),t.on("afferent",(function(e){a("log","at pages/companysel/companysel.vue:417","shou"),a("log","at pages/companysel/companysel.vue:418",e),l.data.sid=e.sid,l.data.did=e.did,ut.initOdata()}))})),(t,a)=>(e.openBlock(),e.createElementBlock(e.Fragment,null,[e.createElementVNode("view",{class:"topTitleBox",style:e.normalizeStyle({paddingTop:t.statusBarHeight+"px"})},[e.createElementVNode("view",{class:"titleName",onClick:a[0]||(a[0]=(...e)=>t.goBack&&t.goBack(...e))},[e.createElementVNode("i",{class:"iconfont icon-fanhui"}),e.createTextVNode(" 通讯录("+e.toDisplayString(t.topTitleNum)+")",1)])],4),e.createElementVNode("view",{style:{height:"53px"}}),e.createElementVNode("view",{class:"content",style:e.normalizeStyle({paddingTop:t.statusBarHeight+"px"})},[e.createElementVNode("view",{class:"seachBox"},[e.createElementVNode("view",{class:"seach"},[e.createElementVNode("text",{class:"iconfont icon-sousuo"}),e.createElementVNode("input",{class:"seachInput",type:"text",placeholder:"请输入员工姓名,工号",onInput:a[1]||(a[1]=(...e)=>t.inputinfo&&t.inputinfo(...e)),value:t.seachInfo},null,40,["value"]),e.createElementVNode("view",{class:"seachBtn",onClick:a[2]||(a[2]=(...e)=>t.seach&&t.seach(...e))},"搜索")])]),e.createElementVNode("view",{class:"companyList"},[e.createElementVNode("view",{class:"navigation"},[e.createElementVNode("view",{class:"navTitle",onClick:a[3]||(a[3]=(...e)=>t.initialDep&&t.initialDep(...e))},[e.createElementVNode("text",{class:"iconfont icon-zuzhijiagoujiekou"}),e.createTextVNode(" "+e.toDisplayString(t.topName),1)]),e.createElementVNode("view",{class:"navName"},e.toDisplayString(t.navName),1)]),(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(t.lists,((l,o)=>(e.openBlock(),e.createElementBlock("view",{class:"department"},[0==l.isStaff?(e.openBlock(),e.createElementBlock("view",{key:0},["chooseStaff"==t.opType?(e.openBlock(),e.createElementBlock("label",{key:0},[e.createElementVNode("view",{class:"dep_icon"},[e.createElementVNode("text",{class:"iconfont icon-folder1 yellow"})]),e.createElementVNode("view",{class:"name name2","data-id":l.id,"data-isstaff":l.isStaff,"data-index":o,onClick:a[4]||(a[4]=(...e)=>t.lookInfo&&t.lookInfo(...e))},e.toDisplayString(l.title),9,["data-id","data-isstaff","data-index"])])):(e.openBlock(),e.createElementBlock("label",{key:1},[e.createElementVNode("view",{class:"name"},[e.createElementVNode("checkbox-group",{class:"sdFormInlineRroup",onChange:e=>t.chooseDep(o)},[e.createElementVNode("checkbox",{checked:!!t.did&&t.did.includes(l.id),class:"sdFormCheckbox",color:"#fff"},null,8,["checked"]),e.createTextVNode(e.toDisplayString(l.title),1)],40,["onChange"])])])),l.staff_number>0||l.children&&l.children.length>0?(e.openBlock(),e.createElementBlock("view",{key:2,class:"number","data-id":l.id,"data-isstaff":l.isStaff,"data-index":o,onClick:a[5]||(a[5]=(...e)=>t.lookInfo&&t.lookInfo(...e))},[e.createTextVNode(e.toDisplayString(l.staff_number?l.staff_number+"人":"")+" ",1),e.createElementVNode("text",{class:"iconfont icon-youbian1"})],8,["data-id","data-isstaff","data-index"])):e.createCommentVNode("",!0)])):e.createCommentVNode("",!0),1==l.isStaff?(e.openBlock(),e.createElementBlock("view",{key:1},[e.createElementVNode("label",null,[e.createElementVNode("view",{class:"name"},[e.createElementVNode("checkbox-group",{class:"sdFormInlineRroup",onChange:e=>t.chooseDep(o)},[e.createElementVNode("checkbox",{checked:!!t.sid&&t.sid.includes(l.id),class:"sdFormCheckbox",color:"#fff"},null,8,["checked"]),e.createTextVNode(e.toDisplayString(l.title),1)],40,["onChange"])])]),l.role_name?(e.openBlock(),e.createElementBlock("view",{key:0,class:"number","data-id":l.id,"data-isstaff":l.isStaff,"data-index":o,onClick:a[6]||(a[6]=(...e)=>t.lookInfo&&t.lookInfo(...e))},e.toDisplayString(l.role_name),9,["data-id","data-isstaff","data-index"])):e.createCommentVNode("",!0)])):e.createCommentVNode("",!0)])))),256)),0==t.lists.length?(e.openBlock(),e.createElementBlock("view",{key:0,class:"noData"},[e.createElementVNode("i",{class:"iconfont icon-kongshuju"}),e.createTextVNode(" 暂无数据 ")])):e.createCommentVNode("",!0)])],4),e.createElementVNode("view",{class:"foot IOSBottom"},[e.createElementVNode("view",{class:"footBtn half bg-orange-JB",onClick:a[7]||(a[7]=(...e)=>t.clear&&t.clear(...e))},"清空"),e.createElementVNode("view",{class:"footBtn half bg-reds-JB",onClick:a[8]||(a[8]=(...e)=>t.sureDatas&&t.sureDatas(...e))},"去重保存")])],64))}});var gt,vt;const yt=n({data:()=>({os:"",env:"",hasBack:0,auth:{location:0,camera:0,record:0,storage:0,contacts:0,alert:0}}),onLoad(e){gt=getApp(),e.hasOwnProperty("hasBack")&&(this.hasBack=1),this.statusBarHeight=gt.globalData.statusBarHeight,this.os=gt.globalData.os,this.env="production";try{vt=t("PermissionModule")}catch(l){a("log","at pages/auth/auth.vue:197","PermissionModule初始化失败:",l)}},onShow(){this.initData()},methods:{goBack(){uni.navigateBack()},goToUrl(e){let t="";if("notice"==e)return gt.goToApp("notificationSetting"),!1;switch(e){case"index":t="/pages/index/index";break;case"voice":t="/pages/sound/sound";break;case"appset":t="/pages/appset/appset"}"index"==e?(gt.globalData.checkLoginComplete=1,uni.reLaunch({url:t})):uni.navigateTo({url:t})},initData(){const e=uni.getAppAuthorizeSetting();if(a("log","at pages/auth/auth.vue:255","uni.getAppAuthorizeSetting",e),"authorized"==e.locationAuthorized?this.auth.location=1:this.auth.location=0,"authorized"==e.cameraAuthorized?this.auth.camera=1:this.auth.camera=0,"authorized"==e.microphoneAuthorized?this.auth.record=1:this.auth.record=0,"ios"==gt.globalData.os){let e=plus.ios.import("CNContactStore").authorizationStatusForEntityType(0);this.auth.contacts=3==e?1:0}if("android"==gt.globalData.os){this.auth.storage=this.getDeviceAuthStatus("STORAGE"),this.auth.contacts=this.getDeviceAuthStatus("CONTACTS");try{let e=vt.checkOverlayPermission();a("log","at pages/auth/auth.vue:299","PermissionModule.checkOverlayPermission:",e),this.auth.alert=e?1:0}catch(t){a("log","at pages/auth/auth.vue:303","PermissionModule.checkOverlayPermission fail:",t)}}},getDeviceAuthStatus(e){e=(e=gt.parsePermissionID(e))[e.length-1];let t=0;try{t=vt.checkPermission(e),a("log","at pages/auth/auth.vue:323","PermissionModule.checkPermission contacts:",e,t),t=t?1:0}catch(l){a("log","at pages/auth/auth.vue:327","PermissionModule.checkPermission失败",e,l)}return t},async getLoactionAuth(){let e=this;if(1==e.auth.location)return gt.showMsg("定位权限已开启"),!1;let t=await gt.checkLocationAuth();if(a("log","at pages/auth/auth.vue:346","checkLocationAuth:",t),0==t)return e.errorMsg("使用当前App，需要定位权限",(function(){gt.goToApp("appSetting")})),!1;if(2==t)return e.errorMsg("使用当前App，需要开启定位",(function(){gt.goToApp("appSetting")})),!1;if(3==t){if(1!=await gt.requestLocationAuth())return e.errorMsg("使用当前App，需要定位权限",(function(){gt.goToApp("appSetting")})),!1}else if(4==t)return e.getLoactionAuth(),!1;e.auth.location=1},async getCameraAuth(){let e=this;if(1==e.auth.camera)return gt.showMsg("相机权限已开启"),!1;let t=await gt.checkCameraAuth();return a("log","at pages/auth/auth.vue:394","checkCameraAuth:",t),0==t?(e.errorMsg("使用当前App，需要相机权限",(function(){gt.goToApp("appSetting")})),!1):4==t?(e.getCameraAuth(),!1):void(e.auth.camera=1)},async getRecordAuth(){let e=this;if(1==e.auth.record)return gt.showMsg("录音权限已开启"),!1;let t=await gt.checkRecordAuth();return a("log","at pages/auth/auth.vue:423","checkRecordAuth:",t),0==t?(e.errorMsg("使用当前App，需要录音权限",(function(){gt.goToApp("appSetting")})),!1):4==t?(e.getRecordAuth(),!1):void(e.auth.record=1)},async getStorageAuth(){let e=this;if(1==e.auth.storage)return gt.showMsg("存储权限已开启"),!1;let t=await gt.checkDeviceAuth("STORAGE");return a("log","at pages/auth/auth.vue:452","check storage auth:",t),0==t?(e.errorMsg("使用当前App，需要存储权限",(function(){gt.goToApp("appSetting")})),!1):4==t?(e.getStorageAuth(),!1):void(e.auth.storage=1)},async getContactsAuth(){let e=this;if(1==e.auth.contacts)return gt.showMsg("联系人权限已开启"),!1;let t=await gt.checkDeviceAuth("CONTACTS");return a("log","at pages/auth/auth.vue:481","check contacts auth:",t),0==t?(e.errorMsg("使用当前App，需要联系人权限",(function(){gt.goToApp("appSetting")})),!1):4==t?(e.getContactsAuth(),!1):void(e.auth.contacts=1)},getAlertAuth(){if(1==this.auth.alert)return gt.showMsg("悬浮窗权限已开启"),!1;try{vt.jumpOverlayPermission()}catch(e){a("log","at pages/auth/auth.vue:514","PermissionModule.jumpOverlayPermission fail:",e)}},errorMsg(e,t=null){uni.showModal({content:e,showCancel:!1,confirmText:"去设置",success:e=>{"function"==typeof t&&t()}})}}},[["render",function(t,a,l,o,n,s){return e.openBlock(),e.createElementBlock(e.Fragment,null,[1==n.hasBack?(e.openBlock(),e.createElementBlock("view",{key:0,class:"topTitleBox",style:e.normalizeStyle({paddingTop:t.statusBarHeight+"px"})},[e.createElementVNode("view",{class:"titleName",onClick:a[0]||(a[0]=(...e)=>s.goBack&&s.goBack(...e))},[e.createElementVNode("i",{class:"iconfont icon-fanhui"}),e.createTextVNode(" 权限申请")])],4)):e.createCommentVNode("",!0),e.createElementVNode("view",{class:"prompt"},[e.createElementVNode("view",{class:"prompt-shadow not-opacity"}),e.createElementVNode("view",{class:"prompt-box-w90 pos-middle"},[e.createElementVNode("view",{class:"prompt-title no-border"},"环境检测"),e.createElementVNode("view",{class:"authList"},[e.createElementVNode("view",{class:"item"},[e.createElementVNode("text",{class:"icon"},"1"),e.createElementVNode("text",{class:"txt"},"位置权限"),e.createElementVNode("view",{class:"right",onClick:a[1]||(a[1]=(...e)=>s.getLoactionAuth&&s.getLoactionAuth(...e))},[1==n.auth.location?(e.openBlock(),e.createElementBlock("text",{key:0,class:"light-green"},"已开启")):e.createCommentVNode("",!0),1!=n.auth.location?(e.openBlock(),e.createElementBlock("text",{key:1,class:"red"},"去开启")):e.createCommentVNode("",!0),e.createElementVNode("text",{class:"iconfont icon-youbian1"})])]),e.createElementVNode("view",{class:"item"},[e.createElementVNode("text",{class:"icon"},"2"),e.createElementVNode("text",{class:"txt"},"摄像头权限"),e.createElementVNode("view",{class:"right",onClick:a[2]||(a[2]=(...e)=>s.getCameraAuth&&s.getCameraAuth(...e))},[1==n.auth.camera?(e.openBlock(),e.createElementBlock("text",{key:0,class:"light-green"},"已开启")):e.createCommentVNode("",!0),1!=n.auth.camera?(e.openBlock(),e.createElementBlock("text",{key:1,class:"red"},"去开启")):e.createCommentVNode("",!0),e.createElementVNode("text",{class:"iconfont icon-youbian1"})])]),e.createElementVNode("view",{class:"item"},[e.createElementVNode("text",{class:"icon"},"3"),e.createElementVNode("text",{class:"txt"},"录音权限"),e.createElementVNode("view",{class:"right",onClick:a[3]||(a[3]=(...e)=>s.getRecordAuth&&s.getRecordAuth(...e))},[1==n.auth.record?(e.openBlock(),e.createElementBlock("text",{key:0,class:"light-green"},"已开启")):e.createCommentVNode("",!0),1!=n.auth.record?(e.openBlock(),e.createElementBlock("text",{key:1,class:"red"},"去开启")):e.createCommentVNode("",!0),e.createElementVNode("text",{class:"iconfont icon-youbian1"})])]),e.createElementVNode("view",{class:"item"},[e.createElementVNode("text",{class:"icon"},"4"),e.createElementVNode("text",{class:"txt"},"存储权限"),e.createElementVNode("view",{class:"right",onClick:a[4]||(a[4]=(...e)=>s.getStorageAuth&&s.getStorageAuth(...e))},[1==n.auth.storage?(e.openBlock(),e.createElementBlock("text",{key:0,class:"light-green"},"已开启")):e.createCommentVNode("",!0),1!=n.auth.storage?(e.openBlock(),e.createElementBlock("text",{key:1,class:"red"},"去开启")):e.createCommentVNode("",!0),e.createElementVNode("text",{class:"iconfont icon-youbian1"})])]),"android"==n.os||"development"==n.env?(e.openBlock(),e.createElementBlock("view",{key:0,class:"item"},[e.createElementVNode("text",{class:"icon"},"5"),e.createElementVNode("text",{class:"txt"},"悬浮窗权限"),e.createElementVNode("view",{class:"right",onClick:a[5]||(a[5]=(...e)=>s.getAlertAuth&&s.getAlertAuth(...e))},[1==n.auth.alert?(e.openBlock(),e.createElementBlock("text",{key:0,class:"light-green"},"已开启")):e.createCommentVNode("",!0),1!=n.auth.alert?(e.openBlock(),e.createElementBlock("text",{key:1,class:"red"},"去开启")):e.createCommentVNode("",!0),e.createElementVNode("text",{class:"iconfont icon-youbian1"})])])):e.createCommentVNode("",!0),e.createElementVNode("view",{class:"item"},[e.createElementVNode("text",{class:"icon"},e.toDisplayString("android"==n.os||"development"==n.env?"6":"5"),1),e.createElementVNode("text",{class:"txt"},"语音播报"),e.createElementVNode("view",{class:"right",onClick:a[6]||(a[6]=e=>s.goToUrl("voice"))},[e.createElementVNode("text",{class:"light-green"},"去设置"),e.createElementVNode("text",{class:"iconfont icon-youbian1"})])]),"android"==n.os||"development"==n.env?(e.openBlock(),e.createElementBlock("view",{key:1,class:"item"},[e.createElementVNode("text",{class:"icon"},"7"),e.createElementVNode("text",{class:"txt"},"权限申请"),e.createElementVNode("view",{class:"right",onClick:a[7]||(a[7]=e=>s.goToUrl("appset"))},[e.createElementVNode("text",{class:"light-green"},"去设置"),e.createElementVNode("text",{class:"iconfont icon-youbian1"})])])):e.createCommentVNode("",!0),"ios"==n.os||"development"==n.env?(e.openBlock(),e.createElementBlock("view",{key:2,class:"item"},[e.createElementVNode("text",{class:"icon"},"6"),e.createElementVNode("text",{class:"txt"},"消息通知"),e.createElementVNode("view",{class:"right",onClick:a[8]||(a[8]=e=>s.goToUrl("notice"))},[e.createElementVNode("text",{class:"light-green"},"去设置"),e.createElementVNode("text",{class:"iconfont icon-youbian1"})])])):e.createCommentVNode("",!0)]),e.createElementVNode("view",{class:"prompt-btn no-border pb20"},[1!=n.auth.location||1!=n.auth.camera||1!=n.auth.record?(e.openBlock(),e.createElementBlock("view",{key:0,class:"btn-item-full gray xiahuaxian",onClick:a[9]||(a[9]=e=>s.goToUrl("index"))},"下次再说，跳过设置")):e.createCommentVNode("",!0),1==n.auth.location&&1==n.auth.camera&&1==n.auth.record?(e.openBlock(),e.createElementBlock("view",{key:1,class:"btn-item-full orange xiahuaxian",onClick:a[10]||(a[10]=e=>s.goToUrl("index"))},"回到首页")):e.createCommentVNode("",!0)])])])],64)}]]);var kt;const Nt=n({data:()=>({statusBarHeight:0}),onLoad(e){kt=getApp();this.statusBarHeight=kt.globalData.statusBarHeight},onShow(){},methods:{}},[["render",function(t,a,l,o,n,s){return e.openBlock(),e.createElementBlock("view",{class:"wifiBox",style:e.normalizeStyle({top:n.statusBarHeight+53+"px"})},[e.createElementVNode("view",{class:"iconBox"},[e.createElementVNode("view",{class:"icon"},[e.createElementVNode("image",{class:"hor-image",mode:"widthFix",src:"/static/images/baocuo.png"})]),e.createElementVNode("view",{class:"wifiTips red"},"APP环境加载失败，请关闭后重新打开"),e.createElementVNode("view",{class:"IOSBottom"})])],4)}]]);var wt,bt;const Bt=uni.getRecorderManager(),Et=uni.createInnerAudioContext();Et.autoplay=!0;const ft=n({data:()=>({deviceToken:"",cid:"",phoneBrand:"",phoneModel:"",osVersion:"",romVersion:"",appVersion:"",sdkVersion:"",uniappVersion:"",wavVersion:"",imei:"",h5Url:"",vibrate:{timer:null,maxTimes:40,nowTimes:0},testPingIp:"",testPingTimeout:50,isOpenRecordBox:!1,recordSec:0,recordStatus:0,recordPath:"",recordTimer:null}),onLoad(){let e=this;wt=getApp();let l="unknown",o="unknown",n="unknown",s="unknown";try{l=(bt=t("AppModule")).appFlavor(),"ios"==wt.globalData.os?(o=bt.getPushWavVersion(),n=bt.deviceId()):s=bt.pushGetCID()}catch(r){a("log","at pages/apptest/apptest.vue:173","加载AppModule失败",r)}let i=uni.getSystemInfoSync(),c=uni.getDeviceInfo();this.deviceToken=wt.globalData.deviceToken,this.cid=s,this.phoneBrand=c.deviceBrand,this.phoneModel=c.deviceModel,this.osVersion=i.osName+" "+i.osVersion,this.romVersion=i.romName+" "+i.romVersion,this.appVersion=i.hostVersion,this.sdkVersion=i.hostSDKVersion,this.uniappVersion=l+" - "+wt.globalData.appVersion,this.wavVersion=o,this.imei=n,this.getData(),uni.$on("onRecordComplete",(function(t){a("log","at pages/apptest/apptest.vue:194","录音完成 "+JSON.stringify(t)),e.recordPath=t.tempFilePath,e.recordStatus=2,e.uploadRecordVoice(t.tempFilePath,t.orderid)})),Bt.onStop((function(t){a("log","at pages/apptest/apptest.vue:202","录音完成 "+JSON.stringify(t)),e.recordPath=t.tempFilePath,e.recordStatus=2})),Et.onPlay((function(e){a("log","at pages/apptest/apptest.vue:208","innerAudioContext.onPlay",e)})),Et.onPause((function(t){a("log","at pages/apptest/apptest.vue:213","innerAudioContext.onPause",t),e.recordStatus=2})),Et.onEnded((function(t){a("log","at pages/apptest/apptest.vue:220","innerAudioContext.onEnded",t),e.recordStatus=2})),Et.onError((function(e){a("log","at pages/apptest/apptest.vue:227","innerAudioContext.onError",e)}))},onShow(){},onUnload(){clearTimeout(this.recordTimer),uni.$off("onRecordComplete")},methods:{copyText(e){let t=this[e.currentTarget.dataset.key];wt.copyText(t)},getData(){let e=this;wt.goPost("apptest/getdata",{},(function(t){e.h5Url=t.h5Url}))},goH5(){wt.goToH5({title:"web调试",url:this.h5Url})},lockOrientation(e){let t=e.currentTarget.dataset.type;a("log","at pages/apptest/apptest.vue:273","lockOrientation",t);try{plus.screen.lockOrientation(t)}catch(l){a("log","at pages/apptest/apptest.vue:279","lockOrientation fail:",l)}},async contactsAuth(){let e="unknown";try{e=await wt.checkDeviceAuth("CONTACTS")}catch(t){a("log","at pages/apptest/apptest.vue:300","CONTACTS auth fail:",t)}a("log","at pages/apptest/apptest.vue:303","check contacts auth:",e),uni.showModal({content:"通讯录权限授权结果："+e,success:e=>{}})},async saveLinkman(){let e=this,t=await wt.checkDeviceAuth("CONTACTS");return a("log","at pages/apptest/apptest.vue:326","check contacts auth:",t),0==t?(uni.showModal({content:"当前功能需要联系人权限，请开启后再操作",cancelText:"我知道了",confirmText:"去设置",success:e=>{e.confirm&&wt.goToApp("appSetting")}}),!1):4==t?(e.saveLinkman(),!1):void uni.addPhoneContact({firstName:"上钟提醒",remark:"上钟提醒来电号码，请忽随意删除!!!",mobilePhoneNumber:"02062766510",success:function(){wt.showMsg("保存成功")},fail:function(e){a("log","at pages/apptest/apptest.vue:359","uni.addPhoneContact fail:",e)}})},vibrateLong(){wt.vibrateLong()},stopVibrateLong(){wt.stopVibrate()},xiPing(){try{t("ScreenFlashModule").register()}catch(e){a("log","at pages/apptest/apptest.vue:394","加载ScreenFlashModule失败",e)}},xiPing2(){try{let e=t("ScreenFlashModule");e.startScreenFlash("服务中",!1),setTimeout((function(){e.setTime(60)}),8e3)}catch(e){a("log","at pages/apptest/apptest.vue:413","加载ScreenFlashModule失败",e)}},zhuXiaoXiPing(){try{t("ScreenFlashModule").unregister()}catch(e){a("log","at pages/apptest/apptest.vue:427","加载ScreenFlashModule失败",e)}},huXiDeng(){try{let e=t("ScreenFlashModule");setTimeout((function(){e.setFlash(!0)}),5e3)}catch(e){a("log","at pages/apptest/apptest.vue:442","加载ScreenFlashModule失败",e)}},xiPingRequest(){let e=this;wt.showMsg("执行开始，请锁屏");let t={hideLoading:1};clearInterval(e.timer);let l=0;e.timer=setInterval((function(){if(l>=5)return clearInterval(e.timer),!1;wt.goPost("order/getremaintime",t,(function(e){a("log","at pages/apptest/apptest.vue:472","xiPingRequest:",e)})),l++}),5e3)},testPing(){let e=this;if(""==e.testPingIp)return wt.showMsg("ip不能为空"),!1;if(e.testPingTimeout<=0||""==e.testPingTimeout)return wt.showMsg("timeout不能为空"),!1;let t=(new Date).getTime();a("log","at pages/apptest/apptest.vue:499","NetworkModule.ping start",t),wt.ping({ip:e.testPingIp,timeout:e.testPingTimeout,success:e=>{t=(new Date).getTime(),a("log","at pages/apptest/apptest.vue:508","NetworkModule.ping end",t);let l=1==e?"可以访问":"不可以访问";wt.showMsg(l)}})},checkLocationAccuracy(){const e=uni.getAppAuthorizeSetting();a("log","at pages/apptest/apptest.vue:523","appAuthorizeSetting.locationAccuracy",e.locationAccuracy),wt.showModal({title:"温馨提示",content:"定位准确度设置："+e.locationAccuracy,showCancel:!1,confirmText:"好的",success(){}})},openRecordBox(){let e=this;e.isOpenRecordBox=!0,setTimeout((function(){e.startRecord()}),1e3)},closeRecordBox(){this.isOpenRecordBox=!1,this.recordSec=0,this.recordStatus=0,this.recordPath="",clearTimeout(this.recordTimer)},async startRecord(){if(a("log","at pages/apptest/apptest.vue:561","开始录音5秒"),this.recordStatus=1,"ios"==wt.globalData.os){let t=await wt.getReqApiUrl();try{bt.recordStart({duration:180,timeUrl:t+"apprecord/isstop",uploadUrl:t+"apprecord/upload",bid:278,orderid:"p202403111002148817416",sid:666,time:30},(function(e){a("log","at pages/apptest/apptest.vue:579","AppModule.recordStart",e)}))}catch(e){a("log","at pages/apptest/apptest.vue:583","AppModule.recordStart error",e)}}else Bt.start({format:"wav",duration:5e3});this.countRecordSec()},countRecordSec(){let e=this;e.recordTimer=setTimeout((function(){e.recordSec+=1,e.countRecordSec()}),1e3)},stopRecord(){a("log","at pages/apptest/apptest.vue:609","停止录音"),clearTimeout(this.recordTimer),this.recordStatus=2},playRecord(){if(!this.recordPath)return wt.showMsg("当前没有录音文件可播放"),!1;a("log","at pages/apptest/apptest.vue:623","播放录音"),Et.src=this.recordPath,Et.play(),this.recordStatus=3},pauseRecord(){a("log","at pages/apptest/apptest.vue:633","暂停播放"),Et.pause(),this.recordStatus=2},uploadRecordVoice(e,t){a("log","at pages/apptest/apptest.vue:644","录音开始上传"),wt.uploadFile(e,{type:2,hideLoading:1},(function(l){a("log","at pages/apptest/apptest.vue:648","录音文件上传成功",l);let o={orderid:t,path:e,hideLoading:1};wt.goPost("recordvoice/add",o,(function(e){a("log","at pages/apptest/apptest.vue:660","录音文件保存成功",e)}))}))},doRemoveFile(e){uni.showModal({title:"温馨提示",content:"是否确认要删除文件："+e,success(t){t.confirm&&uni.removeSavedFile({filePath:e,complete:function(e){a("log","at pages/apptest/apptest.vue:678","uni.removeSavedFile",e)}})}})},getSavedFileList(){var e=plus.io.convertLocalFileSystemURL("_documents");a("log","at pages/apptest/apptest.vue:694","documentsDir:",e);var t=e+"/upclock/";plus.io.resolveLocalFileSystemURL(t,(function(e){e.isDirectory?e.createReader().readEntries((function(e){e.forEach((function(e){a("log","at pages/apptest/apptest.vue:705","文件名："+e.name),uni.removeSavedFile({filePath:t+e.name,complete:function(e){a("log","at pages/apptest/apptest.vue:712","uni.removeSavedFile",e)}})}))}),(function(e){a("error","at pages/apptest/apptest.vue:718","读取目录失败："+JSON.stringify(e))})):a("error","at pages/apptest/apptest.vue:722",t+" 不是一个目录")}),(function(e){a("error","at pages/apptest/apptest.vue:725","解析目录失败："+JSON.stringify(e))}))},saveFile(){uni.chooseImage({success:function(e){var t=e.tempFilePaths;uni.saveFile({tempFilePath:t[0],success:function(e){a("log","at pages/apptest/apptest.vue:738","uni.saveFile",e),a("log","at pages/apptest/apptest.vue:742","平台路径：",plus.io.convertLocalFileSystemURL(e.savedFilePath)),e.savedFilePath}})}})},getSavedFileList2(){uni.getSavedFileList({success:function(e){a("log","at pages/apptest/apptest.vue:757","uni.getSavedFileList",e.fileList)}})}}},[["render",function(t,a,l,o,n,s){return e.openBlock(),e.createElementBlock(e.Fragment,null,[e.createElementVNode("view",{class:"contentBox"},[e.createElementVNode("view",{class:"row","data-key":"deviceToken",onClick:a[0]||(a[0]=(...e)=>s.copyText&&s.copyText(...e))},"推送token："+e.toDisplayString(n.deviceToken),1),e.createElementVNode("view",{class:"row","data-key":"cid",onClick:a[1]||(a[1]=(...e)=>s.copyText&&s.copyText(...e))},"cid："+e.toDisplayString(n.cid),1),e.createElementVNode("view",{class:"row","data-key":"phoneBrand",onClick:a[2]||(a[2]=(...e)=>s.copyText&&s.copyText(...e))},"手机品牌："+e.toDisplayString(n.phoneBrand),1),e.createElementVNode("view",{class:"row","data-key":"phoneModel",onClick:a[3]||(a[3]=(...e)=>s.copyText&&s.copyText(...e))},"手机型号："+e.toDisplayString(n.phoneModel),1),e.createElementVNode("view",{class:"row","data-key":"osVersion",onClick:a[4]||(a[4]=(...e)=>s.copyText&&s.copyText(...e))},"系统版本："+e.toDisplayString(n.osVersion),1),e.createElementVNode("view",{class:"row","data-key":"romVersion",onClick:a[5]||(a[5]=(...e)=>s.copyText&&s.copyText(...e))},"rom版本："+e.toDisplayString(n.romVersion),1),e.createElementVNode("view",{class:"row","data-key":"appVersion",onClick:a[6]||(a[6]=(...e)=>s.copyText&&s.copyText(...e))},"app版本号："+e.toDisplayString(n.appVersion),1),e.createElementVNode("view",{class:"row","data-key":"sdkVersion",onClick:a[7]||(a[7]=(...e)=>s.copyText&&s.copyText(...e))},"sdk版本号："+e.toDisplayString(n.sdkVersion),1),e.createElementVNode("view",{class:"row","data-key":"uniappVersion",onClick:a[8]||(a[8]=(...e)=>s.copyText&&s.copyText(...e))},"uniapp版本号："+e.toDisplayString(n.uniappVersion),1),e.createElementVNode("view",{class:"row","data-key":"wavVersion",onClick:a[9]||(a[9]=(...e)=>s.copyText&&s.copyText(...e))},"wav版本号："+e.toDisplayString(n.wavVersion),1),e.createElementVNode("view",{class:"row","data-key":"imei",onClick:a[10]||(a[10]=(...e)=>s.copyText&&s.copyText(...e))},"IMEI："+e.toDisplayString(n.imei),1),e.createElementVNode("view",{class:"row"},[e.createElementVNode("view",{class:"inputRow"},[e.createElementVNode("text",{class:"label"},"ip"),e.withDirectives(e.createElementVNode("input",{class:"input",type:"text","onUpdate:modelValue":a[11]||(a[11]=e=>n.testPingIp=e),maxlength:"15"},null,512),[[e.vModelText,n.testPingIp]])]),e.createElementVNode("view",{class:"inputRow"},[e.createElementVNode("text",{class:"label"},"timeout"),e.withDirectives(e.createElementVNode("input",{class:"input",type:"number","onUpdate:modelValue":a[12]||(a[12]=e=>n.testPingTimeout=e),maxlength:"10"},null,512),[[e.vModelText,n.testPingTimeout]])]),e.createElementVNode("view",{class:"btnRow"},[e.createElementVNode("text",{class:"testBtn bg-reds-JB",onClick:a[13]||(a[13]=(...e)=>s.testPing&&s.testPing(...e))},"ping调试")])]),e.createElementVNode("view",{class:"row",onClick:a[14]||(a[14]=(...e)=>s.goH5&&s.goH5(...e))},"web调试"),e.createElementVNode("view",{class:"row",onClick:a[15]||(a[15]=(...e)=>s.checkLocationAccuracy&&s.checkLocationAccuracy(...e))},"检查定位准确度"),e.createElementVNode("view",{class:"row",onClick:a[16]||(a[16]=(...e)=>s.contactsAuth&&s.contactsAuth(...e))},"通讯录权限"),e.createElementVNode("view",{class:"row",onClick:a[17]||(a[17]=(...e)=>s.saveLinkman&&s.saveLinkman(...e))},"保存联系人"),e.createElementVNode("view",{class:"row",onClick:a[18]||(a[18]=(...e)=>s.vibrateLong&&s.vibrateLong(...e))},"振动"),e.createElementVNode("view",{class:"row",onClick:a[19]||(a[19]=(...e)=>s.stopVibrateLong&&s.stopVibrateLong(...e))},"停止振动"),e.createElementVNode("view",{class:"row",onClick:a[20]||(a[20]=(...e)=>s.xiPing&&s.xiPing(...e))},"息屏时钟显示"),e.createElementVNode("view",{class:"row",onClick:a[21]||(a[21]=(...e)=>s.xiPing2&&s.xiPing2(...e))},"直接启动息屏时钟"),e.createElementVNode("view",{class:"row",onClick:a[22]||(a[22]=(...e)=>s.zhuXiaoXiPing&&s.zhuXiaoXiPing(...e))},"注销息屏时钟"),e.createElementVNode("view",{class:"row",onClick:a[23]||(a[23]=(...e)=>s.huXiDeng&&s.huXiDeng(...e))},"呼吸灯"),e.createElementVNode("view",{class:"row",onClick:a[24]||(a[24]=(...e)=>s.xiPingRequest&&s.xiPingRequest(...e))},"锁屏请求"),e.createElementVNode("view",{class:"row",onClick:a[25]||(a[25]=(...e)=>s.openRecordBox&&s.openRecordBox(...e))},"录音测试"),e.createElementVNode("view",{class:"row",onClick:a[26]||(a[26]=(...e)=>s.getSavedFileList&&s.getSavedFileList(...e))},"获取本地文件"),e.createElementVNode("view",{class:"row",onClick:a[27]||(a[27]=(...e)=>s.saveFile&&s.saveFile(...e))},"保存文件"),e.createElementVNode("view",{class:"row",onClick:a[28]||(a[28]=(...e)=>s.getSavedFileList2&&s.getSavedFileList2(...e))},"获取保存文件"),e.createElementVNode("view",{class:"row","data-type":"landscape-primary",onClick:a[29]||(a[29]=(...e)=>s.lockOrientation&&s.lockOrientation(...e))},"横屏"),e.createElementVNode("view",{class:"row","data-type":"portrait-primary",onClick:a[30]||(a[30]=(...e)=>s.lockOrientation&&s.lockOrientation(...e))},"竖屏"),e.createElementVNode("view",{class:"pb80"})]),n.isOpenRecordBox?(e.openBlock(),e.createElementBlock("view",{key:0,class:"prompt"},[e.createElementVNode("view",{class:"prompt-shadow",onClick:a[31]||(a[31]=(...e)=>s.closeRecordBox&&s.closeRecordBox(...e))}),e.createElementVNode("view",{class:"prompt-box-w90 pos-middle"},[e.createElementVNode("view",{class:"prompt-title"},[e.createTextVNode("录音测试"),e.createElementVNode("text",{class:"iconfont icon-guanbi close-icon red",onClick:a[32]||(a[32]=(...e)=>s.closeRecordBox&&s.closeRecordBox(...e))})]),""==n.recordPath?(e.openBlock(),e.createElementBlock("view",{key:0,class:"recordTime"},e.toDisplayString(n.recordSec),1)):e.createCommentVNode("",!0),""!=n.recordPath?(e.openBlock(),e.createElementBlock("view",{key:1,class:"recordPath"},"录音文件："+e.toDisplayString(n.recordPath),1)):e.createCommentVNode("",!0),e.createElementVNode("view",{class:"prompt-btn"},[0==n.recordStatus?(e.openBlock(),e.createElementBlock("view",{key:0,class:"btn-item-full bg-reds-JB",onClick:a[33]||(a[33]=(...e)=>s.startRecord&&s.startRecord(...e))},"开始录音")):e.createCommentVNode("",!0),1==n.recordStatus?(e.openBlock(),e.createElementBlock("view",{key:1,class:"btn-item-full bg-orange-JB",onClick:a[34]||(a[34]=(...e)=>s.stopRecord&&s.stopRecord(...e))},"停止录音")):e.createCommentVNode("",!0),2==n.recordStatus?(e.openBlock(),e.createElementBlock("view",{key:2,class:"btn-item-full bg-orange-JB",onClick:a[35]||(a[35]=(...e)=>s.playRecord&&s.playRecord(...e))},"播放录音")):e.createCommentVNode("",!0),3==n.recordStatus?(e.openBlock(),e.createElementBlock("view",{key:3,class:"btn-item-full bg-orange-JB",onClick:a[36]||(a[36]=(...e)=>s.pauseRecord&&s.pauseRecord(...e))},"暂停播放")):e.createCommentVNode("",!0)])])])):e.createCommentVNode("",!0)],64)}]]);var xt;const Vt=n({data:()=>({isPhone:!1,imgArr:["../../static/images/phoneprod/1.jpg","../../static/images/phoneprod/2.jpg"],imgHeight:0,page:1,addProdPhone:[],package:[],lists:[],is_phone_prod:0,phone_prod_num:0,bonType:1,bomWin:!1,setPack:0,linkWin:!1,staff:{},isOpenTestBox:!1}),onLoad(){xt=getApp()},onShow(){this.getData(),this.closeBomWin(),this.setPack=0},methods:{getData(e=null){let t=this;xt.goPost("phoneprod/getData",{hideLoading:1},(function(a){t.is_phone_prod=a.is_phone_prod,t.phone_prod_num=a.phone_prod_num,t.package=a.package,t.addProdPhone=a.addProdPhone,t.staff=a.staff,"function"==typeof e&&e()}))},chaProd(e){let t=this,a=t.addProdPhone,l=e.detail.value?1:0;t.saveProd(l),1==l&&a.phone.length>0&&(t.linkWin=!0)},copyFun(e){let t=this.addProdPhone,a="";1==e?a=t.name:t.phone.map(((e,t)=>{a+=a?","+e.value:e.value})),xt.copyText(a)},chaPack(e){this.setPack=e},showImg(e){uni.previewImage({current:this.imgArr[e],urls:this.imgArr,indicator:"default"})},showBom(e){1==e&&this.getPayRecord(),this.bonType=e,this.bomWin=!0},closeBomWin(){this.bomWin=!1},closeLinkWin(){this.linkWin=!1},getPayRecord(){let e=this,t={hideLoading:1,page:e.page};if(0==e.page)return!1;xt.goPost("phoneprod/getPayRecord",t,(function(t){1==e.page?e.lists=t.lists:e.lists=e.lists.concat(t.lists),e.page++,t.lists.length<20&&(e.page=0)}))},shuaxinBtn(){this.getData(),setTimeout((function(){xt.showMsg("刷新成功","success",1e3)}),90)},async savePayImg(){let e=this;uni.showModal({title:"温馨提示",content:"是否确定保存支付二维码",success:t=>{t.confirm&&e.sureSavePayImg()}})},async sureSavePayImg(){let e=this,t={type:e.setPack},l=await xt.checkDeviceAuth("STORAGE");if(0==l){let e="android"==xt.globalData.os?"存储":"相册";return uni.showModal({content:"当前功能需要"+e+"权限，请开启后再操作",cancelText:"我知道了",confirmText:"去设置",success:e=>{e.confirm&&xt.goToApp("appSetting")}}),!1}if(4==l)return e.savePayImg(),!1;xt.goPost("phoneprod/getPayCode",t,(function(e){let t=e.url;uni.saveImageToPhotosAlbum({filePath:t,success:function(e){a("log","at pages/phoneprod/phoneprod.vue:441",e),uni.showModal({content:"收款码已保存到相册，请打开微信扫一扫，从相册选择收款码进行支付",showCancel:!1,confirmText:"我知道了",success:e=>{}})},fail:function(e){xt.showMsg("收款码保存失败")}})}))},saveProd(e){let t={hideLoading:1,val:e};xt.goPost("phoneprod/saveProd",t,(function(e){}))},openTestBox(){let e=this;e.getData((function(){if(e.phone_prod_num<1)return xt.showMsg("次数不足，请购买"),!1;e.isOpenTestBox=!0}))},closeTestBox(){this.isOpenTestBox=!1},sureTest(){let e=this;e.closeTestBox(),xt.goPost("phoneprod/ceshi",{},(function(t){setTimeout((()=>{e.getData()}),1500)}))},async saveLinkman(){let e=this,t=await xt.checkDeviceAuth("CONTACTS");return 0==t?(uni.showModal({content:"当前功能需要联系人权限，请开启后再操作",cancelText:"我知道了",confirmText:"去设置",success:e=>{e.confirm&&xt.goToApp("appSetting")}}),!1):4==t?(e.saveLinkman(),!1):void plus.contacts.getAddressBook(plus.contacts.ADDRESSBOOK_PHONE,(function(t){e.queryLinkman(t,(function(a){let l="",o=[];a.length>0?(l=a[0],o=l.phoneNumbers):l=t.create(),l.name={givenName:e.addProdPhone.name};for(let t in e.addProdPhone.phone){let a=e.addProdPhone.phone[t].value,l=0;for(let e in o)if(o[e].value==a){l=1;break}l||o.push({type:e.addProdPhone.phone[t].type,value:a,preferred:e.addProdPhone.phone[t].preferred})}l.phoneNumbers=o,l.note="上钟提醒来电号码，请忽随意删除!!!",l.save((function(){xt.showMsg("保存成功")}),(function(){xt.showMsg("保存失败，请稍候再试")}))}))}),(function(e){a("log","at pages/phoneprod/phoneprod.vue:618","Get address book failed: "+e.message),xt.showMsg("通讯录模块初始化失败，请重新打开app再试")}))},queryLinkman(e,t){e.find(["id","displayName","name","phoneNumbers"],(function(e){a("log","at pages/phoneprod/phoneprod.vue:633","addressbook.find:",e),t(e)}),(function(){a("log","at pages/phoneprod/phoneprod.vue:639","addressbook.find error"),t([])}),{multiple:!0,filter:[{logic:"and",field:"displayName",value:this.addProdPhone.name}]})}}},[["render",function(t,a,o,n,s,i){const c=l(e.resolveDynamicComponent("ydPromptBottom"),b);return e.openBlock(),e.createElementBlock(e.Fragment,null,[e.createElementVNode("view",{class:"content"},[e.createElementVNode("view",{class:"tips"},[e.createElementVNode("text",{class:"red"},"上钟提醒"),e.createTextVNode("采用来电方式，简单高效！")]),e.createElementVNode("view",{class:"tips"},"使用来电提醒功能需付费购买次数！"),e.createElementVNode("view",{class:"line"},[e.createElementVNode("view",{class:"topBox"},[e.createElementVNode("text",{class:"title"},"上钟来电提醒"),e.createElementVNode("switch",{checked:s.is_phone_prod,class:"switchBtn",onChange:a[0]||(a[0]=(...e)=>i.chaProd&&i.chaProd(...e)),style:{transform:"scale(0.7)"}},null,40,["checked"])]),e.createElementVNode("view",{class:"conBox"},[e.createElementVNode("view",{class:"leave"},[e.createTextVNode(" 还剩余 "),e.createElementVNode("text",{class:"num"},e.toDisplayString(s.phone_prod_num),1),e.createTextVNode(" 次 "),e.createElementVNode("view",{class:"leaveBtn",onClick:a[1]||(a[1]=e=>i.showBom(2))},"立即购买")])])]),e.createElementVNode("view",{class:"line"},[e.createElementVNode("view",{class:"topBox"},[e.createElementVNode("text",{class:"title"},"功能演示")]),e.createElementVNode("view",{class:"conBox"},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(s.imgArr,((t,a)=>(e.openBlock(),e.createElementBlock("image",{src:t,mode:"widthFix",onClick:e=>i.showImg(a)},null,8,["src","onClick"])))),256))])])]),e.createElementVNode("view",{class:"bomBox IOSBottom"},[e.createElementVNode("ul",{class:"lBox"},[e.createElementVNode("li",{onClick:a[2]||(a[2]=(...e)=>i.shuaxinBtn&&i.shuaxinBtn(...e))},[e.createElementVNode("i",{class:"iconfont icon-shuaxin"}),e.createElementVNode("view",null,"刷新")]),e.createElementVNode("li",{onClick:a[3]||(a[3]=(...e)=>i.openTestBox&&i.openTestBox(...e))},[e.createElementVNode("i",{class:"iconfont icon-dianhua"}),e.createElementVNode("view",null,"测试")])]),e.createElementVNode("view",{class:"rBox"},[e.createElementVNode("view",{class:"logBtn",onClick:a[4]||(a[4]=e=>i.showBom(1))},"购买记录"),e.createElementVNode("view",{class:"buyBtn",onClick:a[5]||(a[5]=e=>i.showBom(2))},"立即购买")])]),s.linkWin?(e.openBlock(),e.createElementBlock("view",{key:0,class:"linkBox"},[e.createElementVNode("view",{class:"bgBox"}),e.createElementVNode("view",{class:"info"},[e.createElementVNode("view",{class:"title"},"温馨提示"),e.createElementVNode("view",{class:"tip"},"建议将电话保存到手机通讯录，防止拦截！"),e.createElementVNode("view",{class:"link"},[e.createElementVNode("view",{class:"phoneData"},[e.createElementVNode("view",null,[e.createElementVNode("view",{class:"subTitle"},"联 系 人"),e.createTextVNode("："+e.toDisplayString(s.addProdPhone.name),1)]),(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(s.addProdPhone.phone,((t,a)=>(e.openBlock(),e.createElementBlock("view",{key:t.value},[e.createElementVNode("view",{class:"subTitle"},"联系电话"),e.createTextVNode("："+e.toDisplayString(t.value),1)])))),128))])]),e.createElementVNode("view",{class:"linkBtn clearfix"},[e.createElementVNode("view",{class:"btn fl bg-orange-JB",onClick:a[6]||(a[6]=e=>i.copyFun(2))},"复制电话号码"),e.createElementVNode("view",{class:"btn fr bg-reds-JB",onClick:a[7]||(a[7]=(...e)=>i.saveLinkman&&i.saveLinkman(...e))},"保存联系人")]),e.createElementVNode("view",{class:"closeBtn iconfont icon-54",onClick:a[8]||(a[8]=(...e)=>i.closeLinkWin&&i.closeLinkWin(...e))})])])):e.createCommentVNode("",!0),s.isOpenTestBox?(e.openBlock(),e.createElementBlock("view",{key:1,class:"prompt"},[e.createElementVNode("view",{class:"prompt-shadow"}),e.createElementVNode("view",{class:"prompt-box-w90 pos-middle"},[e.createElementVNode("view",{class:"prompt-title"},[e.createTextVNode("上钟提醒，来电测试"),e.createElementVNode("text",{class:"iconfont icon-guanbi close-icon red",onClick:a[9]||(a[9]=(...e)=>i.closeTestBox&&i.closeTestBox(...e))})]),e.createElementVNode("view",{class:"testBox"},[e.createElementVNode("view",{class:"testBoxTips"},"请确保以下号码可正常使用"),e.createElementVNode("view",{class:"testBoxTips2 red"},e.toDisplayString(s.staff.phone),1),e.createElementVNode("view",{class:"testBoxBtn bg-reds-JB",onClick:a[10]||(a[10]=(...e)=>i.sureTest&&i.sureTest(...e))},"确定")])])])):e.createCommentVNode("",!0),e.createVNode(c,{isOpen:s.bomWin,height:"70%",ziMode:"lzi",onClose:i.closeBomWin},{default:e.withCtx((()=>[1==s.bonType?(e.openBlock(),e.createElementBlock("view",{key:0,class:"logBox"},[e.createElementVNode("view",{class:"winTitle"},[e.createTextVNode(" 购买记录 "),e.createElementVNode("text",{class:"rtxt"},"仅显示最近一年")]),e.createElementVNode("scroll-view",{class:"list IOSBottom","scroll-y":"true",onScrolltolower:a[11]||(a[11]=(...e)=>i.getPayRecord&&i.getPayRecord(...e))},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(s.lists,((t,a)=>(e.openBlock(),e.createElementBlock("view",{class:"info"},[e.createElementVNode("text",{class:"t1"},e.toDisplayString(t.paytime),1),e.createElementVNode("text",{class:"t2"},e.toDisplayString(t.num)+"次",1),e.createElementVNode("text",{class:"t3"},"￥"+e.toDisplayString(t.money),1)])))),256)),s.lists.length>0&&0==s.page?(e.openBlock(),e.createElementBlock("view",{key:0,class:"daoDiLe IOSBottom"},"到底了")):e.createCommentVNode("",!0),0==s.lists.length?(e.openBlock(),e.createElementBlock("view",{key:1,class:"noData"},[e.createElementVNode("i",{class:"iconfont icon-kongshuju"}),e.createTextVNode(" 暂无数据 ")])):e.createCommentVNode("",!0)],32),e.createElementVNode("view",{class:"bomBox IOSBottom"},[e.createElementVNode("view",{class:"closeBtn",onClick:a[12]||(a[12]=(...e)=>i.closeBomWin&&i.closeBomWin(...e))},"关闭")])])):e.createCommentVNode("",!0),2==s.bonType?(e.openBlock(),e.createElementBlock("view",{key:1,class:"buyBox"},[e.createElementVNode("view",{class:"winTitle"}," 购买次数 "),e.createElementVNode("scroll-view",{class:"list IOSBottom","scroll-y":"true"},[e.createElementVNode("ul",{class:"rateBox"},[e.createElementVNode("li",null,[e.createElementVNode("view",{class:"oaNode"},"1"),e.createElementVNode("view",{class:"info"},[e.createElementVNode("view",{class:"subTitle"},"选择规格"),e.createElementVNode("view",{class:"infoCon"},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(s.package,((t,a)=>(e.openBlock(),e.createElementBlock("view",{class:e.normalizeClass(["pack",s.setPack==a?"onset":""]),onClick:e=>i.chaPack(a)},[e.createTextVNode(e.toDisplayString(t.num)+"次 "+e.toDisplayString(t.tip)+" ",1),e.createElementVNode("text",{class:"money fr"},"￥"+e.toDisplayString(t.money),1)],10,["onClick"])))),256))])])]),e.createElementVNode("li",null,[e.createElementVNode("view",{class:"oaNode"},"2"),e.createElementVNode("view",{class:"info"},[e.createElementVNode("view",{class:"subTitle"},"下载二维码"),e.createElementVNode("view",{class:"infoCon"},[e.createElementVNode("image",{class:"qrImg",src:"/static/images/phoneprod/qrImg.png"})])])]),e.createElementVNode("li",null,[e.createElementVNode("view",{class:"oaNode"},"3"),e.createElementVNode("view",{class:"info"},[e.createElementVNode("view",{class:"subTitle"},"打开微信扫一扫，从相册选择收款码")])]),e.createElementVNode("li",null,[e.createElementVNode("view",{class:"oaNode"},"4"),e.createElementVNode("view",{class:"info"},[e.createElementVNode("view",{class:"subTitle"},"付款成功后，次数自动加上")])])])]),e.createElementVNode("view",{class:"bomBox IOSBottom"},[e.createElementVNode("view",{class:"closeBtn",onClick:a[13]||(a[13]=(...e)=>i.savePayImg&&i.savePayImg(...e))},"生成并保存收款码到手机相册")])])):e.createCommentVNode("",!0)])),_:1},8,["isOpen","onClose"])],64)}]]);var Tt,St,Ct;const Dt=n({data:()=>({step:1,receiver:null,appEvent:null,list:[],shakeCount:0,accelerometerChangeFunc:null,isPush:0,x:null,networkType:"",netCheckUrl:"",voiceSet:50,nowVoice:0,noticeStatus:0,ttsStatus:0,initResult:{net:{status:2},push:{status:2},voice:{status:3},bobao:{status:2},vibrate:{status:2}},result:{},initDetail:{isOpen:!1,title:"",status:2,showNoticeTips:!1,noticeTipsTxt:[],showSucBox:!1,sucBoxTxt:[],showVoiceSet:!1,showFixTips:!1,fixTipsTxt:"",downurl:"",showLeftBtn:!1,showRightBtn:!1,showCenterBtn:!1,leftBtnTxt:"",rightBtnTxt:"",centerBtnTxt:""},detail:{},yiJian:{status:0,nowType:""},ttsdownurl:""}),onLoad(){Tt=getApp();try{St=t("NotificationModule"),Ct=t("TTSModule")}catch(e){a("log","at pages/pushtest/pushtest.vue:329","模块初始化失败:",e)}this.pushListen(),this.boBaoListen(),this.initListen(),this.detail=Tt.copyObject(this.initDetail),this.result=Tt.copyObject(this.initResult)},onShow(){this.updateNetworkType(),this.checkWorkStatus(),Tt.stopVibrate()},onUnload(){if(null!==this.appEvent)try{uni.$off("onPush",this.appEvent)}catch(e){a("log","at pages/pushtest/pushtest.vue:365","取消事件监听失败",e)}plus.android.runtimeMainActivity().unregisterReceiver(this.receiver),this.cancelYaoDongListen(),this.offBoBaoListen()},methods:{updateNetworkType(){let e=this;uni.getNetworkType({success:function(t){e.networkType=t.networkType}})},checkWorkStatus(){let e=this;Tt.goPost("pushtest/checkworkstatus",{},(function(t){1!=t.canTest&&uni.showModal({content:"当前技师处于非空闲状态，请在空闲状态下进行推送测试",showCancel:!1,confirmText:"我知道了",success:e=>{uni.navigateBack()}}),e.ttsdownurl=t.ttsdownurl}))},pushListen(){let e=this;e.appEvent=function(t){a("log","at pages/pushtest/pushtest.vue:421","onPush for pushtest",t);let l=t.hasOwnProperty("type")?t.type:null,o=t.hasOwnProperty("isTest")?t.isTest:null;3==l&&1==o&&(e.result.push.status=1,Tt.vibrateLong((function(){e.result.vibrate.status=1})))},uni.$on("onPush",e.appEvent)},boBaoListen(){let e=this;if(Ct)try{Ct.registerTTS((function(t){if(a("log","at pages/pushtest/pushtest.vue:451","TTSModule.registerTTS:",t),"onStart"==t.state){let a=JSON.parse(t.data);a&&a.hasOwnProperty("isTest")&&1==a.isTest&&(e.result.bobao.status=1)}}))}catch(t){a("log","at pages/pushtest/pushtest.vue:464","TTSModule.registerTTS fail:",t)}},offBoBaoListen(){try{Ct.unregisterTTS()}catch(e){a("log","at pages/pushtest/pushtest.vue:477","TTSModule.unregisterTTS fail:",e)}},initData(){let e=this;return new Promise((t=>{Tt.goPost("pushtest/initdata",{},(function(a){e.netCheckUrl=a.netCheckUrl,-1==a.nowVoice&&(a.nowVoice=plus.device.getVolume()),e.nowVoice=Tt.round(100*a.nowVoice),t()}))}))},initListen(){let e=this,t=plus.android.runtimeMainActivity();e.receiver=plus.android.implements("io.dcloud.feature.internal.reflect.BroadcastReceiver",{onReceive:function(t,l){var o=plus.android.importClass("android.content.Intent");l.getAction()==o.ACTION_SCREEN_ON?a("log","at pages/pushtest/pushtest.vue:528","开屏"):l.getAction()==o.ACTION_SCREEN_OFF?(a("log","at pages/pushtest/pushtest.vue:537","锁屏"),e.yaoDongListen()):l.getAction()==o.ACTION_USER_PRESENT&&(a("log","at pages/pushtest/pushtest.vue:543","解锁"),e.cancelYaoDongListen(),Tt.stopVibrate())}});let l=plus.android.importClass("android.content.IntentFilter"),o=plus.android.importClass("android.content.Intent"),n=new l;n.addAction(o.ACTION_SCREEN_ON),n.addAction(o.ACTION_SCREEN_OFF),n.addAction(o.ACTION_USER_PRESENT),t.registerReceiver(e.receiver,n)},yaoDongListen(){let e=this;e.cancelYaoDongListen(),e.shakeCount=0,e.list=[];e.step=1,e.accelerometerChangeFunc=function(t){if(a("log","at pages/pushtest/pushtest.vue:582","uni.onAccelerometerChange",t),e.shakeCount>4)return!1;let l=t.x;if(e.x*l>0&&Math.abs(e.x)>5)return!1;Math.abs(l)>5&&(e.x=l,e.shakeCount++,a("log","at pages/pushtest/pushtest.vue:602","shakeCount",e.shakeCount),3===e.shakeCount&&e.doPush())},uni.startAccelerometer({success(){uni.onAccelerometerChange(e.accelerometerChangeFunc)},fail(e){a("error","at pages/pushtest/pushtest.vue:621",e)}})},cancelYaoDongListen(){null!==this.accelerometerChangeFunc&&uni.offAccelerometerChange(this.accelerometerChangeFunc),uni.stopAccelerometer()},async doPush(){let e=this;if(1==e.isPush)return!1;e.isPush=1,e.step=2,e.result=Tt.copyObject(e.initResult),e.yiJian.status=0,e.yiJian.nowType="",await e.initData(),await e.checkNet(),await e.checkTts(),e.checkNoticeStatus(),e.checkVoice();Tt.goPost("pushtest/shangzhong",{hideLoading:1},(function(t){a("log","at pages/pushtest/pushtest.vue:672","push test:",t),setTimeout((function(){e.isPush=0}),1500)}))},checkNet(){let e=this;return new Promise((t=>{uni.request({url:e.netCheckUrl,data:{},timeout:300,success:l=>{a("log","at pages/pushtest/pushtest.vue:693","net check:",l.statusCode),200==l.statusCode&&(e.result.net.status=1),t()},fail:e=>{a("log","at pages/pushtest/pushtest.vue:703","net check fail:",e),t()}})}))},checkVoice(){let e=this;e.nowVoice<50?e.result.voice.status=3:e.result.voice.status=1},checkNoticeStatus(){let e=0;try{e=St.areNotificationsEnabled(),e=e?1:0}catch(t){a("log","at pages/pushtest/pushtest.vue:732","NotificationModule.areNotificationsEnabled error:",t)}this.noticeStatus=e},checkTts(){let e=this;return new Promise((t=>{try{Ct.initTTS((function(l){a("log","at pages/pushtest/pushtest.vue:747","TTSModule.initTTS:",l),e.ttsStatus=l,t(l)}))}catch(l){a("log","at pages/pushtest/pushtest.vue:754","TTSModule.initTTS error:",l),e.ttsStatus=-3,t(-3)}}))},voiceChange(e){this.voiceSet=e.detail.value},yiJianXiuFu(){let e=this,t=e.result,a="",l=0;for(let n in t)if(1!=t[n].status){a=n,l=1;break}let o={currentTarget:{dataset:{type:a}}};e.yiJian.status=l,e.yiJian.nowType=a,1==l&&e.showDetail(o)},showDetail(e){let t=this,a=e.currentTarget.dataset.type,l=t.result[a].status,o=Tt.copyObject(t.initDetail);if(o.status=l,o.type=a,o.downurl="","net"==a)o.title="网络诊断",o.showSucBox=!0,o.sucBoxTxt=["当前网络："+t.networkType,"诊断域名："+t.netCheckUrl,"诊断结果："+(1==l?"ok，一切正常":"上不了网了!")],o.showCenterBtn=!0,o.centerBtnTxt="我知道了",1!=l&&(o.showFixTips=!0,o.fixTipsTxt="请检查手机网络");else if("push"==a)o.title="消息推送",o.showSucBox=!0,o.sucBoxTxt=["状态栏通知："+(1==t.noticeStatus?"已开启":"未开启"),"息屏通知："+(1==l?"已开启":"未开启"),"诊断结果："+(1==l?"ok，一切正常":"无法收到消息通知")],o.showCenterBtn=!0,o.centerBtnTxt="我知道了",1!=l&&(o.showFixTips=!0,o.fixTipsTxt="请查看是否有设置后台运行和开启消息通知");else if("voice"==a)o.title="音量设置",1!=l?(o.showNoticeTips=!0,o.noticeTipsTxt=["当前音量低于 50% ，建议更改!"],o.showVoiceSet=!0,o.showLeftBtn=!0,o.leftBtnTxt="保留现状",o.showRightBtn=!0,o.rightBtnTxt="立即修复"):(o.showSucBox=!0,o.sucBoxTxt=["当前音量："+t.nowVoice+"%","诊断结果：ok，一切正常"],o.showCenterBtn=!0,o.centerBtnTxt="我知道了");else if("bobao"==a){if(o.title="语音播报",1!=l){let e="初始化失败";t.ttsStatus>=0?e="已开启":-1==t.ttsStatus?e="未下载中文语音包":-2==t.ttsStatus&&(e="不支持中文"),o.showNoticeTips=!0,o.noticeTipsTxt=["TTS引擎："+e,"音频输出：失败"],o.showFixTips=!0,o.fixTipsTxt="请重新下载tts包",o.downurl=t.ttsdownurl}else o.showSucBox=!0,o.sucBoxTxt=["TTS引擎：已开启","音频输出：ok，一切正常"];o.showCenterBtn=!0,o.centerBtnTxt="我知道了"}else"vibrate"==a&&(o.title="手机振动",1!=l?(o.showNoticeTips=!0,o.noticeTipsTxt=["开启振动：失败"],o.showFixTips=!0,o.fixTipsTxt="请检查手机是否禁止了振动，若禁止了，请打开振动后再重新测试"):(o.showSucBox=!0,o.sucBoxTxt=["开启振动：ok，一切正常"]),o.showCenterBtn=!0,o.centerBtnTxt="我知道了");o.isOpen=!0,t.detail=o},closeDetailBox(){if(this.detail.isOpen=!1,1==this.yiJian.status){let e=this.result,t=0,a="";for(let l in e){if(t){a=l;break}this.yiJian.nowType==l&&(t=1)}if(this.yiJian.nowType=a,""==a)this.yiJian.status=0;else{let e={currentTarget:{dataset:{type:a}}};this.showDetail(e)}}},sureDetailSet(){let e=this;if("voice"==e.detail.type)return e.setVoice(),!1},setVoice(){let e=this,t={value:e.voiceSet};Tt.goPost("pushtest/setvoice",t,(function(t){setTimeout((function(){e.closeDetailBox()}),1500)}))},checkOk(){Tt.showMsg("推送测试一切正常")},appdown(){Tt.downApp(this.detail.downurl)},openset(){try{Ct.settingsTTS()}catch(e){a("log","at pages/pushtest/pushtest.vue:1030","TTSModule.settingsTTS fail:",e)}}}},[["render",function(t,a,l,o,n,s){return e.openBlock(),e.createElementBlock(e.Fragment,null,[1==n.step?(e.openBlock(),e.createElementBlock("view",{key:0,class:"stepBox"},[e.createElementVNode("view",{class:"title"},"语音推送检测"),e.createElementVNode("view",{class:"titleTips"},"现在来检测你的手机是否能正常记录"),e.createElementVNode("view",{class:"pb80"}),e.createElementVNode("view",{class:"stepRow"},[e.createElementVNode("view",{class:"leftPic"},[e.createElementVNode("image",{class:"hor-image",mode:"widthFix",src:"/static/images/pushtest/push_test_icon1.png"})]),e.createElementVNode("view",{class:"rightTxt pt20"},[e.createElementVNode("text",{class:"icon"},"1"),e.createElementVNode("view",{class:"txt"},"拔掉充电线，锁屏")])]),e.createElementVNode("view",{class:"stepRow"},[e.createElementVNode("view",{class:"leftTxt pt20"},[e.createElementVNode("text",{class:"icon"},"2"),e.createElementVNode("view",{class:"txt"},"左右摇动手机大概3秒后自动播放语音和振动")]),e.createElementVNode("view",{class:"rightPic"},[e.createElementVNode("image",{class:"hor-image",mode:"widthFix",src:"/static/images/pushtest/push_test_icon2.png"})])]),e.createElementVNode("view",{class:"pb80"})])):e.createCommentVNode("",!0),2==n.step?(e.openBlock(),e.createElementBlock("view",{key:1,class:"resultBox"},[e.createElementVNode("view",{class:"title"},"测试结果"),e.createElementVNode("view",{class:"testItem"},[e.createElementVNode("view",{class:"label"},[1==n.result.net.status?(e.openBlock(),e.createElementBlock(e.Fragment,{key:0},[e.createElementVNode("text",{class:"iconfont icon-xuanze light-green"}),e.createElementVNode("text",{class:"txt light-green"},"通过")],64)):e.createCommentVNode("",!0),2==n.result.net.status?(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[e.createElementVNode("text",{class:"iconfont icon-shanchuxuanze red"}),e.createElementVNode("text",{class:"txt red"},"失败")],64)):e.createCommentVNode("",!0)]),e.createElementVNode("view",{class:"right","data-type":"net",onClick:a[0]||(a[0]=(...e)=>s.showDetail&&s.showDetail(...e))},[e.createElementVNode("text",{class:"txt"},"网络诊断"),e.createElementVNode("text",{class:"iconfont icon-youbian1"})])]),e.createElementVNode("view",{class:"testItem"},[e.createElementVNode("view",{class:"label"},[1==n.result.push.status?(e.openBlock(),e.createElementBlock(e.Fragment,{key:0},[e.createElementVNode("text",{class:"iconfont icon-xuanze light-green"}),e.createElementVNode("text",{class:"txt light-green"},"通过")],64)):e.createCommentVNode("",!0),2==n.result.push.status?(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[e.createElementVNode("text",{class:"iconfont icon-shanchuxuanze red"}),e.createElementVNode("text",{class:"txt red"},"失败")],64)):e.createCommentVNode("",!0)]),e.createElementVNode("view",{class:"right","data-type":"push",onClick:a[1]||(a[1]=(...e)=>s.showDetail&&s.showDetail(...e))},[e.createElementVNode("text",{class:"txt"},"消息推送"),e.createElementVNode("text",{class:"iconfont icon-youbian1"})])]),e.createElementVNode("view",{class:"testItem"},[e.createElementVNode("view",{class:"label"},[1==n.result.voice.status?(e.openBlock(),e.createElementBlock(e.Fragment,{key:0},[e.createElementVNode("text",{class:"iconfont icon-xuanze light-green"}),e.createElementVNode("text",{class:"txt light-green"},"通过")],64)):e.createCommentVNode("",!0),3==n.result.voice.status?(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[e.createElementVNode("text",{class:"iconfont icon-gantan1 orange"}),e.createElementVNode("text",{class:"txt orange"},"警告")],64)):e.createCommentVNode("",!0)]),e.createElementVNode("view",{class:"right","data-type":"voice",onClick:a[2]||(a[2]=(...e)=>s.showDetail&&s.showDetail(...e))},[e.createElementVNode("text",{class:"txt"},"当前音量为"+e.toDisplayString(n.nowVoice)+"%",1),e.createElementVNode("text",{class:"iconfont icon-youbian1"})])]),e.createElementVNode("view",{class:"testItem"},[e.createElementVNode("view",{class:"label"},[1==n.result.bobao.status?(e.openBlock(),e.createElementBlock(e.Fragment,{key:0},[e.createElementVNode("text",{class:"iconfont icon-xuanze light-green"}),e.createElementVNode("text",{class:"txt light-green"},"通过")],64)):e.createCommentVNode("",!0),2==n.result.bobao.status?(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[e.createElementVNode("text",{class:"iconfont icon-shanchuxuanze red"}),e.createElementVNode("text",{class:"txt red"},"失败")],64)):e.createCommentVNode("",!0)]),e.createElementVNode("view",{class:"right","data-type":"bobao",onClick:a[3]||(a[3]=(...e)=>s.showDetail&&s.showDetail(...e))},[e.createElementVNode("text",{class:"txt"},"语音播报"),e.createElementVNode("text",{class:"iconfont icon-youbian1"})])]),e.createElementVNode("view",{class:"testItem"},[e.createElementVNode("view",{class:"label"},[1==n.result.vibrate.status?(e.openBlock(),e.createElementBlock(e.Fragment,{key:0},[e.createElementVNode("text",{class:"iconfont icon-xuanze light-green"}),e.createElementVNode("text",{class:"txt light-green"},"通过")],64)):e.createCommentVNode("",!0),2==n.result.vibrate.status?(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[e.createElementVNode("text",{class:"iconfont icon-shanchuxuanze red"}),e.createElementVNode("text",{class:"txt red"},"失败")],64)):e.createCommentVNode("",!0)]),e.createElementVNode("view",{class:"right","data-type":"vibrate",onClick:a[4]||(a[4]=(...e)=>s.showDetail&&s.showDetail(...e))},[e.createElementVNode("text",{class:"txt"},"手机振动"),e.createElementVNode("text",{class:"iconfont icon-youbian1"})])]),e.createElementVNode("view",{class:"submit low-index IOSBottom"},[1!=n.result.net.status||1!=n.result.push.status||1!=n.result.voice.status||1!=n.result.bobao.status||1!=n.result.vibrate.status?(e.openBlock(),e.createElementBlock("view",{key:0,class:"btn bg-red-JB",onClick:a[5]||(a[5]=(...e)=>s.yiJianXiuFu&&s.yiJianXiuFu(...e))},"一键修复")):e.createCommentVNode("",!0),1==n.result.net.status&&1==n.result.push.status&&1==n.result.voice.status&&1==n.result.bobao.status&&1==n.result.vibrate.status?(e.openBlock(),e.createElementBlock("view",{key:1,class:"btn bg-light-green",onClick:a[6]||(a[6]=(...e)=>s.checkOk&&s.checkOk(...e))},"很好，一切正常")):e.createCommentVNode("",!0)])])):e.createCommentVNode("",!0),n.detail.isOpen?(e.openBlock(),e.createElementBlock("view",{key:2,class:"prompt"},[e.createElementVNode("view",{class:"prompt-shadow"}),e.createElementVNode("view",{class:"prompt-box-w90 pos-middle"},[e.createElementVNode("view",{class:"prompt-title no-border"},[e.createElementVNode("text",null,e.toDisplayString(n.detail.title),1),e.createElementVNode("view",{class:"prompt-title-right"},[2==n.detail.status?(e.openBlock(),e.createElementBlock(e.Fragment,{key:0},[e.createElementVNode("text",{class:"iconfont icon-shanchuxuanze red"}),e.createElementVNode("text",{class:"txt red"},"失败")],64)):e.createCommentVNode("",!0),3==n.detail.status?(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[e.createElementVNode("text",{class:"iconfont icon-gantan1 orange"}),e.createElementVNode("text",{class:"txt orange"},"警告")],64)):e.createCommentVNode("",!0),1==n.detail.status?(e.openBlock(),e.createElementBlock(e.Fragment,{key:2},[e.createElementVNode("text",{class:"iconfont icon-xuanze light-green"}),e.createElementVNode("text",{class:"txt light-green"},"通过")],64)):e.createCommentVNode("",!0)])]),n.detail.showNoticeTips?(e.openBlock(),e.createElementBlock("view",{key:0,class:"noticeTips"},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(n.detail.noticeTipsTxt,(t=>(e.openBlock(),e.createElementBlock("view",{class:"txt red"},e.toDisplayString(t),1)))),256))])):e.createCommentVNode("",!0),n.detail.showSucBox?(e.openBlock(),e.createElementBlock("view",{key:1,class:"sucBox"},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(n.detail.sucBoxTxt,(t=>(e.openBlock(),e.createElementBlock("view",{class:"txt"},e.toDisplayString(t),1)))),256))])):e.createCommentVNode("",!0),n.detail.showVoiceSet?(e.openBlock(),e.createElementBlock(e.Fragment,{key:2},[e.createElementVNode("view",{class:"smallTitle"},"修复建议"),e.createElementVNode("radio-group",{class:"voiceChange",onChange:a[7]||(a[7]=(...e)=>s.voiceChange&&s.voiceChange(...e))},[e.createElementVNode("label",{class:"radio"},[e.createElementVNode("radio",{value:"50",checked:50==n.voiceSet},null,8,["checked"]),e.createTextVNode("自定义设置，音量固定为50%")]),e.createElementVNode("label",{class:"radio"},[e.createElementVNode("radio",{value:"70",checked:70==n.voiceSet},null,8,["checked"]),e.createTextVNode("自定义设置，音量固定为70%")]),e.createElementVNode("label",{class:"radio"},[e.createElementVNode("radio",{value:"100",checked:100==n.voiceSet},null,8,["checked"]),e.createTextVNode("自定义设置，音量固定为100%")])],32)],64)):e.createCommentVNode("",!0),n.detail.showFixTips?(e.openBlock(),e.createElementBlock(e.Fragment,{key:3},[e.createElementVNode("view",{class:"smallTitle"},"修复建议"),e.createElementVNode("view",{class:"fixTips"},[e.createTextVNode(e.toDisplayString(n.detail.fixTipsTxt)+" ",1),""!=n.detail.downurl?(e.openBlock(),e.createElementBlock("view",{key:0,class:"down",onClick:a[8]||(a[8]=(...e)=>s.appdown&&s.appdown(...e))},"点击下载")):e.createCommentVNode("",!0)]),""!=n.detail.downurl?(e.openBlock(),e.createElementBlock("view",{key:0,class:"fixTips2"},[e.createTextVNode("*下载安装后请设置语音输出 "),e.createElementVNode("view",{class:"down",onClick:a[9]||(a[9]=(...e)=>s.openset&&s.openset(...e))},"前往设置")])):e.createCommentVNode("",!0)],64)):e.createCommentVNode("",!0),e.createElementVNode("view",{class:"prompt-btn no-border"},[n.detail.showLeftBtn?(e.openBlock(),e.createElementBlock("view",{key:0,class:"btn-item left-btn bg-white",onClick:a[10]||(a[10]=(...e)=>s.closeDetailBox&&s.closeDetailBox(...e))},e.toDisplayString(n.detail.leftBtnTxt),1)):e.createCommentVNode("",!0),n.detail.showRightBtn?(e.openBlock(),e.createElementBlock("view",{key:1,class:"btn-item right-btn bg-red-JB",onClick:a[11]||(a[11]=(...e)=>s.sureDetailSet&&s.sureDetailSet(...e))},e.toDisplayString(n.detail.rightBtnTxt),1)):e.createCommentVNode("",!0),n.detail.showCenterBtn?(e.openBlock(),e.createElementBlock("view",{key:2,class:"btn-item center-btn bg-white",onClick:a[12]||(a[12]=(...e)=>s.closeDetailBox&&s.closeDetailBox(...e))},e.toDisplayString(n.detail.centerBtnTxt),1)):e.createCommentVNode("",!0)])])])):e.createCommentVNode("",!0)],64)}]]);var It;const Lt=n({data:()=>({topHeight:0,topSelect:[],timeType:0,banner:"/static/images/xinzijiesuan/banner.png",start:"",end:"",page:1,lists:[],topFix:!1,boxTop:0,currTop:0,zhidingNum:0,isHua:0}),onLoad(){It=getApp(),this.topHeight=It.globalData.topTitleHeight},onShow(){this.goSearch()},onPageScroll(e){let t=It.globalData.screenHeight/3;a("log","at pages/xinzijiesuan/xinzijiesuan.vue:97",e.scrollTop,t),e.scrollTop>t?this.topFix=!0:this.topFix=!1},methods:{startScroll:function(){this.isHua=1},boxscroll:function(e){var t=this,a=e.detail.scrollTop,l=t.currTop,o=t.boxTop;a>l&&0==t.isHua&&a>20&&a<50&&(this.isHua=1),1==t.isHua&&(a>=l?(o-=8)>-49&&(t.boxTop=o):(o+=8)<1&&(t.boxTop=o)),t.currTop=a},zhidingBtn:function(){var e=this;e.boxTop=0,e.isHua=0,e.zhidingNum=1==e.zhidingNum?0:1},sureTop:function(){this.boxTop=0,this.isHua=0},sureBom:function(){this.boxTop=-48,this.isHua=0},changeType(e){let t=this;e!=t.timeType&&(t.timeType=e,t.goSearch())},goSearch(){this.page=1,this.getData()},getData(){let e=this,t={page:e.page,timeType:e.timeType};if(0==e.page)return!1;It.goPost("Xinzijiesuan/getRecord",t,(function(t){e.start=t.start,e.end=t.end,1==e.page?(e.lists=t.lists.data,e.topSelect=t.topSelect):e.lists=e.lists.concat(t.lists.data),e.page++,t.lists.last_page<=e.page&&(e.page=0)}))},goDetail(e){let t=this.lists[e],a={start:t.str_time,end:t.end_time,sort:t.type,tabType:2};uni.setStorageSync("xzjsUrlData",a),uni.switchTab({url:"/pages/work/work"})}}},[["render",function(t,a,l,o,n,s){return e.openBlock(),e.createElementBlock(e.Fragment,null,[""!=n.banner?(e.openBlock(),e.createElementBlock("view",{key:0,class:"banner"},[e.createElementVNode("image",{class:"cover",src:n.banner,mode:"widthFix"},null,8,["src"])])):e.createCommentVNode("",!0),e.createElementVNode("view",{class:e.normalizeClass(["searchTop",n.topFix?"searchTop2":""]),style:e.normalizeStyle({top:n.topHeight+"px"})},[e.createElementVNode("view",{class:"search"},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(n.topSelect,((t,a)=>(e.openBlock(),e.createElementBlock("text",{class:e.normalizeClass(["select",a==n.timeType?"select2":""]),onClick:e=>s.changeType(a)},e.toDisplayString(t),11,["onClick"])))),256))])],6),e.createElementVNode("scroll-view",{class:e.normalizeClass(["setLists",n.topFix?"setLists2":""]),"scroll-y":"true","scroll-top":n.zhidingNum,onScrolltolower:a[1]||(a[1]=(...e)=>s.sureBom&&s.sureBom(...e)),onScroll:a[2]||(a[2]=(...e)=>s.boxscroll&&s.boxscroll(...e)),onScrolltoupper:a[3]||(a[3]=(...e)=>s.sureTop&&s.sureTop(...e)),onTouchstart:a[4]||(a[4]=(...e)=>s.startScroll&&s.startScroll(...e))},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(n.lists,((t,a)=>(e.openBlock(),e.createElementBlock("view",{class:"item"},[e.createElementVNode("view",{class:"line lineTop"},[e.createElementVNode("text",{class:"k"},e.toDisplayString(t.addtime),1)]),e.createElementVNode("view",{class:"line"},[e.createElementVNode("text",{class:"k"},"开始时间"),e.createElementVNode("text",{class:"v"},e.toDisplayString(t.str_time),1)]),e.createElementVNode("view",{class:"line"},[e.createElementVNode("text",{class:"k"},"结束时间"),e.createElementVNode("text",{class:"v"},e.toDisplayString(t.end_time),1)]),e.createElementVNode("view",{class:"line"},[e.createElementVNode("text",{class:"k"},"结算类型"),e.createElementVNode("text",{class:"v"},e.toDisplayString(t.typeName),1)]),e.createElementVNode("view",{class:"line"},[e.createElementVNode("text",{class:"k"},"推送内容"),e.createElementVNode("text",{class:"v"},e.toDisplayString(t.content),1)]),e.createElementVNode("view",{class:"lineBot",onClick:e=>s.goDetail(a)},"查看详情",8,["onClick"])])))),256)),n.lists.length>0?(e.openBlock(),e.createElementBlock("view",{key:0,class:"daoDiLe IOSBottom",onClick:a[0]||(a[0]=(...e)=>s.getData&&s.getData(...e))},e.toDisplayString(n.lists.length>0&&0==n.page?"到底了":"点击加载更多"),1)):e.createCommentVNode("",!0),0==n.lists.length?(e.openBlock(),e.createElementBlock("view",{key:1,class:"noData"},[e.createElementVNode("i",{class:"iconfont icon-kongshuju"}),e.createTextVNode(" 暂无数据 ")])):e.createCommentVNode("",!0)],42,["scroll-top"]),e.createElementVNode("view",{class:"rBomOpBox"},[n.currTop>50?(e.openBlock(),e.createElementBlock("view",{key:0,class:"subBtn IOSMGBottom",onClick:a[5]||(a[5]=(...e)=>s.zhidingBtn&&s.zhidingBtn(...e))},[e.createElementVNode("i",{class:"iconfont icon-fanhuidingbu"})])):e.createCommentVNode("",!0)])],64)}]]);var _t;const Pt=n({components:{"gc-date-picker":L},data:()=>({type:1,isShowScreen:!1,startTime:"",dateLists:[],dateIndex:0,dateShow:"",peopleLists:["全体成员","我的部门"],peopleIndex:0,typeLists:["结账时间","上钟时间","下钟时间"],typeIndex:0,jishiLists:[{name:"足道",isSel:!0},{name:"按摩",isSel:!0},{name:"中医",isSel:!0},{name:"单项",isSel:!0},{name:"美容",isSel:!0}],rankLists:[],myInfo:[],boxTop:0,currTop:0,zhidingNum:0,isHua:0,isSeach:!1,isSetScreen:!1,selTimeType:"start",startTimeShow:"开始时间",startTimeIni:"",endTimeShow:"结束时间",endTimeIni:"",timeValue:"2023-01-01 00:00",isShowTimesel:!1,yjAuth:[],zsAuth:[]}),onLoad(){_t=getApp()},onShow(){this.getData()},methods:{getData:function(){let e=this;_t.goPost("Ranking/getRankinkInfo",{},(function(t){a("log","at pages/ranking/ranking.vue:179",t),e.dateLists=t.dateLists,e.dateShow=t.dateLists[0].showText,e.jishiLists=t.jishiLists,e.startTimeIni=t.storeTime,e.endTimeIni=t.storeTime,e.yjAuth=t.yjAuth,e.zsAuth=t.zsAuth,0==t.yjAuth.isqx&&0==t.zsAuth.isqx&&(e.type=0),0==t.yjAuth.isqx&&1==t.zsAuth.isqx&&(e.type=2),e.getRankingInfo()}))},getRankingInfo:function(){let e=this,t={sortType:e.type,startTime:"",endTime:"",staffType:e.peopleIndex+1,timeType:e.typeIndex,jishiType:""};var l=e.jishiLists,o=[],n=!1;for(var s in l)l[s].isSel?o.push(l[s].id):n=!0;if(o=o.join(","),t.jishiType=o,99!=e.dateIndex){var i=e.dateLists[e.dateIndex];t.startTime=i.startTime,t.endTime=i.endTime}else t.startTime=e.startTimeShow,t.endTime=e.endTimeShow;e.peopleIndex>0||e.dateIndex>0||n?e.isSeach=!0:e.isSeach=!1,a("log","at pages/ranking/ranking.vue:243",t),_t.goPost("Ranking/rankData",t,(function(t){a("log","at pages/ranking/ranking.vue:248",t),e.rankLists=t.lists}))},switchType:function(e){this.type=e,this.getRankingInfo()},openScreen:function(){this.isShowScreen=!0},closeScreen:function(){this.isShowScreen=!1},radioBtn:function(e){var t=this,a=e.currentTarget.dataset.idx,l=e.currentTarget.dataset.idxName;t[l]=a,"dateIndex"==l&&(t.dateShow=t.dateLists[a].showText,t.startTimeShow="开始时间",t.endTimeShow="结束时间")},checkBtn:function(e){var t=e.currentTarget.dataset.idx,a=e.currentTarget.dataset.selName,l=this[a][t].isSel;this[a][t].isSel=!l},btnConfirm(e){this.startTime=e.key},btnCancel(e){a("log","at pages/ranking/ranking.vue:298","取消时间")},reset:function(){var e=this;for(var t in e.dateIndex=0,e.peopleIndex=0,e.jishiLists)e.jishiLists[t].isSel=!0},sureSeach:function(){this.closeScreen(),this.getRankingInfo()},startScroll:function(){this.isHua=1},boxscroll:function(e){var t=this,a=e.detail.scrollTop,l=t.currTop,o=t.boxTop;a>l&&0==t.isHua&&a>20&&a<50&&(this.isHua=1),1==t.isHua&&(a>=l?(o-=8)>-65&&(t.boxTop=o):(o+=8)<1&&(t.boxTop=o)),t.currTop=a},zhidingBtn:function(){var e=this;e.boxTop=0,e.isHua=0,e.zhidingNum=1==e.zhidingNum?0:1},sureTop:function(){this.boxTop=0,this.isHua=0},sureBom:function(){this.boxTop=-64,this.isHua=0},openTimeSel:function(e){var t=this;1==e?(t.selTimeType="start",t.timeValue=t.startTimeShow,"开始时间"==t.startTimeShow&&(t.timeValue=t.startTimeIni)):(t.selTimeType="end",t.timeValue=t.endTimeShow,"结束时间"==t.endTimeShow&&(t.timeValue=t.endTimeIni)),t.isShowTimesel=!0},closeTimeSel:function(){this.isShowTimesel=!1},selTime:function(e){var t=this;t.dateIndex=99,"start"==t.selTimeType?t.startTimeShow=e:"end"==t.selTimeType&&(t.endTimeShow=e)},sureTimeSel:function(){this.closeTimeSel()}}},[["render",function(t,a,o,n,s,i){const c=l(e.resolveDynamicComponent("gc-date-picker"),L);return e.openBlock(),e.createElementBlock(e.Fragment,null,[e.createElementVNode("view",{class:"topImg"},[e.createElementVNode("image",{src:"/static/images/rankingBg.png"})]),s.type>0?(e.openBlock(),e.createElementBlock("view",{key:0,class:"typeListsBox",style:e.normalizeStyle(["top:"+(s.boxTop+64)+"px;",-64==s.boxTop?"border-radius: 0px;":""])},[1==s.yjAuth.isqx?(e.openBlock(),e.createElementBlock("view",{key:0,class:e.normalizeClass(["typeBtn",1==s.type?"typeBtnSel":""]),onClick:a[0]||(a[0]=e=>i.switchType(1))},"按业绩",2)):e.createCommentVNode("",!0),1==s.zsAuth.isqx?(e.openBlock(),e.createElementBlock("view",{key:1,class:e.normalizeClass(["typeBtn",2==s.type?"typeBtnSel":""]),onClick:a[1]||(a[1]=e=>i.switchType(2))},"按钟数",2)):e.createCommentVNode("",!0),e.createElementVNode("view",{class:e.normalizeClass(["shaixuanBtn",s.isSeach?"red":""]),onClick:a[2]||(a[2]=(...e)=>i.openScreen&&i.openScreen(...e))},[e.createElementVNode("text",{class:"iconfont icon-shaixuan1"}),e.createTextVNode(" 筛选")],2)],4)):e.createCommentVNode("",!0),s.type>0?(e.openBlock(),e.createElementBlock("scroll-view",{key:1,class:"conListsBox IOSBottom","scroll-y":"true","scroll-top":s.zhidingNum,onScrolltolower:a[3]||(a[3]=(...e)=>i.sureBom&&i.sureBom(...e)),style:e.normalizeStyle("top:"+(s.boxTop+103)+"px;"),onScroll:a[4]||(a[4]=(...e)=>i.boxscroll&&i.boxscroll(...e)),onScrolltoupper:a[5]||(a[5]=(...e)=>i.sureTop&&i.sureTop(...e)),onTouchstart:a[6]||(a[6]=(...e)=>i.startScroll&&i.startScroll(...e))},[e.createElementVNode("view",{class:"rankListsBox"},[e.createElementVNode("view",{class:"ranklists"},[e.createElementVNode("view",{class:"rankNum"},"排名"),e.createElementVNode("view",{class:"rankName"},"姓名"),1==s.type&&1==s.yjAuth.zs||2==s.type&&1==s.zsAuth.zs?(e.openBlock(),e.createElementBlock("view",{key:0,class:"rankZong"},"总钟数")):e.createCommentVNode("",!0),1==s.type&&1==s.yjAuth.yj||2==s.type&&1==s.zsAuth.yj?(e.openBlock(),e.createElementBlock("view",{key:1,class:"rankYe"},"总业绩")):e.createCommentVNode("",!0),1==s.type&&1==s.yjAuth.tc||2==s.type&&1==s.zsAuth.tc?(e.openBlock(),e.createElementBlock("view",{key:2,class:"rankTc"},"总提成")):e.createCommentVNode("",!0)]),(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(s.rankLists,((t,a)=>(e.openBlock(),e.createElementBlock("view",{class:"ranklists"},[t.rank<4?(e.openBlock(),e.createElementBlock("view",{key:0,class:"rankNum"},[e.createElementVNode("image",{src:"/static/images/ranking"+t.rank+".png"},null,8,["src"])])):e.createCommentVNode("",!0),t.rank>3?(e.openBlock(),e.createElementBlock("view",{key:1,class:"rankNum"},e.toDisplayString(t.rank),1)):e.createCommentVNode("",!0),e.createElementVNode("view",{class:"rankName"},e.toDisplayString(t.name),1),1==s.type&&1==s.yjAuth.zs||2==s.type&&1==s.zsAuth.zs?(e.openBlock(),e.createElementBlock("view",{key:2,class:"rankZong bold"},e.toDisplayString(t.p_clock),1)):e.createCommentVNode("",!0),1==s.type&&1==s.yjAuth.yj||2==s.type&&1==s.zsAuth.yj?(e.openBlock(),e.createElementBlock("view",{key:3,class:"rankYe bold"},e.toDisplayString(t.money),1)):e.createCommentVNode("",!0),1==s.type&&1==s.yjAuth.tc||2==s.type&&1==s.zsAuth.tc?(e.openBlock(),e.createElementBlock("view",{key:4,class:"rankTc bold"},e.toDisplayString(t.tc),1)):e.createCommentVNode("",!0)])))),256))])],44,["scroll-top"])):e.createCommentVNode("",!0),s.myInfo.length>0?(e.openBlock(),e.createElementBlock("view",{key:2,class:"IOSBottom",style:{height:"3.5rem"}})):e.createCommentVNode("",!0),s.myInfo.length>0?(e.openBlock(),e.createElementBlock("view",{key:3,class:"myRanking IOSBottom"},[e.createElementVNode("view",{class:"rankNum"},e.toDisplayString(s.myInfo.rank),1),e.createElementVNode("view",{class:"rankName"},e.toDisplayString(s.myInfo.name),1),e.createElementVNode("view",{class:"rankZong bold"},e.toDisplayString(s.myInfo.p_clock),1),e.createElementVNode("view",{class:"rankYe bold"},e.toDisplayString(s.myInfo.money),1),e.createElementVNode("view",{class:"rankTc bold"},e.toDisplayString(s.myInfo.tc),1)])):e.createCommentVNode("",!0),s.isShowScreen?(e.openBlock(),e.createElementBlock("view",{key:4,class:"blackBg",onClick:a[7]||(a[7]=(...e)=>i.closeScreen&&i.closeScreen(...e))})):e.createCommentVNode("",!0),s.isShowScreen?(e.openBlock(),e.createElementBlock("view",{key:5,class:"shaixuanBox IOSBottom"},[e.createElementVNode("view",{class:"screenCon"},[e.createElementVNode("view",{class:"screenTips"},[e.createTextVNode(" 日期范围 "),e.createElementVNode("view",{class:"screenRTips orange"},e.toDisplayString(s.dateShow),1)]),e.createElementVNode("view",{class:"screenSetBox"},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(s.dateLists,((t,l)=>(e.openBlock(),e.createElementBlock("view",{class:e.normalizeClass(["screenSet",l==s.dateIndex?"screenSeted":""]),"data-idx":l,"data-idxName":"dateIndex",onClick:a[8]||(a[8]=(...e)=>i.radioBtn&&i.radioBtn(...e))},e.toDisplayString(t.name),11,["data-idx"])))),256))]),e.createElementVNode("view",{class:"screenCon"},[e.createElementVNode("view",{class:"screenSetBox"},[e.createElementVNode("view",{class:"screenInput",onClick:a[9]||(a[9]=e=>i.openTimeSel(1))},e.toDisplayString(s.startTimeShow),1),e.createElementVNode("view",{class:"screenInput",onClick:a[10]||(a[10]=e=>i.openTimeSel(2))},e.toDisplayString(s.endTimeShow),1)])])]),e.createElementVNode("view",{class:"screenCon"},[e.createElementVNode("view",{class:"screenTips"},"类型"),e.createElementVNode("view",{class:"screenSetBox"},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(s.typeLists,((t,l)=>(e.openBlock(),e.createElementBlock("view",{class:e.normalizeClass(["screenSet",l==s.typeIndex?"screenSeted":""]),"data-idx":l,"data-idxName":"typeIndex",onClick:a[11]||(a[11]=(...e)=>i.radioBtn&&i.radioBtn(...e))},e.toDisplayString(t),11,["data-idx"])))),256))])]),e.createElementVNode("view",{class:"screenCon"},[e.createElementVNode("view",{class:"screenTips"},"人员范围"),e.createElementVNode("view",{class:"screenSetBox"},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(s.peopleLists,((t,l)=>(e.openBlock(),e.createElementBlock("view",{class:e.normalizeClass(["screenSet",l==s.peopleIndex?"screenSeted":""]),"data-idx":l,"data-idxName":"peopleIndex",onClick:a[12]||(a[12]=(...e)=>i.radioBtn&&i.radioBtn(...e))},e.toDisplayString(t),11,["data-idx"])))),256))])]),e.createElementVNode("view",{class:"screenCon"},[e.createElementVNode("view",{class:"screenTips"},[e.createTextVNode(" 技师工种 "),e.createElementVNode("view",{class:"screenRTips orange"},"支持多选")]),e.createElementVNode("view",{class:"screenSetBox"},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(s.jishiLists,((t,l)=>(e.openBlock(),e.createElementBlock("view",{class:e.normalizeClass(["screenSet",t.isSel?"screenSeted":""]),"data-idx":l,"data-selName":"jishiLists",onClick:a[13]||(a[13]=(...e)=>i.checkBtn&&i.checkBtn(...e))},e.toDisplayString(t.name),11,["data-idx"])))),256))])]),e.createElementVNode("view",{style:{height:"3.6rem"}}),e.createElementVNode("view",{class:"screenBtn IOSBottom"},[e.createElementVNode("view",{class:"screenLBtn bg-orange-JB",onClick:a[14]||(a[14]=(...e)=>i.reset&&i.reset(...e))},"重置"),e.createElementVNode("view",{class:"screenRBtn bg-red-JB",onClick:a[15]||(a[15]=(...e)=>i.sureSeach&&i.sureSeach(...e))},"确定")])])):e.createCommentVNode("",!0),e.createElementVNode("view",{class:"rBomOpBox"},[s.currTop>50?(e.openBlock(),e.createElementBlock("view",{key:0,class:"subBtn",onClick:a[16]||(a[16]=(...e)=>i.zhidingBtn&&i.zhidingBtn(...e))},[e.createElementVNode("i",{class:"iconfont icon-fanhuidingbu"})])):e.createCommentVNode("",!0)]),s.isShowTimesel?(e.openBlock(),e.createBlock(c,{key:6,dateVal:s.timeValue,onSureBtn:i.selTime,onBtnBgClose:i.sureTimeSel},null,8,["dateVal","onSureBtn","onBtnBgClose"])):e.createCommentVNode("",!0)],64)}]]);var Ft;const Ot=n({data:()=>({countData:[],countDetailData:[],bottomData:[],typeList:[],dayTypeList:[],countTypeList:[],type:0,dayType:0,countType:0,timeStr:"",startTime:"",endTime:"",defaultValue:{dayType:0,countType:0},isOpenProjectDetailBox:!1,projectDetailData:{},isOpenDaiJieBox:!1,daiJieData:{},isOpenShaiXuanBox:!1,shaiXuan:{countType:0,dayType:0,start:"开始时间",end:"结束时间",startTime:"",endTime:"",timeStr:""},selTimeType:"",isShowTimesel:!1,timeValue:"2023-01-01 00:00"}),onLoad(){Ft=getApp(),this.initData()},onShow(){},methods:{initData(){let e=this;Ft.goPost("ticheng/initdata",{},(function(t){e.countTypeList=t.countTypeList,e.dayTypeList=t.dayTypeList,e.typeList=t.typeList,e.type=t.type,e.dayType=t.dayType,e.countType=t.countType,e.timeStr=t.timeStr,e.startTime=t.startTime,e.endTime=t.endTime,e.defaultValue.dayType=t.dayType,e.defaultValue.countType=t.countType,e.getData()}))},getData(){let e=this,t={dayType:e.dayType,countType:e.countType,type:e.type,startTime:e.startTime,endTime:e.endTime};Ft.goPost("ticheng/getdata",t,(function(t){e.countData=t.countData,e.countDetailData=t.countDetailData,e.bottomData=t.bottomData}))},changeDayType(e){let t=e.currentTarget.dataset.index;if(this.dayType==t)return!1;this.dayType=t,this.timeStr=this.dayTypeList[t].showText,this.startTime=this.dayTypeList[t].startTime,this.endTime=this.dayTypeList[t].endTime,this.getData()},changeCountType(e){let t=e.currentTarget.dataset.index;if(this.countType==t)return!1;this.countType=t,this.getData()},changeType(e){let t=e.currentTarget.dataset.index;if(this.type==t)return!1;this.type=t,this.getData()},openProjectDetailBox(e){let t=e.currentTarget.dataset.index,a=this.countDetailData.detail[t];this.isOpenProjectDetailBox=!0,this.projectDetailData=Ft.copyObject(a)},closeProjectDetailBox(){this.isOpenProjectDetailBox=!1,this.projectDetailData={}},openDaiJieBox(){let e=this,t={ids:e.bottomData.ids};Ft.goPost("ticheng/daijiedetail",t,(function(t){e.daiJieData=t,e.isOpenDaiJieBox=!0}))},closeDaiJieBox(){this.isOpenDaiJieBox=!1},openShaiXuanBox(){let e=this.shaiXuan;if(e.dayType=this.dayType,e.countType=this.countType,e.timeStr=this.timeStr,e.startTime=this.startTime,e.endTime=this.endTime,e.start="开始时间",e.end="结束时间",99==this.dayType){let t=this.timeStr.split(" ~ ");e.start=t[1],e.end=t[1]}this.isOpenShaiXuanBox=!0},closeShaiXuanBox(){this.isOpenShaiXuanBox=!1},changeForShaiXuan:function(e){let t=this,a=e.currentTarget.dataset.index,l=e.currentTarget.dataset.key;if(t.shaiXuan[l]==a)return!1;t.shaiXuan[l]=a,"dayType"==l&&(t.shaiXuan.timeStr=t.dayTypeList[a].showText,t.shaiXuan.start="开始时间",t.shaiXuan.end="结束时间",t.shaiXuan.startTime=t.dayTypeList[a].startTime,t.shaiXuan.endTime=t.dayTypeList[a].endTime)},resetShaiXuan:function(){let e=this,t=e.defaultValue;e.shaiXuan.countType=t.countType,e.shaiXuan.dayType=t.dayType,e.shaiXuan.start="开始时间",e.shaiXuan.end="结束时间";let a=this.dayTypeList[t.dayType];e.shaiXuan.startTime=a.startTime,e.shaiXuan.endTime=a.endTime,e.shaiXuan.timeStr=a.showText},sureShaiXuan:function(){let e=this;if(99==e.shaiXuan.dayType){if("开始时间"==e.shaiXuan.start)return Ft.showMsg("请选择开始时间"),!1;if("结束时间"==e.shaiXuan.end)return Ft.showMsg("请选择结束时间"),!1;e.shaiXuan.timeStr=e.shaiXuan.start+" ~ "+e.shaiXuan.end}e.dayType=e.shaiXuan.dayType,e.countType=e.shaiXuan.countType,e.timeStr=e.shaiXuan.timeStr,e.startTime=e.shaiXuan.startTime,e.endTime=e.shaiXuan.endTime,e.closeShaiXuanBox(),e.getData()},openTimeSel:function(e){let t=this;1==e?(t.selTimeType="start",t.timeValue=t.shaiXuan.start,"开始时间"==t.timeValue&&(t.timeValue=t.dayTypeList[0].startTime)):(t.selTimeType="end",t.timeValue=t.shaiXuan.end,"结束时间"==t.timeValue&&(t.timeValue=t.dayTypeList[0].endTime)),t.isShowTimesel=!0},closeTimeSel:function(){this.isShowTimesel=!1},selTime:function(e){let t=this,a=t.selTimeType;t.shaiXuan.dayType=99;let l=e.split(" "),o=l[0].split("-"),n=l[1].split(":");t.shaiXuan[a]=o[1]+"."+o[2]+" "+n[0]+":"+n[1],t.shaiXuan[a+"Time"]=o.join("-")+" "+n[0]+":"+n[1]},sureTimeSel:function(){this.closeTimeSel()}}},[["render",function(t,a,o,n,s,i){const c=l(e.resolveDynamicComponent("ydPromptBottom"),b),r=l(e.resolveDynamicComponent("gc-date-picker"),L);return e.openBlock(),e.createElementBlock(e.Fragment,null,[e.createElementVNode("view",{class:"content"},[e.createElementVNode("view",{class:"titleTips red"},"薪酬以客户“结算时间”为准，下钟时间仅供参考!"),e.createElementVNode("view",{class:"detailBox"},[e.createElementVNode("view",{class:"queryItem"},[e.createElementVNode("text",{class:"label"},"选择日期"),e.createElementVNode("view",{class:"optionsRow"},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(s.dayTypeList,((t,l)=>(e.openBlock(),e.createElementBlock("text",{class:e.normalizeClass(["options",s.dayType==t.id?"selected":""]),"data-index":l,onClick:a[0]||(a[0]=(...e)=>i.changeDayType&&i.changeDayType(...e))},e.toDisplayString(t.name),11,["data-index"])))),256)),e.createElementVNode("text",{class:e.normalizeClass(["options",99==s.dayType?"selected":""]),onClick:a[1]||(a[1]=(...e)=>i.openShaiXuanBox&&i.openShaiXuanBox(...e))},"筛选",2)])]),e.createElementVNode("view",{class:"queryItem"},[e.createElementVNode("text",{class:"label"},"日期范围"),e.createElementVNode("view",{class:"optionsRow"},[e.createElementVNode("view",{class:"time orange"},e.toDisplayString(s.timeStr),1)])]),e.createElementVNode("view",{class:"queryItem"},[e.createElementVNode("text",{class:"label"},"统计方式"),e.createElementVNode("view",{class:"optionsRow"},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(s.countTypeList,((t,l)=>(e.openBlock(),e.createElementBlock("text",{class:e.normalizeClass(["options",s.countType==t.id?"selected":""]),"data-index":l,onClick:a[2]||(a[2]=(...e)=>i.changeCountType&&i.changeCountType(...e))},e.toDisplayString(t.name),11,["data-index"])))),256))])])]),e.createElementVNode("view",{class:"detailBox"},[e.createElementVNode("view",{class:"typeRow"},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(s.typeList,((t,l)=>(e.openBlock(),e.createElementBlock("text",{class:e.normalizeClass(["item",s.type==t.id?"selected":""]),"data-index":l,onClick:a[3]||(a[3]=(...e)=>i.changeType&&i.changeType(...e))},e.toDisplayString(t.name),11,["data-index"])))),256))]),e.createElementVNode("view",{class:"dataContent"},[1==s.countData.show?(e.openBlock(),e.createElementBlock(e.Fragment,{key:0},[e.createElementVNode("view",{class:"detailTitle"},"汇总"),e.createElementVNode("view",{class:"table"},[e.createElementVNode("view",{class:"tr"},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(s.countData.title,((t,a)=>(e.openBlock(),e.createElementBlock("view",{class:e.normalizeClass(["th",s.countData.align[a]]),style:e.normalizeStyle("width:"+s.countData.width[a]+"%;")},e.toDisplayString(t),7)))),256))]),(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(s.countData.list,((t,a)=>(e.openBlock(),e.createElementBlock("view",{class:"tr"},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(t,((t,a)=>(e.openBlock(),e.createElementBlock("view",{class:e.normalizeClass(["td",s.countData.align[a]]),style:e.normalizeStyle("width:"+s.countData.width[a]+"%;")},e.toDisplayString(t),7)))),256))])))),256))])],64)):e.createCommentVNode("",!0),1==s.countDetailData.show?(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[e.createElementVNode("view",{class:"detailTitle"},"明细"),e.createElementVNode("view",{class:"table"},[e.createElementVNode("view",{class:"tr"},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(s.countDetailData.title,((t,a)=>(e.openBlock(),e.createElementBlock("view",{class:e.normalizeClass(["th",s.countDetailData.align[a]]),style:e.normalizeStyle("width:"+s.countDetailData.width[a]+"%;")},e.toDisplayString(t),7)))),256))]),(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(s.countDetailData.list,((t,l)=>(e.openBlock(),e.createElementBlock("view",{class:"tr","data-index":l,onClick:a[4]||(a[4]=(...e)=>i.openProjectDetailBox&&i.openProjectDetailBox(...e))},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(t,((t,a)=>(e.openBlock(),e.createElementBlock("view",{class:e.normalizeClass(["td",s.countDetailData.align[a],t.color]),style:e.normalizeStyle("width:"+s.countDetailData.width[a]+"%;")},e.toDisplayString(t.value),7)))),256))],8,["data-index"])))),256))])],64)):e.createCommentVNode("",!0)])])]),s.bottomData.total>0?(e.openBlock(),e.createElementBlock("view",{key:0,class:"bottomInfo"},[e.createElementVNode("view",{class:"txt"},"未结账 "+e.toDisplayString(s.bottomData.notJie)+"，挂单 "+e.toDisplayString(s.bottomData.notGuaJie)+"，跨日 "+e.toDisplayString(s.bottomData.kuaJie),1),e.createElementVNode("text",{class:"bottomBtn",onClick:a[5]||(a[5]=(...e)=>i.openDaiJieBox&&i.openDaiJieBox(...e))},"查看")])):e.createCommentVNode("",!0),s.isOpenProjectDetailBox?(e.openBlock(),e.createElementBlock("view",{key:1,class:"prompt"},[e.createElementVNode("view",{class:"prompt-shadow",onClick:a[6]||(a[6]=(...e)=>i.closeProjectDetailBox&&i.closeProjectDetailBox(...e))}),e.createElementVNode("view",{class:"projectDetailBox pos-middle"},[e.createElementVNode("view",{class:"projectDetailItem"},[e.createElementVNode("text",{class:"label"},"项目名称"),e.createElementVNode("view",{class:"txt"},e.toDisplayString(s.projectDetailData.p_name),1)]),e.createElementVNode("view",{class:"projectDetailItem"},[e.createElementVNode("text",{class:"label"},"开单时间"),e.createElementVNode("view",{class:"txt"},e.toDisplayString(s.projectDetailData.addtime),1)]),e.createElementVNode("view",{class:"projectDetailItem"},[e.createElementVNode("text",{class:"label"},"上钟时间"),e.createElementVNode("view",{class:"txt"},e.toDisplayString(s.projectDetailData.ser_start_time),1)]),e.createElementVNode("view",{class:"projectDetailItem"},[e.createElementVNode("text",{class:"label"},"下钟时间"),e.createElementVNode("view",{class:"txt"},e.toDisplayString(s.projectDetailData.ser_end_time),1)]),e.createElementVNode("view",{class:"projectDetailItem"},[e.createElementVNode("text",{class:"label"},"结账时间"),e.createElementVNode("view",{class:"txt"},e.toDisplayString(s.projectDetailData.finish_time),1)]),e.createElementVNode("view",{class:"projectDetailStatus"},[e.createElementVNode("view",{class:"orange"},e.toDisplayString(s.projectDetailData.status),1)]),e.createElementVNode("text",{class:"projectDetailClose iconfont icon-shibai",onClick:a[7]||(a[7]=(...e)=>i.closeProjectDetailBox&&i.closeProjectDetailBox(...e))})])])):e.createCommentVNode("",!0),e.createVNode(c,{isOpen:s.isOpenShaiXuanBox,onClose:i.closeShaiXuanBox,boxCss:"radius"},{default:e.withCtx((()=>[e.createElementVNode("view",{class:"prompt-title text-center"},"时间筛选"),e.createElementVNode("view",{class:"prompt-bottom-content"},[e.createElementVNode("view",{class:"screenCon"},[e.createElementVNode("view",{class:"screenTips"},"类型"),e.createElementVNode("view",{class:"screenSetBox"},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(s.countTypeList,((t,l)=>(e.openBlock(),e.createElementBlock("view",{class:e.normalizeClass(["screenSet",s.shaiXuan.countType==t.id?"screenSeted":""]),"data-index":l,"data-key":"countType",onClick:a[8]||(a[8]=(...e)=>i.changeForShaiXuan&&i.changeForShaiXuan(...e))},e.toDisplayString(t.name),11,["data-index"])))),256))])]),e.createElementVNode("view",{class:"screenCon"},[e.createElementVNode("view",{class:"screenTips"},[e.createTextVNode(" 时间 "),99!=s.shaiXuan.dayType?(e.openBlock(),e.createElementBlock("view",{key:0,class:"screenRTips orange"},e.toDisplayString(s.shaiXuan.timeStr),1)):e.createCommentVNode("",!0)]),e.createElementVNode("view",{class:"screenSetBox"},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(s.dayTypeList,((t,l)=>(e.openBlock(),e.createElementBlock("view",{class:e.normalizeClass(["screenSet",s.shaiXuan.dayType==t.id?"screenSeted":""]),"data-index":l,"data-key":"dayType",onClick:a[9]||(a[9]=(...e)=>i.changeForShaiXuan&&i.changeForShaiXuan(...e))},e.toDisplayString(t.name),11,["data-index"])))),256))])]),e.createElementVNode("view",{class:"screenCon"},[e.createElementVNode("view",{class:"screenSetBox"},[e.createElementVNode("view",{class:"screenInput",onClick:a[10]||(a[10]=e=>i.openTimeSel(1))},e.toDisplayString(s.shaiXuan.start),1),e.createElementVNode("view",{class:"screenInput",onClick:a[11]||(a[11]=e=>i.openTimeSel(2))},e.toDisplayString(s.shaiXuan.end),1)])]),e.createElementVNode("view",{class:"pb80"}),e.createElementVNode("view",{class:"IOSBottom"}),e.createElementVNode("view",{class:"screenBtn IOSBottom"},[e.createElementVNode("view",{class:"screenLBtn bg-orange-JB",onClick:a[12]||(a[12]=(...e)=>i.resetShaiXuan&&i.resetShaiXuan(...e))},"重置"),e.createElementVNode("view",{class:"screenRBtn bg-red-JB",onClick:a[13]||(a[13]=(...e)=>i.sureShaiXuan&&i.sureShaiXuan(...e))},"确定")])])])),_:1},8,["isOpen","onClose"]),s.isShowTimesel?(e.openBlock(),e.createBlock(r,{key:2,dateVal:s.timeValue,onSureBtn:i.selTime,onBtnBgClose:i.sureTimeSel},null,8,["dateVal","onSureBtn","onBtnBgClose"])):e.createCommentVNode("",!0),e.createVNode(c,{isOpen:s.isOpenDaiJieBox,onClose:i.closeDaiJieBox,boxCss:"radius"},{default:e.withCtx((()=>[e.createElementVNode("view",{class:"prompt-title"},[e.createElementVNode("text",null,"预警订单"),e.createElementVNode("text",{class:"buJie"},"补结 "+e.toDisplayString(s.daiJieData.buJie),1),e.createElementVNode("text",{class:"daiJie"},"待结 "+e.toDisplayString(s.daiJieData.daiJie),1),e.createElementVNode("text",{class:"iconfont icon-guanbi close-icon red",onClick:a[14]||(a[14]=(...e)=>i.closeDaiJieBox&&i.closeDaiJieBox(...e))})]),e.createElementVNode("view",{class:"prompt-bottom-content"},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(s.daiJieData.list,((t,a)=>(e.openBlock(),e.createElementBlock("view",{class:"diaJieItem"},[e.createElementVNode("view",{class:"top"},[e.createElementVNode("text",null,"项目："+e.toDisplayString(t.p_name),1),e.createElementVNode("text",{class:e.normalizeClass(["status",t.status_color])},e.toDisplayString(t.status_text),3)]),e.createElementVNode("view",{class:"row"},[e.createElementVNode("view",{class:"l"},"下钟："+e.toDisplayString(t.ser_end_time),1),e.createElementVNode("view",{class:"r"},"结账："+e.toDisplayString(t.finish_time),1)]),e.createElementVNode("view",{class:"row"},[e.createElementVNode("view",{class:"l"},[e.createTextVNode("预估："),e.createElementVNode("text",{class:"sm red"},"￥"),e.createElementVNode("text",{class:"red"},e.toDisplayString(t.tc),1)]),e.createElementVNode("view",{class:"r"},[e.createTextVNode("状态："),e.createElementVNode("text",{class:"orange bold"},e.toDisplayString(t.order_status),1)])])])))),256)),e.createElementVNode("view",{class:"pb15"}),e.createElementVNode("view",{class:"IOSBottom"})])])),_:1},8,["isOpen","onClose"])],64)}]]);var At;const Mt=n({data:()=>({searchTxt:"",lists:[],boxTop:0,currTop:0,zhidingNum:0,isHua:0,gettermList:0,termList:[],type:"all",source:"all",sort:"all",showTermKey:"",newSet:"",showBg:!1,isSetScreen:"",screenLists:{0:0,1:0,2:0}}),onLoad(){At=getApp(),this.getData()},methods:{startScroll:function(){this.isHua=1},boxscroll:function(e){var t=this,a=e.detail.scrollTop,l=t.currTop,o=t.boxTop;a>l&&0==t.isHua&&a>20&&a<50&&(this.isHua=1),1==t.isHua&&(a>=l?(o-=8)>-49&&(t.boxTop=o):(o+=8)<1&&(t.boxTop=o)),t.currTop=a},zhidingBtn:function(){var e=this;e.boxTop=0,e.isHua=0,e.zhidingNum=1==e.zhidingNum?0:1},sureTop:function(){this.boxTop=0,this.isHua=0},getData:function(e){let t=this,l={name:t.searchTxt,type:t.type,source:t.source,sort:t.sort,apptype:3};At.goPost("Servicestandard/getData",l,(function(e){a("log","at pages/servicestandard/servicestandard.vue:185",e),t.lists=e.lists,t.gettermList<1&&(t.termList=e.termList),t.gettermList=1}))},clearSeach(){this.searchTxt,this.searchTxt=""},jumpUrl:function(e){var t=e.currentTarget.dataset.id;uni.navigateTo({url:"/pages/servicestandardinfo/servicestandardinfo?id="+t})},chaTopTerm(e){let t=this,a=e.currentTarget.dataset.index,l=t.termList[a];if(t.showTermKey===a)return void t.clearTerm();let o=l.key;t[o],t.showTermKey=a,t.newSet=t[o],t.showBg=!0},chaTerm(e){let t=this,a=e.currentTarget.dataset.index,l=e.currentTarget.dataset.index2,o=t.termList[a],n=t.termList[a].list[l];t[o.key]=n.id,t.screenLists[a]=l,"all"===n.id?o.name=o.oname:o.name=n.name,t.clearTerm(),t.getData()},clearTerm(){this.showTermKey="",this.showBg=!1},openSearchInfo:function(){this.clearTerm(),this.isSetScreen=1},closeSearchInfo:function(){this.isSetScreen=0},selScreen:function(e){var t=e.currentTarget.dataset.idx,a=e.currentTarget.dataset.idx2;this.screenLists[t]=a},resetScreen:function(){this.screenLists={0:0,1:0,2:0}},sureSeach:function(){var e=this,t=e.screenLists;for(var a in t){var l=e.termList[a],o=e.termList[a].list[t[a]];e[l.key]=o.id,"all"===o.id?l.name=l.oname:l.name=o.name}e.closeSearchInfo(),e.getData()}}},[["render",function(t,a,l,o,n,s){return e.openBlock(),e.createElementBlock(e.Fragment,null,[e.createElementVNode("view",{class:"topBox",style:e.normalizeStyle("top:"+n.boxTop+"px;")},[e.createElementVNode("view",{class:"searchBox"},[e.createElementVNode("i",{class:"iconfont icon-sousuo search"}),e.withDirectives(e.createElementVNode("input",{class:"seaCon",type:"text",placeholder:"请输入标题","onUpdate:modelValue":a[0]||(a[0]=e=>n.searchTxt=e)},null,512),[[e.vModelText,n.searchTxt]]),""!=n.searchTxt?(e.openBlock(),e.createElementBlock("i",{key:0,class:"iconfont icon-shibai1 close",onClick:a[1]||(a[1]=(...e)=>s.clearSeach&&s.clearSeach(...e))})):e.createCommentVNode("",!0),e.createElementVNode("view",{class:"seaBtn",onClick:a[2]||(a[2]=(...e)=>s.getData&&s.getData(...e))},"搜索")]),e.createElementVNode("ul",{class:"termBox"},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(n.termList,((t,l)=>(e.openBlock(),e.createElementBlock("li",null,[e.createElementVNode("view",{onClick:a[3]||(a[3]=(...e)=>s.chaTopTerm&&s.chaTopTerm(...e)),class:e.normalizeClass(t.name!=t.oname?"red":""),"data-index":l},[e.createElementVNode("text",null,e.toDisplayString(t.name),1),n.showTermKey!==l?(e.openBlock(),e.createElementBlock("i",{key:0,class:e.normalizeClass(["iconfont icon-tubiaozhizuo-1",t.name!=t.oname?"red":""])},null,2)):n.showTermKey===l?(e.openBlock(),e.createElementBlock("i",{key:1,class:e.normalizeClass(["iconfont icon-tubiaozhizuo-",t.name!=t.oname?"red":""])},null,2)):e.createCommentVNode("",!0)],10,["data-index"]),n.showTermKey===l?(e.openBlock(),e.createElementBlock("ul",{key:0,class:"nextBox"},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(t.list,((t,o)=>(e.openBlock(),e.createElementBlock("li",{onClick:a[4]||(a[4]=(...e)=>s.chaTerm&&s.chaTerm(...e)),"data-index":l,"data-index2":o},[e.createTextVNode(e.toDisplayString(t.name)+" ",1),n.newSet==t.id?(e.openBlock(),e.createElementBlock("i",{key:0,class:"iconfont icon-xuanzhong"})):e.createCommentVNode("",!0)],8,["data-index","data-index2"])))),256))])):e.createCommentVNode("",!0)])))),256)),e.createElementVNode("li",{style:{width:"18%"}},[e.createElementVNode("view",{onClick:a[5]||(a[5]=(...e)=>s.openSearchInfo&&s.openSearchInfo(...e))},[e.createElementVNode("text",null,[e.createTextVNode(" 筛选"),e.createElementVNode("i",{class:"iconfont icon-shaixuan",style:{color:"#333"}})])])])])],4),e.createElementVNode("scroll-view",{class:"listsBox","scroll-y":"true",style:e.normalizeStyle("top:"+(n.boxTop+82)+"px;"),"scroll-top":n.zhidingNum,onScroll:a[7]||(a[7]=(...e)=>s.boxscroll&&s.boxscroll(...e)),onScrolltoupper:a[8]||(a[8]=(...e)=>s.sureTop&&s.sureTop(...e)),onTouchstart:a[9]||(a[9]=(...e)=>s.startScroll&&s.startScroll(...e))},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(n.lists,((t,l)=>(e.openBlock(),e.createElementBlock("view",{class:"listsInfo","data-id":t.id,onClick:a[6]||(a[6]=(...e)=>s.jumpUrl&&s.jumpUrl(...e))},[e.createElementVNode("view",{class:"listsImg"},[e.createElementVNode("image",{src:t.pic},null,8,["src"])]),e.createElementVNode("view",{class:"listsTitle"},[e.createElementVNode("view",{class:"listsname1"},e.toDisplayString(t.name),1),e.createElementVNode("view",{class:"listsname2"},e.toDisplayString(t.update_time),1)]),e.createElementVNode("view",{class:"listsSource"},e.toDisplayString(t.sourceName),1)],8,["data-id"])))),256)),0==n.lists.length?(e.openBlock(),e.createElementBlock("view",{key:0,class:"noData"},[e.createElementVNode("i",{class:"iconfont icon-kongshuju"}),e.createTextVNode(" 暂无数据 ")])):e.createCommentVNode("",!0)],44,["scroll-top"]),n.showBg?(e.openBlock(),e.createElementBlock("view",{key:0,class:"fixBg",onClick:a[10]||(a[10]=(...e)=>s.clearTerm&&s.clearTerm(...e))})):e.createCommentVNode("",!0),1==n.isSetScreen?(e.openBlock(),e.createElementBlock("view",{key:1,class:"blackBg",onClick:a[11]||(a[11]=(...e)=>s.closeSearchInfo&&s.closeSearchInfo(...e))})):e.createCommentVNode("",!0),1==n.isSetScreen?(e.openBlock(),e.createElementBlock("view",{key:2,class:"screenBox IOSBottom"},[e.createElementVNode("view",{class:"screenTitle"},"筛选"),e.createElementVNode("view",{style:{height:"3rem"}}),(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(n.termList,((t,l)=>(e.openBlock(),e.createElementBlock("view",{class:"screenCon"},[e.createElementVNode("view",{class:"screenTips"},e.toDisplayString(t.oname),1),e.createElementVNode("view",{class:"screenSetBox"},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(t.list,((t,o)=>(e.openBlock(),e.createElementBlock("view",{class:e.normalizeClass(["screenSet",n.screenLists[l]==o?"screenSeted":""]),"data-idx":l,"data-idx2":o,onClick:a[12]||(a[12]=(...e)=>s.selScreen&&s.selScreen(...e))},e.toDisplayString(t.name),11,["data-idx","data-idx2"])))),256))])])))),256)),e.createElementVNode("view",{style:{height:"3.6rem"}}),e.createElementVNode("view",{class:"screenBtn IOSBottom"},[e.createElementVNode("view",{class:"screenLBtn bg-orange-JB",onClick:a[13]||(a[13]=(...e)=>s.resetScreen&&s.resetScreen(...e))},"重置"),e.createElementVNode("view",{class:"screenRBtn bg-red-JB",onClick:a[14]||(a[14]=(...e)=>s.sureSeach&&s.sureSeach(...e))},"确定")])])):e.createCommentVNode("",!0),e.createElementVNode("view",{class:"rBomOpBox"},[n.currTop>50?(e.openBlock(),e.createElementBlock("view",{key:0,class:"subBtn IOSMGBottom",onClick:a[15]||(a[15]=(...e)=>s.zhidingBtn&&s.zhidingBtn(...e))},[e.createElementVNode("i",{class:"iconfont icon-fanhuidingbu"})])):e.createCommentVNode("",!0)])],64)}]]),jt=e=>{(e.$wxs||(e.$wxs=[])).push("handler"),(e.$wxsModules||(e.$wxsModules={})).handler="2f992f8c"},zt={name:"node",options:{},data:()=>({ctrl:{}}),props:{name:String,attrs:{type:Object,default:()=>({})},childs:Array,opts:Array},components:{},mounted(){if(this.$nextTick((()=>{for(this.root=this.$parent;"mp-html"!==this.root.$options.name;this.root=this.root.$parent);})),this.opts[0]){let e;for(e=this.childs.length;e--&&"img"!==this.childs[e].name;);-1!==e&&(this.observer=uni.createIntersectionObserver(this).relativeToViewport({top:500,bottom:500}),this.observer.observe("._img",(e=>{e.intersectionRatio&&(this.$set(this.ctrl,"load",1),this.observer.disconnect())})))}},beforeDestroy(){this.observer&&this.observer.disconnect()},methods:{play(e){this.root.$emit("play")},imgTap(e){const t=this.childs[e.currentTarget.dataset.i];t.a?this.linkTap(t.a):t.attrs.ignore||(t.attrs.src=t.attrs.src||t.attrs["data-src"],this.root.$emit("imgtap",t.attrs),this.root.previewImg&&uni.previewImage({current:parseInt(t.attrs.i),urls:this.root.imgList}))},imgLongTap(e){const t=this.childs[e.currentTarget.dataset.i].attrs;this.opts[3]&&!t.ignore&&uni.showActionSheet({itemList:["保存图片"],success:()=>{const e=e=>{uni.saveImageToPhotosAlbum({filePath:e,success(){uni.showToast({title:"保存成功"})}})};this.root.imgList[t.i].startsWith("http")?uni.downloadFile({url:this.root.imgList[t.i],success:t=>e(t.tempFilePath)}):e(this.root.imgList[t.i])}})},imgLoad(e){const t=e.currentTarget.dataset.i;this.childs[t].w?(this.opts[1]&&!this.ctrl[t]||-1===this.ctrl[t])&&this.$set(this.ctrl,t,1):this.$set(this.ctrl,t,e.detail.width),this.checkReady()},checkReady(){this.root&&!this.root.lazyLoad&&(this.root._unloadimgs-=1,this.root._unloadimgs||setTimeout((()=>{this.root.getRect().then((e=>{this.root.$emit("ready",e)})).catch((()=>{this.root.$emit("ready",{})}))}),350))},linkTap(e){const t=e.currentTarget?this.childs[e.currentTarget.dataset.i]:{},a=t.attrs||e,l=a.href;this.root.$emit("linktap",Object.assign({innerText:this.root.getText(t.children||[])},a)),l&&("#"===l[0]?this.root.navigateTo(l.substring(1)).catch((()=>{})):l.split("?")[0].includes("://")?this.root.copyLink&&plus.runtime.openWeb(l):uni.navigateTo({url:l,fail(){uni.switchTab({url:l,fail(){}})}}))},mediaError(e){const t=e.currentTarget.dataset.i,a=this.childs[t];if("video"===a.name||"audio"===a.name){let e=(this.ctrl[t]||0)+1;if(e>a.src.length&&(e=0),e<a.src.length)return void this.$set(this.ctrl,t,e)}else"img"===a.name&&(this.opts[2]&&this.$set(this.ctrl,t,-1),this.checkReady());this.root&&this.root.$emit("error",{source:a.name,attrs:a.attrs,errMsg:e.detail.errMsg})}}};jt(zt);const Rt=n(zt,[["render",function(t,a,l,o,n,s){const i=e.resolveComponent("node",!0);return e.openBlock(),e.createElementBlock("view",{id:l.attrs.id,class:e.normalizeClass("_block _"+l.name+" "+l.attrs.class),style:e.normalizeStyle(l.attrs.style)},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(l.childs,((t,o)=>(e.openBlock(),e.createElementBlock(e.Fragment,{key:o},["img"===t.name&&!t.t&&(l.opts[1]&&!n.ctrl[o]||n.ctrl[o]<0)?(e.openBlock(),e.createElementBlock("image",{key:0,class:"_img",style:e.normalizeStyle(t.attrs.style),src:n.ctrl[o]<0?l.opts[2]:l.opts[1],mode:"widthFix"},null,12,["src"])):e.createCommentVNode("",!0),"img"===t.name&&t.t?(e.openBlock(),e.createElementBlock("rich-text",{key:1,style:e.normalizeStyle("display:"+t.t),nodes:[{attrs:{style:t.attrs.style,src:t.attrs.src},name:"img"}],"data-i":o,onClick:a[0]||(a[0]=e.withModifiers(((...e)=>s.imgTap&&s.imgTap(...e)),["stop"]))},null,12,["nodes","data-i"])):"img"===t.name?(e.openBlock(),e.createElementBlock("image",{key:2,id:t.attrs.id,class:e.normalizeClass("_img "+t.attrs.class),style:e.normalizeStyle((-1===n.ctrl[o]?"display:none;":"")+"width:"+(n.ctrl[o]||1)+"px;"+t.attrs.style),src:t.attrs.src||(n.ctrl.load?t.attrs["data-src"]:""),mode:t.h?t.w?"":"heightFix":"widthFix","data-i":o,onLoad:a[1]||(a[1]=(...e)=>s.imgLoad&&s.imgLoad(...e)),onError:a[2]||(a[2]=(...e)=>s.mediaError&&s.mediaError(...e)),onClick:a[3]||(a[3]=e.withModifiers(((...e)=>s.imgTap&&s.imgTap(...e)),["stop"])),onLongpress:a[4]||(a[4]=(...e)=>s.imgLongTap&&s.imgLongTap(...e))},null,46,["id","src","mode","data-i"])):t.text?(e.openBlock(),e.createElementBlock("text",{key:3,decode:""},e.toDisplayString(t.text),1)):"br"===t.name?(e.openBlock(),e.createElementBlock("text",{key:4},"\\n")):"a"===t.name?(e.openBlock(),e.createElementBlock("view",{key:5,id:t.attrs.id,class:e.normalizeClass((t.attrs.href?"_a ":"")+t.attrs.class),"hover-class":"_hover",style:e.normalizeStyle("display:inline;"+t.attrs.style),"data-i":o,onClick:a[5]||(a[5]=e.withModifiers(((...e)=>s.linkTap&&s.linkTap(...e)),["stop"]))},[e.createVNode(i,{name:"span",childs:t.children,opts:l.opts,style:{display:"inherit"}},null,8,["childs","opts"])],14,["id","data-i"])):t.html?(e.openBlock(),e.createElementBlock("view",{key:6,id:t.attrs.id,class:e.normalizeClass("_video "+t.attrs.class),style:e.normalizeStyle(t.attrs.style),innerHTML:t.html,onVplay:a[6]||(a[6]=e.withModifiers(((...e)=>s.play&&s.play(...e)),["stop"]))},null,46,["id","innerHTML"])):"iframe"===t.name?(e.openBlock(),e.createElementBlock("iframe",{key:7,style:e.normalizeStyle(t.attrs.style),allowfullscreen:t.attrs.allowfullscreen,frameborder:t.attrs.frameborder,src:t.attrs.src},null,12,["allowfullscreen","frameborder","src"])):"embed"===t.name?(e.openBlock(),e.createElementBlock("embed",{key:8,style:e.normalizeStyle(t.attrs.style),src:t.attrs.src},null,12,["src"])):"table"===t.name&&t.c||"li"===t.name?(e.openBlock(),e.createElementBlock("view",{key:9,id:t.attrs.id,class:e.normalizeClass("_"+t.name+" "+t.attrs.class),style:e.normalizeStyle(t.attrs.style)},["li"===t.name?(e.openBlock(),e.createBlock(i,{key:0,childs:t.children,opts:l.opts},null,8,["childs","opts"])):(e.openBlock(!0),e.createElementBlock(e.Fragment,{key:1},e.renderList(t.children,((t,a)=>(e.openBlock(),e.createElementBlock("view",{key:a,class:e.normalizeClass("_"+t.name+" "+t.attrs.class),style:e.normalizeStyle(t.attrs.style)},["td"===t.name||"th"===t.name?(e.openBlock(),e.createBlock(i,{key:0,childs:t.children,opts:l.opts},null,8,["childs","opts"])):(e.openBlock(!0),e.createElementBlock(e.Fragment,{key:1},e.renderList(t.children,((t,a)=>(e.openBlock(),e.createElementBlock(e.Fragment,{key:a},["td"===t.name||"th"===t.name?(e.openBlock(),e.createElementBlock("view",{key:0,class:e.normalizeClass("_"+t.name+" "+t.attrs.class),style:e.normalizeStyle(t.attrs.style)},[e.createVNode(i,{childs:t.children,opts:l.opts},null,8,["childs","opts"])],6)):(e.openBlock(),e.createElementBlock("view",{key:1,class:e.normalizeClass("_"+t.name+" "+t.attrs.class),style:e.normalizeStyle(t.attrs.style)},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(t.children,((t,a)=>(e.openBlock(),e.createElementBlock("view",{key:a,class:e.normalizeClass("_"+t.name+" "+t.attrs.class),style:e.normalizeStyle(t.attrs.style)},[e.createVNode(i,{childs:t.children,opts:l.opts},null,8,["childs","opts"])],6)))),128))],6))],64)))),128))],6)))),128))],14,["id"])):t.c?2===t.c?(e.openBlock(),e.createElementBlock("view",{key:11,id:t.attrs.id,class:e.normalizeClass("_block _"+t.name+" "+t.attrs.class),style:e.normalizeStyle(t.f+";"+t.attrs.style)},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(t.children,((t,a)=>(e.openBlock(),e.createBlock(i,{key:a,style:e.normalizeStyle(t.f),name:t.name,attrs:t.attrs,childs:t.children,opts:l.opts},null,8,["style","name","attrs","childs","opts"])))),128))],14,["id"])):(e.openBlock(),e.createBlock(i,{key:12,style:e.normalizeStyle(t.f),name:t.name,attrs:t.attrs,childs:t.children,opts:l.opts},null,8,["style","name","attrs","childs","opts"])):(e.openBlock(),e.createElementBlock("rich-text",{key:10,id:t.attrs.id,style:e.normalizeStyle("display:inline;"+t.f),preview:!1,selectable:l.opts[4],"user-select":l.opts[4],nodes:[t]},null,12,["id","selectable","user-select","nodes"]))],64)))),128))],14,["id"])}],["__scopeId","data-v-e2386b9b"]]),Ut={trustTags:Gt("a,abbr,ad,audio,b,blockquote,br,code,col,colgroup,dd,del,dl,dt,div,em,fieldset,h1,h2,h3,h4,h5,h6,hr,i,img,ins,label,legend,li,ol,p,q,ruby,rt,source,span,strong,sub,sup,table,tbody,td,tfoot,th,thead,tr,title,ul,video"),blockTags:Gt("address,article,aside,body,caption,center,cite,footer,header,html,nav,pre,section"),inlineTags:Gt("abbr,b,big,code,del,em,i,ins,label,q,small,span,strong,sub,sup"),ignoreTags:Gt("area,base,canvas,embed,frame,head,iframe,input,link,map,meta,param,rp,script,source,style,textarea,title,track,wbr"),voidTags:Gt("area,base,br,col,circle,ellipse,embed,frame,hr,img,input,line,link,meta,param,path,polygon,rect,source,track,use,wbr"),entities:{lt:"<",gt:">",quot:'"',apos:"'",ensp:" ",emsp:" ",nbsp:" ",semi:";",ndash:"–",mdash:"—",middot:"·",lsquo:"‘",rsquo:"’",ldquo:"“",rdquo:"”",bull:"•",hellip:"…",larr:"←",uarr:"↑",rarr:"→",darr:"↓"},tagStyle:{address:"font-style:italic",big:"display:inline;font-size:1.2em",caption:"display:table-caption;text-align:center",center:"text-align:center",cite:"font-style:italic",dd:"margin-left:40px",mark:"background-color:yellow",pre:"font-family:monospace;white-space:pre",s:"text-decoration:line-through",small:"display:inline;font-size:0.8em",strike:"text-decoration:line-through",u:"text-decoration:underline"},svgDict:{animatetransform:"animateTransform",lineargradient:"linearGradient",viewbox:"viewBox",attributename:"attributeName",repeatcount:"repeatCount",repeatdur:"repeatDur"}},Ht={},{windowWidth:Jt}=uni.getSystemInfoSync(),Wt=Gt(" ,\r,\n,\t,\f");let Kt=0;function Gt(e){const t=Object.create(null),a=e.split(",");for(let l=a.length;l--;)t[a[l]]=!0;return t}function $t(e,t){let a=e.indexOf("&");for(;-1!==a;){const l=e.indexOf(";",a+3);let o;if(-1===l)break;"#"===e[a+1]?(o=parseInt(("x"===e[a+2]?"0":"")+e.substring(a+2,l)),isNaN(o)||(e=e.substr(0,a)+String.fromCharCode(o)+e.substr(l+1))):(o=e.substring(a+1,l),(Ut.entities[o]||"amp"===o&&t)&&(e=e.substr(0,a)+(Ut.entities[o]||"&")+e.substr(l+1))),a=e.indexOf("&",a+1)}return e}function qt(e){let t=e.length-1;for(let a=t;a>=-1;a--)(-1===a||e[a].c||!e[a].name||"div"!==e[a].name&&"p"!==e[a].name&&"h"!==e[a].name[0]||(e[a].attrs.style||"").includes("inline"))&&(t-a>=5&&e.splice(a+1,t-a,{name:"div",attrs:{},children:e.slice(a+1,t+1)}),t=a-1)}function Xt(e){this.options=e||{},this.tagStyle=Object.assign({},Ut.tagStyle,this.options.tagStyle),this.imgList=e.imgList||[],this.imgList._unloadimgs=0,this.plugins=e.plugins||[],this.attrs=Object.create(null),this.stack=[],this.nodes=[],this.pre=(this.options.containerStyle||"").includes("white-space")&&this.options.containerStyle.includes("pre")?2:0}function Yt(e){this.handler=e}Ut.ignoreTags.iframe=void 0,Ut.trustTags.iframe=!0,Ut.ignoreTags.embed=void 0,Ut.trustTags.embed=!0,Xt.prototype.parse=function(e){for(let t=this.plugins.length;t--;)this.plugins[t].onUpdate&&(e=this.plugins[t].onUpdate(e,Ut)||e);for(new Yt(this).parse(e);this.stack.length;)this.popNode();return this.nodes.length>50&&qt(this.nodes),this.nodes},Xt.prototype.expose=function(){for(let e=this.stack.length;e--;){const t=this.stack[e];if(t.c||"a"===t.name||"video"===t.name||"audio"===t.name)return;t.c=1}},Xt.prototype.hook=function(e){for(let t=this.plugins.length;t--;)if(this.plugins[t].onParse&&!1===this.plugins[t].onParse(e,this))return!1;return!0},Xt.prototype.getUrl=function(e){const t=this.options.domain;return"/"===e[0]?e="/"===e[1]?(t?t.split("://")[0]:"http")+":"+e:t?t+e:plus.io.convertLocalFileSystemURL(e):e.includes("data:")||e.includes("://")||(e=t?t+"/"+e:plus.io.convertLocalFileSystemURL(e)),e},Xt.prototype.parseStyle=function(e){const t=e.attrs,a=(this.tagStyle[e.name]||"").split(";").concat((t.style||"").split(";")),l={};let o="";t.id&&!this.xml&&(this.options.useAnchor?this.expose():"img"!==e.name&&"a"!==e.name&&"video"!==e.name&&"audio"!==e.name&&(t.id=void 0)),t.width&&(l.width=parseFloat(t.width)+(t.width.includes("%")?"%":"px"),t.width=void 0),t.height&&(l.height=parseFloat(t.height)+(t.height.includes("%")?"%":"px"),t.height=void 0);for(let n=0,s=a.length;n<s;n++){const e=a[n].split(":");if(e.length<2)continue;const t=e.shift().trim().toLowerCase();let s=e.join(":").trim();if("-"===s[0]&&s.lastIndexOf("-")>0||s.includes("safe"))o+=`;${t}:${s}`;else if(!l[t]||s.includes("import")||!l[t].includes("import")){if(s.includes("url")){let e=s.indexOf("(")+1;if(e){for(;'"'===s[e]||"'"===s[e]||Wt[s[e]];)e++;s=s.substr(0,e)+this.getUrl(s.substr(e))}}else s.includes("rpx")&&(s=s.replace(/[0-9.]+\s*rpx/g,(e=>parseFloat(e)*Jt/750+"px")));l[t]=s}}return e.attrs.style=o,l},Xt.prototype.onTagName=function(e){this.tagName=this.xml?e:e.toLowerCase(),"svg"===this.tagName&&(this.xml=(this.xml||0)+1,Ut.ignoreTags.style=void 0)},Xt.prototype.onAttrName=function(e){"data-"===(e=this.xml?e:e.toLowerCase()).substr(0,5)?"data-src"!==e||this.attrs.src?"img"===this.tagName||"a"===this.tagName?this.attrName=e:this.attrName=void 0:this.attrName="src":(this.attrName=e,this.attrs[e]="T")},Xt.prototype.onAttrVal=function(e){const t=this.attrName||"";"style"===t||"href"===t?this.attrs[t]=$t(e,!0):t.includes("src")?this.attrs[t]=this.getUrl($t(e,!0)):t&&(this.attrs[t]=e)},Xt.prototype.onOpenTag=function(e){const t=Object.create(null);t.name=this.tagName,t.attrs=this.attrs,this.options.nodes.length&&(t.type="node"),this.attrs=Object.create(null);const a=t.attrs,l=this.stack[this.stack.length-1],o=l?l.children:this.nodes,n=this.xml?e:Ut.voidTags[t.name];if(Ht[t.name]&&(a.class=Ht[t.name]+(a.class?" "+a.class:"")),"embed"===t.name&&this.expose(),"video"!==t.name&&"audio"!==t.name||("video"!==t.name||a.id||(a.id="v"+Kt++),a.controls||a.autoplay||(a.controls="T"),t.src=[],a.src&&(t.src.push(a.src),a.src=void 0),this.expose()),n){if(!this.hook(t)||Ut.ignoreTags[t.name])return void("base"!==t.name||this.options.domain?"source"===t.name&&l&&("video"===l.name||"audio"===l.name)&&a.src&&l.src.push(a.src):this.options.domain=a.href);const e=this.parseStyle(t);if("img"===t.name){if(a.src&&(a.src.includes("webp")&&(t.webp="T"),a.src.includes("data:")&&!a["original-src"]&&(a.ignore="T"),!a.ignore||t.webp||a.src.includes("cloud://"))){for(let o=this.stack.length;o--;){const l=this.stack[o];"a"===l.name&&(t.a=l.attrs),"table"!==l.name||t.webp||a.src.includes("cloud://")||(!e.display||e.display.includes("inline")?t.t="inline-block":t.t=e.display,e.display=void 0),l.c=1}a.i=this.imgList.length.toString();let l=a["original-src"]||a.src;this.imgList.push(l),t.t||(this.imgList._unloadimgs+=1),this.options.lazyLoad&&(a["data-src"]=a.src,a.src=void 0)}"inline"===e.display&&(e.display=""),a.ignore&&(e["max-width"]=e["max-width"]||"100%",a.style+=";-webkit-touch-callout:none"),parseInt(e.width)>Jt&&(e.height=void 0),isNaN(parseInt(e.width))||(t.w="T"),!isNaN(parseInt(e.height))&&(!e.height.includes("%")||l&&(l.attrs.style||"").includes("height"))&&(t.h="T")}else if("svg"===t.name)return o.push(t),this.stack.push(t),void this.popNode();for(const t in e)e[t]&&(a.style+=`;${t}:${e[t].replace(" !important","")}`);a.style=a.style.substr(1)||void 0}else("pre"===t.name||(a.style||"").includes("white-space")&&a.style.includes("pre"))&&2!==this.pre&&(this.pre=t.pre=1),t.children=[],this.stack.push(t);o.push(t)},Xt.prototype.onCloseTag=function(e){let t;for(e=this.xml?e:e.toLowerCase(),t=this.stack.length;t--&&this.stack[t].name!==e;);if(-1!==t)for(;this.stack.length>t;)this.popNode();else if("p"===e||"br"===e){(this.stack.length?this.stack[this.stack.length-1].children:this.nodes).push({name:e,attrs:{class:Ht[e]||"",style:this.tagStyle[e]||""}})}},Xt.prototype.popNode=function(){const e=this.stack.pop();let t=e.attrs;const a=e.children,l=this.stack[this.stack.length-1],o=l?l.children:this.nodes;if(!this.hook(e)||Ut.ignoreTags[e.name])return"title"===e.name&&a.length&&"text"===a[0].type&&this.options.setTitle&&uni.setNavigationBarTitle({title:a[0].text}),void o.pop();if(e.pre&&2!==this.pre){this.pre=e.pre=void 0;for(let e=this.stack.length;e--;)this.stack[e].pre&&(this.pre=1)}const n={};if("svg"===e.name){if(this.xml>1)return void this.xml--;let a="";const l=t.style;return t.style="",t.xmlns="http://www.w3.org/2000/svg",function e(t){if("text"===t.type)return void(a+=t.text);const l=Ut.svgDict[t.name]||t.name;a+="<"+l;for(const o in t.attrs){const e=t.attrs[o];e&&(a+=` ${Ut.svgDict[o]||o}="${e}"`)}if(t.children){a+=">";for(let a=0;a<t.children.length;a++)e(t.children[a]);a+="</"+l+">"}else a+="/>"}(e),e.name="img",e.attrs={src:"data:image/svg+xml;utf8,"+a.replace(/#/g,"%23"),style:l,ignore:"T"},e.children=void 0,this.xml=!1,void(Ut.ignoreTags.style=!0)}if(t.align&&("table"===e.name?"center"===t.align?n["margin-inline-start"]=n["margin-inline-end"]="auto":n.float=t.align:n["text-align"]=t.align,t.align=void 0),t.dir&&(n.direction=t.dir,t.dir=void 0),"font"===e.name&&(t.color&&(n.color=t.color,t.color=void 0),t.face&&(n["font-family"]=t.face,t.face=void 0),t.size)){let e=parseInt(t.size);isNaN(e)||(e<1?e=1:e>7&&(e=7),n["font-size"]=["x-small","small","medium","large","x-large","xx-large","xxx-large"][e-1]),t.size=void 0}if((t.class||"").includes("align-center")&&(n["text-align"]="center"),Object.assign(n,this.parseStyle(e)),"table"!==e.name&&parseInt(n.width)>Jt&&(n["max-width"]="100%",n["box-sizing"]="border-box"),Ut.blockTags[e.name]?e.name="div":Ut.trustTags[e.name]||this.xml||(e.name="span"),"a"===e.name||"ad"===e.name||"iframe"===e.name)this.expose();else if("video"===e.name){(n.height||"").includes("auto")&&(n.height=void 0);let a='<video style="width:100%;height:100%"';for(const e in t)t[e]&&(a+=" "+e+'="'+t[e]+'"');this.options.pauseVideo&&(a+=" onplay=\"this.dispatchEvent(new CustomEvent('vplay',{bubbles:!0}));for(var e=document.getElementsByTagName('video'),t=0;t<e.length;t++)e[t]!=this&&e[t].pause()\""),a+=">";for(let t=0;t<e.src.length;t++)a+='<source src="'+e.src[t]+'">';a+="</video>",e.html=a}else if("ul"!==e.name&&"ol"!==e.name||!e.c){if("table"===e.name){let l=parseFloat(t.cellpadding),o=parseFloat(t.cellspacing);const s=parseFloat(t.border),i=n["border-color"],c=n["border-style"];if(e.c&&(isNaN(l)&&(l=2),isNaN(o)&&(o=2)),s&&(t.style+=`;border:${s}px ${c||"solid"} ${i||"gray"}`),e.flag&&e.c){n.display="grid",o?(n["grid-gap"]=o+"px",n.padding=o+"px"):s&&(t.style+=";border-left:0;border-top:0");const r=[],d=[],m=[],u={};!function e(t){for(let a=0;a<t.length;a++)"tr"===t[a].name?d.push(t[a]):e(t[a].children||[])}(a);for(let e=1;e<=d.length;e++){let t=1;for(let a=0;a<d[e-1].children.length;a++){const n=d[e-1].children[a];if("td"===n.name||"th"===n.name){for(;u[e+"."+t];)t++;let a=n.attrs.style||"",d=a.indexOf("width")?a.indexOf(";width"):0;if(-1!==d){let e=a.indexOf(";",d+6);-1===e&&(e=a.length),n.attrs.colspan||(r[t]=a.substring(d?d+7:6,e)),a=a.substr(0,d)+a.substr(e)}if(a+=";display:flex",d=a.indexOf("vertical-align"),-1!==d){const e=a.substr(d+15,10);e.includes("middle")?a+=";align-items:center":e.includes("bottom")&&(a+=";align-items:flex-end")}else a+=";align-items:center";if(d=a.indexOf("text-align"),-1!==d){const e=a.substr(d+11,10);e.includes("center")?a+=";justify-content: center":e.includes("right")&&(a+=";justify-content: right")}if(a=(s?`;border:${s}px ${c||"solid"} ${i||"gray"}`+(o?"":";border-right:0;border-bottom:0"):"")+(l?`;padding:${l}px`:"")+";"+a,n.attrs.colspan&&(a+=`;grid-column-start:${t};grid-column-end:${t+parseInt(n.attrs.colspan)}`,n.attrs.rowspan||(a+=`;grid-row-start:${e};grid-row-end:${e+1}`),t+=parseInt(n.attrs.colspan)-1),n.attrs.rowspan){a+=`;grid-row-start:${e};grid-row-end:${e+parseInt(n.attrs.rowspan)}`,n.attrs.colspan||(a+=`;grid-column-start:${t};grid-column-end:${t+1}`);for(let a=1;a<n.attrs.rowspan;a++)for(let l=0;l<(n.attrs.colspan||1);l++)u[e+a+"."+(t-l)]=1}a&&(n.attrs.style=a),m.push(n),t++}}if(1===e){let e="";for(let a=1;a<t;a++)e+=(r[a]?r[a]:"auto")+" ";n["grid-template-columns"]=e}}e.children=m}else e.c&&(n.display="table"),isNaN(o)||(n["border-spacing"]=o+"px"),(s||l)&&function e(t){for(let a=0;a<t.length;a++){const o=t[a];"th"===o.name||"td"===o.name?(s&&(o.attrs.style=`border:${s}px ${c||"solid"} ${i||"gray"};${o.attrs.style||""}`),l&&(o.attrs.style=`padding:${l}px;${o.attrs.style||""}`)):o.children&&e(o.children)}}(a);if(this.options.scrollTable&&!(t.style||"").includes("inline")){const a=Object.assign({},e);e.name="div",e.attrs={style:"overflow:auto"},e.children=[a],t=a.attrs}}else if("td"!==e.name&&"th"!==e.name||!t.colspan&&!t.rowspan)if("ruby"===e.name){e.name="span";for(let e=0;e<a.length-1;e++)"text"===a[e].type&&"rt"===a[e+1].name&&(a[e]={name:"div",attrs:{style:"display:inline-block;text-align:center"},children:[{name:"div",attrs:{style:"font-size:50%;"+(a[e+1].attrs.style||"")},children:a[e+1].children},a[e]]},a.splice(e+1,1))}else e.c&&function e(t){t.c=2;for(let a=t.children.length;a--;){const l=t.children[a];l.name&&(Ut.inlineTags[l.name]||(l.attrs.style||"").includes("inline")&&l.children)&&!l.c&&e(l),l.c&&"table"!==l.name||(t.c=1)}}(e);else for(let i=this.stack.length;i--;)if("table"===this.stack[i].name){this.stack[i].flag=1;break}}else{const e={a:"lower-alpha",A:"upper-alpha",i:"lower-roman",I:"upper-roman"};e[t.type]&&(t.style+=";list-style-type:"+e[t.type],t.type=void 0);for(let t=a.length;t--;)"li"===a[t].name&&(a[t].c=1)}if((n.display||"").includes("flex")&&!e.c)for(let i=a.length;i--;){const e=a[i];e.f&&(e.attrs.style=(e.attrs.style||"")+e.f,e.f=void 0)}const s=l&&((l.attrs.style||"").includes("flex")||(l.attrs.style||"").includes("grid"))&&!e.c;s&&(e.f=";max-width:100%"),a.length>=50&&e.c&&!(n.display||"").includes("flex")&&qt(a);for(const i in n)if(n[i]){const a=`;${i}:${n[i].replace(" !important","")}`;s&&(i.includes("flex")&&"flex-direction"!==i||"align-self"===i||i.includes("grid")||"-"===n[i][0]||i.includes("width")&&a.includes("%"))?(e.f+=a,"width"===i&&(t.style+=";width:100%")):t.style+=a}t.style=t.style.substr(1)||void 0},Xt.prototype.onText=function(e){if(!this.pre){let t,a="";for(let l=0,o=e.length;l<o;l++)Wt[e[l]]?(" "!==a[a.length-1]&&(a+=" "),"\n"!==e[l]||t||(t=!0)):a+=e[l];if(" "===a){if(t)return;{const e=this.stack[this.stack.length-1];if(e&&"t"===e.name[0])return}}e=a}const t=Object.create(null);if(t.type="text",t.text=$t(e),this.hook(t)){(this.stack.length?this.stack[this.stack.length-1].children:this.nodes).push(t)}},Yt.prototype.parse=function(e){this.content=e||"",this.i=0,this.start=0,this.state=this.text;for(let t=this.content.length;-1!==this.i&&this.i<t;)this.state()},Yt.prototype.checkClose=function(e){const t="/"===this.content[this.i];return!!(">"===this.content[this.i]||t&&">"===this.content[this.i+1])&&(e&&this.handler[e](this.content.substring(this.start,this.i)),this.i+=t?2:1,this.start=this.i,this.handler.onOpenTag(t),"script"===this.handler.tagName?(this.i=this.content.indexOf("</",this.i),-1!==this.i&&(this.i+=2,this.start=this.i),this.state=this.endTag):this.state=this.text,!0)},Yt.prototype.text=function(){if(this.i=this.content.indexOf("<",this.i),-1===this.i)return void(this.start<this.content.length&&this.handler.onText(this.content.substring(this.start,this.content.length)));const e=this.content[this.i+1];if(e>="a"&&e<="z"||e>="A"&&e<="Z")this.start!==this.i&&this.handler.onText(this.content.substring(this.start,this.i)),this.start=++this.i,this.state=this.tagName;else if("/"===e||"!"===e||"?"===e){this.start!==this.i&&this.handler.onText(this.content.substring(this.start,this.i));const t=this.content[this.i+2];if("/"===e&&(t>="a"&&t<="z"||t>="A"&&t<="Z"))return this.i+=2,this.start=this.i,void(this.state=this.endTag);let a="--\x3e";"!"===e&&"-"===this.content[this.i+2]&&"-"===this.content[this.i+3]||(a=">"),this.i=this.content.indexOf(a,this.i),-1!==this.i&&(this.i+=a.length,this.start=this.i)}else this.i++},Yt.prototype.tagName=function(){if(Wt[this.content[this.i]]){for(this.handler.onTagName(this.content.substring(this.start,this.i));Wt[this.content[++this.i]];);this.i<this.content.length&&!this.checkClose()&&(this.start=this.i,this.state=this.attrName)}else this.checkClose("onTagName")||this.i++},Yt.prototype.attrName=function(){let e=this.content[this.i];if(Wt[e]||"="===e){this.handler.onAttrName(this.content.substring(this.start,this.i));let t="="===e;const a=this.content.length;for(;++this.i<a;)if(e=this.content[this.i],!Wt[e]){if(this.checkClose())return;if(t)return this.start=this.i,void(this.state=this.attrVal);if("="!==this.content[this.i])return this.start=this.i,void(this.state=this.attrName);t=!0}}else this.checkClose("onAttrName")||this.i++},Yt.prototype.attrVal=function(){const e=this.content[this.i],t=this.content.length;if('"'===e||"'"===e){if(this.start=++this.i,this.i=this.content.indexOf(e,this.i),-1===this.i)return;this.handler.onAttrVal(this.content.substring(this.start,this.i))}else for(;this.i<t;this.i++){if(Wt[this.content[this.i]]){this.handler.onAttrVal(this.content.substring(this.start,this.i));break}if(this.checkClose("onAttrVal"))return}for(;Wt[this.content[++this.i]];);this.i<t&&!this.checkClose()&&(this.start=this.i,this.state=this.attrName)},Yt.prototype.endTag=function(){const e=this.content[this.i];if(Wt[e]||">"===e||"/"===e){if(this.handler.onCloseTag(this.content.substring(this.start,this.i)),">"!==e&&(this.i=this.content.indexOf(">",this.i),-1===this.i))return;this.start=++this.i,this.state=this.text}else this.i++};const Zt=[];const Qt=n({name:"mp-html",data:()=>({nodes:[]}),props:{containerStyle:{type:String,default:""},content:{type:String,default:""},copyLink:{type:[Boolean,String],default:!0},domain:String,errorImg:{type:String,default:""},lazyLoad:{type:[Boolean,String],default:!1},loadingImg:{type:String,default:""},pauseVideo:{type:[Boolean,String],default:!0},previewImg:{type:[Boolean,String],default:!0},scrollTable:[Boolean,String],selectable:[Boolean,String],setTitle:{type:[Boolean,String],default:!0},showImgMenu:{type:[Boolean,String],default:!0},tagStyle:Object,useAnchor:[Boolean,Number]},emits:["load","ready","imgtap","linktap","play","error"],components:{node:Rt},watch:{content(e){this.setContent(e)}},created(){this.plugins=[];for(let e=Zt.length;e--;)this.plugins.push(new Zt[e](this))},mounted(){this.content&&!this.nodes.length&&this.setContent(this.content)},beforeDestroy(){this._hook("onDetached")},methods:{in(e,t,a){e&&t&&a&&(this._in={page:e,selector:t,scrollTop:a})},navigateTo(e,t){return new Promise(((a,l)=>{if(!this.useAnchor)return void l(Error("Anchor is disabled"));t=t||parseInt(this.useAnchor)||0;const o=uni.createSelectorQuery().in(this._in?this._in.page:this).select((this._in?this._in.selector:"._root")+(e?` #${e}`:"")).boundingClientRect();this._in?o.select(this._in.selector).scrollOffset().select(this._in.selector).boundingClientRect():o.selectViewport().scrollOffset(),o.exec((e=>{if(!e[0])return void l(Error("Label not found"));const o=e[1].scrollTop+e[0].top-(e[2]?e[2].top:0)+t;this._in?this._in.page[this._in.scrollTop]=o:uni.pageScrollTo({scrollTop:o,duration:300}),a()}))}))},getText(e){let t="";return function e(a){for(let l=0;l<a.length;l++){const o=a[l];if("text"===o.type)t+=o.text.replace(/&amp;/g,"&");else if("br"===o.name)t+="\n";else{const a="p"===o.name||"div"===o.name||"tr"===o.name||"li"===o.name||"h"===o.name[0]&&o.name[1]>"0"&&o.name[1]<"7";a&&t&&"\n"!==t[t.length-1]&&(t+="\n"),o.children&&e(o.children),a&&"\n"!==t[t.length-1]?t+="\n":"td"!==o.name&&"th"!==o.name||(t+="\t")}}}(e||this.nodes),t},getRect(){return new Promise(((e,t)=>{uni.createSelectorQuery().in(this).select("#_root").boundingClientRect().exec((a=>a[0]?e(a[0]):t(Error("Root label not found"))))}))},pauseMedia(){for(let t=(this._videos||[]).length;t--;)this._videos[t].pause();let e=this.$parent;for(;!e.$scope;)e=e.$parent;e.$scope.$getAppWebview().evalJS('for(var e=document.getElementsByTagName("video"),i=e.length;i--;)e[i].pause()')},setPlaybackRate(e){this.playbackRate=e;for(let l=(this._videos||[]).length;l--;)this._videos[l].playbackRate(e);const t='for(var e=document.getElementsByTagName("video"),i=e.length;i--;)e[i].playbackRate='+e;let a=this.$parent;for(;!a.$scope;)a=a.$parent;a.$scope.$getAppWebview().evalJS(t)},setContent(e,t){t&&this.imgList||(this.imgList=[]);const a=new Xt(this).parse(e);if(this.$set(this,"nodes",t?(this.nodes||[]).concat(a):a),this._videos=[],this.$nextTick((()=>{this._hook("onLoad"),this.$emit("load")})),this.lazyLoad||this.imgList._unloadimgs<this.imgList.length/2){let e=0;const t=a=>{a&&a.height||(a={}),a.height===e?this.$emit("ready",a):(e=a.height,setTimeout((()=>{this.getRect().then(t).catch(t)}),350))};this.getRect().then(t).catch(t)}else this.imgList._unloadimgs||this.getRect().then((e=>{this.$emit("ready",e)})).catch((()=>{this.$emit("ready",{})}))},_hook(e){for(let t=Zt.length;t--;)this.plugins[t][e]&&this.plugins[t][e]()}}},[["render",function(t,a,l,o,n,s){const i=e.resolveComponent("node");return e.openBlock(),e.createElementBlock("view",{id:"_root",class:e.normalizeClass((l.selectable?"_select ":"")+"_root"),style:e.normalizeStyle(l.containerStyle)},[n.nodes[0]?(e.openBlock(),e.createBlock(i,{key:1,childs:n.nodes,opts:[l.lazyLoad,l.loadingImg,l.errorImg,l.showImgMenu,l.selectable],name:"span"},null,8,["childs","opts"])):e.renderSlot(t.$slots,"default",{key:0},void 0,!0)],6)}],["__scopeId","data-v-ccecb8e3"]]);var ea;const ta=n({data:()=>({id:"",contentInfo:"",pic:"",source:0,videoSize:0}),onLoad(e){ea=getApp(),this.id=e.id,a("log","at pages/servicestandardinfo/servicestandardinfo.vue:32",e),this.getData()},onReady:function(e){this.videoContext=uni.createVideoContext("myVideo")},methods:{getData:function(e){let t=this,l={id:t.id};ea.goPost("Servicestandard/getInfo",l,(function(e){var l=e.info.content;e.info.content&&0==e.info.source&&(l=e.info.content),t.contentInfo=l,t.source=e.info.source,t.pic=e.info.pic,t.videoSize=e.info.video_size,uni.setNavigationBarTitle({title:e.info.name}),a("log","at pages/servicestandardinfo/servicestandardinfo.vue:61",l)}))}}},[["render",function(t,a,o,n,s,i){const c=l(e.resolveDynamicComponent("mp-html"),Qt);return e.openBlock(),e.createElementBlock(e.Fragment,null,[0==s.source?(e.openBlock(),e.createElementBlock("view",{key:0,class:"textareaBox"},[e.createVNode(c,{"container-style":"width:100%;",content:s.contentInfo},null,8,["content"])])):e.createCommentVNode("",!0),1==s.source?(e.openBlock(),e.createElementBlock("view",{key:1,class:"videoPlayBox"},[e.createElementVNode("video",{id:"myVideo",src:s.contentInfo,poster:s.pic,controls:"true","object-fit":"contain",class:e.normalizeClass([1==s.videoSize?"videoSize":""])},null,10,["src","poster"])])):e.createCommentVNode("",!0)],64)}]]);var aa;const la=n({data:()=>({page:1,lists:[],searchTxt:"",upDetailBool:!0,termList:[],sort:0,status:"all",type:"all",showTermKey:"",newSet:"",showBg:!1,boxTop:0,currTop:0,zhidingNum:0,isHua:0,isSetScreen:"",screenLists:{0:0,1:0,2:0},apply_num:"",is_gl:"",is_wx:""}),onLoad(){aa=getApp(),this.getInitData()},onShow(){this.goSearch()},methods:{goDetail(e){uni.navigateTo({url:"/pages/oadetail/repairdetail?id="+e})},goSearch(){this.page=1,this.getData()},clearSearch(){this.searchTxt="",this.page=1,this.getData()},chaTopTerm(e){let t=this,a=e.currentTarget.dataset.index,l=t.termList[a];if(t.showTermKey===a)return void t.clearTerm();let o=l.key;t[o],t.showTermKey=a,t.newSet=t[o],t.showBg=!0},chaTerm(e){let t=this,a=e.currentTarget.dataset.index,l=e.currentTarget.dataset.index2,o=t.termList[a],n=t.termList[a].list[l];t[o.key]=n.id,t.screenLists[a]=l,"all"===n.id?o.name=o.oname:o.name=n.name,t.clearTerm(),t.goSearch()},clearTerm(){this.showTermKey="",this.showBg=!1},getInitData(){let e=this;aa.goPost("repair/initdata",{},(function(t){e.termList=t.termList}))},getData(){let e=this,t={page:e.page,searchTxt:e.searchTxt,type:e.type,sort:e.sort,status:e.status};if(0==e.page)return!1;aa.goPost("repair/getLists",t,(function(t){e.is_gl=t.set.is_gl,1==e.page?(e.lists=t.lists,e.is_gl=t.set.is_gl,e.is_wx=t.set.is_wx):e.lists=e.lists.concat(t.lists),t.lists.length<t.limit?e.page=0:e.page++}))},moreOp(e){let t=this,a=e.currentTarget.dataset.index,l=t.lists[a],o=l.status,n=l.isSelf,s=l.id,i=["详情"];0==o&&1==t.is_gl&&i.push("加急"),o<=1&&1==t.is_wx&&i.push("接单"),2==o&&1==t.is_wx&&i.push("完结"),o<2&&1==n&&i.push("撤销"),4==o&&1==n&&(i.push("提交"),i.push("作废")),4!=o&&5!=o||1!=n||i.push("编辑");let c=aa.showActionSheetParams({itemList:i,success:function(e){let a=i[e.tapIndex];switch(a){case"详情":t.goDetail(s);break;case"加急":t.operateStatus(s,a,"urgent");break;case"接单":t.takeOrder(s,l.order_id);break;case"撤销":t.operateStatus(s,a,"revoke");break;case"提交":t.operateStatus(s,a,"sumit");break;case"作废":t.operateStatus(s,a,"cancel");break;case"完结":t.doEnd(s,l.order_id);break;case"编辑":t.edit(s)}}});t.upDetailBool&&(t.upDetailBool=!1,uni.showActionSheet(c),setTimeout((function(){t.upDetailBool=!0}),1e3))},operateStatus(e,t,a){let l=this,o="repair/"+a,n={id:e};uni.showModal({title:"温馨提示",content:"确定要"+t+"吗?",success(e){e.confirm&&aa.goPost(o,n,(function(e){l.goSearch()}))}})},takeOrder(e,t){uni.navigateTo({url:"/pages/oaapplyadd/repairreceive?id="+e+"&order_id="+t})},edit(e){uni.navigateTo({url:"/pages/oaapplyadd/repair?id="+e})},doEnd(e,t){uni.navigateTo({url:"/pages/oaapplyadd/repairend?id="+e+"&order_id="+t})},apply(){uni.navigateTo({url:"/pages/oaapplyadd/repair"})},cliSeaBtn(){this.getData()},clearSeach(){let e=this.searchTxt;this.searchTxt="",e&&this.goSearch()},startScroll:function(){this.isHua=1},boxscroll:function(e){var t=this,a=e.detail.scrollTop,l=t.currTop,o=t.boxTop;a>l&&0==t.isHua&&a>20&&a<50&&(this.isHua=1),1==t.isHua&&(a>=l?(o-=8)>-49&&(t.boxTop=o):(o+=8)<1&&(t.boxTop=o)),t.currTop=a},zhidingBtn:function(){var e=this;e.boxTop=0,e.isHua=0,e.zhidingNum=1==e.zhidingNum?0:1},sureTop:function(){this.boxTop=0,this.isHua=0},sureBom:function(){var e=this;e.boxTop=-48,e.isHua=0,e.getData()},openSearchInfo:function(){this.clearTerm(),this.isSetScreen=1},closeSearchInfo:function(){this.isSetScreen=0},selScreen:function(e){var t=e.currentTarget.dataset.idx,a=e.currentTarget.dataset.idx2;this.screenLists[t]=a},resetScreen:function(){this.screenLists={0:0,1:0,2:0}},sureSeach:function(){var e=this,t=e.screenLists;for(var a in t){var l=e.termList[a],o=e.termList[a].list[t[a]];e[l.key]=o.id,"all"===o.id?l.name=l.oname:l.name=o.name}e.closeSearchInfo(),e.goSearch()}}},[["render",function(t,a,l,o,n,s){return e.openBlock(),e.createElementBlock(e.Fragment,null,[e.createElementVNode("view",{class:"topBox",style:e.normalizeStyle("top:"+n.boxTop+"px;")},[e.createElementVNode("view",{class:"searchBox"},[e.createElementVNode("i",{class:"iconfont icon-sousuo search"}),e.withDirectives(e.createElementVNode("input",{class:"seaCon",type:"text",placeholder:"请输入订单号,工号,描述,地点,提交人","onUpdate:modelValue":a[0]||(a[0]=e=>n.searchTxt=e)},null,512),[[e.vModelText,n.searchTxt]]),""!=n.searchTxt?(e.openBlock(),e.createElementBlock("i",{key:0,class:"iconfont icon-shibai1 close",onClick:a[1]||(a[1]=(...e)=>s.clearSeach&&s.clearSeach(...e))})):e.createCommentVNode("",!0),e.createElementVNode("view",{class:"seaBtn",onClick:a[2]||(a[2]=(...e)=>s.goSearch&&s.goSearch(...e))},"搜索")]),e.createElementVNode("ul",{class:"termBox"},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(n.termList,((t,l)=>(e.openBlock(),e.createElementBlock("li",null,[e.createElementVNode("view",{onClick:a[3]||(a[3]=(...e)=>s.chaTopTerm&&s.chaTopTerm(...e)),class:e.normalizeClass(t.name!=t.oname?"red":""),"data-index":l},[e.createElementVNode("text",null,e.toDisplayString(t.name),1),n.showTermKey!==l?(e.openBlock(),e.createElementBlock("i",{key:0,class:e.normalizeClass(["iconfont icon-tubiaozhizuo-1",t.name!=t.oname?"red":""])},null,2)):n.showTermKey===l?(e.openBlock(),e.createElementBlock("i",{key:1,class:e.normalizeClass(["iconfont icon-tubiaozhizuo-",t.name!=t.oname?"red":""])},null,2)):e.createCommentVNode("",!0)],10,["data-index"]),n.showTermKey===l?(e.openBlock(),e.createElementBlock("ul",{key:0,class:"nextBox"},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(t.list,((t,o)=>(e.openBlock(),e.createElementBlock("li",{onClick:a[4]||(a[4]=(...e)=>s.chaTerm&&s.chaTerm(...e)),"data-index":l,"data-index2":o},[e.createTextVNode(e.toDisplayString(t.name)+" ",1),n.newSet==t.id?(e.openBlock(),e.createElementBlock("i",{key:0,class:"iconfont icon-xuanzhong"})):e.createCommentVNode("",!0)],8,["data-index","data-index2"])))),256))])):e.createCommentVNode("",!0)])))),256)),e.createElementVNode("li",{style:{width:"18%"}},[e.createElementVNode("view",{onClick:a[5]||(a[5]=(...e)=>s.openSearchInfo&&s.openSearchInfo(...e))},[e.createElementVNode("text",null,[e.createTextVNode(" 筛选"),e.createElementVNode("i",{class:"iconfont icon-shaixuan",style:{color:"#333"}})])])])])],4),e.createElementVNode("scroll-view",{class:"infoListBox",id:"infoListBox","scroll-y":"true","scroll-top":n.zhidingNum,onScrolltolower:a[7]||(a[7]=(...e)=>s.sureBom&&s.sureBom(...e)),style:e.normalizeStyle("top:"+(n.boxTop+82)+"px;"),onScroll:a[8]||(a[8]=(...e)=>s.boxscroll&&s.boxscroll(...e)),onScrolltoupper:a[9]||(a[9]=(...e)=>s.sureTop&&s.sureTop(...e)),onTouchstart:a[10]||(a[10]=(...e)=>s.startScroll&&s.startScroll(...e))},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(n.lists,((t,l)=>(e.openBlock(),e.createElementBlock("view",{class:"infoLists yfBox",key:n.apply_num,"data-index":l,onClick:a[6]||(a[6]=(...e)=>s.moreOp&&s.moreOp(...e))},[e.createElementVNode("view",{class:"listsTop"},[e.createElementVNode("view",{class:"listsTopTitle"},e.toDisplayString(t.typeName),1),e.createElementVNode("view",{class:e.normalizeClass(["listsTopMoney",t.statusClass])},[e.createElementVNode("text",null,e.toDisplayString(t.statusTxt),1)],2)]),e.createElementVNode("view",{class:"listsContent"},[e.createElementVNode("view",{class:"listsConName"},"工单号"),e.createElementVNode("view",{class:"listsConInfo"},e.toDisplayString(t.order_id),1)]),e.createElementVNode("view",{class:"listsContent"},[e.createElementVNode("view",{class:"listsConName"},"故障类型"),e.createElementVNode("view",{class:"listsConInfo"},e.toDisplayString(t.type),1)]),e.createElementVNode("view",{class:"listsContent"},[e.createElementVNode("view",{class:"listsConName"},"故障描述"),e.createElementVNode("view",{class:"listsConInfo"},e.toDisplayString(t.desc),1)]),e.createElementVNode("view",{class:"listsContent bombor"},[e.createElementVNode("view",{class:"listsConName"},"故障地点"),e.createElementVNode("view",{class:"listsConInfo"},e.toDisplayString(t.address),1)]),e.createElementVNode("view",{class:"listsContent"},[e.createElementVNode("view",{class:"listsConName"},"申请时间"),e.createElementVNode("view",{class:"listsConInfo"},e.toDisplayString(t.addtime),1)])],8,["data-index"])))),128)),n.lists.length>0&&0==n.page?(e.openBlock(),e.createElementBlock("view",{key:0,class:"daoDiLe IOSBottom"},"到底了")):e.createCommentVNode("",!0),0==n.lists.length?(e.openBlock(),e.createElementBlock("view",{key:1,class:"noData"},[e.createElementVNode("i",{class:"iconfont icon-kongshuju"}),e.createTextVNode(" 暂无数据 ")])):e.createCommentVNode("",!0)],44,["scroll-top"]),e.createElementVNode("view",{class:"foot IOSBottom"},[e.createElementVNode("view",{class:"footBtn bg-orange-JB",onClick:a[11]||(a[11]=(...e)=>s.apply&&s.apply(...e))},"维修上报")]),n.showBg?(e.openBlock(),e.createElementBlock("view",{key:0,class:"fixBg",onClick:a[12]||(a[12]=(...e)=>s.clearTerm&&s.clearTerm(...e))})):e.createCommentVNode("",!0),e.createElementVNode("view",{class:"rBomOpBox"},[n.currTop>50?(e.openBlock(),e.createElementBlock("view",{key:0,class:"subBtn IOSMGBottom",onClick:a[13]||(a[13]=(...e)=>s.zhidingBtn&&s.zhidingBtn(...e))},[e.createElementVNode("i",{class:"iconfont icon-fanhuidingbu"})])):e.createCommentVNode("",!0)]),1==n.isSetScreen?(e.openBlock(),e.createElementBlock("view",{key:1,class:"blackBg",onClick:a[14]||(a[14]=(...e)=>s.closeSearchInfo&&s.closeSearchInfo(...e))})):e.createCommentVNode("",!0),1==n.isSetScreen?(e.openBlock(),e.createElementBlock("view",{key:2,class:"screenBox IOSBottom"},[e.createElementVNode("view",{class:"screenTitle"},"筛选"),e.createElementVNode("view",{style:{height:"3rem"}}),(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(n.termList,((t,l)=>(e.openBlock(),e.createElementBlock("view",{class:"screenCon"},[e.createElementVNode("view",{class:"screenTips"},e.toDisplayString(t.oname),1),e.createElementVNode("view",{class:"screenSetBox"},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(t.list,((t,o)=>(e.openBlock(),e.createElementBlock("view",{class:e.normalizeClass(["screenSet",n.screenLists[l]==o?"screenSeted":""]),"data-idx":l,"data-idx2":o,onClick:a[15]||(a[15]=(...e)=>s.selScreen&&s.selScreen(...e))},e.toDisplayString(t.name),11,["data-idx","data-idx2"])))),256))])])))),256)),e.createElementVNode("view",{style:{height:"3.6rem"}}),e.createElementVNode("view",{class:"screenBtn IOSBottom"},[e.createElementVNode("view",{class:"screenLBtn bg-orange-JB",onClick:a[16]||(a[16]=(...e)=>s.resetScreen&&s.resetScreen(...e))},"重置"),e.createElementVNode("view",{class:"screenRBtn bg-red-JB",onClick:a[17]||(a[17]=(...e)=>s.sureSeach&&s.sureSeach(...e))},"确定")])])):e.createCommentVNode("",!0)],64)}]]);var oa;const na=n({data:()=>({id:"",address:"",desc:"",type:"",typeName:"",gzType:[],curType:{id:"",name:""},status:"",img:[],imgUrl:[],showType:!1,uploadWaitLists:[],chooseImageSourceType:1}),onLoad(e){oa=getApp(),this.id=e.id?e.id:"",this.id&&this.getdata(),this.getRepairSetting()},onShow(){},mounted(){},onReady:function(e){},methods:{getRepairSetting(){let e=this;oa.goPost("repair/getSetting",{type:1},(function(t){e.chooseImageSourceType=t.upload_type}))},getdata(){let e=this,t={id:this.id};oa.goPost("repair/getEditData",t,(function(t){e.address=t.address,e.desc=t.desc,e.type=t.type,e.typeName=t.typeName,e.img=t.img,e.imgUrl=t.imgUrl,e.status=t.status}))},sureSubmit(){let e=this;if(""==e.address)return void oa.showMsg("请输入故障低点");if(""==e.type)return void oa.showMsg("请选择故障类型");if(""==e.desc)return void oa.showMsg("请输入故障描述");if(e.img.length<1)return void oa.showMsg("请上传故障图片");if(e.img.length>5)return void oa.showMsg("最多可上传五张图片");let t="repair/add";""!=e.id&&4==e.status&&(t="repair/edit");let l={id:e.id,address:e.address,type:e.type,desc:e.desc,img:JSON.stringify(e.img)};a("log","at pages/oaapplyadd/repair.vue:189","formData",JSON.stringify(l)),oa.goPost(t,l,(function(e){setTimeout((function(){uni.navigateBack()}),1e3)}))},selectType(){let e=this;oa.goPost("repair/getGzType",{},(function(t){e.showType=!0,e.gzType=t}))},hideType(){this.showType=!1,this.gzType=[]},chooseType(e){let t=this.gzType[e];this.curType=t},sureType(){let e=this,t=e.curType;e.type=t.id,e.typeName=t.name,e.hideType()},chooseImage:function(){let e=this,t=e.imgUrl.length,l=5-t;if(t>=5)return void oa.showMsg("最多5张凭证");let o=e.chooseImageSourceType;var n=["album","camera"];2==o?n=["camera"]:3==o&&(n=["album"]),uni.chooseImage({sizeType:["original","compressed"],sourceType:n,count:l,success(t){a("log","at pages/oaapplyadd/repair.vue:276","res",JSON.stringify(t)),e.uploadWaitLists=t.tempFilePaths,e.uploadImg()},fail(e){},complete(t){e.isSubmit=0}})},uploadImg(){let e=this,t=e.uploadWaitLists;if(a("log","at pages/oaapplyadd/repair.vue:298","tempFilePaths len",t.length),t.length<1)return a("log","at pages/oaapplyadd/repair.vue:301","上传完成"),!1;let l=t[0];a("log","at pages/oaapplyadd/repair.vue:306","filePath:",l);var o=l.lastIndexOf("."),n=o>-1?l.slice(o+1):"";if(""!=n){a("log","at pages/oaapplyadd/repair.vue:315","cos上传");let t={ext:n,filePath:l};oa.uploadCos(t,(function(t){e.sucUpload(t)}))}else{a("log","at pages/oaapplyadd/repair.vue:328","服务器上传");let t={type:1};oa.uploadFile(l,t,(function(t){e.sucUpload(t)}),(function(e){oa.showMsg("上传中"+e.progress+"%","loading")}))}},sucUpload(e){let t=this,l=e.key?e.key:e.path,o=e.url;t.img.push(l),t.imgUrl.push(o);let n=t.uploadWaitLists;a("log","at pages/oaapplyadd/repair.vue:360","uploadWaitLists:",n),n.splice(0,1),t.uploadWaitLists=n,setTimeout((function(){t.uploadImg()}),300)},delImg(e){let t=this,a=t.img,l=t.imgUrl;a.splice(e,1),l.splice(e,1),t.img=a,t.imgUrl=l}}},[["render",function(t,a,l,o,n,s){return e.openBlock(),e.createElementBlock(e.Fragment,null,[e.createElementVNode("view",{class:"form"},[e.createElementVNode("view",{class:"item"},[e.createElementVNode("view",{class:"tit"},[e.createElementVNode("text",{class:"r"},"*"),e.createTextVNode("故障地点")]),e.createElementVNode("view",{class:"textInp"},[e.withDirectives(e.createElementVNode("input",{class:"inp",type:"text",placeholder:"请输入故障地点","onUpdate:modelValue":a[0]||(a[0]=e=>n.address=e)},null,512),[[e.vModelText,n.address]])])]),e.createElementVNode("view",{class:"item"},[e.createElementVNode("view",{class:"tit"},[e.createElementVNode("text",{class:"r"},"*"),e.createTextVNode("故障类型")]),e.createElementVNode("view",{class:"textXz",onClick:a[1]||(a[1]=e=>s.selectType())},[e.createElementVNode("text",{class:"n"},e.toDisplayString(""==n.typeName?"请选择":n.typeName),1),e.createElementVNode("i",{class:"iconfont icon-youbian1"})])]),e.createElementVNode("view",{class:"item itemMax"},[e.createElementVNode("view",{class:"tit"},[e.createElementVNode("text",{class:"r"},"*"),e.createTextVNode("故障描述")]),e.createElementVNode("view",{class:"text textB"},[e.withDirectives(e.createElementVNode("textarea",{name:"desc","onUpdate:modelValue":a[2]||(a[2]=e=>n.desc=e),placeholder:"请详细描述故障情况",class:"textarea"},null,512),[[e.vModelText,n.desc]])])]),e.createElementVNode("view",{class:"item itemMax"},[e.createElementVNode("view",{class:"tit"},[e.createElementVNode("text",{class:"r"},"*"),e.createTextVNode("图片 "),e.createElementVNode("text",{class:"sdFormManyPicSubTips"},"最多5张")]),e.createElementVNode("view",{class:"imgList"},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(n.imgUrl,((t,a)=>(e.openBlock(),e.createElementBlock("view",{class:"up upImg"},[e.createElementVNode("image",{src:t,class:"img",mode:"widthFix"},null,8,["src"]),e.createElementVNode("view",{class:"del",onClick:e=>s.delImg(a)},[e.createElementVNode("text",{class:"iconfont icon-guanbi"})],8,["onClick"])])))),256)),n.imgUrl.length<5?(e.openBlock(),e.createElementBlock("view",{key:0,class:"up upBox",onClick:a[3]||(a[3]=e=>s.chooseImage())},[e.createElementVNode("text",{class:"iconfont icon-shangchuantupian"})])):e.createCommentVNode("",!0)])])]),e.createElementVNode("view",{class:"clear"}),e.createElementVNode("view",{class:"foot IOSBottom"},[e.createElementVNode("view",{class:"footBtn bg-orange-JB",onClick:a[4]||(a[4]=(...e)=>s.sureSubmit&&s.sureSubmit(...e))},"提交")]),n.showType?(e.openBlock(),e.createElementBlock("view",{key:0,class:"openBox"},[e.createElementVNode("view",{class:"bg",onClick:a[5]||(a[5]=(...e)=>s.hideType&&s.hideType(...e))}),e.createElementVNode("view",{class:"xzBox"},[e.createElementVNode("view",{class:"top"},[e.createElementVNode("text",{class:"t fl",onClick:a[6]||(a[6]=(...e)=>s.hideType&&s.hideType(...e))},"取消"),e.createElementVNode("text",{class:"t fr",onClick:a[7]||(a[7]=(...e)=>s.sureType&&s.sureType(...e))},"确定")]),e.createElementVNode("view",{class:"lists"},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(n.gzType,((t,a)=>(e.openBlock(),e.createElementBlock("text",{class:e.normalizeClass(["peo",t.id==n.curType.id?"peo2":""]),onClick:e=>s.chooseType(a)},e.toDisplayString(t.name),11,["onClick"])))),256))])])])):e.createCommentVNode("",!0)],64)}]]);var sa;const ia=n({data:()=>({id:"",order_id:"",remark:"",img:[],imgUrl:[],chooseImageSourceType:1}),onLoad(e){sa=getApp(),this.id=e.id?e.id:"",this.order_id=e.order_id?e.order_id:"",this.getRepairSetting()},onShow(){},mounted(){},onReady:function(e){},methods:{getRepairSetting(){let e=this;sa.goPost("repair/getSetting",{type:2},(function(t){e.chooseImageSourceType=t.upload_type}))},sureSubmit(){let e=this;if(""==e.remark)return void sa.showMsg("请输入接单备注");if(e.img.length>5)return void sa.showMsg("最多可上传五张凭证");let t={id:e.id,remark:e.remark,img:JSON.stringify(e.img)};a("log","at pages/oaapplyadd/repairreceive.vue:110","formData",JSON.stringify(t)),uni.showModal({title:"温馨提示",content:"确定要接单吗?",success(e){e.confirm&&sa.goPost("repair/receive",t,(function(e){setTimeout((function(){uni.navigateBack()}),1e3)}))}})},chooseImage:function(){let e=this,t=e.imgUrl.length,l=5-t;if(t>=5)return void sa.showMsg("最多5张凭证");let o=e.chooseImageSourceType;var n=["album","camera"];2==o?n=["camera"]:3==o&&(n=["album"]),a("log","at pages/oaapplyadd/repairreceive.vue:156","sourceType",n),uni.chooseImage({sizeType:["original","compressed"],sourceType:n,count:l,success(t){a("log","at pages/oaapplyadd/repairreceive.vue:164","res",JSON.stringify(t)),e.uploadWaitLists=t.tempFilePaths,e.uploadImg()},fail(e){},complete(t){e.isSubmit=0}})},uploadImg(){let e=this,t=e.uploadWaitLists;if(a("log","at pages/oaapplyadd/repairreceive.vue:186","tempFilePaths len",t.length),t.length<1)return a("log","at pages/oaapplyadd/repairreceive.vue:189","上传完成"),!1;let l=t[0];a("log","at pages/oaapplyadd/repairreceive.vue:194","filePath:",l);var o=l.lastIndexOf("."),n=o>-1?l.slice(o+1):"";if(""!=n&&sa.globalData.topTitleHeight<=0){a("log","at pages/oaapplyadd/repairreceive.vue:201","cos上传");let t={ext:n,filePath:l};sa.uploadCos(t,(function(t){e.sucUpload(t)}))}else{a("log","at pages/oaapplyadd/repairreceive.vue:214","服务器上传");let t={type:1};sa.uploadFile(l,t,(function(t){e.sucUpload(t)}),(function(e){sa.showMsg("上传中"+e.progress+"%","loading")}))}},sucUpload(e){let t=this,l=e.key?e.key:e.path,o=e.url;t.img.push(l),t.imgUrl.push(o);let n=t.uploadWaitLists;a("log","at pages/oaapplyadd/repairreceive.vue:246","uploadWaitLists:",n),n.splice(0,1),t.uploadWaitLists=n,setTimeout((function(){t.uploadImg()}),300)},delImg(e){let t=this,a=t.img,l=t.imgUrl;a.splice(e,1),l.splice(e,1),t.img=a,t.imgUrl=l}}},[["render",function(t,a,l,o,n,s){return e.openBlock(),e.createElementBlock(e.Fragment,null,[e.createElementVNode("view",{class:"form"},[e.createElementVNode("view",{class:"item"},[e.createElementVNode("view",{class:"tit"},"工单号"),e.createElementVNode("view",{class:"textInp textInp2"},e.toDisplayString(n.order_id),1)]),e.createElementVNode("view",{class:"item itemMax"},[e.createElementVNode("view",{class:"tit"},[e.createElementVNode("text",{class:"r"},"*"),e.createTextVNode("备注")]),e.createElementVNode("view",{class:"text textB"},[e.withDirectives(e.createElementVNode("textarea",{name:"remark","onUpdate:modelValue":a[0]||(a[0]=e=>n.remark=e),placeholder:"请输入接单备注",class:"textarea"},null,512),[[e.vModelText,n.remark]])])]),e.createElementVNode("view",{class:"item itemMax"},[e.createElementVNode("view",{class:"tit"},[e.createElementVNode("text",{class:"r"},"*"),e.createTextVNode("图片 "),e.createElementVNode("text",{class:"sdFormManyPicSubTips"},"最多5张")]),e.createElementVNode("view",{class:"imgList"},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(n.imgUrl,((t,a)=>(e.openBlock(),e.createElementBlock("view",{class:"up upImg"},[e.createElementVNode("image",{src:t,class:"img",mode:"widthFix"},null,8,["src"]),e.createElementVNode("view",{class:"del",onClick:e=>s.delImg(a)},[e.createElementVNode("text",{class:"iconfont icon-guanbi"})],8,["onClick"])])))),256)),n.imgUrl.length<5?(e.openBlock(),e.createElementBlock("view",{key:0,class:"up upBox",onClick:a[1]||(a[1]=e=>s.chooseImage())},[e.createElementVNode("text",{class:"iconfont icon-shangchuantupian"})])):e.createCommentVNode("",!0)])])]),e.createElementVNode("view",{class:"clear"}),e.createElementVNode("view",{class:"foot IOSBottom"},[e.createElementVNode("view",{class:"footBtn bg-orange-JB",onClick:a[2]||(a[2]=(...e)=>s.sureSubmit&&s.sureSubmit(...e))},"提交")])],64)}]]);var ca;const ra=n({data:()=>({id:"",order_id:"",remark:"",img:[],imgUrl:[],chooseImageSourceType:1}),onLoad(e){ca=getApp(),this.id=e.id?e.id:"",this.order_id=e.order_id?e.order_id:"",this.getRepairSetting()},onShow(){},mounted(){},onReady:function(e){},methods:{getRepairSetting(){let e=this;ca.goPost("repair/getSetting",{type:3},(function(t){e.chooseImageSourceType=t.upload_type}))},sureSubmit(){let e=this;if(""==e.remark)return void ca.showMsg("请输入结单备注");if(e.img.length<1)return void ca.showMsg("请上传结单凭证");if(e.img.length>5)return void ca.showMsg("最多可上传五张凭证");let t={id:e.id,remark:e.remark,img:JSON.stringify(e.img)};a("log","at pages/oaapplyadd/repairend.vue:113","formData",JSON.stringify(t)),ca.goPost("repair/end",t,(function(e){setTimeout((function(){uni.navigateBack()}),1e3)}))},chooseImage:function(){let e=this,t=e.imgUrl.length,l=5-t;if(t>=5)return void ca.showMsg("最多5张凭证");let o=e.chooseImageSourceType;var n=["album","camera"];2==o?n=["camera"]:3==o&&(n=["album"]),a("log","at pages/oaapplyadd/repairend.vue:147","sourceType",n),uni.chooseImage({sizeType:["original","compressed"],sourceType:n,count:l,success(t){a("log","at pages/oaapplyadd/repairend.vue:155","res",JSON.stringify(t)),e.uploadWaitLists=t.tempFilePaths,e.uploadImg()},fail(e){},complete(t){e.isSubmit=0}})},uploadImg(){let e=this,t=e.uploadWaitLists;if(a("log","at pages/oaapplyadd/repairend.vue:177","tempFilePaths len",t.length),t.length<1)return a("log","at pages/oaapplyadd/repairend.vue:180","上传完成"),!1;let l=t[0];a("log","at pages/oaapplyadd/repairend.vue:185","filePath:",l);var o=l.lastIndexOf("."),n=o>-1?l.slice(o+1):"";if(""!=n&&ca.globalData.topTitleHeight<=0){a("log","at pages/oaapplyadd/repairend.vue:192","cos上传");let t={ext:n,filePath:l};ca.uploadCos(t,(function(t){e.sucUpload(t)}))}else{a("log","at pages/oaapplyadd/repairend.vue:205","服务器上传");let t={type:1};ca.uploadFile(l,t,(function(t){e.sucUpload(t)}),(function(e){ca.showMsg("上传中"+e.progress+"%","loading")}))}},sucUpload(e){let t=this,l=e.key?e.key:e.path,o=e.url;t.img.push(l),t.imgUrl.push(o);let n=t.uploadWaitLists;a("log","at pages/oaapplyadd/repairend.vue:237","uploadWaitLists:",n),n.splice(0,1),t.uploadWaitLists=n,setTimeout((function(){t.uploadImg()}),300)},delImg(e){let t=this,a=t.img,l=t.imgUrl;a.splice(e,1),l.splice(e,1),t.img=a,t.imgUrl=l}}},[["render",function(t,a,l,o,n,s){return e.openBlock(),e.createElementBlock(e.Fragment,null,[e.createElementVNode("view",{class:"form"},[e.createElementVNode("view",{class:"item"},[e.createElementVNode("view",{class:"tit"},"工单号"),e.createElementVNode("view",{class:"textInp textInp2"},e.toDisplayString(n.order_id),1)]),e.createElementVNode("view",{class:"item itemMax"},[e.createElementVNode("view",{class:"tit"},[e.createElementVNode("text",{class:"r"},"*"),e.createTextVNode("备注")]),e.createElementVNode("view",{class:"text textB"},[e.withDirectives(e.createElementVNode("textarea",{name:"remark","onUpdate:modelValue":a[0]||(a[0]=e=>n.remark=e),placeholder:"请输入结单备注",class:"textarea"},null,512),[[e.vModelText,n.remark]])])]),e.createElementVNode("view",{class:"item itemMax"},[e.createElementVNode("view",{class:"tit"},[e.createElementVNode("text",{class:"r"},"*"),e.createTextVNode("图片 "),e.createElementVNode("text",{class:"sdFormManyPicSubTips"},"最多5张")]),e.createElementVNode("view",{class:"imgList"},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(n.imgUrl,((t,a)=>(e.openBlock(),e.createElementBlock("view",{class:"up upImg"},[e.createElementVNode("image",{src:t,class:"img",mode:"widthFix"},null,8,["src"]),e.createElementVNode("view",{class:"del",onClick:e=>s.delImg(a)},[e.createElementVNode("text",{class:"iconfont icon-guanbi"})],8,["onClick"])])))),256)),n.imgUrl.length<5?(e.openBlock(),e.createElementBlock("view",{key:0,class:"up upBox",onClick:a[1]||(a[1]=e=>s.chooseImage())},[e.createElementVNode("text",{class:"iconfont icon-shangchuantupian"})])):e.createCommentVNode("",!0)])])]),e.createElementVNode("view",{class:"clear"}),e.createElementVNode("view",{class:"foot IOSBottom"},[e.createElementVNode("view",{class:"footBtn bg-orange-JB",onClick:a[2]||(a[2]=(...e)=>s.sureSubmit&&s.sureSubmit(...e))},"提交")])],64)}]]);var da;const ma=n({data:()=>({id:"",data:{imgUrl:[],imgUrl2:[],imgUrl3:[]}}),onLoad(e){da=getApp(),this.id=e.id},onShow(){this.getdata()},methods:{getdata(){let e=this,t={id:this.id,getDetail:1};da.goPost("repair/getEditData",t,(function(t){e.data=t}))},showImg(e,t){let a=this.data[t];a.length>0&&uni.previewImage({current:e,urls:a})},onCopy(e){da.copyText(e)},doReceive(){let e=this.data.id,t=this.data.order_id;uni.navigateTo({url:"/pages/oaapplyadd/repairreceive?id="+e+"&order_id="+t})},doEnd(){let e=this.data.id,t=this.data.order_id;uni.navigateTo({url:"/pages/oaapplyadd/repairend?id="+e+"&order_id="+t})},imgError:function(e){this.data.oaStatusImg="/static/images/oa/oa_error.png"}}},[["render",function(t,a,l,o,n,s){return e.openBlock(),e.createElementBlock(e.Fragment,null,[e.createElementVNode("view",{class:"content"},[e.createElementVNode("view",{class:"rowBox"},[e.createElementVNode("view",{class:"row"},[e.createElementVNode("text",{class:"label"},"工单"),e.createElementVNode("view",{class:"txt orderid",onLongpress:a[0]||(a[0]=e=>s.onCopy(n.data.apply_num))},e.toDisplayString(n.data.order_id),33)]),e.createElementVNode("view",{class:"row"},[e.createElementVNode("text",{class:"label"},"上报员工"),e.createElementVNode("view",{class:"txt"},e.toDisplayString(n.data.staff),1)]),e.createElementVNode("view",{class:"row"},[e.createElementVNode("text",{class:"label"},"上报时间"),e.createElementVNode("view",{class:"txt"},e.toDisplayString(n.data.addtime),1)]),e.createElementVNode("view",{class:"rowStatus"},[e.createElementVNode("image",{src:n.data.statusImg,onError:a[1]||(a[1]=(...e)=>s.imgError&&s.imgError(...e)),class:"statusImg",alt:""},null,40,["src"])])]),e.createElementVNode("view",{class:"rowBox"},[e.createElementVNode("view",{class:"row"},[e.createElementVNode("text",{class:"label"},"故障类型"),e.createElementVNode("view",{class:"txt"},e.toDisplayString(n.data.typeName),1)]),e.createElementVNode("view",{class:"row"},[e.createElementVNode("text",{class:"label"},"故障地点"),e.createElementVNode("view",{class:"txt"},e.toDisplayString(n.data.address),1)]),e.createElementVNode("view",{class:"row"},[e.createElementVNode("text",{class:"label"},"故障描述"),e.createElementVNode("view",{class:"txt"},e.toDisplayString(n.data.desc),1)]),n.data.imgUrl.length>0?(e.openBlock(),e.createElementBlock("view",{key:0,class:"row"},[e.createElementVNode("text",{class:"label"},"故障凭证"),e.createElementVNode("view",{class:"imgLists"},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(n.data.imgUrl,((t,a)=>(e.openBlock(),e.createElementBlock("image",{class:"img",src:t,onClick:e=>s.showImg(a,"imgUrl"),mode:"aspectFill"},null,8,["src","onClick"])))),256)),e.createTextVNode("   ")])])):e.createCommentVNode("",!0)]),e.createElementVNode("view",{class:"rowBox"},[e.createElementVNode("view",{class:"title"},"维修进度"),e.createElementVNode("view",{class:"row"},[e.createElementVNode("text",{class:"label"},"接单人员"),e.createElementVNode("view",{class:"txt"},e.toDisplayString(n.data.receive_people),1)]),e.createElementVNode("view",{class:"row"},[e.createElementVNode("text",{class:"label"},"接单时间"),e.createElementVNode("view",{class:"txt"},e.toDisplayString(n.data.receive_time),1)]),e.createElementVNode("view",{class:"row"},[e.createElementVNode("text",{class:"label"},"接单备注"),e.createElementVNode("view",{class:"txt"},e.toDisplayString(n.data.receive_remark),1)]),n.data.imgUrl3.length>0?(e.openBlock(),e.createElementBlock("view",{key:0,class:"row"},[e.createElementVNode("text",{class:"label"},"接单凭证"),e.createElementVNode("view",{class:"imgLists"},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(n.data.imgUrl3,((t,a)=>(e.openBlock(),e.createElementBlock("image",{class:"img",src:t,onClick:e=>s.showImg(a,"imgUrl3"),mode:"aspectFill"},null,8,["src","onClick"])))),256)),e.createTextVNode("   ")])])):e.createCommentVNode("",!0),e.createElementVNode("view",{class:"row"},[e.createElementVNode("text",{class:"label"},"结单人员"),e.createElementVNode("view",{class:"txt"},e.toDisplayString(n.data.end_people),1)]),e.createElementVNode("view",{class:"row"},[e.createElementVNode("text",{class:"label"},"结单时间"),e.createElementVNode("view",{class:"txt"},e.toDisplayString(n.data.end_time),1)]),e.createElementVNode("view",{class:"row"},[e.createElementVNode("text",{class:"label"},"结单备注"),e.createElementVNode("view",{class:"txt"},e.toDisplayString(n.data.remark),1)]),n.data.imgUrl2.length>0?(e.openBlock(),e.createElementBlock("view",{key:1,class:"row"},[e.createElementVNode("text",{class:"label"},"结单凭证"),e.createElementVNode("view",{class:"imgLists"},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(n.data.imgUrl2,((t,a)=>(e.openBlock(),e.createElementBlock("image",{class:"img",src:t,onClick:e=>s.showImg(a,"imgUrl2"),mode:"aspectFill"},null,8,["src","onClick"])))),256)),e.createTextVNode("   ")])])):e.createCommentVNode("",!0)])]),n.data.status<2&&1==n.data.is_wx?(e.openBlock(),e.createElementBlock("view",{key:0,class:"foot IOSBottom repairBtn"},[e.createElementVNode("view",{class:"footBtn bg-orange-JB",onClick:a[2]||(a[2]=(...e)=>s.doReceive&&s.doReceive(...e))},"接单")])):e.createCommentVNode("",!0),2==n.data.status&&1==n.data.is_wx?(e.openBlock(),e.createElementBlock("view",{key:1,class:"foot IOSBottom repairBtn"},[e.createElementVNode("view",{class:"footBtn bg-orange-JB",onClick:a[3]||(a[3]=(...e)=>s.doEnd&&s.doEnd(...e))},"完结")])):e.createCommentVNode("",!0)],64)}]]);var ua;const pa=n({data:()=>({os:"",statusBarHeight:0,env:"",selectRoomIds:[],selectRoomList:[],selectLcardIds:[],lcardIds:[],lcardList:[],detailList:[],shouldPay:0,payMoney:0,remainPayMoney:0,isGuaZhang:0,guaZhangId:0,payMoneyList:[],selPayType:[],payTypeList:[],discountList:[],totalPay:0,totalDiscount:0,hasCoupon:0,couponDetail:{},zdCouponIds:"",couponConfig:{zdyq:0,notCheckCoupon:0,authId:0,authPass:""},couponMoney:0,isFree:0,freeMoney:"",freeDiscount:0,freeRemark:"",maxFreeMoney:0,zheKouList:[],crmDisText:"",memberDiscount:0,maxWalletMoney:0,isRound:0,roundMoney:0,hasJingSang:0,jingSangMoney:0,gzList:[],guaid:"",checkBoxIndex:"",countTimer:null,isCounting:0,payConfig:{},opTime:"",editRoomTxt:"",editRoomIds:[],editRoomList:[],isOpenRoomBox:!1,user:{id:0,name:"",phone:"",rank:"",wallet:0,discount:0,check:0,isVipPrice:0},isOpenCrmBox:!1,editCrm:{},editCrmTxt:"",editCrmList:[],isOpenDisBox:!1,isOpenPayTypeBox:!1,isOpenCouponBox:!1,setCoupon:{list:[],couponMoney:0,couponIds:"",couponName:"",openBoxIndex:"",projectIndex:"",projectIndex2:"",isNotCheckCoupon:0,notCheckCoupon:0,authId:0,authPass:"",staffLists:[],zdyq:0,zdCouponIds:""},isOpenSetCouponBox:!1,couponList:[],selectCouponIds:[],isOpenCheckCrmBox:!1,checkCrmType:1,checkCode:"",checkPwd:"",checkCrmSec:0,isSubmit:0,boxTop:0,currTop:0,zhidingNum:0,isHua:0}),onLoad(e){ua=getApp(),this.statusBarHeight=ua.globalData.statusBarHeight,this.env="production",e.hasOwnProperty("roomId")&&e.roomId>0&&this.selectRoomIds.push(e.roomId),this.selectRoomIds.length>0?this.getLcardList():this.openRoomBox(),this.initData(),this.os=ua.globalData.os},watch:{freeMoney(){let e=this;if(1==e.isFreeDiscount?e.isFreeDiscount=0:e.freeDiscount=0,e.isCounting)return!1;clearTimeout(e.countTimer),e.$nextTick((function(){e.countTimer=setTimeout((function(){e.calculate()}),300)}))},couponId(){let e=this;if(e.isCounting)return!1;e.$nextTick((function(){e.calculate()}))},freeDiscount(){let e=this;e.freeDiscount=ua.round(e.freeDiscount,1),e.$nextTick((function(){e.isFreeDiscount=1,e.calculate()}))}},computed:{payMoneyHasCoupon(){return this.payMoney+this.couponMoney+this.freeMoney+this.roundMoney},countRemainPayMoney(){return ua.round(this.payMoney-this.remainPayMoney,2)}},methods:{goBack(){uni.navigateBack()},initData(){let e=this;ua.goPost("jiezhang/initdata",{},(function(t){e.payConfig=t.payConfig,e.gzList=t.gzList,e.payTypeList=t.payTypeList,e.discountList=t.discountList,e.zheKouList=t.zheKouList}))},getLcardList(){let e=this,t={roomIds:e.selectRoomIds.join(",")};ua.goPost("jiezhang/getlcardlist",t,(function(t){e.selectRoomIds=t.roomIds,e.selectRoomList=t.roomList,e.lcardList=t.lcardList,e.lcardIds=t.lcardIds,e.selectLcardIds=ua.copyObject(t.lcardIds),e.getLcardDetail()}))},getLcardDetail(){let e=this,t={lcardIds:e.lcardIds.join(",")};ua.goPost("jiezhang/getlcarddetail",t,(function(t){e.detailList=t.list,e.totalPay=t.totalPay,e.payMoney=t.realPay,e.totalDiscount=t.jingSangMoney,e.jingSangMoney=t.jingSangMoney,e.hasJingSang=t.hasJingSang,e.opTime=t.opTime}))},selectLcard(e){let t=e.currentTarget.dataset.index,a=this.lcardList[t].lcard_id.toString(),l=this.selectLcardIds,o=l.indexOf(a);o>-1?l.splice(o,1):l.push(a),this.countPayMoney(),this.calculate()},selectLcardDetail(e){let t=e.detail.value,a=[];for(let l in t)a.push(t[l].toString());this.selectLcardIds=a,this.countPayMoney(),this.calculate()},goSearch(e){let t=e.currentTarget.dataset.type;"function"==typeof this[t]&&this[t]()},clearSearch(e){let t=e.currentTarget.dataset.key,a=e.currentTarget.dataset.type;this[t]="","function"==typeof this[a]&&this[a]()},getRoomList(e=null){let t=this,a={roomName:t.editRoomTxt};ua.goPost("jiezhang/getroomlist",a,(function(a){t.editRoomIds=ua.copyObject(t.selectRoomIds),t.editRoomList=a.list,"function"==typeof e&&e(a.list)}))},selectRoom(e){let t=e.currentTarget.dataset.index,a=this.editRoomList,l=a[t],o=l.id.toString(),n=this.editRoomIds,s=n.indexOf(o);if(s>-1?n.splice(s,1):n.push(o),""!=l.token)for(let i in a){let e=a[i].id.toString(),t=a[i].token;if(l.token==t&&o!=e){let t=n.indexOf(e);t>-1?n.splice(t,1):n.push(e)}}},openRoomBox(){let e=this;e.getRoomList((function(t){if(t.length<1)return uni.showModal({title:"温馨提示",content:"目前暂无需要买单的房间",showCancel:!1,confirmText:"我知道了",success(){}}),!1;e.isOpenRoomBox=!0}))},closeRoomBox(){this.isOpenRoomBox=!1,this.editRoomIds=[]},sureRoom(){let e=this.editRoomIds;if(e.length<1)return ua.showMsg("请先选择房间"),!1;this.selectRoomIds=ua.copyObject(e),this.closeRoomBox(),this.getLcardList()},getCrmList(){let e=this,t={keywords:e.editCrmTxt};ua.goPost("jiezhang/getcrmlist",t,(function(t){e.editCrmList=t.list}))},openCrmBox(){if(this.selectRoomIds.length<1)return ua.showMsg("请先选择要买单的房间"),!1;this.editCrm=ua.copyObject(this.user),this.isOpenCrmBox=!0},closeCrmBox(){this.isOpenCrmBox=!1,this.editCrm={}},selectCrm(e){let t=e.currentTarget.dataset.index,a=this.editCrmList[t];this.editCrm={id:a.id,phone:a.phone,name:a.name,rank:a.rank,wallet:ua.round(a.allBalance,2),discount:a.discount,check:a.is_check,isVipPrice:a.isVipPrice}},clearCrm(){this.user={id:0,phone:"",name:"",rank:"",wallet:0,discount:0,check:0},this.checkCrmSec=0;let e=this.selPayType.indexOf("9");this.selPayType.splice(e,1),this.payMoneyList.splice(e,1),this.memberDiscount=0,this.hasCoupon=0,this.couponDetail={};let t=this.detailList;for(let a in t){let e=t[a].list;for(let t in e)e[t].project_discount=ua.round(e[t].origin_project_discount,2),e[t].price=ua.round(e[t].origin_price,2),e[t].p_tip=ua.round(e[t].p_origin_tip,2),e[t].del_price=0,e[t].should_pay=ua.round(e[t].origin_should_pay-e[t].project_discount,2)}this.closeCrmBox(),this.countPayMoney(),this.calculate()},sureCrm(){if(0==this.editCrm.id)return ua.showMsg("请选择会员"),!1;this.user=ua.copyObject(this.editCrm),this.memberDiscount=0,this.checkCrmSec=0;let e=this.detailList;for(let t in e){let a=e[t].list;for(let e in a)1==this.user.isVipPrice?(a[e].del_price=ua.round(a[e].origin_price,2),a[e].price=ua.round(a[e].vip_price,2),a[e].p_tip=ua.round(a[e].p_vip_tip,2),a[e].p_price_type<2&&(a[e].should_pay=ua.round((a[e].price+a[e].p_tip)*a[e].num-a[e].project_discount,2),a[e].should_pay<0&&(a[e].should_pay=0,a[e].project_discount=ua.round((a[e].price+a[e].p_tip)*a[e].num,2)))):(a[e].project_discount=ua.round(a[e].origin_project_discount,2),a[e].price=ua.round(a[e].origin_price,2),a[e].p_tip=ua.round(a[e].p_origin_tip,2),a[e].del_price=0,a[e].should_pay=ua.round(a[e].origin_should_pay-a[e].project_discount,2))}this.getCouponList(),this.closeCrmBox()},openDisBox(){if(this.selectRoomIds.length<1)return ua.showMsg("请先选择要买单的房间"),!1;this.isOpenDisBox=!0},closeDisBox(){this.isOpenDisBox=!1},openPayTypeBox(){if(this.selectRoomIds.length<1)return ua.showMsg("请先选择要买单的房间"),!1;this.isOpenPayTypeBox=!0},closePayTypeBox(){this.isOpenPayTypeBox=!1},setPayType(e){let t=this,a=e.currentTarget.dataset.type,l=t.selPayType,o=t.payTypeList,n=t.payMoneyList,s=l.indexOf(a);if(s<0){let e;for(let t in o)for(let l in o[t])if(a==o[t][l].id){e=o[t][l];break}let s=t.payMoney;s-=t.countCusDisMoney();for(let a in n)s-=t.payMoneyList[a].money;9==a&&(s>t.user.wallet&&(s=t.user.wallet),s>t.maxWalletMoney&&(s=t.maxWalletMoney)),s<0&&(s=0);let i=t.countCurMoney(1,s,e.cur_rate);n.push({type:e.id,name:e.name,money:i.rmb_money,input_num:e.input_num,nums:"1"==e.input_num?"1":"",cur_money:i.cur_money,cur_type:e.cur_type,cur_rate:e.cur_rate}),l.push(a),t.isGuaZhang=0,t.guaZhangId=0,t.countPayMoney()}else l.splice(s,1),n.splice(s,1),t.countPayMoney()},payTypeInput(e){let t=this,a=e.currentTarget.dataset.index,l=e.detail.value,o=t.payMoneyList[a],n=t.countCurMoney(0,l,o.cur_rate);o.money=n.rmb_money,o.cur_money=n.cur_money,t.countPayMoney()},payTypeInputNum(e){let t=e.currentTarget.dataset.index,a=e.detail.value;this.payMoneyList[t].nums=a},delPayType(e){let t=this,a=e.currentTarget.dataset.index,l=t.payMoneyList[a];t.selPayType.splice(t.selPayType.indexOf(l.type),1),t.payMoneyList.splice(a,1),this.countPayMoney()},clearPayType(){this.clearPayMoneyInfo(),this.closePayTypeBox()},surePayType(){if(!this.isGuaZhang&&!this.checkPayTypeMoney())return ua.showMsg("付款方式总计金额不等于实收金额"),!1;this.closePayTypeBox()},clearPayMoneyInfo(){this.payMoneyList=[],this.selPayType=[],this.countPayMoney()},inputDiscount(e){let t=e.currentTarget.dataset.key,a=e.currentTarget.dataset.index,l=e.detail.value;this.discountList[a][t]=l,this.countPayMoney()},getSelectOrderId(){let e=this.selectLcardIds,t=this.detailList,a=[];for(let l in t){let o=t[l].id.toString();if(e.indexOf(o)>-1)for(let e in t[l].list)a.push(t[l].list[e].orderid)}return a},jianmSet(e){let t=e.currentTarget.dataset.type;if("isFree"==t)this.isFree=this.isFree?0:1;else if("moling"==t)this.isRound=this.isRound?0:1;else{let t=e.currentTarget.dataset.index,l=this.discountList[t];a("log","at pages/jiezhang/jiezhang.vue:1387",l),l.hasOwnProperty("selected")&&1==l.selected?(l.selected=0,l.nums=1,l.money=""):(l.selected=1,this.isGuaZhang=0,this.guaZhangId=0)}this.countPayMoney(),this.calculate()},changeZheKou(e){let t=e.detail.value,a=this.zheKouList[t].value;this.freeDiscount=a},addReduceRelief(e){var t=e.currentTarget.dataset.type;let a=parseFloat(this.freeMoney);(isNaN(a)||a<0)&&(a=0),1==t?a>0&&(a-=1):a+=1,this.freeMoney=a,this.freeType=0},calculate(){let e=this,t=this.getSelectOrderId(),a=this.detailList,l=0;for(let s in a){let e=a[s].list,o=0;for(let a in e)t.indexOf(e[a].orderid)>-1&&(l+=e[a].should_pay),o+=e[a].should_pay;a[s].should_pay=o}let o=l,n=0;e.isCounting=1,this.getDiscountData((function(t){e.maxWalletMoney=t.maxWalletMoney,e.maxFreeMoney=t.maxFreeMoney,e.jingSangMoney=t.jingSangMoney,e.jingSangMoney>0&&(o-=e.jingSangMoney,n+=e.jingSangMoney),e.crmDisText=t.crmDisText,e.memberDiscount=t.crmDiscount,e.memberDiscount>0&&(o-=e.memberDiscount,n+=e.memberDiscount),e.couponMoney=t.couponMoney,e.couponMoney<=0&&e.couponId>0?e.couponId=0:e.couponMoney>0&&(o-=e.couponMoney,n+=e.couponMoney),t.freeMoney>0&&(e.freeMoney=ua.round(t.freeMoney,2),o-=e.freeMoney,n+=e.freeMoney),e.roundMoney=t.roundMoney,e.roundMoney>0&&(o-=e.roundMoney,n+=e.roundMoney),o<0&&(o=0),e.totalDiscount=ua.round(n,2),e.payMoney=ua.round(o,2),e.$nextTick((function(){e.isCounting=0}))}))},countPayMoney(){let e=0,t=this.payMoneyList;for(let a in t)t[a].money>0&&(e+=parseFloat(t[a].money));e+=this.countCusDisMoney(),this.remainPayMoney=ua.round(e,2)},countCusDisMoney(){let e=this.discountList,t=0;for(let a in e)1==e[a].selected&&e[a].money>0&&(t+=parseFloat(e[a].money));return ua.round(t,2)},getDiscountData(e){let t=this,a={orderid:t.getSelectOrderId().join(","),uid:t.user.id,freeMoney:t.isFree?t.freeMoney:0,freeDiscount:t.isFree?t.freeDiscount:0,isRound:t.isRound,guaid:t.guaid,couponDetail:JSON.stringify(t.couponDetail),couponConfig:JSON.stringify(t.couponConfig),zdCouponIds:t.zdCouponIds,opTime:t.opTime};ua.goPost("jiezhang/getdiscountdata",a,(function(t){e(t)}))},getCouponList(){let e=this;e.couponMoney,e.couponDetail={};let t=e.getSelectOrderId(),a={crmId:e.user.id,ids:t.join(","),guaid:e.guaid,opTime:e.opTime};ua.goPost("jiezhang/getcouponlist",a,(function(t){e.hasCoupon=t.hasCoupon,e.couponDetail=t.couponDetail,e.calculate()}))},submitCollection(e){let t=0;e.hasOwnProperty("isFinish")&&(t=e.isFinish);let a=this,l=a.getSelectOrderId();if(l.length<1)return ua.showMsg("请选择要买单的项目"),!1;if(a.payMoneyList.length<1&&a.payMoney>0)return ua.showMsg("请先选择支付方式"),!1;if(!a.isGuaZhang&&!a.checkPayTypeMoney())return ua.showMsg("付款方式总计金额不等于实收金额"),!1;if(a.selPayType.indexOf("9")>-1&&a.user.check>0&&!e.hasOwnProperty("sureCheckCrm"))return a.openCheckCrmBox(),!1;if(1==this.isSubmit)return!1;this.isSubmit=1,uni.showModal({title:"温馨提示",content:"确认要收账?",success:e=>{if(this.isSubmit=0,e.confirm){let e=a.getPayTypeInfo(),o={lcardIds:a.selectLcardIds.join(","),orderid:l.join(","),uid:a.user.id,guaid:a.guaid,freeMoney:a.isFree?a.freeMoney:0,freeRemark:a.isFree?a.freeRemark:"",roundMoney:a.isRound?a.roundMoney:0,checkType:a.checkCrmType,checkCode:a.checkCode,checkPwd:a.checkPwd,couponDetail:JSON.stringify(a.couponDetail),couponConfig:JSON.stringify(a.couponConfig),zdCouponIds:a.zdCouponIds,isGuaZhang:a.isGuaZhang,guaZhangId:a.guaZhangId,opTime:a.opTime,payMoneyDetail:JSON.stringify(e)};a.maidan(o,t,0)}}})},payAndFinish(){if(this.selectRoomIds.length<1)return ua.showMsg("请先选择要买单的房间"),!1;this.submitCollection({isFinish:1})},maidan(e,t,a){let l=this,o=ua.copyObject(e);o.opType="query",ua.goPost("jiezhang/suredone",o,(function(t){l.closeCheckCrmBox(),uni.navigateTo({url:"/pages/jiezhangsure/jiezhangsure",success:function(t){t.eventChannel.emit("postData",e)}})}))},checkPayTypeMoney(){let e=this.payMoneyList,t=0;for(let a in e){let l=parseFloat(e[a].money);t+=isNaN(l)?0:l}return t+=this.countCusDisMoney(),t=ua.round(t,2),!(Math.abs(t-this.payMoney)>.001)},getPayTypeInfo(){let e=ua.copyObject(this.payMoneyList),t=this.discountList;for(let a in t)1==t[a].selected&&t[a].money>0&&e.push({type:t[a].id,name:t[a].name,money:ua.round(t[a].money,2),nums:t[a].nums,cur_money:ua.round(t[a].money,2),cur_type:0,cur_rate:1});return e},countCurMoney(e,t,a){let l={cur_money:0,rmb_money:0};return t=ua.round(t,2),1==a?(l.cur_money=t,l.rmb_money=t,l):(1==e?(l.cur_money=Math.ceil(t/a),l.rmb_money=t):(l.cur_money=t,l.rmb_money=Math.floor(t*a)),l)},openCouponBox(){let e=this,t=[],a=this.couponDetail;for(let o in a)t.push(o+"_"+a[o]);t=t.join(";");let l={orderid:e.getSelectOrderId().join(","),guaid:e.guaid,uid:e.user.id,notCheckCoupon:e.couponConfig.notCheckCoupon,couponstr:t,zdyq:e.couponConfig.zdyq,zdCouponIds:e.zdCouponIds,opTime:e.opTime};ua.goPost("jiezhang/setcoupon",l,(function(t){e.setCoupon.list=t.list,e.isOpenCouponBox=!0}))},closeCouponBox(){this.isOpenCouponBox=!1},sureCoupon(){let e=this,t=e.setCoupon,a=t.list,l={},o={zdyq:t.zdyq,notCheckCoupon:t.notCheckCoupon,authId:t.authId,authPass:ua.md5(ua.md5(t.authPass)+t.authPass),opTime:e.opTime};for(let s in a)for(let e in a[s].list)if(a[s].list[e].couponPrice>0){let t=a[s].list[e].orderid,o=a[s].list[e].couponId;l[t]=o}let n={couponDetail:JSON.stringify(l),couponConfig:JSON.stringify(o)};ua.goPost("jiezhang/checkcoupondata",n,(function(a){e.couponDetail=ua.copyObject(l),e.couponConfig=ua.copyObject(o),e.zdCouponIds=t.zdCouponIds,e.calculate(),e.closeCouponBox()}))},openSetCouponBox(e){let t=this,a=e.currentTarget.dataset.index,l=e.currentTarget.dataset.index2,o=t.setCoupon.list,n=o[a].list[l],s=[];for(let c in o)for(let e in o[c].list)a==c&&l==e||o[c].list[e].couponPrice>0&&s.push(o[c].list[e].couponId);t.setCoupon.projectIndex=a,t.setCoupon.projectIndex2=l;let i={orderid:n.orderid,ids:n.couponId,otherIds:s.join(","),uid:t.user.id,notCheckCoupon:t.setCoupon.notCheckCoupon,guaid:t.guaid,opTime:t.opTime,md:n.member_discount};ua.goPost("jiezhang/selectcoupon",i,(function(e){t.selectCouponIds=n.couponId.split(","),t.couponList=e.list,t.isOpenSetCouponBox=!0}))},closeSetCouponBox(){this.isOpenSetCouponBox=!1},selectCoupon(e){let t=e.currentTarget.dataset.index,a=this.couponList[t];this.arraySearch(a.id,this.selectCouponIds)>-1?this.selectCouponIds=[]:this.selectCouponIds=[a.id.toString()]},sureSetCoupon(){let e=this.couponList,t=ua.copyObject(this.selectCouponIds),a=[],l=this.setCoupon.projectIndex,o=this.setCoupon.projectIndex2,n=this.setCoupon.list[l].list[o],s=0;for(let i in e)this.arraySearch(e[i].id,t)>-1&&(a.push(e[i].name),s+=ua.round(e[i].money));n.couponId=t.join(","),n.couponName=a.length>0?a.join(","):"不用券",s>n.should_pay&&(s=n.should_pay),n.couponPrice=s,n.real_pay=n.should_pay-n.couponPrice,this.closeSetCouponBox()},openCheckCrmBox(){let e=1;2==this.user.check&&(e=2),this.checkCrmType=e,this.isOpenCheckCrmBox=!0},closeCheckCrmBox(){this.checkCrmType=1,this.checkCode="",this.checkPwd="",this.isOpenCheckCrmBox=!1},sureCheckCrm(){this.submitCollection({isFinish:1,sureCheckCrm:1})},changeCheckCrmType(e){let t=e.currentTarget.dataset.type;this.checkCrmType=t},getCheckCrmCode(){let e=this,t={crmId:this.user.id,type:"getCode"};ua.goPost("jiezhang/checkpwd",t,(function(t){e.checkCrmSec=90,e.countSec()}))},countSec(){let e=this;if(e.checkCrmSec<=0)return!1;setTimeout((function(){e.checkCrmSec--,e.countSec()}),1e3)},goShouYinRecord(){ua.showMsg("敬请期待")},startScroll:function(){this.isHua=1},boxscroll:function(e){var t=this,a=e.detail.scrollTop,l=t.currTop,o=t.boxTop;a>l&&0==t.isHua&&a>20&&a<50&&(this.isHua=1),1==t.isHua&&(a>=l?(o-=8)>-49&&(t.boxTop=o):(o+=8)<1&&(t.boxTop=o)),t.currTop=a},zhidingBtn:function(){var e=this;e.boxTop=0,e.isHua=0,e.zhidingNum=1==e.zhidingNum?0:1},sureTop:function(){this.boxTop=0,this.isHua=0},sureBom:function(){this.boxTop=-48,this.isHua=0}}},[["render",function(t,a,o,n,s,i){const c=e.resolveComponent("veiw"),r=l(e.resolveDynamicComponent("ydPromptBottom"),b);return e.openBlock(),e.createElementBlock(e.Fragment,null,[e.createElementVNode("view",{class:"topTitleBox bg-white",style:e.normalizeStyle({"padding-top":s.statusBarHeight+"px"})},[e.createElementVNode("view",{class:"titleName",onClick:a[0]||(a[0]=(...e)=>i.goBack&&i.goBack(...e))},[e.createElementVNode("i",{class:"iconfont icon-fanhui"}),e.createTextVNode(" 收银")]),e.createElementVNode("view",{class:"tipsIcon",onClick:a[1]||(a[1]=(...e)=>i.goShouYinRecord&&i.goShouYinRecord(...e))},"收银记录")],4),e.createElementVNode("view",{class:"content",style:e.normalizeStyle("top:"+(s.statusBarHeight+53)+"px")},[e.createElementVNode("view",{class:"box"},[e.createElementVNode("view",{class:"roomRow",onClick:a[2]||(a[2]=(...e)=>i.openRoomBox&&i.openRoomBox(...e))},[e.createElementVNode("text",{class:"iconfont icon-shouyetianchong"}),e.createElementVNode("view",{class:"list"},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(s.selectRoomList,((t,a)=>(e.openBlock(),e.createElementBlock("text",{class:"item"},e.toDisplayString(t.name),1)))),256))]),e.createElementVNode("text",{class:"iconfont icon-youbian1"})]),e.createElementVNode("view",{class:"lcardRow"},[e.createElementVNode("text",{class:"iconfont icon-zhekou1"}),e.createElementVNode("view",{class:"list"},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(s.lcardList,((l,o)=>(e.openBlock(),e.createElementBlock("text",{class:e.normalizeClass(["item",t.arraySearch(l.lcard_id,s.selectLcardIds)>-1?"selected":""]),"data-index":o,onClick:a[3]||(a[3]=(...e)=>i.selectLcard&&i.selectLcard(...e))},e.toDisplayString(l.lcard_name),11,["data-index"])))),256))])])]),e.createElementVNode("scroll-view",{class:"detailBox",id:"detailBox","scroll-y":"true","scroll-top":s.zhidingNum,onScrolltolower:a[5]||(a[5]=(...e)=>i.sureBom&&i.sureBom(...e)),onScroll:a[6]||(a[6]=(...e)=>i.boxscroll&&i.boxscroll(...e)),onScrolltoupper:a[7]||(a[7]=(...e)=>i.sureTop&&i.sureTop(...e)),onTouchstart:a[8]||(a[8]=(...e)=>i.startScroll&&i.startScroll(...e))},[e.createElementVNode("checkbox-group",{onChange:a[4]||(a[4]=(...e)=>i.selectLcardDetail&&i.selectLcardDetail(...e))},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(s.detailList,((a,l)=>(e.openBlock(),e.createElementBlock("view",{class:"box"},[e.createElementVNode("view",{class:"detailLcardRow"},[e.createElementVNode("label",{class:"txt"},[e.createElementVNode("checkbox",{class:"checkbox",value:a.id,checked:t.arraySearch(a.id,s.selectLcardIds)>-1},null,8,["value","checked"]),e.createTextVNode(e.toDisplayString(a.lcard_name),1)]),e.createElementVNode("view",{class:"money red"},[e.createElementVNode("text",{class:"i"},"￥"),e.createTextVNode(e.toDisplayString(a.should_pay),1)])]),a.list.length>0?(e.openBlock(),e.createElementBlock("view",{key:0,class:"orderTable"},[e.createElementVNode("view",{class:"tr"},[e.createElementVNode("view",{class:"td"},"项目"),e.createElementVNode("view",{class:"td"},"数量"),e.createElementVNode("view",{class:"td"},"技师"),e.createElementVNode("view",{class:"td"},"小计")]),(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(a.list,((t,a)=>(e.openBlock(),e.createElementBlock("view",{class:"tr"},[e.createElementVNode("view",{class:"td"},[e.createTextVNode(e.toDisplayString(t.name),1),1==t.p_price_type?(e.openBlock(),e.createElementBlock("text",{key:0,class:"red"},"("+e.toDisplayString(0==t.p_add_type?"加首钟":"加钟")+")",1)):e.createCommentVNode("",!0),t.p_price_type>1&&1!=t.is_merge_tips?(e.openBlock(),e.createElementBlock("text",{key:1,class:"red"},"(小费)")):e.createCommentVNode("",!0)]),e.createElementVNode("view",{class:"td"},e.toDisplayString(t.num),1),e.createElementVNode("view",{class:"td"},e.toDisplayString(t.ser_name),1),e.createElementVNode("view",{class:"td"},"￥"+e.toDisplayString(t.should_pay),1)])))),256))])):e.createCommentVNode("",!0),a.list.length<1?(e.openBlock(),e.createElementBlock("view",{key:1,class:"noData"},[e.createElementVNode("i",{class:"iconfont icon-kongshuju"}),e.createTextVNode(" 暂无订单 ")])):e.createCommentVNode("",!0)])))),256)),e.createElementVNode("view",{class:"pb20"}),e.createElementVNode("view",{class:"IOSBottom"})],32)],40,["scroll-top"]),e.createElementVNode("view",{class:"bottom IOSBottom"},[e.createElementVNode("view",{class:"crmRow"},[e.createElementVNode("text",{class:"icon bg-orange"},"会员"),s.user.id>0?(e.openBlock(),e.createElementBlock("text",{key:0,class:"txt"},e.toDisplayString(s.user.phone)+" (￥"+e.toDisplayString(s.user.wallet)+")",1)):e.createCommentVNode("",!0),e.createVNode(c,{class:"crmBtn orange",onClick:i.openCrmBox},{default:e.withCtx((()=>[e.createElementVNode("text",{class:"numIcon"},"1"),e.createTextVNode("切换")])),_:1},8,["onClick"])]),e.createElementVNode("view",{class:"disRow"},[e.createElementVNode("view",{class:"disBtn",onClick:a[9]||(a[9]=(...e)=>i.openDisBox&&i.openDisBox(...e))},[e.createElementVNode("text",{class:"numIcon"},"2"),e.createTextVNode("优惠明细")]),e.createElementVNode("view",{class:"disBtn",onClick:a[10]||(a[10]=(...e)=>i.openPayTypeBox&&i.openPayTypeBox(...e))},[e.createElementVNode("text",{class:"numIcon"},"3"),e.createTextVNode("付款方式")]),e.createElementVNode("view",{class:"shouYinBtn bg-orange",onClick:a[11]||(a[11]=(...e)=>i.payAndFinish&&i.payAndFinish(...e))},"确认收银")])])],4),e.createVNode(r,{isOpen:s.isOpenRoomBox,onClose:i.closeRoomBox},{default:e.withCtx((()=>[e.createElementVNode("view",{class:"prompt-title"},[e.createElementVNode("text",null,"房间"),e.createElementVNode("view",{class:"searchRow"},[e.withDirectives(e.createElementVNode("input",{type:"text",class:"input","onUpdate:modelValue":a[12]||(a[12]=e=>s.editRoomTxt=e),placeholder:"请输入房间号",maxlength:"30"},null,512),[[e.vModelText,s.editRoomTxt]]),e.createElementVNode("text",{class:"searchBtn bg-orange","data-type":"getRoomList",onClick:a[13]||(a[13]=(...e)=>i.goSearch&&i.goSearch(...e))},"搜索"),""!=s.editRoomTxt?(e.openBlock(),e.createElementBlock("text",{key:0,class:"iconfont icon-shibai1","data-type":"getRoomList","data-key":"editRoomTxt",onClick:a[14]||(a[14]=(...e)=>i.clearSearch&&i.clearSearch(...e))})):e.createCommentVNode("",!0)])]),e.createElementVNode("view",{class:"prompt-bottom-content has-btn"},[e.createElementVNode("view",{class:"roomList"},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(s.editRoomList,((l,o)=>(e.openBlock(),e.createElementBlock("view",{class:e.normalizeClass(["item",,t.arraySearch(l.id,s.editRoomIds)>-1?"selected":""]),"data-index":o,onClick:a[15]||(a[15]=(...e)=>i.selectRoom&&i.selectRoom(...e))},[e.createTextVNode(e.toDisplayString(l.name),1),""!=l.token?(e.openBlock(),e.createElementBlock("text",{key:0,class:"mergeRoomIcon"},"组")):e.createCommentVNode("",!0)],10,["data-index"])))),256)),s.editRoomList.length<1?(e.openBlock(),e.createElementBlock("view",{key:0,class:"noData"},[e.createElementVNode("i",{class:"iconfont icon-kongshuju"}),e.createTextVNode(" 暂无数据 ")])):e.createCommentVNode("",!0)])]),e.createElementVNode("view",{class:"prompt-bottom-btn style2 IOSBottom"},[e.createElementVNode("view",{class:"btn-item-two bg-greys-JB",onClick:a[16]||(a[16]=(...e)=>i.closeRoomBox&&i.closeRoomBox(...e))},"取消"),e.createElementVNode("view",{class:"btn-item-two bg-orange-JB",onClick:a[17]||(a[17]=(...e)=>i.sureRoom&&i.sureRoom(...e))},"确定")])])),_:1},8,["isOpen","onClose"]),e.createVNode(r,{isOpen:s.isOpenCrmBox,onClose:i.closeCrmBox},{default:e.withCtx((()=>[e.createElementVNode("view",{class:"prompt-title"},[e.createElementVNode("text",null,"会员"),e.createElementVNode("text",{class:"clearBtn red",onClick:a[18]||(a[18]=(...e)=>i.clearCrm&&i.clearCrm(...e))},"清空"),e.createElementVNode("view",{class:"searchRow"},[e.withDirectives(e.createElementVNode("input",{type:"text",class:"input","onUpdate:modelValue":a[19]||(a[19]=e=>s.editCrmTxt=e),placeholder:"会员卡号或手机号码",maxlength:"50"},null,512),[[e.vModelText,s.editCrmTxt]]),e.createElementVNode("text",{class:"searchBtn bg-orange","data-type":"getCrmList",onClick:a[20]||(a[20]=(...e)=>i.goSearch&&i.goSearch(...e))},"搜索"),""!=s.editCrmTxt?(e.openBlock(),e.createElementBlock("text",{key:0,class:"iconfont icon-shibai1","data-type":"getCrmList","data-key":"editCrmTxt",onClick:a[21]||(a[21]=(...e)=>i.clearSearch&&i.clearSearch(...e))})):e.createCommentVNode("",!0)])]),e.createElementVNode("view",{class:"prompt-bottom-content has-btn"},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(s.editCrmList,((t,l)=>(e.openBlock(),e.createElementBlock("view",{class:e.normalizeClass(["crmItem",s.editCrm.id==t.id?"selected":""]),"data-index":l,onClick:a[22]||(a[22]=(...e)=>i.selectCrm&&i.selectCrm(...e))},[e.createElementVNode("view",{class:"crmImg"},[e.createElementVNode("image",{class:"filled-image",mode:"aspectFill",src:t.head_img},null,8,["src"])]),e.createElementVNode("view",{class:"crmDetail"},[e.createElementVNode("view",{class:"name"},e.toDisplayString(t.name)+" / "+e.toDisplayString(t.phone),1),e.createElementVNode("view",{class:"card"},e.toDisplayString(t.vipCard),1),e.createElementVNode("view",{class:"wallet"},[e.createElementVNode("view",{class:"money"},[e.createElementVNode("text",{class:"iconfont icon-yinhangqia-xianxing"}),e.createElementVNode("text",{class:"red"},e.toDisplayString(t.allBalance),1)]),e.createElementVNode("view",{class:"coupon"},[e.createElementVNode("text",{class:"iconfont icon-youhuiquan2"}),e.createElementVNode("text",{class:"red"},e.toDisplayString(t.couponNum),1)])])]),e.createElementVNode("text",{class:"crmRank orange"},e.toDisplayString(t.rank),1)],10,["data-index"])))),256)),s.editCrmList.length<1?(e.openBlock(),e.createElementBlock("view",{key:0,class:"noData"},[e.createElementVNode("i",{class:"iconfont icon-kongshuju"}),e.createTextVNode(" 暂无数据 ")])):e.createCommentVNode("",!0)]),e.createElementVNode("view",{class:"prompt-bottom-btn style2 IOSBottom"},[e.createElementVNode("view",{class:"btn-item-two bg-greys-JB",onClick:a[23]||(a[23]=(...e)=>i.closeCrmBox&&i.closeCrmBox(...e))},"取消"),e.createElementVNode("view",{class:"btn-item-two bg-orange-JB",onClick:a[24]||(a[24]=(...e)=>i.sureCrm&&i.sureCrm(...e))},"确定")])])),_:1},8,["isOpen","onClose"]),e.createVNode(r,{isOpen:s.isOpenDisBox,onClose:i.closeDisBox},{default:e.withCtx((()=>[e.createElementVNode("view",{class:"prompt-title"},[e.createElementVNode("text",null,"优惠明细"),e.createElementVNode("text",{class:"iconfont icon-guanbi red close-icon",onClick:a[25]||(a[25]=(...e)=>i.closeDisBox&&i.closeDisBox(...e))})]),e.createElementVNode("view",{class:"prompt-bottom-content has-btn"},[s.jingSangMoney>0?(e.openBlock(),e.createElementBlock("view",{key:0,class:"disItem"},[e.createElementVNode("checkbox",{class:"checkbox",checked:"true",disabled:"true",color:"#999"}),e.createElementVNode("text",{class:"txt"},"免净桑"),e.createElementVNode("text",{class:"right orange"},"- "+e.toDisplayString(s.jingSangMoney),1)])):e.createCommentVNode("",!0),s.user.discount>0?(e.openBlock(),e.createElementBlock("view",{key:1,class:"disItem"},[e.createElementVNode("checkbox",{class:"checkbox",checked:"true",disabled:"true",color:"#999"}),e.createElementVNode("text",{class:"txt"},"折扣"),e.createElementVNode("text",{class:"txt gray"},e.toDisplayString(s.crmDisText),1),e.createElementVNode("text",{class:"right orange"},"- "+e.toDisplayString(s.memberDiscount),1)])):e.createCommentVNode("",!0),1==s.hasCoupon?(e.openBlock(),e.createElementBlock("view",{key:2,class:"disItem"},[e.createElementVNode("checkbox",{class:"checkbox",checked:"true",disabled:"true",color:"#999"}),e.createElementVNode("text",{class:"txt"},"小程序优惠券"),e.createElementVNode("text",{class:"txt orange",onClick:a[26]||(a[26]=(...e)=>i.openCouponBox&&i.openCouponBox(...e))},"请选择"),s.couponMoney>0?(e.openBlock(),e.createElementBlock("text",{key:0,class:"right orange"},"- "+e.toDisplayString(s.couponMoney),1)):e.createCommentVNode("",!0)])):e.createCommentVNode("",!0),1==s.payConfig.is_free?(e.openBlock(),e.createElementBlock("checkbox-group",{key:3,class:"disItem","data-type":"isFree",onChange:a[31]||(a[31]=(...e)=>i.jianmSet&&i.jianmSet(...e))},[e.createElementVNode("checkbox",{class:"checkbox",color:"#f00",checked:1==s.isFree},null,8,["checked"]),e.createElementVNode("text",{class:"txt"},"减免"),1==s.isFree?(e.openBlock(),e.createElementBlock("view",{key:0,class:"jianMian"},[e.createElementVNode("text",{class:"iconfont icon-53","data-type":"1",onClick:a[27]||(a[27]=(...e)=>i.addReduceRelief&&i.addReduceRelief(...e))}),e.withDirectives(e.createElementVNode("input",{class:"input",type:"number","onUpdate:modelValue":a[28]||(a[28]=e=>s.freeMoney=e),maxlength:"5",placeholder:"金额"},null,512),[[e.vModelText,s.freeMoney]]),e.createElementVNode("text",{class:"iconfont icon-54","data-type":"2",onClick:a[29]||(a[29]=(...e)=>i.addReduceRelief&&i.addReduceRelief(...e))})])):e.createCommentVNode("",!0),1==s.isFree?(e.openBlock(),e.createElementBlock("text",{key:1,class:"jianMianUnit"},"元")):e.createCommentVNode("",!0),1==s.isFree?(e.openBlock(),e.createElementBlock("picker",{key:2,class:"zheKou",onChange:a[30]||(a[30]=(...e)=>i.changeZheKou&&i.changeZheKou(...e)),range:s.zheKouList,"range-key":"name"},[e.createElementVNode("text",{class:"t"},e.toDisplayString(s.freeDiscount>0?s.freeDiscount+"折":"折扣"),1),e.createElementVNode("text",{class:"iconfont icon-xia"})],40,["range"])):e.createCommentVNode("",!0),1==s.isFree?(e.openBlock(),e.createElementBlock("view",{key:3,class:"jianMianTips red"},"小费不参与减免，本单最高可减免"+e.toDisplayString(s.maxFreeMoney)+"元",1)):e.createCommentVNode("",!0),1==s.isFree?(e.openBlock(),e.createElementBlock("view",{key:4,class:"jianMianRow"},[e.createElementVNode("text",{class:"t"},"说明"),e.createElementVNode("input",{class:"input",type:"text",value:"",maxlength:"100"})])):e.createCommentVNode("",!0),s.freeMoney>0&&1==s.isFree?(e.openBlock(),e.createElementBlock("text",{key:5,class:"right right2 orange"},"- "+e.toDisplayString(s.freeMoney),1)):e.createCommentVNode("",!0)],32)):e.createCommentVNode("",!0),1==s.payConfig.is_reduce?(e.openBlock(),e.createElementBlock("checkbox-group",{key:4,class:"disItem","data-type":"moling",onChange:a[32]||(a[32]=(...e)=>i.jianmSet&&i.jianmSet(...e))},[e.createElementVNode("checkbox",{class:"checkbox",color:"#f00",checked:1==s.isRound},null,8,["checked"]),e.createElementVNode("text",{class:"txt"},"抹零"),1==s.isRound?(e.openBlock(),e.createElementBlock("text",{key:0,class:"right orange"},"- "+e.toDisplayString(s.roundMoney),1)):e.createCommentVNode("",!0)],32)):e.createCommentVNode("",!0),(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(s.discountList,((t,l)=>(e.openBlock(),e.createElementBlock("checkbox-group",{class:"disItem","data-type":t.id,"data-index":l,onChange:a[35]||(a[35]=(...e)=>i.jianmSet&&i.jianmSet(...e))},[e.createElementVNode("checkbox",{class:"checkbox",color:"#f00",checked:1==t.selected},null,8,["checked"]),e.createElementVNode("text",{class:"txt"},e.toDisplayString(t.name),1),1==t.selected&&1==t.input_num?(e.openBlock(),e.createElementBlock("view",{key:0,class:"inputItem inputItem2"},[e.createElementVNode("input",{class:"input",type:"number",value:t.nums,maxlength:"2","data-index":l,"data-key":"nums",onInput:a[33]||(a[33]=(...e)=>i.inputDiscount&&i.inputDiscount(...e))},null,40,["value","data-index"]),e.createElementVNode("text",{class:"unit"},"张"),e.createElementVNode("text",{class:"line"},"-")])):e.createCommentVNode("",!0),1==t.selected?(e.openBlock(),e.createElementBlock("view",{key:1,class:"inputItem"},[e.createElementVNode("input",{class:"input",type:"number",value:t.money,maxlength:"5",placeholder:"金额","data-index":l,"data-key":"money",onInput:a[34]||(a[34]=(...e)=>i.inputDiscount&&i.inputDiscount(...e))},null,40,["value","data-index"]),e.createElementVNode("text",{class:"unit"},"元")])):e.createCommentVNode("",!0)],40,["data-type","data-index"])))),256))]),e.createElementVNode("view",{class:"prompt-bottom-btn style2 IOSBottom"},[e.createElementVNode("view",{class:"btn-item bg-orange-JB",onClick:a[36]||(a[36]=(...e)=>i.closeDisBox&&i.closeDisBox(...e))},"确定")])])),_:1},8,["isOpen","onClose"]),e.createVNode(r,{isOpen:s.isOpenPayTypeBox,shadowClose:!1,onClose:i.closePayTypeBox},{default:e.withCtx((()=>[e.createElementVNode("view",{class:"prompt-title"},[e.createElementVNode("text",null,"付款明细"),e.createElementVNode("text",{class:"remainPay"},"剩余应付：￥"+e.toDisplayString(i.countRemainPayMoney),1)]),e.createElementVNode("view",{class:"prompt-bottom-content has-btn"},[e.createElementVNode("view",{class:"payTypeDetail"},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(s.payMoneyList,((t,l)=>(e.openBlock(),e.createElementBlock("view",{key:t.type,class:"item"},[e.createElementVNode("text",{class:"txt"},e.toDisplayString(t.name),1),9==t.type?(e.openBlock(),e.createElementBlock("text",{key:0,class:"txt gray"},"余额 ￥"+e.toDisplayString(s.user.wallet),1)):e.createCommentVNode("",!0),1==t.cur_type&&t.money>0?(e.openBlock(),e.createElementBlock("text",{key:1,class:"txt gray"},"折算 ￥"+e.toDisplayString(t.money),1)):e.createCommentVNode("",!0),1==t.input_num?(e.openBlock(),e.createElementBlock("view",{key:2,class:"inputItem inputItem2"},[e.createElementVNode("input",{class:"input",type:"number",value:t.nums,"data-index":l,onInput:a[37]||(a[37]=(...e)=>i.payTypeInputNum&&i.payTypeInputNum(...e)),maxlength:"2"},null,40,["value","data-index"]),e.createElementVNode("text",{class:"unit"},"张"),e.createElementVNode("text",{class:"line"},"-")])):e.createCommentVNode("",!0),e.createElementVNode("view",{class:"inputItem"},[e.createElementVNode("input",{class:"input",type:"number",value:t.cur_money,maxlength:"8","data-index":l,onInput:a[38]||(a[38]=(...e)=>i.payTypeInput&&i.payTypeInput(...e))},null,40,["value","data-index"]),e.createElementVNode("text",{class:"unit"},"元")]),e.createElementVNode("text",{class:"iconfont icon-shibai1 red","data-index":l,onClick:a[39]||(a[39]=(...e)=>i.delPayType&&i.delPayType(...e))},null,8,["data-index"])])))),128)),e.createElementVNode("view",{class:"IOSBottom"})]),e.createElementVNode("swiper",{class:"payTypeList IOSBottom","indicator-dots":!0},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(s.payTypeList,((l,o)=>(e.openBlock(),e.createElementBlock("swiper-item",null,[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(l,((l,o)=>(e.openBlock(),e.createElementBlock(e.Fragment,null,[9==l.id?(e.openBlock(),e.createElementBlock("view",{key:0,class:e.normalizeClass(["payTypeItem",s.user.id>0?"":"bg-gray",t.arraySearch(l.id,s.selPayType)>-1?"selected":""]),"data-type":l.id,onClick:a[40]||(a[40]=e=>s.user.id>0&&i.setPayType(e))},e.toDisplayString(l.name),11,["data-type"])):e.createCommentVNode("",!0),9!=l.id?(e.openBlock(),e.createElementBlock("view",{key:1,class:e.normalizeClass(["payTypeItem",t.arraySearch(l.id,s.selPayType)>-1?"selected":""]),"data-type":l.id,onClick:a[41]||(a[41]=(...e)=>i.setPayType&&i.setPayType(...e))},e.toDisplayString(l.name),11,["data-type"])):e.createCommentVNode("",!0)],64)))),256))])))),256))])]),e.createElementVNode("view",{class:"prompt-bottom-btn style2 IOSBottom"},[e.createElementVNode("view",{class:"btn-item-two bg-grey-JB",onClick:a[42]||(a[42]=(...e)=>i.clearPayType&&i.clearPayType(...e))},"取消"),e.createElementVNode("view",{class:"btn-item-two bg-orange-JB",onClick:a[43]||(a[43]=(...e)=>i.surePayType&&i.surePayType(...e))},"确定")])])),_:1},8,["isOpen","onClose"]),e.createVNode(r,{isOpen:s.isOpenCouponBox,onClose:i.closeCouponBox},{default:e.withCtx((()=>[e.createElementVNode("view",{class:"prompt-title"},[e.createElementVNode("text",null,"使用优惠券"),e.createElementVNode("text",{class:"iconfont icon-guanbi red close-icon",onClick:a[44]||(a[44]=(...e)=>i.closeCouponBox&&i.closeCouponBox(...e))})]),e.createElementVNode("view",{class:"prompt-bottom-content has-btn couponProjectBox"},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(s.setCoupon.list,((t,l)=>(e.openBlock(),e.createElementBlock("view",{class:"box",key:t.id},[e.createElementVNode("view",{class:"detailLcardRow"},[e.createElementVNode("text",{class:"txt"},e.toDisplayString(t.origin_lcard_name),1),e.createElementVNode("view",{class:"money red"},[e.createElementVNode("text",{class:"i"},"￥"),e.createTextVNode(e.toDisplayString(t.should_pay),1)])]),e.createElementVNode("view",{class:"couponProjectList"},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(t.list,((t,o)=>(e.openBlock(),e.createElementBlock("view",{class:"couponProjectItem"},[e.createElementVNode("view",{class:"txt"},[e.createTextVNode("项"),e.createElementVNode("text",{class:"txt-3"}),e.createTextVNode("目："+e.toDisplayString(t.name),1),t.num>1?(e.openBlock(),e.createElementBlock("text",{key:0}," x"+e.toDisplayString(t.num),1)):e.createCommentVNode("",!0),1==t.p_price_type?(e.openBlock(),e.createElementBlock("text",{key:1,class:"red"},"（加钟）")):e.createCommentVNode("",!0)]),e.createElementVNode("view",{class:"txt"},[e.createTextVNode("金"),e.createElementVNode("text",{class:"txt-3"}),e.createTextVNode("额："),e.createElementVNode("text",{class:"red"},"¥"+e.toDisplayString(t.real_pay),1),e.createTextVNode(),t.real_pay<t.should_pay?(e.openBlock(),e.createElementBlock("text",{key:0,class:"gray zhonghuaxian"},"¥"+e.toDisplayString(t.should_pay),1)):e.createCommentVNode("",!0)]),e.createElementVNode("view",{class:"txt"},[e.createTextVNode("使用券："),e.createElementVNode("text",{class:"orange"},e.toDisplayString(t.couponName),1)]),e.createElementVNode("text",{class:"couponBtn","data-index":l,"data-index2":o,onClick:a[45]||(a[45]=(...e)=>i.openSetCouponBox&&i.openSetCouponBox(...e))},"手动选券",8,["data-index","data-index2"])])))),256))])])))),128)),e.createElementVNode("view",{class:"pb20"}),e.createElementVNode("view",{class:"IOSBottom"})]),e.createElementVNode("view",{class:"prompt-bottom-btn style2 IOSBottom"},[e.createElementVNode("view",{class:"btn-item-two bg-grey-JB",onClick:a[46]||(a[46]=(...e)=>i.closeCouponBox&&i.closeCouponBox(...e))},"取消"),e.createElementVNode("view",{class:"btn-item-two bg-orange-JB",onClick:a[47]||(a[47]=(...e)=>i.sureCoupon&&i.sureCoupon(...e))},"确定")])])),_:1},8,["isOpen","onClose"]),e.createVNode(r,{isOpen:s.isOpenSetCouponBox,onClose:i.closeSetCouponBox},{default:e.withCtx((()=>[e.createElementVNode("view",{class:"prompt-title"},[e.createElementVNode("text",null,"选择优惠券"),e.createElementVNode("text",{class:"iconfont icon-guanbi red close-icon",onClick:a[48]||(a[48]=(...e)=>i.closeSetCouponBox&&i.closeSetCouponBox(...e))})]),e.createElementVNode("view",{class:"prompt-bottom-content has-btn"},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(s.couponList,((l,o)=>(e.openBlock(),e.createElementBlock("view",{class:e.normalizeClass(["couponItem",t.arraySearch(l.id,s.selectCouponIds)>-1?"selected":""]),"data-index":o,onClick:a[49]||(a[49]=(...e)=>i.selectCoupon&&i.selectCoupon(...e))},[e.createElementVNode("view",{class:"l"},[e.createElementVNode("text",{class:"i"},"￥"),e.createElementVNode("text",{class:"txt"},e.toDisplayString(l.money),1)]),e.createElementVNode("view",{class:"r"},[e.createElementVNode("view",{class:"condition"},e.toDisplayString(l.condition),1),e.createElementVNode("view",{class:"deadline"},e.toDisplayString(l.deadline),1)])],10,["data-index"])))),256)),s.couponList.length<1?(e.openBlock(),e.createElementBlock("view",{key:0,class:"noData"},[e.createElementVNode("i",{class:"iconfont icon-kongshuju"}),e.createTextVNode(" 当前项目暂无可用卡券 ")])):e.createCommentVNode("",!0),e.createElementVNode("view",{class:"pb20"}),e.createElementVNode("view",{class:"IOSBottom"})]),e.createElementVNode("view",{class:"prompt-bottom-btn style2 IOSBottom"},[e.createElementVNode("view",{class:"btn-item-two bg-grey-JB",onClick:a[50]||(a[50]=(...e)=>i.closeSetCouponBox&&i.closeSetCouponBox(...e))},"取消"),e.createElementVNode("view",{class:"btn-item-two bg-orange-JB",onClick:a[51]||(a[51]=(...e)=>i.sureSetCoupon&&i.sureSetCoupon(...e))},"确定")])])),_:1},8,["isOpen","onClose"]),s.isOpenCheckCrmBox?(e.openBlock(),e.createElementBlock("view",{key:0,class:"prompt"},[e.createElementVNode("view",{class:"prompt-shadow"}),e.createElementVNode("view",{class:"prompt-box-w90 pos-middle",style:{top:"40%"}},[e.createElementVNode("view",{class:"prompt-title"},[e.createElementVNode("text",null,"会员卡验证")]),e.createElementVNode("view",{class:"checkCrmBox"},[e.createElementVNode("view",{class:"checkCrmRow"},[e.createElementVNode("text",{class:"label"},"会员信息"),e.createElementVNode("view",{class:"detail"},e.toDisplayString(this.user.name)+" / "+e.toDisplayString(this.user.phone),1)]),e.createElementVNode("view",{class:"checkCrmRow"},[e.createElementVNode("text",{class:"label"},"验证方式"),e.createElementVNode("view",{class:"detail"},[1==s.user.check||3==s.user.check?(e.openBlock(),e.createElementBlock("text",{key:0,class:e.normalizeClass(["checkCrmType",1==s.checkCrmType?"selected":""]),"data-type":"1",onClick:a[52]||(a[52]=(...e)=>i.changeCheckCrmType&&i.changeCheckCrmType(...e))},"密码",2)):e.createCommentVNode("",!0),2==s.user.check||3==s.user.check?(e.openBlock(),e.createElementBlock("text",{key:1,class:e.normalizeClass(["checkCrmType",2==s.checkCrmType?"selected":""]),"data-type":"2",onClick:a[53]||(a[53]=(...e)=>i.changeCheckCrmType&&i.changeCheckCrmType(...e))},"验证码",2)):e.createCommentVNode("",!0)])]),1==s.checkCrmType?(e.openBlock(),e.createElementBlock("view",{key:0,class:"checkCrmRow"},[e.createElementVNode("text",{class:"label"},"卡密码"),e.createElementVNode("view",{class:"detail"},[e.withDirectives(e.createElementVNode("input",{class:"input",type:"safe-password",password:"true","onUpdate:modelValue":a[54]||(a[54]=e=>s.checkPwd=e),maxlength:"50"},null,512),[[e.vModelText,s.checkPwd]])])])):e.createCommentVNode("",!0),2==s.checkCrmType?(e.openBlock(),e.createElementBlock("view",{key:1,class:"checkCrmRow"},[e.createElementVNode("text",{class:"label"},"验证码"),e.createElementVNode("view",{class:"detail"},[e.withDirectives(e.createElementVNode("input",{class:"input short",type:"number","onUpdate:modelValue":a[55]||(a[55]=e=>s.checkCode=e),maxlength:"6"},null,512),[[e.vModelText,s.checkCode]]),s.checkCrmSec<=0?(e.openBlock(),e.createElementBlock("text",{key:0,class:"codeBtn orange",onClick:a[56]||(a[56]=(...e)=>i.getCheckCrmCode&&i.getCheckCrmCode(...e))},"获取验证码")):e.createCommentVNode("",!0),s.checkCrmSec>0?(e.openBlock(),e.createElementBlock("text",{key:1,class:"codeBtn gray"},"剩余"+e.toDisplayString(s.checkCrmSec)+"秒",1)):e.createCommentVNode("",!0),e.createElementVNode("view",{class:"tips red"},"验证码将发送到 "+e.toDisplayString(s.user.phone),1)])])):e.createCommentVNode("",!0)]),e.createElementVNode("view",{class:"prompt-btn"},[e.createElementVNode("view",{class:"btn-item bg-grey-JB",onClick:a[57]||(a[57]=(...e)=>i.closeCheckCrmBox&&i.closeCheckCrmBox(...e))},"取消"),e.createElementVNode("view",{class:"btn-item bg-orange-JB",onClick:a[58]||(a[58]=(...e)=>i.sureCheckCrm&&i.sureCheckCrm(...e))},"确定")])])])):e.createCommentVNode("",!0),e.createElementVNode("view",{class:"rBomOpBox"},[s.currTop>50?(e.openBlock(),e.createElementBlock("view",{key:0,class:"subBtn IOSMGBottom",onClick:a[59]||(a[59]=(...e)=>i.zhidingBtn&&i.zhidingBtn(...e))},[e.createElementVNode("i",{class:"iconfont icon-fanhuidingbu"})])):e.createCommentVNode("",!0)])],64)}]]);var ha;const ga=n({data:()=>({env:"",isComplete:0,info:{},sec:0,shouldPay:0,discount:0,realPay:0,discountList:[],payTypeList:[],smfkMoney:0,smfkUrl:"",smfkStatus:0,smfkOrderId:"",isSubmit:0,orderIds:[]}),onLoad(e){let t=this;ha=getApp(),this.env="production";this.getOpenerEventChannel().on("postData",(function(e){a("log","at pages/jiezhangsure/jiezhangsure.vue:157",e),t.info=e,t.maidan()}))},methods:{goBack(){uni.navigateBack()},maidan(e=0){let t=this;if(1==t.isSubmit||t.isComplete>0)return ha.showMsg("请勿重复提交"),!1;t.isSubmit=1;let a=ha.copyObject(t.info);0==e&&(a.opType="query"),ha.goPost("jiezhang/suredone",a,(function(a){if(0==e)return t.isSubmit=0,t.shouldPay=a.shouldPay,t.discount=a.discount,t.realPay=a.realPay,t.discountList=a.discountList,t.payTypeList=a.payTypeList,t.smfkMoney=a.smfkMoney,t.smfkUrl=a.smfkUrl,t.smfkOrderId=a.smfkOrderId,""!=t.smfkUrl&&t.smfkMoney>0&&(t.sec=180,t.countSec()),!1;t.jiezhang()}))},surePay(){let e=this;if(1==this.isSubmit)return!1;this.isSubmit=1;let t="是否确认买单结账?";this.smfkMoney>0&&(t="请在核实已扫码付款成功后，再点击确定进行结账"),uni.showModal({title:"温馨提示",content:t,success:t=>{this.isSubmit=0,t.confirm&&e.maidan(1)}})},jiezhang(){let e=this,t={spid:e.info.lcardIds,guaid:"",isSplitLcard:0,payAndFinish:1};ha.goPost("jiezhang/finishorder",t,(function(t){e.orderIds=t.orderid,e.isComplete=2}),(function(t){e.isComplete=1}))},countSec(){let e=this;if(e.sec<=0)return!1;setTimeout((function(){e.sec--,e.countSec()}),1e3)},getFuKuanUrl(){let e=this;e.updateQrcodeStatus({callBack:function(t){if(1==t)return ha.showMsg("当前已扫码支付成功，不需要重新获取"),!1;e.maidan()}})},goHome(){uni.reLaunch({url:"/pages/index/index"})},doPrint(){let e={ids:this.orderIds,type:4};ha.goPost("jiezhang/dywin",e,(function(e){}))},updateQrcodeStatus(e){let t=this,a=e.hasOwnProperty("callBack")?e.callBack:null,l={orderid:t.smfkOrderId};ha.goPost("jiezhang/updateqrcodestatus",l,(function(e){if(t.smfkStatus=e.status,"function"==typeof a)return a(e.status),!1;ha.showMsg(e.msg)}))}}},[["render",function(t,a,l,o,n,s){return e.openBlock(),e.createElementBlock(e.Fragment,null,[0==n.isComplete?(e.openBlock(),e.createElementBlock("view",{key:0,class:"content",style:e.normalizeStyle({top:("development"==n.env?"53":"0")+"px"})},[e.createElementVNode("view",{class:"box"},[e.createElementVNode("view",{class:"info"},"应付金额：￥"+e.toDisplayString(n.shouldPay),1)]),e.createElementVNode("view",{class:"box"},[e.createElementVNode("view",{class:"titleRow"},[e.createElementVNode("text",{class:"txt"},"优惠减免"),e.createElementVNode("view",{class:"money red"},[n.discount>0?(e.openBlock(),e.createElementBlock("text",{key:0},"-")):e.createCommentVNode("",!0),e.createElementVNode("text",{class:"i"},"￥"),e.createTextVNode(e.toDisplayString(n.discount),1)])]),(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(n.discountList,((t,a)=>(e.openBlock(),e.createElementBlock("view",{class:"info"},[e.createTextVNode(e.toDisplayString(t.name),1),t.nums>0?(e.openBlock(),e.createElementBlock("text",{key:0},"("+e.toDisplayString(t.nums)+"张)",1)):e.createCommentVNode("",!0),e.createTextVNode("：-￥"+e.toDisplayString(t.money),1)])))),256))]),e.createElementVNode("view",{class:"box"},[e.createElementVNode("view",{class:"titleRow"},[e.createElementVNode("text",{class:"txt"},"付款方式"),e.createElementVNode("view",{class:"money red"},[e.createElementVNode("text",{class:"i"},"￥"),e.createTextVNode(e.toDisplayString(n.realPay),1)])]),(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(n.payTypeList,((t,a)=>(e.openBlock(),e.createElementBlock("view",{class:"info"},[e.createTextVNode(e.toDisplayString(t.name),1),t.nums>0?(e.openBlock(),e.createElementBlock("text",{key:0},"("+e.toDisplayString(t.nums)+"张)",1)):e.createCommentVNode("",!0),e.createTextVNode("：￥"+e.toDisplayString(t.money),1)])))),256))]),n.smfkMoney>0?(e.openBlock(),e.createElementBlock("view",{key:0,class:"box haspad"},[e.createElementVNode("view",{class:"qrcode"},[e.createElementVNode("view",{class:"qrcodeBox"},[e.createElementVNode("image",{class:"hor-image",mode:"widthFix",src:n.smfkUrl},null,8,["src"]),1==n.smfkStatus?(e.openBlock(),e.createElementBlock("view",{key:0,class:"qrcodePaySuc"},[e.createElementVNode("view",{class:"shadow"}),e.createElementVNode("view",{class:"iconfont icon-xuanzhong light-green"}),e.createElementVNode("view",{class:"txt light-green"},"支付成功")])):e.createCommentVNode("",!0)]),e.createElementVNode("view",{class:"qrcodeRefresh orange",onClick:a[0]||(a[0]=(...e)=>s.updateQrcodeStatus&&s.updateQrcodeStatus(...e))},"刷新付款状态")]),e.createElementVNode("view",{class:"qrcodeDetail"},[e.createElementVNode("view",{class:"txt red"},[e.createElementVNode("text",{class:"i"},"￥"),e.createElementVNode("text",{class:"m"},e.toDisplayString(n.smfkMoney),1)]),e.createElementVNode("view",{class:"txt"},"扫码向我付款"),e.createElementVNode("view",{class:"txt red"},"付款码5分钟有效"),n.sec>0?(e.openBlock(),e.createElementBlock("view",{key:0,class:"txt gray"},"重新获取("+e.toDisplayString(n.sec)+")",1)):e.createCommentVNode("",!0),n.sec<=0?(e.openBlock(),e.createElementBlock("view",{key:1,class:"txt orange",onClick:a[1]||(a[1]=(...e)=>s.getFuKuanUrl&&s.getFuKuanUrl(...e))},"重新生成付款码")):e.createCommentVNode("",!0)])])):e.createCommentVNode("",!0),e.createElementVNode("view",{class:"pb80"}),e.createElementVNode("view",{class:"IOSBottom"}),e.createElementVNode("view",{class:"submit bg-white IOSBottom"},[e.createElementVNode("view",{class:"btn btn2 bg-grey-JB",onClick:a[2]||(a[2]=(...e)=>s.goBack&&s.goBack(...e))},"取消"),e.createElementVNode("view",{class:"btn btn2 bg-orange-JB",onClick:a[3]||(a[3]=(...e)=>s.surePay&&s.surePay(...e))},"确定收款")])],4)):e.createCommentVNode("",!0),1==n.isComplete?(e.openBlock(),e.createElementBlock("view",{key:1,class:"content",style:e.normalizeStyle({top:("development"==n.env?"53":"0")+"px"})},[e.createElementVNode("view",{class:"iconfont icon-xuanze sucIcon light-green"}),e.createElementVNode("view",{class:"sucTxt"},"收款成功"),e.createElementVNode("view",{class:"sucTxt2 red"},"锁牌未结账，请下钟后联系主管处理"),e.createElementVNode("view",{class:"sucBtnRow"},[e.createElementVNode("view",{class:"sucBtn bg-reds-JB",onClick:a[4]||(a[4]=(...e)=>s.goHome&&s.goHome(...e))},"回到首页")])],4)):e.createCommentVNode("",!0),2==n.isComplete?(e.openBlock(),e.createElementBlock("view",{key:2,class:"content",style:e.normalizeStyle({top:("development"==n.env?"53":"0")+"px"})},[e.createElementVNode("view",{class:"iconfont icon-xuanze sucIcon light-green"}),e.createElementVNode("view",{class:"sucTxt"},"收款结账成功"),e.createElementVNode("view",{class:"sucBtnRow"},[e.createElementVNode("view",{class:"sucBtn2 bg-orange-JB",onClick:a[5]||(a[5]=(...e)=>s.doPrint&&s.doPrint(...e))},"打印小票"),e.createElementVNode("view",{class:"sucBtn2 bg-reds-JB",onClick:a[6]||(a[6]=(...e)=>s.goHome&&s.goHome(...e))},"回到首页")])],4)):e.createCommentVNode("",!0)],64)}]]);const va=n({data:()=>({}),onLoad(){getApp()},onShow(){},methods:{}},[["render",function(t,a,l,o,n,s){return e.openBlock(),e.createElementBlock("view",{class:"content"},[e.createElementVNode("view",{class:"tableBox"},[e.createElementVNode("view",{class:"table tableLeft",style:{width:"30%"}},[e.createElementVNode("view",{class:"tr"},[e.createElementVNode("view",{class:"th center",style:{width:"100%"}},"列1")]),e.createElementVNode("view",{class:"tr"},[e.createElementVNode("view",{class:"td center",style:{width:"100%"}},"数据")]),e.createElementVNode("view",{class:"tr"},[e.createElementVNode("view",{class:"td center",style:{width:"100%"}},"数据")]),e.createElementVNode("view",{class:"tr"},[e.createElementVNode("view",{class:"td center",style:{width:"100%"}},"数据")])]),e.createElementVNode("view",{class:"table tableRight",style:{width:"70%","padding-left":"30%"}},[e.createElementVNode("view",{class:"tr"},[e.createElementVNode("view",{class:"th center",style:{width:"20vw"}},"列2"),e.createElementVNode("view",{class:"th center",style:{width:"20vw"}},"列2"),e.createElementVNode("view",{class:"th center",style:{width:"20vw"}},"列2"),e.createElementVNode("view",{class:"th center",style:{width:"20vw"}},"列2"),e.createElementVNode("view",{class:"th center",style:{width:"20vw"}},"列2"),e.createElementVNode("view",{class:"th center",style:{width:"20vw"}},"列2"),e.createElementVNode("view",{class:"th center",style:{width:"20vw"}},"列2"),e.createElementVNode("view",{class:"th center",style:{width:"20vw"}},"列2"),e.createElementVNode("view",{class:"th center",style:{width:"20vw"}},"列2"),e.createElementVNode("view",{class:"th center",style:{width:"20vw"}},"列2")]),e.createElementVNode("view",{class:"tr"},[e.createElementVNode("view",{class:"td center",style:{width:"20vw"}},"数据"),e.createElementVNode("view",{class:"td center",style:{width:"20vw"}},"数据"),e.createElementVNode("view",{class:"td center",style:{width:"20vw"}},"数据"),e.createElementVNode("view",{class:"td center",style:{width:"20vw"}},"数据"),e.createElementVNode("view",{class:"td center",style:{width:"20vw"}},"数据"),e.createElementVNode("view",{class:"td center",style:{width:"20vw"}},"数据"),e.createElementVNode("view",{class:"td center",style:{width:"20vw"}},"数据"),e.createElementVNode("view",{class:"td center",style:{width:"20vw"}},"数据"),e.createElementVNode("view",{class:"td center",style:{width:"20vw"}},"数据"),e.createElementVNode("view",{class:"td center",style:{width:"20vw"}},"数据")]),e.createElementVNode("view",{class:"tr"},[e.createElementVNode("view",{class:"td center",style:{width:"20vw"}},"数据"),e.createElementVNode("view",{class:"td center",style:{width:"20vw"}},"数据"),e.createElementVNode("view",{class:"td center",style:{width:"20vw"}},"数据"),e.createElementVNode("view",{class:"td center",style:{width:"20vw"}},"数据"),e.createElementVNode("view",{class:"td center",style:{width:"20vw"}},"数据"),e.createElementVNode("view",{class:"td center",style:{width:"20vw"}},"数据"),e.createElementVNode("view",{class:"td center",style:{width:"20vw"}},"数据"),e.createElementVNode("view",{class:"td center",style:{width:"20vw"}},"数据"),e.createElementVNode("view",{class:"td center",style:{width:"20vw"}},"数据"),e.createElementVNode("view",{class:"td center",style:{width:"20vw"}},"数据")]),e.createElementVNode("view",{class:"tr"},[e.createElementVNode("view",{class:"td center",style:{width:"20vw"}},"数据"),e.createElementVNode("view",{class:"td center",style:{width:"20vw"}},"数据"),e.createElementVNode("view",{class:"td center",style:{width:"20vw"}},"数据"),e.createElementVNode("view",{class:"td center",style:{width:"20vw"}},"数据"),e.createElementVNode("view",{class:"td center",style:{width:"20vw"}},"数据"),e.createElementVNode("view",{class:"td center",style:{width:"20vw"}},"数据"),e.createElementVNode("view",{class:"td center",style:{width:"20vw"}},"数据"),e.createElementVNode("view",{class:"td center",style:{width:"20vw"}},"数据"),e.createElementVNode("view",{class:"td center",style:{width:"20vw"}},"数据"),e.createElementVNode("view",{class:"td center",style:{width:"20vw"}},"数据")])])])])}]]);let ya={};!function(){function e(e){this.mode=l.MODE_8BIT_BYTE,this.data=e}function t(e,t){this.typeNumber=e,this.errorCorrectLevel=t,this.modules=null,this.moduleCount=0,this.dataCache=null,this.dataList=new Array}e.prototype={getLength:function(e){return this.data.length},write:function(e){for(var t=0;t<this.data.length;t++)e.put(this.data.charCodeAt(t),8)}},t.prototype={addData:function(t){var a=new e(t);this.dataList.push(a),this.dataCache=null},isDark:function(e,t){if(e<0||this.moduleCount<=e||t<0||this.moduleCount<=t)throw new Error(e+","+t);return this.modules[e][t]},getModuleCount:function(){return this.moduleCount},make:function(){if(this.typeNumber<1){var e=1;for(e=1;e<40;e++){for(var t=y.getRSBlocks(e,this.errorCorrectLevel),a=new k,l=0,o=0;o<t.length;o++)l+=t[o].dataCount;for(o=0;o<this.dataList.length;o++){var n=this.dataList[o];a.put(n.mode,4),a.put(n.getLength(),p.getLengthInBits(n.mode,e)),n.write(a)}if(a.getLengthInBits()<=8*l)break}this.typeNumber=e}this.makeImpl(!1,this.getBestMaskPattern())},makeImpl:function(e,a){this.moduleCount=4*this.typeNumber+17,this.modules=new Array(this.moduleCount);for(var l=0;l<this.moduleCount;l++){this.modules[l]=new Array(this.moduleCount);for(var o=0;o<this.moduleCount;o++)this.modules[l][o]=null}this.setupPositionProbePattern(0,0),this.setupPositionProbePattern(this.moduleCount-7,0),this.setupPositionProbePattern(0,this.moduleCount-7),this.setupPositionAdjustPattern(),this.setupTimingPattern(),this.setupTypeInfo(e,a),this.typeNumber>=7&&this.setupTypeNumber(e),null==this.dataCache&&(this.dataCache=t.createData(this.typeNumber,this.errorCorrectLevel,this.dataList)),this.mapData(this.dataCache,a)},setupPositionProbePattern:function(e,t){for(var a=-1;a<=7;a++)if(!(e+a<=-1||this.moduleCount<=e+a))for(var l=-1;l<=7;l++)t+l<=-1||this.moduleCount<=t+l||(this.modules[e+a][t+l]=0<=a&&a<=6&&(0==l||6==l)||0<=l&&l<=6&&(0==a||6==a)||2<=a&&a<=4&&2<=l&&l<=4)},getBestMaskPattern:function(){for(var e=0,t=0,a=0;a<8;a++){this.makeImpl(!0,a);var l=p.getLostPoint(this);(0==a||e>l)&&(e=l,t=a)}return t},createMovieClip:function(e,t,a){var l=e.createEmptyMovieClip(t,a);this.make();for(var o=0;o<this.modules.length;o++)for(var n=1*o,s=0;s<this.modules[o].length;s++){var i=1*s;this.modules[o][s]&&(l.beginFill(0,100),l.moveTo(i,n),l.lineTo(i+1,n),l.lineTo(i+1,n+1),l.lineTo(i,n+1),l.endFill())}return l},setupTimingPattern:function(){for(var e=8;e<this.moduleCount-8;e++)null==this.modules[e][6]&&(this.modules[e][6]=e%2==0);for(var t=8;t<this.moduleCount-8;t++)null==this.modules[6][t]&&(this.modules[6][t]=t%2==0)},setupPositionAdjustPattern:function(){for(var e=p.getPatternPosition(this.typeNumber),t=0;t<e.length;t++)for(var a=0;a<e.length;a++){var l=e[t],o=e[a];if(null==this.modules[l][o])for(var n=-2;n<=2;n++)for(var s=-2;s<=2;s++)this.modules[l+n][o+s]=-2==n||2==n||-2==s||2==s||0==n&&0==s}},setupTypeNumber:function(e){for(var t=p.getBCHTypeNumber(this.typeNumber),a=0;a<18;a++){var l=!e&&1==(t>>a&1);this.modules[Math.floor(a/3)][a%3+this.moduleCount-8-3]=l}for(a=0;a<18;a++){l=!e&&1==(t>>a&1);this.modules[a%3+this.moduleCount-8-3][Math.floor(a/3)]=l}},setupTypeInfo:function(e,t){for(var a=this.errorCorrectLevel<<3|t,l=p.getBCHTypeInfo(a),o=0;o<15;o++){var n=!e&&1==(l>>o&1);o<6?this.modules[o][8]=n:o<8?this.modules[o+1][8]=n:this.modules[this.moduleCount-15+o][8]=n}for(o=0;o<15;o++){n=!e&&1==(l>>o&1);o<8?this.modules[8][this.moduleCount-o-1]=n:o<9?this.modules[8][15-o-1+1]=n:this.modules[8][15-o-1]=n}this.modules[this.moduleCount-8][8]=!e},mapData:function(e,t){for(var a=-1,l=this.moduleCount-1,o=7,n=0,s=this.moduleCount-1;s>0;s-=2)for(6==s&&s--;;){for(var i=0;i<2;i++)if(null==this.modules[l][s-i]){var c=!1;n<e.length&&(c=1==(e[n]>>>o&1)),p.getMask(t,l,s-i)&&(c=!c),this.modules[l][s-i]=c,-1==--o&&(n++,o=7)}if((l+=a)<0||this.moduleCount<=l){l-=a,a=-a;break}}}},t.PAD0=236,t.PAD1=17,t.createData=function(e,a,l){for(var o=y.getRSBlocks(e,a),n=new k,s=0;s<l.length;s++){var i=l[s];n.put(i.mode,4),n.put(i.getLength(),p.getLengthInBits(i.mode,e)),i.write(n)}var c=0;for(s=0;s<o.length;s++)c+=o[s].dataCount;if(n.getLengthInBits()>8*c)throw new Error("code length overflow. ("+n.getLengthInBits()+">"+8*c+")");for(n.getLengthInBits()+4<=8*c&&n.put(0,4);n.getLengthInBits()%8!=0;)n.putBit(!1);for(;!(n.getLengthInBits()>=8*c||(n.put(t.PAD0,8),n.getLengthInBits()>=8*c));)n.put(t.PAD1,8);return t.createBytes(n,o)},t.createBytes=function(e,t){for(var a=0,l=0,o=0,n=new Array(t.length),s=new Array(t.length),i=0;i<t.length;i++){var c=t[i].dataCount,r=t[i].totalCount-c;l=Math.max(l,c),o=Math.max(o,r),n[i]=new Array(c);for(var d=0;d<n[i].length;d++)n[i][d]=255&e.buffer[d+a];a+=c;var m=p.getErrorCorrectPolynomial(r),u=new v(n[i],m.getLength()-1).mod(m);s[i]=new Array(m.getLength()-1);for(d=0;d<s[i].length;d++){var h=d+u.getLength()-s[i].length;s[i][d]=h>=0?u.get(h):0}}var g=0;for(d=0;d<t.length;d++)g+=t[d].totalCount;var y=new Array(g),k=0;for(d=0;d<l;d++)for(i=0;i<t.length;i++)d<n[i].length&&(y[k++]=n[i][d]);for(d=0;d<o;d++)for(i=0;i<t.length;i++)d<s[i].length&&(y[k++]=s[i][d]);return y};for(var l={MODE_NUMBER:1,MODE_ALPHA_NUM:2,MODE_8BIT_BYTE:4,MODE_KANJI:8},o={L:1,M:0,Q:3,H:2},n=0,s=1,i=2,c=3,r=4,d=5,m=6,u=7,p={PATTERN_POSITION_TABLE:[[],[6,18],[6,22],[6,26],[6,30],[6,34],[6,22,38],[6,24,42],[6,26,46],[6,28,50],[6,30,54],[6,32,58],[6,34,62],[6,26,46,66],[6,26,48,70],[6,26,50,74],[6,30,54,78],[6,30,56,82],[6,30,58,86],[6,34,62,90],[6,28,50,72,94],[6,26,50,74,98],[6,30,54,78,102],[6,28,54,80,106],[6,32,58,84,110],[6,30,58,86,114],[6,34,62,90,118],[6,26,50,74,98,122],[6,30,54,78,102,126],[6,26,52,78,104,130],[6,30,56,82,108,134],[6,34,60,86,112,138],[6,30,58,86,114,142],[6,34,62,90,118,146],[6,30,54,78,102,126,150],[6,24,50,76,102,128,154],[6,28,54,80,106,132,158],[6,32,58,84,110,136,162],[6,26,54,82,110,138,166],[6,30,58,86,114,142,170]],G15:1335,G18:7973,G15_MASK:21522,getBCHTypeInfo:function(e){for(var t=e<<10;p.getBCHDigit(t)-p.getBCHDigit(p.G15)>=0;)t^=p.G15<<p.getBCHDigit(t)-p.getBCHDigit(p.G15);return(e<<10|t)^p.G15_MASK},getBCHTypeNumber:function(e){for(var t=e<<12;p.getBCHDigit(t)-p.getBCHDigit(p.G18)>=0;)t^=p.G18<<p.getBCHDigit(t)-p.getBCHDigit(p.G18);return e<<12|t},getBCHDigit:function(e){for(var t=0;0!=e;)t++,e>>>=1;return t},getPatternPosition:function(e){return p.PATTERN_POSITION_TABLE[e-1]},getMask:function(e,t,a){switch(e){case n:return(t+a)%2==0;case s:return t%2==0;case i:return a%3==0;case c:return(t+a)%3==0;case r:return(Math.floor(t/2)+Math.floor(a/3))%2==0;case d:return t*a%2+t*a%3==0;case m:return(t*a%2+t*a%3)%2==0;case u:return(t*a%3+(t+a)%2)%2==0;default:throw new Error("bad maskPattern:"+e)}},getErrorCorrectPolynomial:function(e){for(var t=new v([1],0),a=0;a<e;a++)t=t.multiply(new v([1,h.gexp(a)],0));return t},getLengthInBits:function(e,t){if(1<=t&&t<10)switch(e){case l.MODE_NUMBER:return 10;case l.MODE_ALPHA_NUM:return 9;case l.MODE_8BIT_BYTE:case l.MODE_KANJI:return 8;default:throw new Error("mode:"+e)}else if(t<27)switch(e){case l.MODE_NUMBER:return 12;case l.MODE_ALPHA_NUM:return 11;case l.MODE_8BIT_BYTE:return 16;case l.MODE_KANJI:return 10;default:throw new Error("mode:"+e)}else{if(!(t<41))throw new Error("type:"+t);switch(e){case l.MODE_NUMBER:return 14;case l.MODE_ALPHA_NUM:return 13;case l.MODE_8BIT_BYTE:return 16;case l.MODE_KANJI:return 12;default:throw new Error("mode:"+e)}}},getLostPoint:function(e){for(var t=e.getModuleCount(),a=0,l=0;l<t;l++)for(var o=0;o<t;o++){for(var n=0,s=e.isDark(l,o),i=-1;i<=1;i++)if(!(l+i<0||t<=l+i))for(var c=-1;c<=1;c++)o+c<0||t<=o+c||0==i&&0==c||s==e.isDark(l+i,o+c)&&n++;n>5&&(a+=3+n-5)}for(l=0;l<t-1;l++)for(o=0;o<t-1;o++){var r=0;e.isDark(l,o)&&r++,e.isDark(l+1,o)&&r++,e.isDark(l,o+1)&&r++,e.isDark(l+1,o+1)&&r++,0!=r&&4!=r||(a+=3)}for(l=0;l<t;l++)for(o=0;o<t-6;o++)e.isDark(l,o)&&!e.isDark(l,o+1)&&e.isDark(l,o+2)&&e.isDark(l,o+3)&&e.isDark(l,o+4)&&!e.isDark(l,o+5)&&e.isDark(l,o+6)&&(a+=40);for(o=0;o<t;o++)for(l=0;l<t-6;l++)e.isDark(l,o)&&!e.isDark(l+1,o)&&e.isDark(l+2,o)&&e.isDark(l+3,o)&&e.isDark(l+4,o)&&!e.isDark(l+5,o)&&e.isDark(l+6,o)&&(a+=40);var d=0;for(o=0;o<t;o++)for(l=0;l<t;l++)e.isDark(l,o)&&d++;return a+=10*(Math.abs(100*d/t/t-50)/5)}},h={glog:function(e){if(e<1)throw new Error("glog("+e+")");return h.LOG_TABLE[e]},gexp:function(e){for(;e<0;)e+=255;for(;e>=256;)e-=255;return h.EXP_TABLE[e]},EXP_TABLE:new Array(256),LOG_TABLE:new Array(256)},g=0;g<8;g++)h.EXP_TABLE[g]=1<<g;for(g=8;g<256;g++)h.EXP_TABLE[g]=h.EXP_TABLE[g-4]^h.EXP_TABLE[g-5]^h.EXP_TABLE[g-6]^h.EXP_TABLE[g-8];for(g=0;g<255;g++)h.LOG_TABLE[h.EXP_TABLE[g]]=g;function v(e,t){if(null==e.length)throw new Error(e.length+"/"+t);for(var a=0;a<e.length&&0==e[a];)a++;this.num=new Array(e.length-a+t);for(var l=0;l<e.length-a;l++)this.num[l]=e[l+a]}function y(e,t){this.totalCount=e,this.dataCount=t}function k(){this.buffer=new Array,this.length=0}v.prototype={get:function(e){return this.num[e]},getLength:function(){return this.num.length},multiply:function(e){for(var t=new Array(this.getLength()+e.getLength()-1),a=0;a<this.getLength();a++)for(var l=0;l<e.getLength();l++)t[a+l]^=h.gexp(h.glog(this.get(a))+h.glog(e.get(l)));return new v(t,0)},mod:function(e){if(this.getLength()-e.getLength()<0)return this;for(var t=h.glog(this.get(0))-h.glog(e.get(0)),a=new Array(this.getLength()),l=0;l<this.getLength();l++)a[l]=this.get(l);for(l=0;l<e.getLength();l++)a[l]^=h.gexp(h.glog(e.get(l))+t);return new v(a,0).mod(e)}},y.RS_BLOCK_TABLE=[[1,26,19],[1,26,16],[1,26,13],[1,26,9],[1,44,34],[1,44,28],[1,44,22],[1,44,16],[1,70,55],[1,70,44],[2,35,17],[2,35,13],[1,100,80],[2,50,32],[2,50,24],[4,25,9],[1,134,108],[2,67,43],[2,33,15,2,34,16],[2,33,11,2,34,12],[2,86,68],[4,43,27],[4,43,19],[4,43,15],[2,98,78],[4,49,31],[2,32,14,4,33,15],[4,39,13,1,40,14],[2,121,97],[2,60,38,2,61,39],[4,40,18,2,41,19],[4,40,14,2,41,15],[2,146,116],[3,58,36,2,59,37],[4,36,16,4,37,17],[4,36,12,4,37,13],[2,86,68,2,87,69],[4,69,43,1,70,44],[6,43,19,2,44,20],[6,43,15,2,44,16],[4,101,81],[1,80,50,4,81,51],[4,50,22,4,51,23],[3,36,12,8,37,13],[2,116,92,2,117,93],[6,58,36,2,59,37],[4,46,20,6,47,21],[7,42,14,4,43,15],[4,133,107],[8,59,37,1,60,38],[8,44,20,4,45,21],[12,33,11,4,34,12],[3,145,115,1,146,116],[4,64,40,5,65,41],[11,36,16,5,37,17],[11,36,12,5,37,13],[5,109,87,1,110,88],[5,65,41,5,66,42],[5,54,24,7,55,25],[11,36,12],[5,122,98,1,123,99],[7,73,45,3,74,46],[15,43,19,2,44,20],[3,45,15,13,46,16],[1,135,107,5,136,108],[10,74,46,1,75,47],[1,50,22,15,51,23],[2,42,14,17,43,15],[5,150,120,1,151,121],[9,69,43,4,70,44],[17,50,22,1,51,23],[2,42,14,19,43,15],[3,141,113,4,142,114],[3,70,44,11,71,45],[17,47,21,4,48,22],[9,39,13,16,40,14],[3,135,107,5,136,108],[3,67,41,13,68,42],[15,54,24,5,55,25],[15,43,15,10,44,16],[4,144,116,4,145,117],[17,68,42],[17,50,22,6,51,23],[19,46,16,6,47,17],[2,139,111,7,140,112],[17,74,46],[7,54,24,16,55,25],[34,37,13],[4,151,121,5,152,122],[4,75,47,14,76,48],[11,54,24,14,55,25],[16,45,15,14,46,16],[6,147,117,4,148,118],[6,73,45,14,74,46],[11,54,24,16,55,25],[30,46,16,2,47,17],[8,132,106,4,133,107],[8,75,47,13,76,48],[7,54,24,22,55,25],[22,45,15,13,46,16],[10,142,114,2,143,115],[19,74,46,4,75,47],[28,50,22,6,51,23],[33,46,16,4,47,17],[8,152,122,4,153,123],[22,73,45,3,74,46],[8,53,23,26,54,24],[12,45,15,28,46,16],[3,147,117,10,148,118],[3,73,45,23,74,46],[4,54,24,31,55,25],[11,45,15,31,46,16],[7,146,116,7,147,117],[21,73,45,7,74,46],[1,53,23,37,54,24],[19,45,15,26,46,16],[5,145,115,10,146,116],[19,75,47,10,76,48],[15,54,24,25,55,25],[23,45,15,25,46,16],[13,145,115,3,146,116],[2,74,46,29,75,47],[42,54,24,1,55,25],[23,45,15,28,46,16],[17,145,115],[10,74,46,23,75,47],[10,54,24,35,55,25],[19,45,15,35,46,16],[17,145,115,1,146,116],[14,74,46,21,75,47],[29,54,24,19,55,25],[11,45,15,46,46,16],[13,145,115,6,146,116],[14,74,46,23,75,47],[44,54,24,7,55,25],[59,46,16,1,47,17],[12,151,121,7,152,122],[12,75,47,26,76,48],[39,54,24,14,55,25],[22,45,15,41,46,16],[6,151,121,14,152,122],[6,75,47,34,76,48],[46,54,24,10,55,25],[2,45,15,64,46,16],[17,152,122,4,153,123],[29,74,46,14,75,47],[49,54,24,10,55,25],[24,45,15,46,46,16],[4,152,122,18,153,123],[13,74,46,32,75,47],[48,54,24,14,55,25],[42,45,15,32,46,16],[20,147,117,4,148,118],[40,75,47,7,76,48],[43,54,24,22,55,25],[10,45,15,67,46,16],[19,148,118,6,149,119],[18,75,47,31,76,48],[34,54,24,34,55,25],[20,45,15,61,46,16]],y.getRSBlocks=function(e,t){var a=y.getRsBlockTable(e,t);if(null==a)throw new Error("bad rs block @ typeNumber:"+e+"/errorCorrectLevel:"+t);for(var l=a.length/3,o=new Array,n=0;n<l;n++)for(var s=a[3*n+0],i=a[3*n+1],c=a[3*n+2],r=0;r<s;r++)o.push(new y(i,c));return o},y.getRsBlockTable=function(e,t){switch(t){case o.L:return y.RS_BLOCK_TABLE[4*(e-1)+0];case o.M:return y.RS_BLOCK_TABLE[4*(e-1)+1];case o.Q:return y.RS_BLOCK_TABLE[4*(e-1)+2];case o.H:return y.RS_BLOCK_TABLE[4*(e-1)+3];default:return}},k.prototype={get:function(e){var t=Math.floor(e/8);return 1==(this.buffer[t]>>>7-e%8&1)},put:function(e,t){for(var a=0;a<t;a++)this.putBit(1==(e>>>t-a-1&1))},getLengthInBits:function(){return this.length},putBit:function(e){var t=Math.floor(this.length/8);this.buffer.length<=t&&this.buffer.push(0),e&&(this.buffer[t]|=128>>>this.length%8),this.length++}},ya={errorCorrectLevel:o,defaults:{size:354,margin:0,backgroundColor:"#ffffff",foregroundColor:"#000000",fileType:"png",errorCorrectLevel:o.H,typeNumber:-1},make:function(e){return new Promise(((l,o)=>{var n={canvasId:e.canvasId,componentInstance:e.componentInstance,text:e.text,size:this.defaults.size,margin:this.defaults.margin,backgroundColor:this.defaults.backgroundColor,foregroundColor:this.defaults.foregroundColor,fileType:this.defaults.fileType,errorCorrectLevel:this.defaults.errorCorrectLevel,typeNumber:this.defaults.typeNumber};if(e)for(var s in e)n[s]=e[s];(e=n).canvasId?function(){var a=new t(e.typeNumber,e.errorCorrectLevel);a.addData(function(e){for(var t,a="",l=0;l<e.length;l++)(t=e.charCodeAt(l))>=1&&t<=127?a+=e.charAt(l):t>2047?(a+=String.fromCharCode(224|t>>12&15),a+=String.fromCharCode(128|t>>6&63),a+=String.fromCharCode(128|t>>0&63)):(a+=String.fromCharCode(192|t>>6&31),a+=String.fromCharCode(128|t>>0&63));return a}(e.text)),a.make();var n=uni.createCanvasContext(e.canvasId,e.componentInstance);n.setFillStyle(e.backgroundColor),n.fillRect(0,0,e.size,e.size);for(var s=(e.size-2*e.margin)/a.getModuleCount(),i=s,c=0;c<a.getModuleCount();c++)for(var r=0;r<a.getModuleCount();r++){var d=a.isDark(c,r)?e.foregroundColor:e.backgroundColor;n.setFillStyle(d);var m=Math.round(r*s)+e.margin,u=Math.round(c*i)+e.margin,p=Math.ceil((r+1)*s)-Math.floor(r*s),h=Math.ceil((c+1)*s)-Math.floor(c*s);n.fillRect(m,u,p,h)}setTimeout((function(){n.draw(!1,void setTimeout((function(){uni.canvasToTempFilePath({canvasId:e.canvasId,fileType:e.fileType,width:e.size,height:e.size,destWidth:e.size,destHeight:e.size,success:function(t){let a,o=t.tempFilePath;const n=plus.io.convertLocalFileSystemURL(o);let s=new plus.io.FileReader;s.readAsDataURL(n),s.onloadend=t=>{a=t.target.result,e.success&&e.success(a),l(a)}},fail:function(t){e.fail&&e.fail(t),o(t)},complete:function(t){e.complete&&e.complete(t)}},e.componentInstance)}),e.text.length+100))}),150)}():a("error","at static/js/uqrcode.js:1324","uQRCode: Please set canvasId!")}))}}}();const ka=ya;var Na;const wa=n({data:()=>({currentPage:"xunluoplace",page:1,lists:[],moreTxt:"加载中...",hasMore:!0,emptyData:!1,statusBarHeight:0,topNav:[],seach:"",upDetailBool:!0,boxTop:0,currTop:0,zhidingNum:0,isHua:0,qrcodeImg:""}),onLoad(){Na=getApp(),this.statusBarHeight=Na.globalData.topTitleHeight},onShow(){this.getData(!0)},mounted(){},onReady:function(e){},methods:{showQrcode:function(e){var t=this;if(""==e)return!1;Na.showMsg("请稍等","loading"),ka.make({canvasId:"pjQrcode",componentInstance:this,text:e,size:400,margin:10,backgroundColor:"#ffffff",foregroundColor:"#000000",fileType:"jpg",errorCorrectLevel:ka.errorCorrectLevel.H,success:e=>{uni.hideToast(),t.qrcodeImg=e},fail:e=>{uni.hideToast(),a("log","at pages/fwpingjia/theme.vue:158","UQrcode fail",e)}})},closeQrcodeImg(){this.qrcodeImg=""},saveQrcodeImg(){var e=this;let t=e.qrcodeImg;const l=new plus.nativeObj.Bitmap("base64");l.loadBase64Data(t,(function(){const t="_doc/"+(new Date).getTime()+".png";a("log","at pages/fwpingjia/theme.vue:181","saveHeadImgFile",t),l.save(t,{overwrite:!0},(a=>{uni.saveImageToPhotosAlbum({filePath:t,success:function(){Na.showMsg("图片保存成功","success"),l.clear(),e.closeQrcodeImg()}})}),(e=>{Na.showMsg("图片保存失败,请截图保存"),l.clear()}))}),(e=>{Na.showMsg("图片保存失败,请截图保存"),l.clear()}))},startScroll:function(){this.isHua=1},boxscroll:function(e){var t=this,a=e.detail.scrollTop,l=t.currTop,o=t.boxTop;a>l&&0==t.isHua&&a>20&&a<50&&(this.isHua=1),1==t.isHua&&(a>=l?(o-=8)>-49&&(t.boxTop=o):(o+=8)<1&&(t.boxTop=o)),t.currTop=a},zhidingBtn:function(){var e=this;e.boxTop=0,e.isHua=0,e.zhidingNum=1==e.zhidingNum?0:1},sureTop:function(){this.boxTop=0,this.isHua=0},sureBom:function(){this.boxTop=-48,this.isHua=0},changeNav:function(e){uni.redirectTo({url:"/pages/fwpingjia/"+e})},getData(e){let t=this;e&&t.resetSearch();let l=t.page;if(!t.hasMore)return;let o={page:l,seach:t.seach};a("log","at pages/fwpingjia/theme.vue:289","formData",o),Na.goPost("pingjia/getTheme",o,(function(e){t.lists=1==l?e.lists:t.lists.concat(e.lists),t.emptyData=t.lists.length<1;var a="点击加载更多";e.lists.length<e.pageCount&&(t.hasMore=!1,a="到底了"),t.moreTxt=a,t.page=l+1}))},resetSearch:function(e){this.lists=[],this.hasMore=!0,this.page=1},qidai:function(){Na.showMsg("敬请期待")},cliSeaBtn:function(){this.getData(!0)},seachData:function(e){var t=e.currentTarget.dataset.key,a=e.detail.value;this[t]=a,""===a&&this.getData(!0)},clearSeach:function(){let e=this.seach;this.seach="",e&&this.getData(!0)},goBack:function(){uni.navigateBack()},addPlace:function(){uni.navigateTo({url:"/pages/fwpingjia/themeadd"})},goPhb:function(e){let t=this.lists[e];uni.navigateTo({url:"/pages/fwpingjia/ranking?id="+t.id})},editPlace:function(e){return!1},del(e){let t=this,a=t.lists[e].id,l={id:a};uni.showModal({title:"温馨提示",content:"确定要删除吗?",success(e){e.confirm&&Na.goPost("pingjia/themedel",l,(function(e){t.getData(!0)}))}})}}},[["render",function(t,a,l,o,n,s){return e.openBlock(),e.createElementBlock(e.Fragment,null,[e.createElementVNode("view",{class:"totalTop"},[e.createElementVNode("view",{class:"topSeachBox"},[e.createElementVNode("view",{class:"searchBox"},[e.createElementVNode("i",{class:"iconfont icon-sousuo search"}),e.createElementVNode("input",{class:"seaCon",onInput:a[0]||(a[0]=(...e)=>s.seachData&&s.seachData(...e)),type:"text",placeholder:"请输入主题名称","data-key":"seach",value:n.seach},null,40,["value"]),""!=n.seach?(e.openBlock(),e.createElementBlock("i",{key:0,class:"iconfont icon-shibai1 close",onClick:a[1]||(a[1]=(...e)=>s.clearSeach&&s.clearSeach(...e))})):e.createCommentVNode("",!0),e.createElementVNode("view",{class:"seaBtn",onClick:a[2]||(a[2]=(...e)=>s.cliSeaBtn&&s.cliSeaBtn(...e))},"搜索")])])]),e.createElementVNode("scroll-view",{class:"itemList",id:"itemList","scroll-y":"true","scroll-top":n.zhidingNum,onScrolltolower:a[4]||(a[4]=(...e)=>s.sureBom&&s.sureBom(...e)),onScroll:a[5]||(a[5]=(...e)=>s.boxscroll&&s.boxscroll(...e)),onScrolltoupper:a[6]||(a[6]=(...e)=>s.sureTop&&s.sureTop(...e)),onTouchstart:a[7]||(a[7]=(...e)=>s.startScroll&&s.startScroll(...e))},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(n.lists,((t,a)=>(e.openBlock(),e.createElementBlock("view",{class:"item"},[e.createElementVNode("view",{class:"L t"},[e.createTextVNode(e.toDisplayString(t.name),1),e.createElementVNode("text",{class:"pm",onClick:e=>s.goPhb(a)},"查看排名",8,["onClick"])]),e.createElementVNode("view",{class:"Lb",onClick:e=>s.editPlace(a)},[e.createElementVNode("view",{class:"L"},[e.createTextVNode("评价类目"),e.createElementVNode("text",{class:"x"},e.toDisplayString(t.items),1)]),e.createElementVNode("view",{class:"L"},[e.createTextVNode("评价类型"),e.createElementVNode("text",{class:"x"},e.toDisplayString(1==t.type?"普通评价":"定向评价"),1)])],8,["onClick"])])))),256)),n.emptyData?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock("view",{key:0,class:"more",onClick:a[3]||(a[3]=e=>s.getData())},[e.createElementVNode("text",null,e.toDisplayString(n.moreTxt),1)])),e.createElementVNode("view",{class:"clear10"}),n.emptyData?(e.openBlock(),e.createElementBlock("view",{key:1,class:"emptyData"},[e.createElementVNode("view",{class:"icon"},[e.createElementVNode("text",{class:"iconfont icon-kongshuju"})]),e.createElementVNode("view",{class:"txt"},"暂无数据")])):e.createCommentVNode("",!0)],40,["scroll-top"]),e.createElementVNode("view",{class:"rBomOpBox"},[n.currTop>50?(e.openBlock(),e.createElementBlock("view",{key:0,class:"subBtn IOSMGBottom",onClick:a[8]||(a[8]=(...e)=>s.zhidingBtn&&s.zhidingBtn(...e))},[e.createElementVNode("i",{class:"iconfont icon-fanhuidingbu"})])):e.createCommentVNode("",!0)]),e.createElementVNode("view",{class:"qrcode"},[e.createElementVNode("canvas",{"canvas-id":"pjQrcode"})]),""!=n.qrcodeImg?(e.openBlock(),e.createElementBlock("view",{key:0,class:"openBox"},[e.createElementVNode("view",{class:"bg",onClick:a[9]||(a[9]=(...e)=>s.closeQrcodeImg&&s.closeQrcodeImg(...e))}),e.createElementVNode("view",{class:"cenOpen qrcodeImg"},[e.createElementVNode("view",{class:"content"},[e.createElementVNode("view",{class:"title"},[e.createTextVNode(" 评价二维码 "),e.createElementVNode("view",{class:"close",onClick:a[10]||(a[10]=(...e)=>s.closeQrcodeImg&&s.closeQrcodeImg(...e))},[e.createElementVNode("i",{class:"iconfont icon-guanbi"})])]),e.createElementVNode("view",{class:"imgBox"},[e.createElementVNode("image",{class:"img",src:n.qrcodeImg,mode:"aspectFill"},null,8,["src"])]),e.createElementVNode("view",{class:"btns"},[e.createElementVNode("text",{class:"btn",onClick:a[11]||(a[11]=(...e)=>s.saveQrcodeImg&&s.saveQrcodeImg(...e))},"保存二维码")])])])])):e.createCommentVNode("",!0)],64)}]]);var ba;const Ba=n({data:()=>({page:1,lists:[],searchTxt:"",upDetailBool:!0,timeList:[],setTimeKey:0,statusList:[],setStatusKey:0,termList:[],boxTop:0,currTop:0,zhidingNum:0,isHua:0,isSetScreen:"",screenLists:{0:0,1:0}}),onLoad(){ba=getApp(),this.getInitData()},onShow(){this.goSearch()},methods:{chaTime(e){this.setTimeKey=e,this.goSearch()},qrCode(){ba.goPost("staffjoin/getQrCode",{},(function(e){let t=e.url,a=[t];uni.previewImage({current:t,urls:a})}))},goDetail(e){let t=this.lists[e].id;uni.navigateTo({url:"/pages/staffjoindetail/staffjoindetail?id="+t})},goSearch(){this.page=1,this.getData()},clearSearch(){this.searchTxt="",this.page=1,this.getData()},getInitData(){let e=this;ba.goPost("staffjoin/initdata",{},(function(t){e.timeList=t.timeList,e.statusList=t.statusList}))},getData(){let e=this;var t=e.setTimeKey,a=e.statusList.length>0?e.statusList[e.setStatusKey].id:"all";let l={page:e.page,searchTxt:e.searchTxt,setTime:t,status:a};if(0==e.page)return!1;ba.goPost("staffjoin/lists",l,(function(t){1==e.page?e.lists=t.lists:e.lists=e.lists.concat(t.lists),e.page++,t.lists.length<8&&(e.page=0)}))},cliSeaBtn(){this.getData()},clearSeach(){let e=this.searchTxt;this.searchTxt="",e&&this.goSearch()},startScroll:function(){this.isHua=1},boxscroll:function(e){var t=this,a=e.detail.scrollTop,l=t.currTop,o=t.boxTop;a>l&&0==t.isHua&&a>20&&a<50&&(this.isHua=1),1==t.isHua&&(a>=l?(o-=8)>-49&&(t.boxTop=o):(o+=8)<1&&(t.boxTop=o)),t.currTop=a},zhidingBtn:function(){var e=this;e.boxTop=0,e.isHua=0,e.zhidingNum=1==e.zhidingNum?0:1},sureTop:function(){this.boxTop=0,this.isHua=0},sureBom:function(){var e=this;e.boxTop=-48,e.isHua=0,e.getData()},openSearchInfo:function(){var e=this;e.screenLists[0]=e.setTimeKey,e.clearTerm(),e.isSetScreen=1},closeSearchInfo:function(){this.isSetScreen=0},selScreen:function(e,t){this.screenLists[e]=t},resetScreen:function(){this.screenLists={0:0,1:0}},clearTerm(){this.showTermKey="",this.showBg=!1},sureSeach:function(){var e=this,t=e.screenLists;e.setTimeKey=t[0],e.setStatusKey=t[1],e.closeSearchInfo(),e.goSearch()},moreOp(e){let t=this,a=e.currentTarget.dataset.index,l=t.lists[a];l.status;let o=l.isSelf,n=["详情"];1==o&&n.push("删除");let s=ba.showActionSheetParams({itemList:n,success:function(e){switch(n[e.tapIndex]){case"详情":t.goDetail(a);break;case"删除":t.del(a)}}});t.upDetailBool&&(t.upDetailBool=!1,uni.showActionSheet(s),setTimeout((function(){t.upDetailBool=!0}),1e3))},del(e){let t=this;uni.showModal({title:"温馨提示",content:"确定要删除吗?",success(a){if(a.confirm){let a="staffjoin/del",l={id:t.lists[e].id};ba.goPost(a,l,(function(e){setTimeout((function(){t.goSearch()}),1500)}))}}})}}},[["render",function(t,a,l,o,n,s){return e.openBlock(),e.createElementBlock(e.Fragment,null,[e.createElementVNode("view",{class:"topBox",style:e.normalizeStyle("top:"+n.boxTop+"px;")},[e.createElementVNode("view",{class:"searchBox"},[e.createElementVNode("i",{class:"iconfont icon-sousuo search"}),e.withDirectives(e.createElementVNode("input",{class:"seaCon",type:"text",placeholder:"请输入申请人,联系电话,职位","onUpdate:modelValue":a[0]||(a[0]=e=>n.searchTxt=e)},null,512),[[e.vModelText,n.searchTxt]]),""!=n.searchTxt?(e.openBlock(),e.createElementBlock("i",{key:0,class:"iconfont icon-shibai1 close",onClick:a[1]||(a[1]=(...e)=>s.clearSeach&&s.clearSeach(...e))})):e.createCommentVNode("",!0),e.createElementVNode("view",{class:"seaBtn",onClick:a[2]||(a[2]=(...e)=>s.goSearch&&s.goSearch(...e))},"搜索")]),e.createElementVNode("ul",{class:"termBox"},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(n.timeList,((t,a)=>(e.openBlock(),e.createElementBlock("li",{class:e.normalizeClass(n.setTimeKey==a?"onset":""),onClick:e=>s.chaTime(a)},e.toDisplayString(t),11,["onClick"])))),256)),e.createElementVNode("li",{style:{width:"20%",float:"right"}},[e.createElementVNode("view",{onClick:a[3]||(a[3]=(...e)=>s.openSearchInfo&&s.openSearchInfo(...e))},[e.createElementVNode("text",null,[e.createTextVNode(" 筛选"),e.createElementVNode("i",{class:"iconfont icon-shaixuan",style:{color:"#333"}})])])])])],4),e.createElementVNode("scroll-view",{class:"infoListBox",id:"infoListBox","scroll-y":"true","scroll-top":n.zhidingNum,onScrolltolower:a[5]||(a[5]=(...e)=>s.sureBom&&s.sureBom(...e)),style:e.normalizeStyle("top:"+(n.boxTop+82)+"px;"),onScroll:a[6]||(a[6]=(...e)=>s.boxscroll&&s.boxscroll(...e)),onScrolltoupper:a[7]||(a[7]=(...e)=>s.sureTop&&s.sureTop(...e)),onTouchstart:a[8]||(a[8]=(...e)=>s.startScroll&&s.startScroll(...e))},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(n.lists,((t,l)=>(e.openBlock(),e.createElementBlock("view",{class:"infoLists yfBox",key:t.apply_num,"data-index":l,onClick:a[4]||(a[4]=(...e)=>s.moreOp&&s.moreOp(...e))},[e.createElementVNode("view",{class:"listsTop"},[e.createElementVNode("view",{class:"listsTopTitle"},e.toDisplayString(t.name),1),e.createElementVNode("view",{class:e.normalizeClass(["listsTopMoney",t.statusClass])},[e.createElementVNode("text",null,e.toDisplayString(t.statusTxt),1)],2)]),e.createElementVNode("view",{class:"listsContent"},[e.createElementVNode("view",{class:"listsConName"},"申请职位"),e.createElementVNode("view",{class:"listsConInfo"},e.toDisplayString(t.post),1)]),e.createElementVNode("view",{class:"listsContent"},[e.createElementVNode("view",{class:"listsConName"},"联系电话"),e.createElementVNode("view",{class:"listsConInfo"},e.toDisplayString(t.phone),1)]),e.createElementVNode("view",{class:"listsContent"},[e.createElementVNode("view",{class:"listsConName"},"申请时间"),e.createElementVNode("view",{class:"listsConInfo"},e.toDisplayString(t.addtime),1)])],8,["data-index"])))),128)),n.lists.length>0&&0==n.page?(e.openBlock(),e.createElementBlock("view",{key:0,class:"daoDiLe IOSBottom"},"到底了")):e.createCommentVNode("",!0),0==n.lists.length?(e.openBlock(),e.createElementBlock("view",{key:1,class:"noData"},[e.createElementVNode("i",{class:"iconfont icon-kongshuju"}),e.createTextVNode(" 暂无数据 ")])):e.createCommentVNode("",!0)],44,["scroll-top"]),e.createElementVNode("view",{class:"rBomOpBox"},[e.createElementVNode("view",{class:"subBtn IOSMGBottom",onClick:a[9]||(a[9]=(...e)=>s.qrCode&&s.qrCode(...e))},[e.createElementVNode("i",{class:"iconfont icon-erweima"})]),n.currTop>50?(e.openBlock(),e.createElementBlock("view",{key:0,class:"subBtn IOSMGBottom",onClick:a[10]||(a[10]=(...e)=>s.zhidingBtn&&s.zhidingBtn(...e))},[e.createElementVNode("i",{class:"iconfont icon-fanhuidingbu"})])):e.createCommentVNode("",!0)]),1==n.isSetScreen?(e.openBlock(),e.createElementBlock("view",{key:0,class:"blackBg",onClick:a[11]||(a[11]=(...e)=>s.closeSearchInfo&&s.closeSearchInfo(...e))})):e.createCommentVNode("",!0),1==n.isSetScreen?(e.openBlock(),e.createElementBlock("view",{key:1,class:"screenBox IOSBottom"},[e.createElementVNode("view",{class:"screenTitle"},"筛选"),e.createElementVNode("view",{style:{height:"3rem"}}),e.createElementVNode("view",{class:"screenCon"},[e.createElementVNode("view",{class:"screenTips"},"日期"),e.createElementVNode("view",{class:"screenSetBox"},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(n.timeList,((t,a)=>(e.openBlock(),e.createElementBlock("view",{class:e.normalizeClass(["screenSet",a==n.screenLists[0]?"screenSeted":""]),onClick:e=>s.selScreen(0,a)},e.toDisplayString(t),11,["onClick"])))),256))])]),e.createElementVNode("view",{class:"screenCon"},[e.createElementVNode("view",{class:"screenTips"},"状态"),e.createElementVNode("view",{class:"screenSetBox"},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(n.statusList,((t,a)=>(e.openBlock(),e.createElementBlock("view",{class:e.normalizeClass(["screenSet",a==n.screenLists[1]?"screenSeted":""]),onClick:e=>s.selScreen(1,a)},e.toDisplayString(t.name),11,["onClick"])))),256))])]),e.createElementVNode("view",{style:{height:"3.6rem"}}),e.createElementVNode("view",{class:"screenBtn IOSBottom"},[e.createElementVNode("view",{class:"screenLBtn bg-orange-JB",onClick:a[12]||(a[12]=(...e)=>s.resetScreen&&s.resetScreen(...e))},"重置"),e.createElementVNode("view",{class:"screenRBtn bg-red-JB",onClick:a[13]||(a[13]=(...e)=>s.sureSeach&&s.sureSeach(...e))},"确定")])])):e.createCommentVNode("",!0)],64)}]]);var Ea,fa;const xa=n({data:()=>({sysTipsConfig:{},noReadNum:0,remarkBox:!1,exportBox:!1,exportPdfBool:!0,isExport:!1,id:"",oa_type:"",addStaffType:"",isApproval:!1,showUnred:!0,data:[],reatList:[],csData:"",reply:"",status:1,turnPeople:"",imgLists:[],isUploadImg:!1}),onLoad(e){Ea=getApp(),this.sysTipsConfig=Ea.getInitSysTipsConfig(),this.id=e.id?e.id:"",this.getData();try{fa=t("AppModule")}catch(a){}},onShow(){},methods:{jiShiCall(e){let t=this;if(fa){let a=function(){uni.makePhoneCall({phoneNumber:e})},l=function(){t.refuseAuth("获取通话权限失败")};Ea.getDeviceAuth({permissionID:"CALL",sucBack:a,failBack:l})}else uni.makePhoneCall({phoneNumber:e})},chaIsImg(e){this.isUploadImg=e.detail.value.length>0},getData(){let e=this,t={id:e.id};Ea.goPost("staffjoin/detail",t,(function(t){e.data=t.data,e.isApproval=t.isApproval}))},ask(e){let t=this,a=e.currentTarget.dataset.status;switch(t.status=a,a){case 1:t.reply="同意";break;case 2:t.reply="拒绝";break;case 3:t.reply="通知面试"}t.remarkBox=!0},showExport(e){this.exportBox=!0},closeAsk(){this.remarkBox=!1,this.isUploadImg=!1,this.exportBox=!1,this.imgLists=[]},verify(){let e=this,t=e.status,a=e.reply,l={id:e.id,status:t,reply:a};2!=t||""!=a?Ea.goPost("staffjoin/verify",l,(function(t){e.closeAsk(),setTimeout((function(){e.getData()}),1e3)})):Ea.showMsg("拒绝请输入审批意见")},showImg(){let e=this.data.head_img,t=[e];uni.previewImage({current:e,urls:t})},showApproveImg(e,t,l){let o=this.reatList[e].list[t].picurl;if(o.length>0){let e=[],t=o[l];a("log","at pages/staffjoindetail/staffjoindetail.vue:369",l);for(let a in o)e[a]=o[a];a("log","at pages/staffjoindetail/staffjoindetail.vue:375","urls",e),a("log","at pages/staffjoindetail/staffjoindetail.vue:376","current",t),uni.previewImage({current:t,urls:e})}},onCopy(e){Ea.copyText(e)},imgError:function(e){this.data.oaStatusImg="/static/images/oa/oa_error.png"},previewImage(e){let t=e.currentTarget.dataset.index,a=this.imgLists,l=a[t].url,o=[];for(let n in a)o.push(a[n].url);uni.previewImage({current:l,urls:o})},delImg(e){let t=e.currentTarget.dataset.index;this.imgLists.splice(t,1)},chooseImage:function(e){let t=this,l=t.imgLists.length;l>=5?Ea.showMsg("最多5张图片"):uni.chooseImage({sizeType:["original","compressed"],sourceType:["album","camera"],count:9,success(e){let o=e.tempFilePaths;o.length+l>5?Ea.showMsg("最多5张图片"):Ea.uploadImgMultiple(o,0,1,o.length,(function(e){t.imgLists.push({url:e.url,path:e.path}),a("log","at pages/staffjoindetail/staffjoindetail.vue:450",t.imgLists)}))},fail(e){a("log","at pages/staffjoindetail/staffjoindetail.vue:454",e)}})}}},[["render",function(t,a,o,n,i,c){const r=l(e.resolveDynamicComponent("ydSystemTips"),s);return e.openBlock(),e.createElementBlock(e.Fragment,null,[e.createElementVNode("view",{class:"content"},[e.createElementVNode("view",{class:"rowBox"},[e.createElementVNode("view",{class:"row"},[e.createElementVNode("text",{class:"label"},"审批状态"),e.createElementVNode("view",{class:e.normalizeClass(["txt",i.data.statusClass])},e.toDisplayString(i.data.statusTxt),3)]),e.createElementVNode("view",{class:"row"},[e.createElementVNode("text",{class:"label"},"血缘员工"),e.createElementVNode("view",{class:"txt"},e.toDisplayString(i.data.staffName),1)]),e.createElementVNode("view",{class:"row"},[e.createElementVNode("text",{class:"label"},"申请时间"),e.createElementVNode("view",{class:"txt"},e.toDisplayString(i.data.addtime),1)])]),e.createElementVNode("view",{class:"rowBox"},[e.createElementVNode("view",{class:"row"},[e.createElementVNode("text",{class:"label"},"头像"),e.createElementVNode("view",{class:"imgLists"},[e.createElementVNode("image",{class:"img",src:i.data.head_img,onClick:a[0]||(a[0]=(...e)=>c.showImg&&c.showImg(...e)),mode:"aspectFill"},null,8,["src"])])]),e.createElementVNode("view",{class:"row"},[e.createElementVNode("text",{class:"label"},"姓名"),e.createElementVNode("view",{class:"txt"},e.toDisplayString(i.data.name),1)]),e.createElementVNode("view",{class:"row"},[e.createElementVNode("text",{class:"label"},"性别"),e.createElementVNode("view",{class:"txt"},e.toDisplayString(i.data.sex),1)]),e.createElementVNode("view",{class:"row"},[e.createElementVNode("text",{class:"label"},"手机号码"),e.createElementVNode("view",{class:"txt",onClick:a[1]||(a[1]=e=>c.jiShiCall(i.data.phone))},[e.createTextVNode(e.toDisplayString(i.data.phone)+" ",1),e.createElementVNode("i",{class:"iconfont icon-dianhua blue"})])]),e.createElementVNode("view",{class:"row"},[e.createElementVNode("text",{class:"label"},"学历"),e.createElementVNode("view",{class:"txt"},e.toDisplayString(i.data.ed),1)]),e.createElementVNode("view",{class:"row"},[e.createElementVNode("text",{class:"label"},"申请职位"),e.createElementVNode("view",{class:"txt"},e.toDisplayString(i.data.post),1)]),e.createElementVNode("view",{class:"row"},[e.createElementVNode("text",{class:"label"},"籍贯"),e.createElementVNode("view",{class:"txt"},e.toDisplayString(i.data.native),1)]),e.createElementVNode("view",{class:"row"},[e.createElementVNode("text",{class:"label"},"家庭住址"),e.createElementVNode("view",{class:"txt"},e.toDisplayString(i.data.address),1)]),e.createElementVNode("view",{class:"row"},[e.createElementVNode("text",{class:"label"},"出生年月日"),e.createElementVNode("view",{class:"txt"},e.toDisplayString(i.data.born_time),1)]),e.createElementVNode("view",{class:"row"},[e.createElementVNode("text",{class:"label"},"自我评价"),e.createElementVNode("view",{class:"txt"},e.toDisplayString(i.data.rate),1)]),e.createElementVNode("view",{class:"row"},[e.createElementVNode("text",{class:"label"},"技能/专业"),e.createElementVNode("view",{class:"txt"},e.toDisplayString(i.data.skill),1)]),1==i.data.status||2==i.data.status?(e.openBlock(),e.createElementBlock(e.Fragment,{key:0},[e.createElementVNode("view",{class:"row"},[e.createElementVNode("text",{class:"label"},"审批人"),e.createElementVNode("view",{class:"txt"},e.toDisplayString(i.data.approveName),1)]),e.createElementVNode("view",{class:"row"},[e.createElementVNode("text",{class:"label"},"审批回复"),e.createElementVNode("view",{class:"txt"},e.toDisplayString(i.data.reply),1)]),e.createElementVNode("view",{class:"row"},[e.createElementVNode("text",{class:"label"},"审批时间"),e.createElementVNode("view",{class:"txt"},e.toDisplayString(i.data.apply_time),1)])],64)):e.createCommentVNode("",!0)]),i.isApproval?(e.openBlock(),e.createElementBlock("view",{key:0,class:"foot IOSBottom"},[0==i.data.status||3==i.data.status?(e.openBlock(),e.createElementBlock("view",{key:0,class:"footBtn bg-orange-JB",onClick:a[2]||(a[2]=(...e)=>c.ask&&c.ask(...e)),"data-status":"2"},"拒绝")):e.createCommentVNode("",!0),3==i.data.status?(e.openBlock(),e.createElementBlock("view",{key:1,class:"footBtn bg-red-JB",onClick:a[3]||(a[3]=(...e)=>c.ask&&c.ask(...e)),"data-status":"1"},"同意")):e.createCommentVNode("",!0),0==i.data.status?(e.openBlock(),e.createElementBlock("view",{key:2,class:"footBtn bg-red-JB",onClick:a[4]||(a[4]=(...e)=>c.ask&&c.ask(...e)),"data-status":"3"},"通知面试")):e.createCommentVNode("",!0)])):e.createCommentVNode("",!0)]),i.remarkBox?(e.openBlock(),e.createElementBlock("view",{key:0,class:"openBox"},[e.createElementVNode("view",{class:"bg",onClick:a[5]||(a[5]=(...e)=>c.closeAsk&&c.closeAsk(...e))}),e.createElementVNode("view",{class:"cenOpen alertBox"},[e.createElementVNode("view",{class:"content"},[e.createElementVNode("view",{class:"title"},"审批意见"),e.createElementVNode("view",{class:"openList optBox"},[e.createElementVNode("view",{class:"show-box"},[e.createElementVNode("view",{class:"input"},[e.withDirectives(e.createElementVNode("textarea",{placeholder:"请输入",class:"seaCon","onUpdate:modelValue":a[6]||(a[6]=e=>i.reply=e),"ccursor-spacing":"100"},null,512),[[e.vModelText,i.reply]])])])]),e.createElementVNode("view",{class:"orderFoot"},[e.createElementVNode("text",{class:"btn fl",onClick:a[7]||(a[7]=(...e)=>c.closeAsk&&c.closeAsk(...e))},"取消"),e.createElementVNode("text",{class:"btn fr",onClick:a[8]||(a[8]=(...e)=>c.verify&&c.verify(...e))},"确定")])])])])):e.createCommentVNode("",!0),e.createVNode(r,{config:i.sysTipsConfig,onBtnSure:c.verify,onBtnClose:t.closeSysTips,onBtnBgClose:t.closeSysTips},null,8,["config","onBtnSure","onBtnClose","onBtnBgClose"])],64)}]]);var Va;const Ta=n({components:{"gc-date-picker":L},data:()=>({id:"",type:1,isShowScreen:!1,startTime:"",dateLists:[],dateIndex:0,dateShow:"",peopleLists:["全体成员","我的部门"],peopleIndex:0,jishiLists:[{name:"足道",isSel:!0},{name:"按摩",isSel:!1},{name:"中医",isSel:!0},{name:"单项",isSel:!0},{name:"美容",isSel:!0}],statusSelect:["全部","审核通过","未审核"],statusIndex:0,rankLists:[],myInfo:[],boxTop:0,currTop:0,zhidingNum:0,isHua:0,isSeach:!1,isSetScreen:!1,selTimeType:"start",startTimeShow:"开始时间",startTimeIni:"",endTimeShow:"结束时间",endTimeIni:"",timeValue:"2023-01-01 00:00",isShowTimesel:!1}),onLoad(e){Va=getApp(),this.id=e.id?e.id:"",this.getData()},onShow(){},methods:{getData:function(){let e=this;Va.goPost("Ranking/getRankinkInfo",{},(function(t){a("log","at pages/fwpingjia/ranking.vue:178",t),e.dateLists=t.dateLists,e.dateShow=t.dateLists[0].showText,e.jishiLists=t.jishiLists,e.startTimeIni=t.storeTime,e.endTimeIni=t.storeTime,e.getRankingInfo()}))},getRankingInfo:function(){let e=this,t={id:e.id,sortType:e.type,startTime:"",endTime:"",staffType:e.peopleIndex+1,jishiType:"",status:e.statusIndex};var l=e.jishiLists,o=[],n=!1;for(var s in l)l[s].isSel?o.push(l[s].id):n=!0;if(o=o.join(","),t.jishiType=o,99!=e.dateIndex){var i=e.dateLists[e.dateIndex];t.startTime=i.startTime,t.endTime=i.endTime}else t.startTime=e.startTimeShow,t.endTime=e.endTimeShow;e.peopleIndex>0||e.dateIndex>0||n?e.isSeach=!0:e.isSeach=!1,a("log","at pages/fwpingjia/ranking.vue:234",t),Va.goPost("Pingjia/rankData",t,(function(t){a("log","at pages/fwpingjia/ranking.vue:239",t),e.rankLists=t.lists}))},switchType:function(e){this.type=e,this.getRankingInfo()},openScreen:function(){this.isShowScreen=!0},closeScreen:function(){this.isShowScreen=!1},radioBtn:function(e){var t=this,a=e.currentTarget.dataset.idx,l=e.currentTarget.dataset.idxName;t[l]=a,"dateIndex"==l&&(t.dateShow=t.dateLists[a].showText,t.startTimeShow="开始时间",t.endTimeShow="结束时间")},checkBtn:function(e){var t=e.currentTarget.dataset.idx,a=e.currentTarget.dataset.selName,l=this[a][t].isSel;this[a][t].isSel=!l},btnConfirm(e){this.startTime=e.key},btnCancel(e){a("log","at pages/fwpingjia/ranking.vue:289","取消时间")},reset:function(){var e=this;for(var t in e.dateIndex=0,e.peopleIndex=0,e.jishiLists)e.jishiLists[t].isSel=!0},sureSeach:function(){this.closeScreen(),this.getRankingInfo()},startScroll:function(){this.isHua=1},boxscroll:function(e){var t=this,a=e.detail.scrollTop,l=t.currTop,o=t.boxTop;a>l&&0==t.isHua&&a>20&&a<50&&(this.isHua=1),1==t.isHua&&(a>=l?(o-=8)>-65&&(t.boxTop=o):(o+=8)<1&&(t.boxTop=o)),t.currTop=a},zhidingBtn:function(){var e=this;e.boxTop=0,e.isHua=0,e.zhidingNum=1==e.zhidingNum?0:1},sureTop:function(){this.boxTop=0,this.isHua=0},sureBom:function(){this.boxTop=-64,this.isHua=0},openTimeSel:function(e){var t=this;1==e?(t.selTimeType="start",t.timeValue=t.startTimeShow,"开始时间"==t.startTimeShow&&(t.timeValue=t.startTimeIni)):(t.selTimeType="end",t.timeValue=t.endTimeShow,"结束时间"==t.endTimeShow&&(t.timeValue=t.endTimeIni)),t.isShowTimesel=!0},closeTimeSel:function(){this.isShowTimesel=!1},selTime:function(e){var t=this;t.dateIndex=99,"start"==t.selTimeType?t.startTimeShow=e:"end"==t.selTimeType&&(t.endTimeShow=e)},sureTimeSel:function(){this.closeTimeSel()}}},[["render",function(t,a,o,n,s,i){const c=l(e.resolveDynamicComponent("gc-date-picker"),L);return e.openBlock(),e.createElementBlock(e.Fragment,null,[e.createElementVNode("view",{class:"topImg"},[e.createElementVNode("image",{src:"/static/images/rankingBg.png"})]),e.createElementVNode("view",{class:"typeListsBox",style:e.normalizeStyle(["top:"+(s.boxTop+64)+"px;",-64==s.boxTop?"border-radius: 0px;":""])},[e.createElementVNode("view",{class:e.normalizeClass(["typeBtn",1==s.type?"typeBtnSel":""]),onClick:a[0]||(a[0]=e=>i.switchType(1))},"按好评数",2),e.createElementVNode("view",{class:e.normalizeClass(["shaixuanBtn",s.isSeach?"red":""]),onClick:a[1]||(a[1]=(...e)=>i.openScreen&&i.openScreen(...e))},[e.createElementVNode("text",{class:"iconfont icon-shaixuan1"}),e.createTextVNode(" 筛选")],2)],4),e.createElementVNode("scroll-view",{class:"conListsBox IOSBottom","scroll-y":"true","scroll-top":s.zhidingNum,onScrolltolower:a[2]||(a[2]=(...e)=>i.sureBom&&i.sureBom(...e)),style:e.normalizeStyle("top:"+(s.boxTop+103)+"px;"),onScroll:a[3]||(a[3]=(...e)=>i.boxscroll&&i.boxscroll(...e)),onScrolltoupper:a[4]||(a[4]=(...e)=>i.sureTop&&i.sureTop(...e)),onTouchstart:a[5]||(a[5]=(...e)=>i.startScroll&&i.startScroll(...e))},[e.createElementVNode("view",{class:"rankListsBox"},[e.createElementVNode("view",{class:"ranklists"},[e.createElementVNode("view",{class:"rankNum"},"排名"),e.createElementVNode("view",{class:"rankName"},"姓名"),e.createElementVNode("view",{class:"rankOrder"},"订单数"),e.createElementVNode("view",{class:"rankZong"},"评价数"),e.createElementVNode("view",{class:"rankDxpf"},"定向评分")]),(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(s.rankLists,((t,a)=>(e.openBlock(),e.createElementBlock("view",{class:"ranklists"},[t.rank<4?(e.openBlock(),e.createElementBlock("view",{key:0,class:"rankNum"},[e.createElementVNode("image",{src:"/static/images/ranking"+t.rank+".png"},null,8,["src"])])):e.createCommentVNode("",!0),t.rank>3?(e.openBlock(),e.createElementBlock("view",{key:1,class:"rankNum"},e.toDisplayString(t.rank),1)):e.createCommentVNode("",!0),e.createElementVNode("view",{class:"rankName"},e.toDisplayString(t.name),1),e.createElementVNode("view",{class:"rankOrder"},e.toDisplayString(t.orderCount),1),e.createElementVNode("view",{class:"rankZong"},e.toDisplayString(t.count),1),e.createElementVNode("view",{class:"rankDxpf"},e.toDisplayString(t.markDx),1)])))),256))])],44,["scroll-top"]),s.myInfo.length>0?(e.openBlock(),e.createElementBlock("view",{key:0,class:"IOSBottom",style:{height:"3.5rem"}})):e.createCommentVNode("",!0),s.myInfo.length>0?(e.openBlock(),e.createElementBlock("view",{key:1,class:"myRanking IOSBottom"},[e.createElementVNode("view",{class:"rankNum"},e.toDisplayString(s.myInfo.rank),1),e.createElementVNode("view",{class:"rankName"},e.toDisplayString(s.myInfo.name),1),e.createElementVNode("view",{class:"rankZong bold"},e.toDisplayString(s.myInfo.p_clock),1),e.createElementVNode("view",{class:"rankYe bold"},e.toDisplayString(s.myInfo.money),1)])):e.createCommentVNode("",!0),s.isShowScreen?(e.openBlock(),e.createElementBlock("view",{key:2,class:"blackBg",onClick:a[6]||(a[6]=(...e)=>i.closeScreen&&i.closeScreen(...e))})):e.createCommentVNode("",!0),s.isShowScreen?(e.openBlock(),e.createElementBlock("view",{key:3,class:"shaixuanBox IOSBottom"},[e.createElementVNode("view",{class:"screenCon"},[e.createElementVNode("view",{class:"screenTips"},[e.createTextVNode(" 日期范围 "),e.createElementVNode("view",{class:"screenRTips orange"},e.toDisplayString(s.dateShow),1)]),e.createElementVNode("view",{class:"screenSetBox"},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(s.dateLists,((t,l)=>(e.openBlock(),e.createElementBlock("view",{class:e.normalizeClass(["screenSet",l==s.dateIndex?"screenSeted":""]),"data-idx":l,"data-idxName":"dateIndex",onClick:a[7]||(a[7]=(...e)=>i.radioBtn&&i.radioBtn(...e))},e.toDisplayString(t.name),11,["data-idx"])))),256))]),e.createElementVNode("view",{class:"screenCon"},[e.createElementVNode("view",{class:"screenSetBox"},[e.createElementVNode("view",{class:"screenInput",onClick:a[8]||(a[8]=e=>i.openTimeSel(1))},e.toDisplayString(s.startTimeShow),1),e.createElementVNode("view",{class:"screenInput",onClick:a[9]||(a[9]=e=>i.openTimeSel(2))},e.toDisplayString(s.endTimeShow),1)])])]),e.createElementVNode("view",{class:"screenCon"},[e.createElementVNode("view",{class:"screenTips"},"人员范围"),e.createElementVNode("view",{class:"screenSetBox"},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(s.peopleLists,((t,l)=>(e.openBlock(),e.createElementBlock("view",{class:e.normalizeClass(["screenSet",l==s.peopleIndex?"screenSeted":""]),"data-idx":l,"data-idxName":"peopleIndex",onClick:a[10]||(a[10]=(...e)=>i.radioBtn&&i.radioBtn(...e))},e.toDisplayString(t),11,["data-idx"])))),256))])]),e.createElementVNode("view",{class:"screenCon"},[e.createElementVNode("view",{class:"screenTips"},[e.createTextVNode(" 技师工种 "),e.createElementVNode("view",{class:"screenRTips orange"},"支持多选")]),e.createElementVNode("view",{class:"screenSetBox"},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(s.jishiLists,((t,l)=>(e.openBlock(),e.createElementBlock("view",{class:e.normalizeClass(["screenSet",t.isSel?"screenSeted":""]),"data-idx":l,"data-selName":"jishiLists",onClick:a[11]||(a[11]=(...e)=>i.checkBtn&&i.checkBtn(...e))},e.toDisplayString(t.name),11,["data-idx"])))),256))])]),e.createElementVNode("view",{class:"screenCon"},[e.createElementVNode("view",{class:"screenTips"},"评价状态"),e.createElementVNode("view",{class:"screenSetBox"},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(s.statusSelect,((t,l)=>(e.openBlock(),e.createElementBlock("view",{class:e.normalizeClass(["screenSet",l==s.statusIndex?"screenSeted":""]),"data-idx":l,"data-idxName":"statusIndex",onClick:a[12]||(a[12]=(...e)=>i.radioBtn&&i.radioBtn(...e))},e.toDisplayString(t),11,["data-idx"])))),256))])]),e.createElementVNode("view",{style:{height:"3.6rem"}}),e.createElementVNode("view",{class:"screenBtn IOSBottom"},[e.createElementVNode("view",{class:"screenLBtn bg-orange-JB",onClick:a[13]||(a[13]=(...e)=>i.reset&&i.reset(...e))},"重置"),e.createElementVNode("view",{class:"screenRBtn bg-red-JB",onClick:a[14]||(a[14]=(...e)=>i.sureSeach&&i.sureSeach(...e))},"确定")])])):e.createCommentVNode("",!0),e.createElementVNode("view",{class:"rBomOpBox"},[s.currTop>50?(e.openBlock(),e.createElementBlock("view",{key:0,class:"subBtn",onClick:a[15]||(a[15]=(...e)=>i.zhidingBtn&&i.zhidingBtn(...e))},[e.createElementVNode("i",{class:"iconfont icon-fanhuidingbu"})])):e.createCommentVNode("",!0)]),s.isShowTimesel?(e.openBlock(),e.createBlock(c,{key:4,dateVal:s.timeValue,onSureBtn:i.selTime,onBtnBgClose:i.sureTimeSel},null,8,["dateVal","onSureBtn","onBtnBgClose"])):e.createCommentVNode("",!0)],64)}]]);var Sa;const Ca=n({data:()=>({searchTxt:"",lists:[],boxTop:0,currTop:0,zhidingNum:0,isHua:0,gettermList:0,termList:[],type:"all",source:"all",sort:"all",showTermKey:"",newSet:"",showBg:!1,isSetScreen:"",screenLists:{0:0,1:0,2:0}}),onLoad(){Sa=getApp(),this.getData()},methods:{startScroll:function(){this.isHua=1},boxscroll:function(e){var t=this,a=e.detail.scrollTop,l=t.currTop,o=t.boxTop;a>l&&0==t.isHua&&a>20&&a<50&&(this.isHua=1),1==t.isHua&&(a>=l?(o-=8)>-49&&(t.boxTop=o):(o+=8)<1&&(t.boxTop=o)),t.currTop=a},zhidingBtn:function(){var e=this;e.boxTop=0,e.isHua=0,e.zhidingNum=1==e.zhidingNum?0:1},sureTop:function(){this.boxTop=0,this.isHua=0},getData:function(e){let t=this,l={name:t.searchTxt,type:t.type,source:t.source,sort:t.sort};Sa.goPost("Busculture/getData",l,(function(e){a("log","at pages/busculture/busculture.vue:184",e),t.lists=e.lists,t.gettermList<1&&(t.termList=e.termList),t.gettermList=1}))},clearSeach(){this.searchTxt,this.searchTxt=""},jumpUrl:function(e){var t=e.currentTarget.dataset.id;uni.navigateTo({url:"/pages/buscultureinfo/buscultureinfo?id="+t})},chaTopTerm(e){let t=this,a=e.currentTarget.dataset.index,l=t.termList[a];if(t.showTermKey===a)return void t.clearTerm();let o=l.key;t[o],t.showTermKey=a,t.newSet=t[o],t.showBg=!0},chaTerm(e){let t=this,a=e.currentTarget.dataset.index,l=e.currentTarget.dataset.index2,o=t.termList[a],n=t.termList[a].list[l];t[o.key]=n.id,t.screenLists[a]=l,"all"===n.id?o.name=o.oname:o.name=n.name,t.clearTerm(),t.getData()},clearTerm(){this.showTermKey="",this.showBg=!1},openSearchInfo:function(){this.clearTerm(),this.isSetScreen=1},closeSearchInfo:function(){this.isSetScreen=0},selScreen:function(e){var t=e.currentTarget.dataset.idx,a=e.currentTarget.dataset.idx2;this.screenLists[t]=a},resetScreen:function(){this.screenLists={0:0,1:0,2:0}},sureSeach:function(){var e=this,t=e.screenLists;for(var a in t){var l=e.termList[a],o=e.termList[a].list[t[a]];e[l.key]=o.id,"all"===o.id?l.name=l.oname:l.name=o.name}e.closeSearchInfo(),e.getData()}}},[["render",function(t,a,l,o,n,s){return e.openBlock(),e.createElementBlock(e.Fragment,null,[e.createElementVNode("view",{class:"topBox",style:e.normalizeStyle("top:"+n.boxTop+"px;")},[e.createElementVNode("view",{class:"searchBox"},[e.createElementVNode("i",{class:"iconfont icon-sousuo search"}),e.withDirectives(e.createElementVNode("input",{class:"seaCon",type:"text",placeholder:"请输入标题","onUpdate:modelValue":a[0]||(a[0]=e=>n.searchTxt=e)},null,512),[[e.vModelText,n.searchTxt]]),""!=n.searchTxt?(e.openBlock(),e.createElementBlock("i",{key:0,class:"iconfont icon-shibai1 close",onClick:a[1]||(a[1]=(...e)=>s.clearSeach&&s.clearSeach(...e))})):e.createCommentVNode("",!0),e.createElementVNode("view",{class:"seaBtn",onClick:a[2]||(a[2]=(...e)=>s.getData&&s.getData(...e))},"搜索")]),e.createElementVNode("ul",{class:"termBox"},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(n.termList,((t,l)=>(e.openBlock(),e.createElementBlock("li",null,[e.createElementVNode("view",{onClick:a[3]||(a[3]=(...e)=>s.chaTopTerm&&s.chaTopTerm(...e)),class:e.normalizeClass(t.name!=t.oname?"red":""),"data-index":l},[e.createElementVNode("text",null,e.toDisplayString(t.name),1),n.showTermKey!==l?(e.openBlock(),e.createElementBlock("i",{key:0,class:e.normalizeClass(["iconfont icon-tubiaozhizuo-1",t.name!=t.oname?"red":""])},null,2)):n.showTermKey===l?(e.openBlock(),e.createElementBlock("i",{key:1,class:e.normalizeClass(["iconfont icon-tubiaozhizuo-",t.name!=t.oname?"red":""])},null,2)):e.createCommentVNode("",!0)],10,["data-index"]),n.showTermKey===l?(e.openBlock(),e.createElementBlock("ul",{key:0,class:"nextBox"},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(t.list,((t,o)=>(e.openBlock(),e.createElementBlock("li",{onClick:a[4]||(a[4]=(...e)=>s.chaTerm&&s.chaTerm(...e)),"data-index":l,"data-index2":o},[e.createTextVNode(e.toDisplayString(t.name)+" ",1),n.newSet==t.id?(e.openBlock(),e.createElementBlock("i",{key:0,class:"iconfont icon-xuanzhong"})):e.createCommentVNode("",!0)],8,["data-index","data-index2"])))),256))])):e.createCommentVNode("",!0)])))),256)),e.createElementVNode("li",{style:{width:"18%"}},[e.createElementVNode("view",{onClick:a[5]||(a[5]=(...e)=>s.openSearchInfo&&s.openSearchInfo(...e))},[e.createElementVNode("text",null,[e.createTextVNode(" 筛选"),e.createElementVNode("i",{class:"iconfont icon-shaixuan",style:{color:"#333"}})])])])])],4),e.createElementVNode("scroll-view",{class:"listsBox","scroll-y":"true",style:e.normalizeStyle("top:"+(n.boxTop+82)+"px;"),"scroll-top":n.zhidingNum,onScroll:a[7]||(a[7]=(...e)=>s.boxscroll&&s.boxscroll(...e)),onScrolltoupper:a[8]||(a[8]=(...e)=>s.sureTop&&s.sureTop(...e)),onTouchstart:a[9]||(a[9]=(...e)=>s.startScroll&&s.startScroll(...e))},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(n.lists,((t,l)=>(e.openBlock(),e.createElementBlock("view",{class:"listsInfo","data-id":t.id,onClick:a[6]||(a[6]=(...e)=>s.jumpUrl&&s.jumpUrl(...e))},[e.createElementVNode("view",{class:"listsImg"},[e.createElementVNode("image",{src:t.pic},null,8,["src"])]),e.createElementVNode("view",{class:"listsTitle"},[e.createElementVNode("view",{class:"listsname1"},e.toDisplayString(t.name),1),e.createElementVNode("view",{class:"listsname2"},e.toDisplayString(t.update_time),1)]),e.createElementVNode("view",{class:"listsSource"},e.toDisplayString(t.sourceName),1)],8,["data-id"])))),256)),0==n.lists.length?(e.openBlock(),e.createElementBlock("view",{key:0,class:"noData"},[e.createElementVNode("i",{class:"iconfont icon-kongshuju"}),e.createTextVNode(" 暂无数据 ")])):e.createCommentVNode("",!0)],44,["scroll-top"]),n.showBg?(e.openBlock(),e.createElementBlock("view",{key:0,class:"fixBg",onClick:a[10]||(a[10]=(...e)=>s.clearTerm&&s.clearTerm(...e))})):e.createCommentVNode("",!0),1==n.isSetScreen?(e.openBlock(),e.createElementBlock("view",{key:1,class:"blackBg",onClick:a[11]||(a[11]=(...e)=>s.closeSearchInfo&&s.closeSearchInfo(...e))})):e.createCommentVNode("",!0),1==n.isSetScreen?(e.openBlock(),e.createElementBlock("view",{key:2,class:"screenBox IOSBottom"},[e.createElementVNode("view",{class:"screenTitle"},"筛选"),e.createElementVNode("view",{style:{height:"3rem"}}),(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(n.termList,((t,l)=>(e.openBlock(),e.createElementBlock("view",{class:"screenCon"},[e.createElementVNode("view",{class:"screenTips"},e.toDisplayString(t.oname),1),e.createElementVNode("view",{class:"screenSetBox"},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(t.list,((t,o)=>(e.openBlock(),e.createElementBlock("view",{class:e.normalizeClass(["screenSet",n.screenLists[l]==o?"screenSeted":""]),"data-idx":l,"data-idx2":o,onClick:a[12]||(a[12]=(...e)=>s.selScreen&&s.selScreen(...e))},e.toDisplayString(t.name),11,["data-idx","data-idx2"])))),256))])])))),256)),e.createElementVNode("view",{style:{height:"3.6rem"}}),e.createElementVNode("view",{class:"screenBtn IOSBottom"},[e.createElementVNode("view",{class:"screenLBtn bg-orange-JB",onClick:a[13]||(a[13]=(...e)=>s.resetScreen&&s.resetScreen(...e))},"重置"),e.createElementVNode("view",{class:"screenRBtn bg-red-JB",onClick:a[14]||(a[14]=(...e)=>s.sureSeach&&s.sureSeach(...e))},"确定")])])):e.createCommentVNode("",!0),e.createElementVNode("view",{class:"rBomOpBox"},[n.currTop>50?(e.openBlock(),e.createElementBlock("view",{key:0,class:"subBtn IOSMGBottom",onClick:a[15]||(a[15]=(...e)=>s.zhidingBtn&&s.zhidingBtn(...e))},[e.createElementVNode("i",{class:"iconfont icon-fanhuidingbu"})])):e.createCommentVNode("",!0)])],64)}]]);var Da;const Ia=n({data:()=>({id:"",contentInfo:"",pic:"",source:0,videoSize:0,isShowProgress:!1,startTime:"999:99",endTime:"",videoControl:!1,videoPrecent:0,videoDuring:0,videoState:!1,istotalTime:0}),onLoad(e){Da=getApp(),this.id=e.id,a("log","at pages/buscultureinfo/buscultureinfo.vue:78",e),this.getData()},mounted(){this.videoObj=uni.createVideoContext("myVideo")},methods:{getData:function(e){let t=this,l={id:t.id};Da.goPost("Busculture/getInfo",l,(function(e){var l=e.info.content;e.info.content&&0==e.info.source&&(l=e.info.content),t.contentInfo=l,t.source=e.info.source,t.pic=e.info.pic,t.videoSize=e.info.video_size,uni.setNavigationBarTitle({title:e.info.name}),a("log","at pages/buscultureinfo/buscultureinfo.vue:105",l)}))}}},[["render",function(t,a,o,n,s,i){const c=l(e.resolveDynamicComponent("mp-html"),Qt);return e.openBlock(),e.createElementBlock(e.Fragment,null,[0==s.source?(e.openBlock(),e.createElementBlock("view",{key:0,class:"textareaBox"},[e.createVNode(c,{"container-style":"width:100%;",content:s.contentInfo},null,8,["content"])])):e.createCommentVNode("",!0),1==s.source?(e.openBlock(),e.createElementBlock("view",{key:1,class:"videoPlayBox"},[e.createElementVNode("video",{id:"myVideo",src:s.contentInfo,poster:s.pic,controls:"true","object-fit":"contain",class:e.normalizeClass([1==s.videoSize?"videoSize":""])},null,10,["src","poster"])])):e.createCommentVNode("",!0)],64)}]]);var La;const _a=n({data:()=>({page:1,lists:[],topType:1,searchTxt:"",upDetailBool:!0,termList:[],type:"all",status:"all",showTermKey:"",newSet:"",showBg:!1,boxTop:0,currTop:0,zhidingNum:0,isHua:0,isSetScreen:"",screenLists:{0:0,1:0}}),onLoad(){La=getApp(),this.getInitData()},onShow(){this.goSearch()},methods:{goDetail(e,t){let a=this.lists[e];uni.navigateTo({url:"/pages/opiniondetails/opiniondetails?id="+a.id+"&pagesType="+t})},edit(e){let t=this.lists[e];uni.navigateTo({url:"/pages/opinionadd/opinionadd?id="+t.id})},moreOp(e){let t=this,l=e.currentTarget.dataset.index,o=t.lists[l];a("log","at pages/opinion/opinion.vue:192",o),o.status,o.isSelf;let n=["详情"];o.isMe&&""==o.confirm_time&&(n.push("编辑"),n.push("删除")),""!=o.isGuan&&""==o.confirm_time&&n.push("受理");let s=La.showActionSheetParams({itemList:n,success:function(e){switch(n[e.tapIndex]){case"详情":t.goDetail(l,1);break;case"编辑":t.edit(l);break;case"删除":t.delOpinion(l);break;case"受理":t.goDetail(l,2)}}});t.upDetailBool&&(t.upDetailBool=!1,uni.showActionSheet(s),setTimeout((function(){t.upDetailBool=!0}),1e3))},delOpinion(e){let t=this,a=t.lists[e],l={id:a.id};uni.showModal({title:"温馨提示",content:"确定要删除吗?",success(e){e.confirm&&La.goPost("opinion/del",l,(function(e){setTimeout((function(){t.goSearch()}),2e3)}))}})},goSearch(){this.page=1,this.getData()},clearSearch(){this.searchTxt="",this.goSearch()},chaTopTerm(e){let t=this,a=e.currentTarget.dataset.index,l=t.termList[a];if(t.showTermKey===a)return void t.clearTerm();let o=l.key;t[o],t.showTermKey=a,t.newSet=t[o],t.showBg=!0},chaTerm(e){let t=this,a=e.currentTarget.dataset.index,l=e.currentTarget.dataset.index2,o=t.termList[a],n=t.termList[a].list[l];t[o.key]=n.id,t.screenLists[a]=l,"all"===n.id?o.name=o.oname:o.name=n.name,t.clearTerm(),t.goSearch()},clearTerm(){this.showTermKey="",this.showBg=!1},getInitData(){let e=this;La.goPost("Opinion/initData",{type:"ruKu"},(function(t){e.termList=t.termList}))},getData(){let e=this,t={page:e.page,status:e.status,storeId:e.storeId,type:e.type,oaType:3,searchTxt:e.searchTxt,barcode:e.barcode};if(0==e.page)return!1;La.goPost("opinion/getLists",t,(function(t){e.barcode="",1==e.page?e.lists=t.lists:e.lists=e.lists.concat(t.lists),e.page++,t.lists.length<1&&(e.page=0)}))},addOpinion(){uni.navigateTo({url:"/pages/opinionadd/opinionadd"})},clearSeach(){let e=this.searchTxt;this.searchTxt="",e&&this.goSearch()},startScroll:function(){this.isHua=1},boxscroll:function(e){var t=this,a=e.detail.scrollTop,l=t.currTop,o=t.boxTop;a>l&&0==t.isHua&&a>20&&a<50&&(this.isHua=1),1==t.isHua&&(a>=l?(o-=8)>-49&&(t.boxTop=o):(o+=8)<1&&(t.boxTop=o)),t.currTop=a},zhidingBtn:function(){var e=this;e.boxTop=0,e.isHua=0,e.zhidingNum=1==e.zhidingNum?0:1},sureTop:function(){this.boxTop=0,this.isHua=0},sureBom:function(){var e=this;e.boxTop=-48,e.isHua=0,e.getData()},openSearchInfo:function(){this.clearTerm(),this.isSetScreen=1},closeSearchInfo:function(){this.isSetScreen=0},selScreen:function(e){var t=e.currentTarget.dataset.idx,a=e.currentTarget.dataset.idx2;this.screenLists[t]=a},resetScreen:function(){this.screenLists={0:0,1:0,2:0}},sureSeach:function(){var e=this,t=e.screenLists;for(var a in t){var l=e.termList[a],o=e.termList[a].list[t[a]];e[l.key]=o.id,"all"===o.id?l.name=l.oname:l.name=o.name}e.closeSearchInfo(),e.goSearch()}}},[["render",function(t,a,l,o,n,s){return e.openBlock(),e.createElementBlock(e.Fragment,null,[e.createElementVNode("view",{class:"topBox",style:e.normalizeStyle("top:"+n.boxTop+"px;")},[e.createElementVNode("view",{class:"searchBox"},[e.createElementVNode("i",{class:"iconfont icon-sousuo search"}),e.withDirectives(e.createElementVNode("input",{class:"seaCon",type:"text",placeholder:"请输入标题","onUpdate:modelValue":a[0]||(a[0]=e=>n.searchTxt=e)},null,512),[[e.vModelText,n.searchTxt]]),""!=n.searchTxt?(e.openBlock(),e.createElementBlock("i",{key:0,class:"iconfont icon-shibai1 close",onClick:a[1]||(a[1]=(...e)=>s.clearSeach&&s.clearSeach(...e))})):e.createCommentVNode("",!0),e.createElementVNode("view",{class:"seaBtn",onClick:a[2]||(a[2]=(...e)=>s.goSearch&&s.goSearch(...e))},"搜索")]),e.createElementVNode("ul",{class:"termBox"},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(n.termList,((t,l)=>(e.openBlock(),e.createElementBlock("li",null,[e.createElementVNode("view",{onClick:a[3]||(a[3]=(...e)=>s.chaTopTerm&&s.chaTopTerm(...e)),class:e.normalizeClass(t.name!=t.oname?"red":""),"data-index":l},[e.createElementVNode("text",null,e.toDisplayString(t.name),1),n.showTermKey!==l?(e.openBlock(),e.createElementBlock("i",{key:0,class:e.normalizeClass(["iconfont icon-tubiaozhizuo-1",t.name!=t.oname?"red":""])},null,2)):n.showTermKey===l?(e.openBlock(),e.createElementBlock("i",{key:1,class:e.normalizeClass(["iconfont icon-tubiaozhizuo-",t.name!=t.oname?"red":""])},null,2)):e.createCommentVNode("",!0)],10,["data-index"]),n.showTermKey===l?(e.openBlock(),e.createElementBlock("ul",{key:0,class:"nextBox"},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(t.list,((t,o)=>(e.openBlock(),e.createElementBlock("li",{onClick:a[4]||(a[4]=(...e)=>s.chaTerm&&s.chaTerm(...e)),"data-index":l,"data-index2":o},[e.createTextVNode(e.toDisplayString(t.name)+" ",1),n.newSet==t.id?(e.openBlock(),e.createElementBlock("i",{key:0,class:"iconfont icon-xuanzhong"})):e.createCommentVNode("",!0)],8,["data-index","data-index2"])))),256))])):e.createCommentVNode("",!0)])))),256)),e.createElementVNode("li",null,[e.createElementVNode("view",{onClick:a[5]||(a[5]=(...e)=>s.openSearchInfo&&s.openSearchInfo(...e))},[e.createElementVNode("text",null,[e.createTextVNode(" 筛选"),e.createElementVNode("i",{class:"iconfont icon-shaixuan",style:{color:"#333"}})])])])])],4),e.createElementVNode("scroll-view",{class:"infoListBox",id:"infoListBox","scroll-y":"true","scroll-top":n.zhidingNum,onScrolltolower:a[7]||(a[7]=(...e)=>s.sureBom&&s.sureBom(...e)),style:e.normalizeStyle("top:"+(n.boxTop+82)+"px;"),onScroll:a[8]||(a[8]=(...e)=>s.boxscroll&&s.boxscroll(...e)),onScrolltoupper:a[9]||(a[9]=(...e)=>s.sureTop&&s.sureTop(...e)),onTouchstart:a[10]||(a[10]=(...e)=>s.startScroll&&s.startScroll(...e))},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(n.lists,((t,l)=>(e.openBlock(),e.createElementBlock("view",{class:"infoLists","data-index":l,onClick:a[6]||(a[6]=(...e)=>s.moreOp&&s.moreOp(...e))},[e.createElementVNode("view",{class:"listsTop"},[e.createElementVNode("view",{class:"listsTopTitle"},e.toDisplayString(t.type_name),1),e.createElementVNode("view",{class:e.normalizeClass(["listsTopMoney",t.statusClass])},[e.createElementVNode("text",null,e.toDisplayString(t.statusName),1)],2)]),e.createElementVNode("view",{class:"listsContent"},[e.createElementVNode("view",{class:"listsConName"},"标题名称"),e.createElementVNode("view",{class:"listsConInfo"},e.toDisplayString(t.title),1)]),e.createElementVNode("view",{class:"listsContent"},[e.createElementVNode("view",{class:"listsConName"},"内容信息"),e.createElementVNode("view",{class:"listsConInfo"},e.toDisplayString(t.content),1)]),e.createElementVNode("view",{class:"listsContent topborder"},[e.createElementVNode("view",{class:"listsConName"},"提交时间"),e.createElementVNode("view",{class:"listsConInfo"},e.toDisplayString(t.addtime),1)])],8,["data-index"])))),256)),n.lists.length>0&&0==n.page?(e.openBlock(),e.createElementBlock("view",{key:0,class:"daoDiLe IOSBottom"},"到底了")):e.createCommentVNode("",!0),0==n.lists.length?(e.openBlock(),e.createElementBlock("view",{key:1,class:"noData"},[e.createElementVNode("i",{class:"iconfont icon-kongshuju"}),e.createTextVNode(" 暂无数据 ")])):e.createCommentVNode("",!0)],44,["scroll-top"]),e.createElementVNode("view",{class:"foot IOSBottom"},[e.createElementVNode("view",{class:"footBtn bg-orange-JB",onClick:a[11]||(a[11]=(...e)=>s.addOpinion&&s.addOpinion(...e))},"新增投诉建议")]),n.showBg?(e.openBlock(),e.createElementBlock("view",{key:0,class:"fixBg",onClick:a[12]||(a[12]=(...e)=>s.clearTerm&&s.clearTerm(...e))})):e.createCommentVNode("",!0),e.createElementVNode("view",{class:"rBomOpBox"},[n.currTop>50?(e.openBlock(),e.createElementBlock("view",{key:0,class:"subBtn IOSMGBottom",onClick:a[13]||(a[13]=(...e)=>s.zhidingBtn&&s.zhidingBtn(...e))},[e.createElementVNode("i",{class:"iconfont icon-fanhuidingbu"})])):e.createCommentVNode("",!0)]),1==n.isSetScreen?(e.openBlock(),e.createElementBlock("view",{key:1,class:"blackBg",onClick:a[14]||(a[14]=(...e)=>s.closeSearchInfo&&s.closeSearchInfo(...e))})):e.createCommentVNode("",!0),1==n.isSetScreen?(e.openBlock(),e.createElementBlock("view",{key:2,class:"screenBox IOSBottom"},[e.createElementVNode("view",{class:"screenTitle"},"筛选"),e.createElementVNode("view",{style:{height:"3rem"}}),(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(n.termList,((t,l)=>(e.openBlock(),e.createElementBlock("view",{class:"screenCon"},[e.createElementVNode("view",{class:"screenTips"},e.toDisplayString(t.oname),1),e.createElementVNode("view",{class:"screenSetBox"},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(t.list,((t,o)=>(e.openBlock(),e.createElementBlock("view",{class:e.normalizeClass(["screenSet",n.screenLists[l]==o?"screenSeted":""]),"data-idx":l,"data-idx2":o,onClick:a[15]||(a[15]=(...e)=>s.selScreen&&s.selScreen(...e))},e.toDisplayString(t.name),11,["data-idx","data-idx2"])))),256))])])))),256)),e.createElementVNode("view",{style:{height:"3.6rem"}}),e.createElementVNode("view",{class:"screenBtn IOSBottom"},[e.createElementVNode("view",{class:"screenLBtn bg-orange-JB",onClick:a[16]||(a[16]=(...e)=>s.resetScreen&&s.resetScreen(...e))},"重置"),e.createElementVNode("view",{class:"screenRBtn bg-red-JB",onClick:a[17]||(a[17]=(...e)=>s.sureSeach&&s.sureSeach(...e))},"确定")])])):e.createCommentVNode("",!0)],64)}]]);var Pa;const Fa=n({data:()=>({id:"",typeList:[],setTypeIndex:"",title:"",type_id:"",content:"",imgLists:[],anonymous:!1}),onLoad(e){Pa=getApp(),e.id&&(uni.setNavigationBarTitle({title:"编辑投诉建议"}),this.id=e.id,this.getDetail()),this.getData()},onShow(){},methods:{seleType:function(e){let t=e.detail.value;this.setTypeIndex=t,this.type_id=this.typeList[t].id},getData(){let e=this;Pa.goPost("opinion/initAddData",{},(function(t){e.typeList=t.typeLists,t.info&&""==e.id&&(e.title=t.info.title,e.content=t.info.content,e.type_id=t.info.type,e.setTypeIndex=t.info.setTypeIndex,e.anonymous=t.info.anonymous,e.imgLists=t.info.pic)}))},getDetail(){let e=this,t={id:e.id};Pa.goPost("opinion/details",t,(function(t){e.title=t.title,e.content=t.content,e.type_id=t.type,e.setTypeIndex=t.setTypeIndex,e.imgLists=t.pic}))},previewImage(e){let t=e.currentTarget.dataset.index,a=this.imgLists,l=a[t].url,o=[];for(let n in a)o.push(a[n].url);uni.previewImage({current:l,urls:o})},delImg(e){let t=e.currentTarget.dataset.index;this.imgLists.splice(t,1)},chooseImage:function(e){let t=this,l=t.imgLists.length,o=6-l;l>=6?Pa.showMsg("最多6张凭证"):uni.chooseImage({sizeType:["original","compressed"],sourceType:["album","camera"],count:o,success(e){let l=e.tempFilePaths;a("log","at pages/opinionadd/opinionadd.vue:222",e),Pa.uploadImgMultiple(l,0,1,l.length,(function(e){t.imgLists.push({url:e.url,path:e.path}),a("log","at pages/opinionadd/opinionadd.vue:229",t.imgLists)}))},fail(e){a("log","at pages/opinionadd/opinionadd.vue:233",e)}})},submitData(){let e=this,t=e.imgLists,a=[];for(let o in t)a.push(t[o].path);let l={id:e.id,title:e.title,type:e.type_id,content:e.content,anonymous:e.anonymous,img:a.join(",")};Pa.goPost("opinion/add",l,(function(e){setTimeout((function(){uni.navigateBack()}),1500)}))},saveData(){let e=this,t=e.imgLists,a=[];if(""!=e.id)return!1;for(let o in t)a.push(t[o].path);let l={title:e.title,type:e.type_id,content:e.content,anonymous:e.anonymous,setTypeIndex:e.setTypeIndex,img:a.join(",")};Pa.goPost("opinion/savedata",l,(function(e){}))},selAnonymous:function(e){this.anonymous=!this.anonymous}}},[["render",function(t,a,l,o,n,s){return e.openBlock(),e.createElementBlock("view",{class:"content"},[e.createElementVNode("view",{class:"sdFormInfo bompad"},[e.createElementVNode("view",{class:"sdFormInputSet"},[e.createElementVNode("view",{class:"sdFormInlineTitleSet"},[e.createElementVNode("view",{class:"sdFormXing red"},"*"),e.createElementVNode("view",{class:"sdFormInlineTitle"},"标题")]),e.withDirectives(e.createElementVNode("input",{type:"text",class:"sdFormBlockInput","placeholder-style":"color:#999;","onUpdate:modelValue":a[0]||(a[0]=e=>n.title=e),placeholder:"请输入标题",maxlength:"100"},null,512),[[e.vModelText,n.title]])]),e.createElementVNode("view",{class:"sdFormInputSet"},[e.createElementVNode("view",{class:"sdFormInlineTitleSet"},[e.createElementVNode("view",{class:"sdFormXing red"},"*"),e.createElementVNode("view",{class:"sdFormInlineTitle"},"类型")]),e.createElementVNode("view",{class:"sdFormInlineInput"},[e.createElementVNode("picker",{onChange:a[1]||(a[1]=(...e)=>s.seleType&&s.seleType(...e)),value:n.setTypeIndex,range:n.typeList,"range-key":"name"},[e.createElementVNode("view",{class:"sdFormInlineName"},e.toDisplayString(""===n.setTypeIndex||0==n.typeList.length?"请选择":n.typeList[n.setTypeIndex].name),1),e.createElementVNode("view",{class:"sdFormRightJianTou"},[e.createElementVNode("text",{class:"iconfont icon-youbian1"})])],40,["value","range"])])]),e.createElementVNode("view",{class:"sdFormInputSet"},[e.createElementVNode("view",{class:"sdFormBlockTitleSet"},[e.createElementVNode("view",{class:"sdFormXing red"},"*"),e.createElementVNode("view",{class:"sdFormInlineTitle"},"内容")]),e.createElementVNode("view",{class:"sdFormBlockInput"},[e.withDirectives(e.createElementVNode("textarea",{class:"sdFormBlockTextarea",maxlength:"1000","placeholder-style":"color:#999;",placeholder:"请输入内容...","onUpdate:modelValue":a[2]||(a[2]=e=>n.content=e)},null,512),[[e.vModelText,n.content]])])]),e.createElementVNode("view",{class:"sdFormManyPicSet"},[e.createElementVNode("view",{class:"sdFormManyPicTitleSet"},[e.createElementVNode("view",{class:"sdFormXing red"},"*"),e.createElementVNode("view",{class:"sdFormManyPicTitle"},"图片"),e.createElementVNode("text",{class:"sdFormManyPicSubTips"},"最多6张")]),e.createElementVNode("view",{class:"sdFormAllPicBox fl"},[e.createElementVNode("view",{class:"sdFormAllPicAdd fl"},[e.createElementVNode("text",{class:"iconfont icon-shangchuantupian",onClick:a[3]||(a[3]=(...e)=>s.chooseImage&&s.chooseImage(...e))})]),(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(n.imgLists,((t,l)=>(e.openBlock(),e.createElementBlock("view",{class:"sdFormAllPicImg fl"},[e.createElementVNode("image",{class:"filled-image",mode:"aspectFill",src:t.url,"data-index":l,onClick:a[4]||(a[4]=(...e)=>s.previewImage&&s.previewImage(...e))},null,8,["src","data-index"]),e.createElementVNode("view",{class:"sdFormAllPicImgDel","data-index":l,onClick:a[5]||(a[5]=e.withModifiers(((...e)=>s.delImg&&s.delImg(...e)),["prevent"]))},[e.createElementVNode("text",{class:"iconfont icon-guanbi"})],8,["data-index"])])))),256))]),e.createElementVNode("view",{class:"clearfix"}),e.createElementVNode("view",{class:"sdFormAllPicTips gray"})]),e.createElementVNode("view",{class:"sdFormInputSet"},[e.createElementVNode("view",{class:"sdFormInlineTitleSet"},[e.createElementVNode("view",{class:"sdFormXing red"}),e.createElementVNode("view",{class:"sdFormInlineTitle"},"匿名提交")]),e.createElementVNode("view",{class:"sdFormInlineInput"},[e.createElementVNode("checkbox-group",{class:"sdFormInlineRroup",onChange:a[6]||(a[6]=(...e)=>s.selAnonymous&&s.selAnonymous(...e))},[e.createElementVNode("label",{class:"sdFormInlineLabel"},[e.createElementVNode("checkbox",{class:"sdFormCheckbox",color:"#fff",checked:n.anonymous},null,8,["checked"])])],32)])])]),e.createElementVNode("view",{class:"foot IOSBottom"},[e.createElementVNode("view",{class:e.normalizeClass(["footBtn half",""==n.id?"bg-orange-JB":"bg-grey-JB"]),onClick:a[7]||(a[7]=(...e)=>s.saveData&&s.saveData(...e))},"暂存",2),e.createElementVNode("view",{class:"footBtn half bg-reds-JB",onClick:a[8]||(a[8]=(...e)=>s.submitData&&s.submitData(...e))},"提交")])])}]]);var Oa;const Aa=n({data:()=>({id:"",pagesType:"",notes:"",info:[],imgLists:[],status:0,isShowNotes:!1}),onLoad(e){Oa=getApp(),this.id=e.id,this.pagesType=e.pagesType,this.getDetail()},onShow(){},methods:{getDetail(){let e=this,t={id:e.id};Oa.goPost("opinion/details",t,(function(t){e.info=t,e.imgLists=t.pic}))},previewImage(e){let t=e.currentTarget.dataset.index,a=this.imgLists,l=a[t].url,o=[];for(let n in a)o.push(a[n].url);uni.previewImage({current:l,urls:o})},submitData(){let e=this,t={id:e.id,status:e.status,notes:e.notes};uni.showModal({title:"温馨提示",content:"确定要受理吗?",success(a){a.confirm&&(Oa.goPost("opinion/operateOpinion",t,(function(t){setTimeout((function(){e.getDetail()}),2e3)})),e.closeNotes())}})},showNotes:function(e){this.isShowNotes=!0,this.status=e},closeNotes:function(){this.isShowNotes=!1,this.status=0}}},[["render",function(t,a,l,o,n,s){return e.openBlock(),e.createElementBlock(e.Fragment,null,[e.createElementVNode("view",{class:e.normalizeClass(["conBox",0!=n.info.status?"":"surePages"])},[e.createElementVNode("view",{class:"infoBox"},[e.createElementVNode("view",{class:"infoTitle"},"工单状态"),""!=n.info.statusName?(e.openBlock(),e.createElementBlock("view",{key:0,class:e.normalizeClass(["infoCon",n.info.statusClass])},e.toDisplayString(n.info.statusName),3)):e.createCommentVNode("",!0)]),""!=n.info.order_id?(e.openBlock(),e.createElementBlock("view",{key:0,class:"infoBox"},[e.createElementVNode("view",{class:"infoTitle"},"受理单号"),e.createElementVNode("view",{class:"infoCon"},e.toDisplayString(n.info.order_id),1)])):e.createCommentVNode("",!0),e.createElementVNode("view",{class:"infoBox"},[e.createElementVNode("view",{class:"infoTitle"},"标题名称"),""!=n.info.title?(e.openBlock(),e.createElementBlock("view",{key:0,class:"infoCon"},e.toDisplayString(n.info.title),1)):e.createCommentVNode("",!0)]),e.createElementVNode("view",{class:"infoBox"},[e.createElementVNode("view",{class:"infoTitle"},"类型名称"),""!=n.info.type_name?(e.openBlock(),e.createElementBlock("view",{key:0,class:"infoCon"},e.toDisplayString(n.info.type_name),1)):e.createCommentVNode("",!0)]),e.createElementVNode("view",{class:"infoBox"},[e.createElementVNode("view",{class:"infoTitle"},"内容信息"),e.createElementVNode("view",{class:"infoCon"},e.toDisplayString(n.info.content),1)]),e.createElementVNode("view",{class:"infoBox"},[e.createElementVNode("view",{class:"infoTitle"},"图片凭证"),e.createElementVNode("view",{class:"infoCon"},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(n.imgLists,((t,l)=>(e.openBlock(),e.createElementBlock("view",{class:"infoImg"},[e.createElementVNode("image",{class:"filled-image",mode:"aspectFill",src:t.url,"data-index":l,onClick:a[0]||(a[0]=(...e)=>s.previewImage&&s.previewImage(...e))},null,8,["src","data-index"])])))),256))])]),e.createElementVNode("view",{class:"infoLine"}),e.createElementVNode("view",{class:"infoBox"},[e.createElementVNode("view",{class:"infoTitle"},"提交人员"),""!=n.info.staff_name?(e.openBlock(),e.createElementBlock("view",{key:0,class:"infoCon"},e.toDisplayString(n.info.staff_name),1)):e.createCommentVNode("",!0)]),e.createElementVNode("view",{class:"infoBox"},[e.createElementVNode("view",{class:"infoTitle"},"提交时间"),""!=n.info.addtime?(e.openBlock(),e.createElementBlock("view",{key:0,class:"infoCon"},e.toDisplayString(n.info.addtime),1)):e.createCommentVNode("",!0)]),e.createElementVNode("view",{class:"infoLine"}),e.createElementVNode("view",{class:"infoBox"},[e.createElementVNode("view",{class:"infoTitle"},"受理人员"),""!=n.info.confirm_name?(e.openBlock(),e.createElementBlock("view",{key:0,class:"infoCon"},e.toDisplayString(n.info.confirm_name),1)):e.createCommentVNode("",!0)]),e.createElementVNode("view",{class:"infoBox"},[e.createElementVNode("view",{class:"infoTitle"},"受理时间"),""!=n.info.confirm_time?(e.openBlock(),e.createElementBlock("view",{key:0,class:"infoCon"},e.toDisplayString(n.info.confirm_time),1)):e.createCommentVNode("",!0)]),""!=n.info.confirm_time?(e.openBlock(),e.createElementBlock("view",{key:1,class:"infoBox"},[e.createElementVNode("view",{class:"infoTitle"},"受理备注"),e.createElementVNode("view",{class:"infoCon"},e.toDisplayString(n.info.notes),1)])):e.createCommentVNode("",!0)],2),0==n.info.status&&""!=n.info.isGuan?(e.openBlock(),e.createElementBlock("view",{key:0,class:"foot IOSBottom"},[e.createElementVNode("view",{class:"footBtn half bg-orange-JB",onClick:a[1]||(a[1]=e=>s.showNotes(1))},"受理")])):e.createCommentVNode("",!0),n.isShowNotes?(e.openBlock(),e.createElementBlock("view",{key:1,class:"blackBg"})):e.createCommentVNode("",!0),n.isShowNotes?(e.openBlock(),e.createElementBlock("view",{key:2,class:"notesBox"},[e.createElementVNode("view",{class:"notesTit"},"受理备注"),e.createElementVNode("view",{class:"notesCon"},[e.withDirectives(e.createElementVNode("textarea",{class:"sdFormBlockTextarea",maxlength:"1000","placeholder-style":"color:#999;",placeholder:"请输入备注...","onUpdate:modelValue":a[2]||(a[2]=e=>n.notes=e)},null,512),[[e.vModelText,n.notes]])]),e.createElementVNode("view",{class:"notesBtnBox"},[e.createElementVNode("view",{class:"notesBtn notesLeft",onClick:a[3]||(a[3]=(...e)=>s.closeNotes&&s.closeNotes(...e))},"取消"),e.createElementVNode("view",{class:"notesBtn orange",onClick:a[4]||(a[4]=(...e)=>s.submitData&&s.submitData(...e))},"确定")])])):e.createCommentVNode("",!0)],64)}]]);var Ma,ja,za;const Ra=n({data:()=>({currentBle:{mac:"",name:"",deviceId:""},upModel:"",sendInput:"",showUpDataBox:!1,name:"",configData:{},keyData:[],comboData:[],powerData:[],switchData:[],isBtn:!0,isOpen:!1,isover:!1,id:0,first:0,deviceList:[],permissionName:"",bleStatus:!1,bleUuid:{serviceUUID:"0000ff26-0000-1000-8000-00805f9b34fb",sendUUID:"0000ff68-0000-1000-8000-00805f9b34fb",notifyUUID:"0000ff69-0000-1000-8000-00805f9b34fb"},isClick:!0}),onLoad(e){Ma=getApp(),this.env=Ma.globalData.env+"---"+Ma.globalData.appVersionCode,this.statusBarHeight=Ma.globalData.statusBarHeight;try{ja=t("AppModule"),(za=t("BleModule")).initBle()}catch(l){a("log","at pages/massageChair/massageChair.vue:188","引入插件报错",l)}uni.$on("bleStatusChange",(e=>{this.bleStatusChange()})),a("log","at pages/massageChair/massageChair.vue:195","参数",e),e.id&&this.getStartData(e.id)},onUnload(){uni.$off("bleStatusChange"),this.disBleConnect()},onHide(){a("log","at pages/massageChair/massageChair.vue:207","onHide"),this.disBleConnect()},onShow(){let e=this;e.currentBle=e.getCurrentBuleTooth(),e.currentBle.mac||e.clearCache(),a("log","at pages/massageChair/massageChair.vue:218","that.currentBle",e.currentBle),"PASS"==uni.getStorageSync("passStatus")?e.getData():e.name||e.getData()},methods:{bleStatusChange(){let e=this;e.bleStatus=Ma.globalData.bleStatus,e.bleStatus||(e.currentBle.mac&&(a("log","at pages/massageChair/massageChair.vue:242",e.currentBle),Ma.showMsg("蓝牙已断开")),e.currentBle={mac:"",name:"",deviceId:""},e.setCurrentBuleTooth(""))},filteredArr:function(e){return e.filter((function(e){return!1!==e.isuse}))},keyArr:function(){let e=this.keyData;return e.sort(((e,t)=>t.sort-e.sort)),e},noClick:function(){return this.isClick?(this.isClick=!1,setTimeout((()=>{this.isClick=!0}),1e3),!0):(a("log","at pages/massageChair/massageChair.vue:277","防抖多次点"),!1)},keySwitch:function(e,t,l=0){let o=this,n=(2==t?o.switchData:o.keyData)[e],s=10!=n.id?"0"+n.id:"0A";0==l&&(l=n.status);let i="FD"+s+l+"00000000000DF";a("log","at pages/massageChair/massageChair.vue:300","keySwitch data",i),o.opBleDevice(i,(function(){1==t?(n.status=8==l?9:8,o.keyData[e]=n):2==t&&(n.status=8==l?9:8,o.switchData[e]=n)}))},powerSwitch:function(e,t){let l=this,o=l.powerData[e],n=o.id,s=t.toString(16);1==s.length&&(s="0"+s);let i="FDD"+n+"DD"+s+"00000000DF";a("log","at pages/massageChair/massageChair.vue:338","powerSwitch data",i),l.opBleDevice(i,(function(){o.curPer=t,l.powerData[e]=o}))},clickStart:function(e){let t=this;t.isBtn?(t.keySwitch(e,1,8),t.isBtn=!1,t.isOpen=!0):a("log","at pages/massageChair/massageChair.vue:359","不可开")},clickEnd:function(e){let t,l=this;l.isBtn?(l.isBtn=!1,l.isOpen=!1,l.keySwitch(e,1,9),t=setTimeout((function(){l.isBtn=!0}),300)):l.isOpen?(clearTimeout(t),l.isBtn=!1,l.isOpen=!1,setTimeout((function(){l.keySwitch(e,1,9)}),300),t=setTimeout((function(){l.isBtn=!0}),600)):a("log","at pages/massageChair/massageChair.vue:388","不可关")},comboStart:function(e,t,l){let o=this;o.isBtn?(o.isBtn=!1,o.isOpen=!0,o.comboSwitch(e,t,1),o.comboData[l].status=9):a("log","at pages/massageChair/massageChair.vue:409","不可开2")},comboEnd:function(e,t,l){let o,n=this;n.isBtn?(n.isBtn=!1,n.isOpen=!1,n.comboSwitch(e,t,0),o=setTimeout((function(){n.isBtn=!0}),300),n.comboData[l].status=8):n.isOpen?(clearTimeout(o),n.isBtn=!1,n.isOpen=!1,setTimeout((function(){n.comboSwitch(e,t,0)}),600),o=setTimeout((function(){n.isBtn=!0}),900),n.comboData[l].status=8):a("log","at pages/massageChair/massageChair.vue:452","不可关2")},comboSwitch:function(e,t,l=0){let o;0==l?o="00":(a("log","at pages/massageChair/massageChair.vue:466",e,t,2**e+2**t),o=(2**e+2**t).toString(16),o.length<2&&(o="0"+o));let n="FD"+o+"CC0000000000DF";a("log","at pages/massageChair/massageChair.vue:473","comboSwitch data",n),this.opBleDevice(n,(function(){}))},overAll:function(){this.isover=!0;let e="";if(this.filteredArr(this.powerData).length>0)for(let t=0;t<this.powerData.length;t++)e=e+"关闭"+this.powerData[t].name+"\r\n";if(this.filteredArr(this.switchData).length>0)for(let t=0;t<this.switchData.length;t++)e=e+"关闭"+this.switchData[t].name+"\r\n";e+="确定关闭所有功能？",uni.showModal({title:"温馨提示",content:e,success:e=>{if(e.confirm){uni.showLoading({title:"正在关闭",mask:!0});let e=0;this.powerData.length>0&&(this.powerData[0].curPer>0&&(e>0?setTimeout((()=>{this.powerSwitch(0,0)}),300*e):this.powerSwitch(0,0),e++),this.powerData[1].curPer>0&&(e>0?setTimeout((()=>{this.powerSwitch(1,0)}),300*e):this.powerSwitch(1,0),e++)),this.switchData.length>0&&(9==this.switchData[0].status&&(e>0?setTimeout((()=>{this.keySwitch(0,2,9)}),300*e):this.keySwitch(0,2,9),e++),9==this.switchData[1].status&&(e>0?setTimeout((()=>{this.keySwitch(1,2,9)}),300*e):this.keySwitch(1,2,9),e++)),a("log","at pages/massageChair/massageChair.vue:562","wait",300*e),setTimeout((()=>{uni.hideLoading()}),300*e)}}}),this.isover=!1},opBleDevice:function(e,t){let l=this;if(l.currentBle=l.getCurrentBuleTooth(),a("log","at pages/massageChair/massageChair.vue:585","opBleDevice getCurrentBuleTooth",l.currentBle),!l.currentBle.mac)return void this.bleStatusChange();if(!l.getBleStatus())return this.bleStatusChange(),!1;let o=l.getBleUuid();za.writeHexString({data:e,writeServiceUUID:o.serviceUUID,writeUUID:o.sendUUID},(function(e){a("log","at pages/massageChair/massageChair.vue:604","writeHexString",e),"success"==e.type?"function"==typeof t&&t():(a("log","at pages/massageChair/massageChair.vue:610","fail",e),-1!=e.msg.indexOf("设备未连接")&&(l.currentBle={mac:"",name:"",deviceId:""},Ma.showMsg("蓝牙已断开"),l.clearCache(),l.setCurrentBuleTooth("")))}))},getData(){let e=this;if(e.currentBle.mac){let t={data:JSON.stringify(e.currentBle)};Ma.goPost("chair/index",t,(function(t){if(a("log","at pages/massageChair/massageChair.vue:638",t),e.configData=t,e.name=t.name,t.device_id){e.keyData=JSON.parse(t.key_set),e.comboData=""==t.combo_key_set?[]:JSON.parse(t.combo_key_set),e.powerData=JSON.parse(t.power_key_set),e.switchData=JSON.parse(t.switch_key_set),uni.removeStorageSync("passStatus");let l=uni.getStorageSync("startStatus"),o=uni.getStorageSync("lightStatus");if(a("log","at pages/massageChair/massageChair.vue:654","start",l+o),l){let t=l.substr(5,8).split(""),o=l.substr(13,2).split("");for(let a=0;a<t.length;a++)0==t[a]?e.keyData[a].status=8:e.keyData[a].status=9;a("log","at pages/massageChair/massageChair.vue:668",e.keyData);for(let a=0;a<o.length;a++)0==o[a]?e.switchData[a].status=8:e.switchData[a].status=9}if(o){let t=[];t[0]=o.substr(8,3),e.powerData[0].curPer=parseInt(t[0]),t[1]=o.substr(14,3),e.powerData[1].curPer=parseInt(t[1])}uni.setStorageSync("name",e.name),uni.setStorageSync("keyData",e.keyData),uni.setStorageSync("comboData",e.comboData),uni.setStorageSync("powerData",e.powerData),uni.setStorageSync("switchData",e.switchData)}else a("log","at pages/massageChair/massageChair.vue:700",e.keyData),e.keyData=[],e.comboData=[],e.powerData=[],e.switchData=[]}))}else e.setCurrentBuleTooth("")},clearCache:function(){uni.removeStorageSync("name"),uni.removeStorageSync("configData"),uni.removeStorageSync("keyData"),uni.removeStorageSync("comboData"),uni.removeStorageSync("powerData"),uni.removeStorageSync("switchData")},goToconnect:function(){let e=this;if(!e.getBleStatus())return e.goBleWarn(),!1;uni.navigateTo({url:"/pages/bluetooth/scanDevice"})},notifyChange(){let e=this,t="",l=e.getBleUuid();za.notifyCharacteristicChange({notifyServiceUUID:l.serviceUUID,notifyUUID:l.notifyUUID},(function(l){if("success"==l.type){if(a("log","at pages/massageChair/massageChair.vue:753","notifyCharacteristicChange success",l),"START"==l.data.substr(0,5)&&(t=uni.getStorageSync("startStatus"),a("log","at pages/massageChair/massageChair.vue:756","status",t),t!==l.data)){t=l.data;let a=t.substr(13,2).split("");for(let t=0;t<a.length;t++)0==a[t]?e.switchData[t].status=8:e.switchData[t].status=9;uni.setStorageSync("startStatus",t)}if("LIGHT"==l.data.substr(0,5)&&(t=uni.getStorageSync("lightStatus"),a("log","at pages/massageChair/massageChair.vue:773","status",t),t!=l.data)){t=l.data;let a=[];a[0]=t.substr(8,3),e.powerData[0].curPer=parseInt(a[0]),a[1]=t.substr(14,3),e.powerData[1].curPer=parseInt(a[1]),uni.setStorageSync("lightStatus",t)}}else a("log","at pages/massageChair/massageChair.vue:786","notifyCharacteristicChange fail",l.msg),"设备未连接"==l.msg&&(e.currentBle={mac:"",name:"",deviceId:""},Ma.showMsg("蓝牙已断开"),e.clearCache(),e.setCurrentBuleTooth(""))}))},getStartData(e){if(!e)return void uni.showModal({content:"请重新扫码",showCancel:!1,success(e){}});let t=this;t.first=0;let l={id:e};Ma.goPost("chair/getBluetooth",l,(function(e){a("log","at pages/massageChair/massageChair.vue:821",e),e?(t.deviceList=e,t.openBluetooth()):uni.showModal({content:"请重新扫码",showCancel:!1,success(e){}})}))},connectDevice(){let e=this,t=this.first,l=this.deviceList[t].mac;"ios"==Ma.globalData.os&&(l=this.deviceList[t].deviceId),this.deviceList[t].name;let o=this.deviceList[t];e.disBleConnect(),a("log","at pages/massageChair/massageChair.vue:862",l,t),za.connectDevice(l,(function(l){if(a("log","at pages/massageChair/massageChair.vue:866","connectDevice callback",l),t++,"success"==l.type){let t=e.getBleUuid();for(let e=0;e<l.data.length;e++)-1!=l.data[e].uuid.indexOf("0000ff68")&&(t.serviceUUID=l.data[e].serviceUUID,t.sendUUID=l.data[e].uuid),-1!=l.data[e].uuid.indexOf("0000ff69")&&(t.notifyUUID=l.data[e].uuid);Ma.globalData.bleUuid=t,a("log","at pages/massageChair/massageChair.vue:884","BleUuid.serviceUUID",t),za.notifyCharacteristicChange({notifyServiceUUID:t.serviceUUID,notifyUUID:t.notifyUUID},(function(t){if("success"==t.type){let l="";if("START"==t.data.substr(0,5)&&(l=uni.getStorageSync("startStatus"),a("log","at pages/massageChair/massageChair.vue:896","status",l),l!==t.data&&(l=t.data,uni.setStorageSync("startStatus",l),e.switchData.length>0))){let t=l.substr(13,2).split("");for(let a=0;a<t.length;a++)0==t[a]?e.switchData[a].status=8:e.switchData[a].status=9}if("LIGHT"==t.data.substr(0,5)&&(l=uni.getStorageSync("lightStatus"),a("log","at pages/massageChair/massageChair.vue:915","status",l),l!=t.data&&(l=t.data,uni.setStorageSync("lightStatus",l),e.powerData.length>0))){let t=[];t[0]=l.substr(8,3),e.powerData[0].curPer=parseInt(t[0]),t[1]=l.substr(14,3),e.powerData[1].curPer=parseInt(t[1])}-1!=t.data.indexOf("PIN PASS")&&(uni.setStorageSync("passStatus","PASS"),a("log","at pages/massageChair/massageChair.vue:931","配对成功"),e.getData())}else a("log","at pages/massageChair/massageChair.vue:936","notifyCharacteristicChange fail",t.msg),"设备未连接"==t.msg&&(e.currentBle={mac:"",name:"",deviceId:""},Ma.showMsg("蓝牙已断开"),e.clearCache(),e.setCurrentBuleTooth(""))})),setTimeout((function(l){za.writeString({data:"AT+SEND151811@",writeServiceUUID:t.serviceUUID,writeUUID:t.sendUUID},(function(t){"success"==t.type?(uni.hideLoading(),Ma.showMsg("连接成功","success"),a("log","at pages/massageChair/massageChair.vue:962","writeString success",t),e.setCurrentBuleTooth(o),e.currentBle=o):(a("log","at pages/massageChair/massageChair.vue:969","writeString fail",t),uni.hideLoading(),uni.showModal({content:"连接失败，请重试",showCancel:!1,success(e){}}))}))}),500)}else e.setCurrentBuleTooth(""),a("log","at pages/massageChair/massageChair.vue:986","connectDevice fail",l),t<1?(e.first=t,e.connectDevice()):(uni.hideLoading(),uni.showModal({content:"连接失败，请重试",showCancel:!1,success(e){}}))}))},getCurrentBuleTooth:function(e,t){var a=uni.getStorageSync("currentBuleTooth");return a&&""!=a||(a={mac:"",name:"",deviceId:""}),a},setCurrentBuleTooth:function(e){e=""!=e?e:{mac:"",name:"",deviceId:""};uni.setStorageSync("currentBuleTooth",e)},disBleConnect(){this.currentBle={mac:"",name:"",deviceId:""},za.disconnect(),this.setCurrentBuleTooth("")},getBleStatus(){let e=!1;return za&&(e=za.isEnabled()),a("log","at pages/massageChair/massageChair.vue:1062","getBleStatus-----",e),Ma.globalData.bleStatus=e,e},goBleWarn(){this.setCurrentBuleTooth(""),uni.navigateTo({url:"/pages/bluetooth/warn"})},getBleUuid(){return this.bleUuid},openBluetooth(){let e,t=this;t.getBleStatus(),"ios"==Ma.globalData.os&&setTimeout((()=>{t.getBleStatus()?(uni.showLoading({title:"设备连接中",mask:!0}),za.scanDevices({},(function(l){if(a("log","at pages/massageChair/massageChair.vue:1102","BleModule callback",l,t.deviceList),"scanning"==l.type&&l.data.name){let a=l.data;a.name==t.deviceList[0].name?t.deviceList[0].deviceId=a.mac:a.name==t.deviceList[1].name&&(t.deviceList[1].deviceId=a.mac),(t.deviceList[0].deviceId||t.deviceList[1].deviceId)&&(void 0!==e&&clearTimeout(e),e=setTimeout((function(){za.cancelScan()}),5e3)),t.deviceList[0].deviceId&&t.deviceList[1].deviceId&&(clearTimeout(e),za.cancelScan())}if("success"==l.type){let e={};if(l.data.length>0){for(var o=0;o<l.data.length;o++)e=l.data[o],e.name&&""!=e.name&&e.name==t.deviceList[0].name?t.deviceList[0].deviceId=e.mac:e.name&&""!=e.name&&e.name==t.deviceList[1].name&&(t.deviceList[1].deviceId=e.mac);t.connectDevice()}else uni.hideLoading(),uni.showModal({content:"连接失败，请重试",showCancel:!1,success(e){}})}else"fail"==l.type&&(uni.hideLoading(),uni.showModal({content:"连接失败，请重试",showCancel:!1,success(e){}}))}))):uni.showModal({title:"温馨提示",content:"当前功能需要蓝牙，请开启后再操作",cancelText:"我知道了",confirmText:"去设置",success(e){e.confirm&&Ma.goToApp("systemSetting")}})}),1e3);let l=function(){a("log","at pages/massageChair/massageChair.vue:1183","sucBack"),t.getBleStatus()?(uni.showLoading({title:"设备连接中",mask:!0}),t.connectDevice()):uni.showModal({content:"请开启蓝牙后重试",showCancel:!1,success(e){}}),"ios"==Ma.globalData.os&&Ma.goToApp("systemSetting")},o=function(){uni.showModal({title:"温馨提示",content:"当前功能需要蓝牙，请开启后再操作",cancelText:"我知道了",confirmText:"去设置",success(e){e.confirm&&Ma.goToApp("systemSetting")}}),a("log","at pages/massageChair/massageChair.vue:1219","failBack")},n=function(){a("log","at pages/massageChair/massageChair.vue:1223","redoBack"),uni.showModal({title:"温馨提示",content:"当前功能需要蓝牙，请开启后再操作",cancelText:"我知道了",confirmText:"去设置",success(e){e.confirm&&Ma.goToApp("appSetting")}})},s=function(){"ios"==Ma.globalData.os&&Ma.goToApp("appSetting"),a("log","at pages/massageChair/massageChair.vue:1242","switchBack")},i=function(){"ios"==Ma.globalData.os&&uni.showModal({title:"温馨提示",content:"当前功能需要蓝牙，请开启后再操作",cancelText:"我知道了",confirmText:"去设置",success(e){e.confirm&&Ma.goToApp("appSetting")}}),a("log","at pages/massageChair/massageChair.vue:1260","requestBack")};za.openBluetooth((function(e){if("ios"==Ma.globalData.os)Ma.getDeviceAuth({permissionID:"BLUETOOTH",sucBack:l,failBack:o,switchBack:s,requestBack:i});else{let e=Ma.globalData.osVersion.split(".");parseInt(e[0])<12?t.checkLocationSwitch():(Ma.getDeviceAuth({permissionID:"BLUETOOTH",sucBack:l,failBack:o,redoBack:n}),a("log","at pages/massageChair/massageChair.vue:1292","android"))}}))},pageBack(){setTimeout((function(){uni.navigateBack()}),1e3)},disDevice(){if(!this.noClick())return;let e=this;a("log","at pages/massageChair/massageChair.vue:1315","disDevice currentBle",e.currentBle),uni.showModal({title:"温馨提示",content:"确定要断开连接吗?",success(t){t.confirm&&(e.currentBle={mac:"",name:""},e.disBleConnect())}})},checkLocationSwitch(){let e=this,t=ja.locationEnabled();a("log","at pages/massageChair/massageChair.vue:1339","locationEnabled",t),t?(e.permissionName="LOCATION",this.checkAuth()):uni.showModal({title:"温馨提示",content:"为确保功能正常使用，请先开启定位功能",cancelText:"不用了",confirmText:"去设置",success(t){t.confirm?Ma.goToApp("locationSetting"):e.refuseAuth("当前设备没开启定位功能")}})},checkAuth(){let e=this;Ma.getDeviceAuth({permissionID:e.permissionName,sucBack:function(){a("log","at pages/massageChair/massageChair.vue:1373","sucBack"),e.checkAuthSuc()},failBack:function(){a("log","at pages/massageChair/massageChair.vue:1378","failBack"),e.checkAuthFail()},redoBack:function(){a("log","at pages/massageChair/massageChair.vue:1383","redoBack"),e.checkAuthFail()}})},checkAuthSuc(){let e=this;e.getBleStatus()&&(uni.showLoading({title:"设备连接中",mask:!0}),e.connectDevice()),a("log","at pages/massageChair/massageChair.vue:1408","checkAuthSuc")},checkAuthFail(){let e=this;a("log","at pages/massageChair/massageChair.vue:1415","checkAuthFail");let t="请先开启蓝牙相关权限",l="未开启蓝牙相关权限";"LOCATION"==e.permissionName&&(t="请先开启定位权限",l="未开启定位权限"),uni.showModal({title:"温馨提示",content:"为确保功能正常使用，"+t,cancelText:"不用了",confirmText:"去设置",success(t){t.confirm?Ma.goToApp("appSetting"):e.refuseAuth(l)}})},refuseAuth(e){uni.showModal({title:"温馨提示",content:e+"，当前功能无法正常使用",showCancel:!1,confirmText:"我知道了",success(e){uni.navigateBack()}})},openScanQRCode(){if(!this.noClick())return;let e=this,t=function(){Ma.saomaCode((function(t){if(a("log","at pages/massageChair/massageChair.vue:1466",t),-1!=t.indexOf("qksell.cn")){let a=t.substring(t.lastIndexOf("/")+1);e.getStartData(a)}}))};Ma.getDeviceAuth({permissionID:"CAMERA",sucBack:t,failBack:function(){e.authTips("该功能需要相机权限，为确保功能正常使用，请先开启权限")},switchBack:t})}}},[["render",function(t,a,l,o,n,s){return e.openBlock(),e.createElementBlock(e.Fragment,null,[e.createElementVNode("view",{class:"content"},[e.createElementVNode("view",{class:"topTitleBox",style:e.normalizeStyle({paddingTop:t.statusBarHeight+"px"})},null,4),""!=n.currentBle.mac&&""!=n.currentBle.name?(e.openBlock(),e.createElementBlock(e.Fragment,{key:0},[e.createElementVNode("view",{class:"bluetoothHead"},[e.withDirectives(e.createElementVNode("image",{src:n.configData.img,class:"bluetoothImg"},null,8,["src"]),[[e.vShow,""!=n.configData.img]])]),e.createElementVNode("view",{class:"bluetoothInfoBox box"},[e.createElementVNode("view",{class:"bluetoothInfo"},[e.createElementVNode("view",{class:"bluetoothName"},e.toDisplayString(n.name),1),e.createElementVNode("view",{class:"bluetoothStatus active"},[e.createElementVNode("text",{class:"dot"}),e.createTextVNode(" 已连接 ")])]),e.createElementVNode("view",{class:"bluetoothSet",onClick:a[0]||(a[0]=e=>s.disDevice())},[e.createTextVNode(" 断开 "),e.createElementVNode("text",{class:"iconfont icon-shibai"})])]),e.createElementVNode("view",{class:""},[s.filteredArr(n.keyData).length>0?(e.openBlock(),e.createElementBlock("view",{key:0,class:"box"},[e.createElementVNode("view",{class:"opTitle"},"长按键"),e.createElementVNode("view",{class:"opBox"},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(s.keyArr(),((t,a)=>e.withDirectives((e.openBlock(),e.createElementBlock("view",{class:"opItem w25",onLongpress:e=>s.clickStart(a),onTouchend:e=>s.clickEnd(a)},[e.createElementVNode("view",{class:e.normalizeClass(["pBtn",{active:9==t.status}])},e.toDisplayString(t.name),3)],40,["onLongpress","onTouchend"])),[[e.vShow,t.isuse]]))),256))])])):e.createCommentVNode("",!0),e.createElementVNode("view",{class:"box"},[e.createElementVNode("view",{class:"opTitle"},"场景键"),e.createElementVNode("view",{class:"opBox"},[n.comboData.length>0?(e.openBlock(!0),e.createElementBlock(e.Fragment,{key:0},e.renderList(n.comboData,((t,a)=>(e.openBlock(),e.createElementBlock("view",{class:"opItem",onLongpress:e=>s.comboStart(t.one,t.two,a),onTouchend:e=>s.comboEnd(t.one,t.two,a)},[e.createElementVNode("view",{class:e.normalizeClass(["pBtn",{active:9==t.status}])},e.toDisplayString(t.name),3)],40,["onLongpress","onTouchend"])))),256)):e.createCommentVNode("",!0)])]),s.filteredArr(n.powerData).length>100?(e.openBlock(),e.createElementBlock("view",{key:1,class:"box"},[e.createElementVNode("view",{class:"opTitle"},"可控电源键"),(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(n.powerData,((t,a)=>e.withDirectives((e.openBlock(),e.createElementBlock("view",{class:"powerBox"},[e.createElementVNode("view",{class:"percentTitle"},e.toDisplayString(t.name),1),e.createElementVNode("view",{class:"percentList"},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(t.percent,((l,o)=>(e.openBlock(),e.createElementBlock("text",{class:e.normalizeClass(["percent",t.curPer==l?"pBtn9":""]),onClick:e=>s.powerSwitch(a,l)},e.toDisplayString(l<1?"关":l+"%"),11,["onClick"])))),256))])],512)),[[e.vShow,t.isuse]]))),256))])):e.createCommentVNode("",!0),s.filteredArr(n.switchData).length>100?(e.openBlock(),e.createElementBlock("view",{key:2,class:"box"},[e.createElementVNode("view",{class:"opTitle"},"普通开关键"),e.createElementVNode("view",{class:"opBox"},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(n.switchData,((t,a)=>e.withDirectives((e.openBlock(),e.createElementBlock("view",{class:"opItem",onClick:e=>s.keySwitch(a,2)},[e.createElementVNode("view",{class:e.normalizeClass(["pBtn",{active:9==t.status}])},e.toDisplayString(t.name),3)],8,["onClick"])),[[e.vShow,t.isuse]]))),256))])])):e.createCommentVNode("",!0)]),e.createElementVNode("view",{class:"h8"})],64)):(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[e.createElementVNode("view",{class:"bluetoothHead"}),e.createElementVNode("view",{class:"bluetoothInfoBox box"},[e.createElementVNode("view",{class:"bluetoothInfo"},[e.createElementVNode("view",{class:"bluetoothName"},[e.createElementVNode("text",{class:"dot"}),e.createTextVNode(" 未连接")]),e.createElementVNode("view",{class:"bluetoothStatus"})]),e.createElementVNode("view",{class:"bluetoothSet",onClick:a[1]||(a[1]=(...e)=>s.openScanQRCode&&s.openScanQRCode(...e))},[e.createTextVNode(" 扫码 "),e.createElementVNode("text",{class:"iconfont icon-ziyuan"})])])],64))]),n.showUpDataBox?(e.openBlock(),e.createElementBlock("view",{key:0,class:"upDataBox"},[e.createElementVNode("view",{class:"title"},"管理密码"),e.createElementVNode("input",{type:"text",placeholder:"请输入",class:"sendInput",value:n.sendInput,onInput:a[2]||(a[2]=(...e)=>t.inputData&&t.inputData(...e)),"cursor-spacing":"150"},null,40,["value"]),e.createElementVNode("view",{class:"bomBtn"},[e.createElementVNode("view",{class:"closeWin",onClick:a[3]||(a[3]=(...e)=>t.closeWin&&t.closeWin(...e))},"取消"),e.createElementVNode("view",{class:"save",onClick:a[4]||(a[4]=(...e)=>t.save&&t.save(...e))},"确认")])])):e.createCommentVNode("",!0),n.showUpDataBox?(e.openBlock(),e.createElementBlock("view",{key:1,class:"fixBg"})):e.createCommentVNode("",!0)],64)}]]);var Ua;const Ha=n({data:()=>({page:1,lists:[],searchTxt:"",upDetailBool:!0,termList:[],type:"all",stockId:"all",status:"all",sort:0,amount:"all",minAmount:"",maxAmount:"",showTermKey:"",newSet:"",showBg:!1,boxTop:0,currTop:0,zhidingNum:0,isHua:0,isSetScreen:"",screenLists:{0:0,1:0,2:0}}),onLoad(){Ua=getApp(),this.getInitData()},onShow(){this.goSearch()},methods:{goDetail(e){let t=this.lists[e].apply_num,a=this.lists[e].oaType;uni.navigateTo({url:"/pages/oadetail/oadetail?apply_num="+t+"&oa_type="+a})},edit(e){let t=this.lists[e];uni.navigateTo({url:"/pages/oaapplyadd/evection?apply_num="+t.apply_num})},goSearch(){this.page=1,this.getData()},clearSearch(){this.searchTxt="",this.page=1,this.getData()},chaTopTerm(e){let t=this,a=e.currentTarget.dataset.index,l=t.termList[a];if(t.showTermKey===a)return void t.clearTerm();let o=l.key;t[o],t.showTermKey=a,t.newSet=t[o],t.showBg=!0},chaTerm(e){let t=this,a=e.currentTarget.dataset.index,l=e.currentTarget.dataset.index2,o=t.termList[a],n=t.termList[a].list[l];t[o.key]=n.id,t.screenLists[a]=l,2==a&&(t.minAmount="",t.maxAmount=""),"all"===n.id?o.name=o.oname:o.name=n.name,t.clearTerm(),t.goSearch()},clearTerm(){this.showTermKey="",this.showBg=!1},getInitData(){let e=this;Ua.goPost("oaapply/initdata",{type:"chuchai"},(function(t){e.termList=t.termList}))},getData(){let e=this,t={page:e.page,oaType:14,searchTxt:e.searchTxt,type:e.type,stockId:e.stockId,status:e.status,sort:e.sort,amount:e.amount,minAmount:e.minAmount,maxAmount:e.maxAmount};if(0==e.page)return!1;Ua.goPost("oaapply/myApplyList",t,(function(t){1==e.page?e.lists=t.lists:e.lists=e.lists.concat(t.lists),e.page++,t.lists.length<1&&(e.page=0)}))},moreOp(e){let t=this,a=e.currentTarget.dataset.index,l=t.lists[a],o=l.status,n=l.isSelf,s=["详情"];1==n&&(0==o&&(s.push("撤销"),s.push("加急")),2!=o&&3!=o&&4!=o&&5!=o||s.push("编辑"),1!=o&&3!=o||s.push("作废"));let i=Ua.showActionSheetParams({itemList:s,success:function(e){switch(s[e.tapIndex]){case"详情":t.goDetail(a);break;case"编辑":t.edit(a);break;case"撤销":t.updateStatus(a,3);break;case"作废":t.updateStatus(a,4);break;case"加急":t.urgentNotice(a)}}});t.upDetailBool&&(t.upDetailBool=!1,uni.showActionSheet(i),setTimeout((function(){t.upDetailBool=!0}),1e3))},updateStatus(e,t){let a=this,l=a.lists[e],o={orderid:l.apply_num,status:t,oaType:14},n=3==t?"撤销":"作废";uni.showModal({title:"温馨提示",content:"确定要"+n+"吗?",success(e){e.confirm&&Ua.goPost("oaapply/updatestatus",o,(function(e){setTimeout((function(){a.goSearch()}),1500)}))}})},apply(){uni.navigateTo({url:"/pages/oaapplyadd/evection"})},cliSeaBtn(){this.goSearch()},clearSeach(){let e=this.searchTxt;this.searchTxt="",e&&this.goSearch()},urgentNotice(e){let t={apply_num:this.lists[e].apply_num};Ua.goPost("oaapply/getUrgentNum",t,(function(e){let a=e.maxLen,l=a-e.num,o=l<=0?0:l,n="本审批单剩余加急次数："+o+" \r\n确定要加急吗?";0==l&&(n="本审批单剩余加急次数："+o+" \r\n暂时无法加急!"),uni.showModal({title:"加急督办(最多"+a+"次)",content:n,success(e){if(e.confirm&&l>0){let e="oaapply/urgentNotice";Ua.goPost(e,t,(function(e){}))}}})}))},startScroll:function(){this.isHua=1},boxscroll:function(e){var t=this,a=e.detail.scrollTop,l=t.currTop,o=t.boxTop;a>l&&0==t.isHua&&a>20&&a<50&&(this.isHua=1),1==t.isHua&&(a>=l?(o-=8)>-49&&(t.boxTop=o):(o+=8)<1&&(t.boxTop=o)),t.currTop=a},zhidingBtn:function(){var e=this;e.boxTop=0,e.isHua=0,e.zhidingNum=1==e.zhidingNum?0:1},sureTop:function(){this.boxTop=0,this.isHua=0},sureBom:function(){var e=this;e.boxTop=-48,e.isHua=0,e.getData()},openSearchInfo:function(){this.clearTerm(),this.isSetScreen=1},closeSearchInfo:function(){this.isSetScreen=0},selScreen:function(e){var t=this,a=e.currentTarget.dataset.idx,l=e.currentTarget.dataset.idx2;t.screenLists[a]=l,2==a&&(t.minAmount="",t.maxAmount="")},resetScreen:function(){var e=this;e.screenLists={0:0,1:0,2:0},e.minAmount="",e.maxAmount=""},sureSeach:function(){var e=this,t=e.screenLists;for(var a in t){var l=e.termList[a],o=e.termList[a].list[t[a]];e[l.key]=o.id,"all"===o.id?l.name=l.oname:l.name=o.name}e.closeSearchInfo(),e.goSearch()},inputInfo:function(e){var t=e.currentTarget.dataset.name,a=e.detail.value;this[t]=a,"minAmount"!=t&&"maxAmount"!=t||(this.screenLists[2]=0)}}},[["render",function(t,a,l,o,n,s){return e.openBlock(),e.createElementBlock(e.Fragment,null,[e.createElementVNode("view",{class:"topBox",style:e.normalizeStyle("top:"+n.boxTop+"px;")},[e.createElementVNode("view",{class:"searchBox"},[e.createElementVNode("i",{class:"iconfont icon-sousuo search"}),e.withDirectives(e.createElementVNode("input",{class:"seaCon",type:"text",placeholder:"请输入订单号,出差人,出差事由","onUpdate:modelValue":a[0]||(a[0]=e=>n.searchTxt=e)},null,512),[[e.vModelText,n.searchTxt]]),""!=n.searchTxt?(e.openBlock(),e.createElementBlock("i",{key:0,class:"iconfont icon-shibai1 close",onClick:a[1]||(a[1]=(...e)=>s.clearSeach&&s.clearSeach(...e))})):e.createCommentVNode("",!0),e.createElementVNode("view",{class:"seaBtn",onClick:a[2]||(a[2]=(...e)=>s.goSearch&&s.goSearch(...e))},"搜索")]),e.createElementVNode("ul",{class:"termBox"},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(n.termList,((t,l)=>(e.openBlock(),e.createElementBlock("li",{style:{width:"33%"}},[e.createElementVNode("view",{onClick:a[3]||(a[3]=(...e)=>s.chaTopTerm&&s.chaTopTerm(...e)),class:e.normalizeClass(t.name!=t.oname?"red":""),"data-index":l},[e.createElementVNode("text",null,e.toDisplayString(t.name),1),n.showTermKey!==l?(e.openBlock(),e.createElementBlock("i",{key:0,class:e.normalizeClass(["iconfont icon-tubiaozhizuo-1",t.name!=t.oname?"red":""])},null,2)):n.showTermKey===l?(e.openBlock(),e.createElementBlock("i",{key:1,class:e.normalizeClass(["iconfont icon-tubiaozhizuo-",t.name!=t.oname?"red":""])},null,2)):e.createCommentVNode("",!0)],10,["data-index"]),n.showTermKey===l?(e.openBlock(),e.createElementBlock("ul",{key:0,class:"nextBox"},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(t.list,((t,o)=>(e.openBlock(),e.createElementBlock("li",{onClick:a[4]||(a[4]=(...e)=>s.chaTerm&&s.chaTerm(...e)),"data-index":l,"data-index2":o},[e.createTextVNode(e.toDisplayString(t.name)+" ",1),n.newSet==t.id?(e.openBlock(),e.createElementBlock("i",{key:0,class:"iconfont icon-xuanzhong"})):e.createCommentVNode("",!0)],8,["data-index","data-index2"])))),256))])):e.createCommentVNode("",!0)])))),256)),e.createElementVNode("li",{style:{width:"33%"}},[e.createElementVNode("view",{onClick:a[5]||(a[5]=(...e)=>s.openSearchInfo&&s.openSearchInfo(...e))},[e.createElementVNode("text",null,[e.createTextVNode(" 其他筛选"),e.createElementVNode("i",{class:"iconfont icon-shaixuan",style:{color:"#333"}})])])])])],4),e.createElementVNode("scroll-view",{class:"infoListBox",id:"infoListBox","scroll-y":"true","scroll-top":n.zhidingNum,onScrolltolower:a[7]||(a[7]=(...e)=>s.sureBom&&s.sureBom(...e)),style:e.normalizeStyle("top:"+(n.boxTop+82)+"px;"),onScroll:a[8]||(a[8]=(...e)=>s.boxscroll&&s.boxscroll(...e)),onScrolltoupper:a[9]||(a[9]=(...e)=>s.sureTop&&s.sureTop(...e)),onTouchstart:a[10]||(a[10]=(...e)=>s.startScroll&&s.startScroll(...e))},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(n.lists,((t,l)=>(e.openBlock(),e.createElementBlock("view",{class:"infoLists yfBox",key:t.apply_num,"data-index":l,onClick:a[6]||(a[6]=(...e)=>s.moreOp&&s.moreOp(...e))},[e.createElementVNode("view",{class:"listsTop"},[e.createElementVNode("view",{class:"listsTopTitle"},e.toDisplayString(t.typeName),1),e.createElementVNode("view",{class:e.normalizeClass(["listsTopMoney",t.statusClass])},[e.createElementVNode("text",null,e.toDisplayString(t.statusTxt),1)],2)]),e.createElementVNode("view",{class:"listsContent"},[e.createElementVNode("view",{class:"listsConName"},"出差耗时"),e.createElementVNode("view",{class:"listsConInfo txtBlod"},e.toDisplayString(t.duration),1)]),e.createElementVNode("view",{class:"listsContent"},[e.createElementVNode("view",{class:"listsConName"},"出差部门"),e.createElementVNode("view",{class:"listsConInfo"},e.toDisplayString(t.depName),1)]),e.createElementVNode("view",{class:"listsContent bombor"},[e.createElementVNode("view",{class:"listsConName"},"出差事由"),e.createElementVNode("view",{class:"listsConInfo"},e.toDisplayString(t.desc),1)]),e.createElementVNode("view",{class:"listsContent"},[e.createElementVNode("view",{class:"listsConName"},"申请时间"),e.createElementVNode("view",{class:"listsConInfo"},e.toDisplayString(t.addtime),1)])],8,["data-index"])))),128)),n.lists.length>0&&0==n.page?(e.openBlock(),e.createElementBlock("view",{key:0,class:"daoDiLe IOSBottom"},"到底了")):e.createCommentVNode("",!0),0==n.lists.length?(e.openBlock(),e.createElementBlock("view",{key:1,class:"noData"},[e.createElementVNode("i",{class:"iconfont icon-kongshuju"}),e.createTextVNode(" 暂无数据 ")])):e.createCommentVNode("",!0)],44,["scroll-top"]),e.createElementVNode("view",{class:"foot IOSBottom"},[e.createElementVNode("view",{class:"footBtn bg-orange-JB",onClick:a[11]||(a[11]=(...e)=>s.apply&&s.apply(...e))},"新增申请")]),n.showBg?(e.openBlock(),e.createElementBlock("view",{key:0,class:"fixBg",onClick:a[12]||(a[12]=(...e)=>s.clearTerm&&s.clearTerm(...e))})):e.createCommentVNode("",!0),e.createElementVNode("view",{class:"rBomOpBox"},[n.currTop>50?(e.openBlock(),e.createElementBlock("view",{key:0,class:"subBtn IOSMGBottom",onClick:a[13]||(a[13]=(...e)=>s.zhidingBtn&&s.zhidingBtn(...e))},[e.createElementVNode("i",{class:"iconfont icon-fanhuidingbu"})])):e.createCommentVNode("",!0)]),1==n.isSetScreen?(e.openBlock(),e.createElementBlock("view",{key:1,class:"blackBg",onClick:a[14]||(a[14]=(...e)=>s.closeSearchInfo&&s.closeSearchInfo(...e))})):e.createCommentVNode("",!0),1==n.isSetScreen?(e.openBlock(),e.createElementBlock("view",{key:2,class:"screenBox IOSBottom"},[e.createElementVNode("view",{class:"screenTitle"},"筛选"),e.createElementVNode("view",{style:{height:"3rem"}}),(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(n.termList,((t,l)=>(e.openBlock(),e.createElementBlock("view",{class:"screenCon"},[e.createElementVNode("view",{class:"screenTips"},e.toDisplayString(t.oname),1),e.createElementVNode("view",{class:"screenSetBox"},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(t.list,((o,i)=>(e.openBlock(),e.createElementBlock("view",{class:e.normalizeClass(["amount"==t.key?"screenSet2":"screenSet",n.screenLists[l]==i?"screenSeted":""]),"data-idx":l,"data-idx2":i,onClick:a[15]||(a[15]=(...e)=>s.selScreen&&s.selScreen(...e))},e.toDisplayString(o.name),11,["data-idx","data-idx2"])))),256))])])))),256)),e.createElementVNode("view",{style:{height:"3.6rem"}}),e.createElementVNode("view",{class:"screenBtn IOSBottom"},[e.createElementVNode("view",{class:"screenLBtn bg-orange-JB",onClick:a[16]||(a[16]=(...e)=>s.resetScreen&&s.resetScreen(...e))},"重置"),e.createElementVNode("view",{class:"screenRBtn bg-red-JB",onClick:a[17]||(a[17]=(...e)=>s.sureSeach&&s.sureSeach(...e))},"确定")])])):e.createCommentVNode("",!0)],64)}]]);var Ja;const Wa=n({data:()=>({apply_num:"",imgLists:[],count:1,oaType:14,spTypeList:[],spTypeIndex:"",spType:"",default_approve:[],custom_person:[],approve:[],copy_person:[],setType:"",sysTipsConfig:{},defaultTool:["飞机","高铁","火车","其他"],defaultWay:["单程","往返"],detailItem:[],detail:[],desc:"",remark:"",costTime:0}),onLoad(e){Ja=getApp();var t=this;t.sysTipsConfig=Ja.getInitSysTipsConfig(),t.apply_num=e.apply_num?e.apply_num:"",t.getData(),t.apply_num&&setTimeout((function(){t.getDetail()}),50)},onShow(){},methods:{totTime(){let e=this,t=e.detail,l="",o="";if(a("log","at pages/oaapplyadd/evection.vue:290",t),t.forEach((function(e,t){if(""!=e.start&&""!=e.end){let t=new Date(e.start).getTime()/1e3,a=new Date(e.end).getTime()/1e3;(!l||t<l)&&(l=t),(!o||a>o)&&(o=a)}})),l&&o){let t=Math.floor(o-l);e.costTime=t<=0?0:Math.floor(t/3600),e.getspr()}},seleTime:function(e){e.backKey;let[t,a]=e.backKey.split("_");this.detail[t][a]=e.key,this.totTime()},setTool(e){let t=e.target.dataset.key,a=e.target.dataset.val,l=a;"其他"==a&&(a=""),this.detail[t].tool=a,this.detail[t].toolKey=l},setWay(e){let t=e.target.dataset.key,a=e.target.dataset.val;this.detail[t].way=a},selectAddress(e){let[t,a,l,o]=e,[n,s]=o.split("_");this.detail[n][s]=t+"-"+a+"-"+l},inputDetail(e){let t=e.detail.value,a=e.currentTarget.dataset.key,l=e.currentTarget.dataset.index;this.detail[l][a]=t},addDetail(){let e=Ja.copyObject(this.detailItem);e.id=this.count,this.count++,this.detail.push(e)},delDetail(e){let t=e.currentTarget.dataset.index;this.detail.splice(t,1),this.totTime()},getData(){let e=this,t={type:"chuChai",orderid:e.apply_num,oaType:e.oaType,getMrSpr:1};Ja.goPost("oaapply/getInitDataForAdd",t,(function(t){e.detail=t.detail,e.detailItem=t.detailItem,e.defaultTool=t.defaultTool,e.defaultWay=t.defaultWay,e.spTypeList=t.spTypeList,e.spTypeIndex=t.spTypeIndex,e.spType=t.data.spType,e.default_approve=t.default_approve;let a=t.data.custom_person;a.approve&&(e.approve=a.approve),a.copy_person&&(e.copy_person=a.copy_person),1==t.hasData&&(t=t.data,e.detail=t.detail,e.imgLists=t.img,e.desc=t.desc,e.remark=t.remark,e.getspr())}))},getDetail(){let e=this,t={apply_num:e.apply_num};Ja.goPost("oaapply/chuChaiEdit",t,(function(t){let a=t.data;e.detail=e.countDetail(a.detail),e.imgLists=a.img,e.desc=a.desc,e.status=a.status,e.remark=a.remark,e.costTime=a.duration,e.getspr()}))},countDetail(e){for(let t in e)e[t].id=this.count,this.count++;return e},previewImage(e){let t=e.currentTarget.dataset.index,a=this.imgLists,l=a[t].url,o=[];for(let n in a)o.push(a[n].url);uni.previewImage({current:l,urls:o})},delImg(e){let t=e.currentTarget.dataset.index;this.imgLists.splice(t,1)},chooseImage:function(e){let t=this,l=t.imgLists.length,o=5-l;l>=5?Ja.showMsg("最多5张凭证"):uni.chooseImage({sizeType:["original","compressed"],sourceType:["album","camera"],count:o,success(e){let l=e.tempFilePaths;a("log","at pages/oaapplyadd/evection.vue:518",e),Ja.uploadImgMultiple(l,0,1,l.length,(function(e){t.imgLists.push({url:e.url,path:e.path}),a("log","at pages/oaapplyadd/evection.vue:525",t.imgLists)}))},fail(e){a("log","at pages/oaapplyadd/evection.vue:529",e)}})},submitData(){let e=this,t=e.apply_num,a=e.status,l=e.imgLists,o=[];for(let i in l)o.push(l[i].path);let n={desc:e.desc,remark:e.remark,img:o.join(","),detail:JSON.stringify(e.detail),spType:e.spType,custom_person:e.getCustomPeople()},s="oaapply/chuChaiAdd";""!=t&&3==a&&(s="oaapply/chuChaiEdit",n.apply_num=t,n.isUpdata=1),Ja.goPost(s,n,(function(l){""!=t&&3==a?e.updateStatus(0):setTimeout((function(){uni.navigateBack()}),1500)}))},updateStatus(e){let t={orderid:this.apply_num,status:e,oaType:14};Ja.goPost("oaapply/updatestatus",t,(function(e){setTimeout((function(){uni.navigateBack()}),1500)}))},saveData(){let e=this,t=e.apply_num,a=e.imgLists,l=[];if(""!=t)return!1;for(let n in a)l.push(a[n].path);let o={desc:e.desc,remark:e.remark,img:l.join(","),detail:JSON.stringify(e.detail),oaType:14};Ja.goPost("oaapply/savedata",o,(function(e){}))},selectSpType:function(e){let t=e.detail.value;this.spTypeIndex=t,this.spType=this.spTypeList[t].id,a("log","at pages/oaapplyadd/evection.vue:649","this.spType",this.spType)},goSetCustomPerson(e){let t=this;a("log","at pages/oaapplyadd/evection.vue:658","t",e),t.setType=e;uni.navigateTo({url:"/pages/companysel/companysel?op=chooseStaff",events:{backFun:function(e){a("log","at pages/oaapplyadd/evection.vue:667","data",JSON.stringify(e));let l=e.sid,o=e.sendTxt.split(",");for(let a=0;a<l.length;a++){let e=[{id:l[a],name:o[a],way:1}];e=t.getNewSetPeople(e),1==t.setType?t.approve=t.approve.concat(e):2==t.setType&&(t.copy_person=t.copy_person.concat(e))}}},success:function(e){let a=[];1==t.setType?a=t.approve:2==t.setType&&(a=t.copy_person);let l=a.map((e=>e.id));e.eventChannel.emit("afferent",{sid:l,did:[]})}})},getNewSetPeople(e){let t=this,a=e.map((e=>e.id)),l=[];l=1==t.setType?t.approve.map((e=>e.id)):2==t.setType?t.copy_person.map((e=>e.id)):t.work_person.map((e=>e.id));let o=[];for(var n=0;n<a.length;n++)l.includes(a[n])||o.push(e[n]);return o},movePeople(e,t){let l=this,o=l.approve[t];l.approve.splice(t,1);let n=t-1;2==e&&(n=Number(t)+1),a("log","at pages/oaapplyadd/evection.vue:767",t,n),l.approve.splice(n,0,o)},delPeople(e,t){let a=this;1==e?a.approve.splice(t,1):2==e?a.copy_person.splice(t,1):a.work_person.splice(t,1)},getCustomPeople(){let e={approve:this.approve,copy_person:this.copy_person};return e=JSON.stringify(e),e},getspr(){let e=this,t=e.costTime,l=(t/24).toFixed(2);a("log","at pages/oaapplyadd/evection.vue:822","costTime",t,l);let o={oaType:e.oaType,day:l};Ja.goPost("oaapply/getspr",o,(function(t){a("log","at pages/oaapplyadd/evection.vue:833",t),e.default_approve=t.approve}))},clearNoNum:e=>((e=(e=(e=(e=e.replace(/[^\d.]/g,"")).replace(/\.{2,}/g,".")).replace(".","$#$").replace(/\./g,"").replace("$#$",".")).replace(/^(\-)*(\d+)\.(\d\d).*$/,"$1$2.$3")).indexOf(".")<0&&""!=e&&(e=parseFloat(e)),e)}},[["render",function(t,a,o,n,s,i){const c=l(e.resolveDynamicComponent("DaBaieXCompSelectAddress"),N),r=l(e.resolveDynamicComponent("timeSelector"),w);return e.openBlock(),e.createElementBlock("view",{class:"content"},[e.createElementVNode("view",{class:"sdFormInfo bompad"},[e.createElementVNode("view",{class:"sdFormInputSet"},[e.createElementVNode("view",{class:"sdFormInlineTitleSet"},[e.createElementVNode("view",{class:"sdFormXing red"},"*"),e.createElementVNode("view",{class:"sdFormInlineTitle"},"出差事由")]),e.withDirectives(e.createElementVNode("input",{type:"text",class:"sdFormBlockInput","placeholder-style":"color:#999;","onUpdate:modelValue":a[0]||(a[0]=e=>s.desc=e),placeholder:"请输入出差事由",maxlength:"100"},null,512),[[e.vModelText,s.desc]])]),(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(s.detail,((t,l)=>(e.openBlock(),e.createElementBlock("view",{class:"detail",key:t.id},[e.createElementVNode("view",{class:"title"},[e.createElementVNode("text",{class:"orange"},"行程"+e.toDisplayString(l+1),1),l>0?(e.openBlock(),e.createElementBlock("text",{key:0,class:"delDetailBtn","data-index":l,onClick:a[1]||(a[1]=(...e)=>i.delDetail&&i.delDetail(...e))},"删除",8,["data-index"])):e.createCommentVNode("",!0)]),e.createElementVNode("view",{class:"sdFormInputSet2"},[e.createElementVNode("view",{class:"sdFormInlineTitleSet"},[e.createElementVNode("view",{class:"sdFormInlineTitle"},"交通工具")]),e.createElementVNode("view",{class:"sdFormInlineInput"},[e.createElementVNode("ul",{class:"toolList"},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(s.defaultTool,((o,n)=>(e.openBlock(),e.createElementBlock("li",{onClick:a[2]||(a[2]=(...e)=>i.setTool&&i.setTool(...e)),"data-key":l,"data-val":o,class:e.normalizeClass(o==t.toolKey?"onset":"")},e.toDisplayString(o),11,["data-key","data-val"])))),256))])])]),"其他"==t.toolKey?(e.openBlock(),e.createElementBlock("view",{key:0,class:"sdFormInputSet"},[e.createElementVNode("input",{type:"text",class:"srinput",placeholder:"请输入具体交通工具","data-index":l,"data-key":"tool",onInput:a[3]||(a[3]=(...e)=>i.inputDetail&&i.inputDetail(...e)),value:t.tool},null,40,["data-index","value"])])):e.createCommentVNode("",!0),e.createElementVNode("view",{class:"sdFormInputSet2"},[e.createElementVNode("view",{class:"sdFormInlineTitleSet"},[e.createElementVNode("view",{class:"sdFormInlineTitle"},"单程往返")]),e.createElementVNode("view",{class:"sdFormInlineInput"},[e.createElementVNode("ul",{class:"toolList"},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(s.defaultWay,((o,n)=>(e.openBlock(),e.createElementBlock("li",{onClick:a[4]||(a[4]=(...e)=>i.setWay&&i.setWay(...e)),"data-key":l,"data-val":n,class:e.normalizeClass(n==t.way?"onset":"")},e.toDisplayString(o),11,["data-key","data-val"])))),256))])])]),e.createElementVNode("view",{class:"sdFormInputSet"},[e.createElementVNode("view",{class:"sdFormInlineTitleSet"},[e.createElementVNode("view",{class:"sdFormXing red"},"*"),e.createElementVNode("view",{class:"sdFormInlineTitle"},"出发地点")]),e.createElementVNode("view",{class:"sdFormInlineInput"},[e.createElementVNode("view",{class:"sdFormInlineName"},[e.createVNode(c,{class:"inlblock",onSelectAddress:i.selectAddress,objKey:l+"_setout",value:t.setout},null,8,["onSelectAddress","objKey","value"])]),e.createElementVNode("view",{class:"sdFormRightJianTou"},[e.createElementVNode("text",{class:"iconfont icon-youbian1"})])])]),e.createElementVNode("view",{class:"sdFormInputSet"},[e.createElementVNode("view",{class:"sdFormInlineTitleSet"},[e.createElementVNode("view",{class:"sdFormXing red"},"*"),e.createElementVNode("view",{class:"sdFormInlineTitle"},"到达地点")]),e.createElementVNode("view",{class:"sdFormInlineInput"},[e.createElementVNode("view",{class:"sdFormInlineName"},[e.createVNode(c,{class:"inlblock",onSelectAddress:i.selectAddress,objKey:l+"_reach",value:t.reach},null,8,["onSelectAddress","objKey","value"])]),e.createElementVNode("view",{class:"sdFormRightJianTou"},[e.createElementVNode("text",{class:"iconfont icon-youbian1"})])])]),e.createElementVNode("view",{class:"sdFormInputSet"},[e.createElementVNode("view",{class:"sdFormInlineTitleSet"},[e.createElementVNode("view",{class:"sdFormXing red"},"*"),e.createElementVNode("view",{class:"sdFormInlineTitle"},"开始时间")]),e.createElementVNode("view",{class:"sdFormInlineInput"},[e.createVNode(r,{showType:"yearToMinute",defaultValue:t.start,beginDate:"2022-01-01",endDate:"2100-12-31",backKey:l+"_start",defaultMinute:"0",onBtnConfirm:i.seleTime},{default:e.withCtx((()=>[e.createElementVNode("view",{class:"sdFormInlineName"},e.toDisplayString(""!=t.start?t.start:"请选择"),1),e.createElementVNode("view",{class:"sdFormRightJianTou"},[e.createElementVNode("text",{class:"iconfont icon-youbian1"})])])),_:2},1032,["defaultValue","backKey","onBtnConfirm"])])]),e.createElementVNode("view",{class:"sdFormInputSet"},[e.createElementVNode("view",{class:"sdFormInlineTitleSet"},[e.createElementVNode("view",{class:"sdFormXing red"},"*"),e.createElementVNode("view",{class:"sdFormInlineTitle"},"结束时间")]),e.createElementVNode("view",{class:"sdFormInlineInput"},[e.createVNode(r,{showType:"yearToMinute",defaultValue:t.end,beginDate:"2022-01-01",endDate:"2100-12-31",backKey:l+"_end",defaultMinute:"0",onBtnConfirm:i.seleTime},{default:e.withCtx((()=>[e.createElementVNode("view",{class:"sdFormInlineName"},e.toDisplayString(""!=t.end?t.end:"请选择"),1),e.createElementVNode("view",{class:"sdFormRightJianTou"},[e.createElementVNode("text",{class:"iconfont icon-youbian1"})])])),_:2},1032,["defaultValue","backKey","onBtnConfirm"])])])])))),128)),e.createElementVNode("view",{class:"addDetailBtn orange",onClick:a[5]||(a[5]=(...e)=>i.addDetail&&i.addDetail(...e))},[e.createElementVNode("text",{class:"iconfont icon-shangchuantupian"}),e.createTextVNode("添加行程")]),e.createElementVNode("view",{class:"sdFormInputSet"},[e.createElementVNode("view",{class:"sdFormInlineTitleSet"},[e.createElementVNode("view",{class:"sdFormXing red"}),e.createElementVNode("view",{class:"sdFormInlineTitle"},"出差备注")]),e.createElementVNode("view",{class:"sdFormBlockInput"},[e.withDirectives(e.createElementVNode("textarea",{class:"sdFormBlockTextarea",maxlength:"100","placeholder-style":"color:#999;",placeholder:"输入请假事由","onUpdate:modelValue":a[6]||(a[6]=e=>s.remark=e)},null,512),[[e.vModelText,s.remark]])])]),e.createElementVNode("view",{class:"sdFormManyPicSet"},[e.createElementVNode("view",{class:"sdFormManyPicTitleSet"},[e.createElementVNode("view",{class:"sdFormManyPicTitle"},"出差凭证"),e.createElementVNode("text",{class:"sdFormManyPicSubTips"},"最多5张")]),e.createElementVNode("view",{class:"sdFormAllPicBox fl"},[e.createElementVNode("view",{class:"sdFormAllPicAdd fl"},[e.createElementVNode("text",{class:"iconfont icon-shangchuantupian",onClick:a[7]||(a[7]=(...e)=>i.chooseImage&&i.chooseImage(...e))})]),(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(s.imgLists,((t,l)=>(e.openBlock(),e.createElementBlock("view",{class:"sdFormAllPicImg fl"},[e.createElementVNode("image",{class:"filled-image",mode:"aspectFill",src:t.url,"data-index":l,onClick:a[8]||(a[8]=(...e)=>i.previewImage&&i.previewImage(...e))},null,8,["src","data-index"]),e.createElementVNode("view",{class:"sdFormAllPicImgDel","data-index":l,onClick:a[9]||(a[9]=e.withModifiers(((...e)=>i.delImg&&i.delImg(...e)),["prevent"]))},[e.createElementVNode("text",{class:"iconfont icon-guanbi"})],8,["data-index"])])))),256))]),e.createElementVNode("view",{class:"clearfix"}),e.createElementVNode("view",{class:"sdFormAllPicTips gray"})]),e.createElementVNode("view",{class:"sdFormInputSet"},[e.createElementVNode("view",{class:"sdFormInlineTitleSet"},[e.createElementVNode("view",{class:"sdFormXing red"},"*"),e.createElementVNode("view",{class:"sdFormInlineTitle"},"审批类型")]),e.createElementVNode("view",{class:"sdFormInlineInput"},[e.createElementVNode("picker",{onChange:a[10]||(a[10]=(...e)=>i.selectSpType&&i.selectSpType(...e)),value:s.spTypeIndex,range:s.spTypeList,"range-key":"name"},[e.createElementVNode("view",{class:"sdFormInlineName"},e.toDisplayString(""===s.spTypeIndex||0==s.spTypeList.length?"请选择":s.spTypeList[s.spTypeIndex].name),1),e.createElementVNode("view",{class:"sdFormRightJianTou"},[e.createElementVNode("text",{class:"iconfont icon-youbian1"})])],40,["value","range"])])]),1==s.spType?(e.openBlock(),e.createElementBlock("view",{key:0,class:"sdFormInputSet"},[e.createElementVNode("view",{class:"sprTitle"},"审批人"),e.createElementVNode("view",{class:"mrSpr"},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(s.default_approve,((t,a)=>(e.openBlock(),e.createElementBlock("view",{class:"peo"},[e.createElementVNode("text",{class:"n"},e.toDisplayString(t.node),1),e.createTextVNode(e.toDisplayString(t.name),1)])))),256)),s.default_approve.length<1?(e.openBlock(),e.createElementBlock("view",{key:0,class:"tips"}," 管理员暂未设置审批流，自动审批通过 ")):e.createCommentVNode("",!0)])])):e.createCommentVNode("",!0),2==s.spType?(e.openBlock(),e.createElementBlock("view",{key:1,class:"sdFormInputSet"},[e.createElementVNode("view",{class:"sprTitle"},[e.createElementVNode("text",{class:"txt"},"审批人"),e.createElementVNode("text",{class:"add iconfont icon-54",onClick:a[11]||(a[11]=e=>i.goSetCustomPerson(1))})]),e.createElementVNode("view",{class:"mrSpr"},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(s.approve,((t,a)=>(e.openBlock(),e.createElementBlock("view",{class:"peo"},[e.createElementVNode("text",{class:"n"},e.toDisplayString(a+1),1),e.createElementVNode("text",{class:"na"},e.toDisplayString(t.name),1),e.createElementVNode("text",{class:"set",onClick:e=>i.delPeople(1,a)},[e.createElementVNode("i",{class:"iconfont icon-guanbi"})],8,["onClick"]),a+1<s.approve.length?(e.openBlock(),e.createElementBlock("text",{key:0,class:"set",onClick:e=>i.movePeople(2,a)},[e.createElementVNode("i",{class:"iconfont icon-xiangxiayidong"})],8,["onClick"])):e.createCommentVNode("",!0),a>0?(e.openBlock(),e.createElementBlock("text",{key:1,class:"set",onClick:e=>i.movePeople(1,a)},[e.createElementVNode("i",{class:"iconfont icon-xiangshangyidong"})],8,["onClick"])):e.createCommentVNode("",!0)])))),256))]),e.createElementVNode("view",{class:"sprTitle"},[e.createElementVNode("text",{class:"txt"},"抄送人"),e.createElementVNode("text",{class:"add iconfont icon-54",onClick:a[12]||(a[12]=e=>i.goSetCustomPerson(2))})]),e.createElementVNode("view",{class:"mrSpr"},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(s.copy_person,((t,a)=>(e.openBlock(),e.createElementBlock("view",{class:"peo"},[e.createElementVNode("text",{class:"na"},e.toDisplayString(t.name),1),e.createElementVNode("text",{class:"set",onClick:e=>i.delPeople(2,a)},[e.createElementVNode("i",{class:"iconfont icon-guanbi"})],8,["onClick"])])))),256))])])):e.createCommentVNode("",!0)]),e.createElementVNode("view",{class:"pb80"}),e.createElementVNode("view",{class:"IOSBottom"}),e.createElementVNode("view",{class:"foot IOSBottom"},[e.createElementVNode("view",{class:e.normalizeClass(["footBtn half",""==s.apply_num?"bg-orange-JB":"bg-grey-JB"]),onClick:a[13]||(a[13]=(...e)=>i.saveData&&i.saveData(...e))},"暂存",2),e.createElementVNode("view",{class:"footBtn half bg-reds-JB",onClick:a[14]||(a[14]=(...e)=>i.submitData&&i.submitData(...e))},"提交")])])}]]);var Ka;const Ga=n({data:()=>({busName:"",qrImg:""}),onLoad(e){Ka=getApp(),this.initData()},methods:{initData(){let e=this;Ka.goPost("kefu/index",{},(function(t){e.busName=t.busName,e.qrImg=t.qrImg}))},showImg(){let e=this.qrImg,t=[e];uni.previewImage({current:e,urls:t})},saveImg(){let e=this.qrImg;uni.saveImageToPhotosAlbum({filePath:e,success(e){Ka.showMsg("保存成功")},fail(e){Ka.showMsg("保存失败，请确认已开启存储权限")}})}}},[["render",function(t,a,l,o,n,s){return e.openBlock(),e.createElementBlock("view",{class:"content"},[e.createElementVNode("view",{class:"kfBox"},[e.createElementVNode("view",{class:"headBox"},[e.createElementVNode("image",{class:"img",src:"/static/images/kefu/head.png",alt:""}),e.createElementVNode("view",{class:"busName"},[e.createTextVNode("在线客服"),e.createElementVNode("text",null,e.toDisplayString(n.busName),1)]),e.createElementVNode("view",{class:"tips"},"我是您的专属客户经理，添加我的企业微信吧")]),e.createElementVNode("view",{class:"cenBox"},[e.createElementVNode("view",{class:"title"},"微信扫描二维码"),e.createElementVNode("view",{class:"subTitls"},"添加您的专属客户经理"),e.createElementVNode("view",{class:"qrBox"},[e.createElementVNode("image",{src:n.qrImg,alt:"",onClick:a[0]||(a[0]=(...e)=>s.showImg&&s.showImg(...e))},null,8,["src"])])]),e.createElementVNode("view",{class:"bomBox"},[e.createElementVNode("view",{class:"title"},"添加步骤"),e.createElementVNode("view",{class:"list"},[e.createElementVNode("view",{class:"step"},[e.createElementVNode("view",{class:"num"},"1"),e.createElementVNode("text",{class:"tipTxt"},"保存相册")]),e.createElementVNode("view",{class:"gap"}),e.createElementVNode("view",{class:"step"},[e.createElementVNode("view",{class:"num"},"2"),e.createElementVNode("text",{class:"tipTxt"},"打开微信")]),e.createElementVNode("view",{class:"gap"}),e.createElementVNode("view",{class:"step"},[e.createElementVNode("view",{class:"num"},"3"),e.createElementVNode("text",{class:"tipTxt"},"扫码添加")])]),e.createElementVNode("view",{class:"saveImgBtn bg-red-JB",onClick:a[1]||(a[1]=e=>s.saveImg())},"保存到相册")])])])}]]);var $a;const qa=n({data:()=>({oaType:0,page:1,lists:[],searchTxt:"",upDetailBool:!0,termList:[],sort:0,status:"all",type:"all",showTermKey:"",newSet:"",showBg:!1,boxTop:0,currTop:0,zhidingNum:0,isHua:0,isSetScreen:"",screenLists:{0:0,1:0}}),onLoad(e){this.oaType=e.type?e.type:"",$a=getApp()},onShow(){this.goSearch()},methods:{goDetail(e){let t=this.lists[e].apply_num;uni.navigateTo({url:"/pages/oadetail/communal?apply_num="+t+"&oa_type="+this.oaType})},edit(e){let t=this.lists[e];uni.navigateTo({url:"/pages/oaapplyadd/communal?type="+this.oaType+"&apply_num="+t.apply_num})},goSearch(){this.page=1,this.getData()},clearSearch(){this.searchTxt="",this.page=1,this.getData()},chaTopTerm(e){let t=this,a=e.currentTarget.dataset.index,l=t.termList[a];if(t.showTermKey===a)return void t.clearTerm();let o=l.key;t[o],t.showTermKey=a,t.newSet=t[o],t.showBg=!0},chaTerm(e){let t=this,a=e.currentTarget.dataset.index,l=e.currentTarget.dataset.index2,o=t.termList[a],n=t.termList[a].list[l];t[o.key]=n.id,t.screenLists[a]=l,"all"===n.id?o.name=o.oname:o.name=n.name,t.clearTerm(),t.goSearch()},clearTerm(){this.showTermKey="",this.showBg=!1},getData(){let e=this;a("log","at pages/oaapplylists/communal.vue:240","that.page",e.page);let t={page:e.page,oaType:e.oaType,searchTxt:e.searchTxt,type:e.type,sort:e.sort,status:e.status};if(0==e.page)return!1;$a.goPost("Oacommunal/myApplyList",t,(function(t){uni.setNavigationBarTitle({title:t.title}),1==e.page?(e.termList=t.termList,e.lists=t.lists,a("log","at pages/oaapplylists/communal.vue:268",e.lists)):e.lists=e.lists.concat(t.lists),e.page++,t.lists.length<1&&(e.page=0)}))},moreOp(e){let t=this,a=e.currentTarget.dataset.index,l=t.lists[a],o=l.status,n=l.isSelf;l.isXiaojia;let s=["详情"];1==n&&(0==o&&(s.push("撤销"),s.push("加急")),3==o&&s.push("作废"),3!=o&&4!=o||s.push("编辑"));let i=$a.showActionSheetParams({itemList:s,success:function(e){switch(s[e.tapIndex]){case"详情":t.goDetail(a);break;case"编辑":t.edit(a);break;case"撤销":t.updateStatus(a,3);break;case"作废":t.updateStatus(a,4);break;case"加急":t.urgentNotice(a)}}});t.upDetailBool&&(t.upDetailBool=!1,uni.showActionSheet(i),setTimeout((function(){t.upDetailBool=!0}),1e3))},updateStatus(e,t){let a=this,l=a.lists[e],o={orderid:l.apply_num,status:t,oaType:a.oaType},n=3==t?"撤销":"作废";uni.showModal({title:"温馨提示",content:"确定要"+n+"吗?",success(e){e.confirm&&$a.goPost("Oacommunal/updatestatus",o,(function(e){a.goSearch()}))}})},apply(){uni.navigateTo({url:"/pages/oaapplyadd/communal?type="+this.oaType})},cliSeaBtn(){this.getData()},clearSeach(){let e=this.searchTxt;this.searchTxt="",e&&this.goSearch()},urgentNotice(e){let t={apply_num:this.lists[e].apply_num};$a.goPost("oaapply/getUrgentNum",t,(function(e){let a=e.maxLen,l=a-e.num,o=l<=0?0:l,n="本审批单剩余加急次数："+o+" \r\n确定要加急吗?";0==l&&(n="本审批单剩余加急次数："+o+" \r\n暂时无法加急!"),uni.showModal({title:"加急督办(最多"+a+"次)",content:n,success(e){if(e.confirm&&l>0){let e="oaapply/urgentNotice";$a.goPost(e,t,(function(e){}))}}})}))},startScroll:function(){this.isHua=1},boxscroll:function(e){var t=this,a=e.detail.scrollTop,l=t.currTop,o=t.boxTop;a>l&&0==t.isHua&&a>20&&a<50&&(this.isHua=1),1==t.isHua&&(a>=l?(o-=8)>-49&&(t.boxTop=o):(o+=8)<1&&(t.boxTop=o)),t.currTop=a},zhidingBtn:function(){var e=this;e.boxTop=0,e.isHua=0,e.zhidingNum=1==e.zhidingNum?0:1},sureTop:function(){this.boxTop=0,this.isHua=0},sureBom:function(){var e=this;e.boxTop=-48,e.isHua=0,e.getData()},openSearchInfo:function(){this.clearTerm(),this.isSetScreen=1},closeSearchInfo:function(){this.isSetScreen=0},selScreen:function(e){var t=e.currentTarget.dataset.idx,a=e.currentTarget.dataset.idx2;this.screenLists[t]=a},resetScreen:function(){this.screenLists={0:0,1:0}},sureSeach:function(){var e=this,t=e.screenLists;for(var l in a("log","at pages/oaapplylists/communal.vue:540","screenLists",t),t){var o=e.termList[l];a("log","at pages/oaapplylists/communal.vue:545","item",l,o);var n=e.termList[l].list[t[l]];e[o.key]=n.id,a("log","at pages/oaapplylists/communal.vue:551","item2",n),"all"===n.id?o.name=o.oname:o.name=n.name}e.closeSearchInfo(),e.goSearch()}}},[["render",function(t,a,l,o,n,s){return e.openBlock(),e.createElementBlock(e.Fragment,null,[e.createElementVNode("view",{class:"topBox",style:e.normalizeStyle("top:"+n.boxTop+"px;")},[e.createElementVNode("view",{class:"searchBox"},[e.createElementVNode("i",{class:"iconfont icon-sousuo search"}),e.withDirectives(e.createElementVNode("input",{class:"seaCon",type:"text",placeholder:"申请人或单号","onUpdate:modelValue":a[0]||(a[0]=e=>n.searchTxt=e)},null,512),[[e.vModelText,n.searchTxt]]),""!=n.searchTxt?(e.openBlock(),e.createElementBlock("i",{key:0,class:"iconfont icon-shibai1 close",onClick:a[1]||(a[1]=(...e)=>s.clearSeach&&s.clearSeach(...e))})):e.createCommentVNode("",!0),e.createElementVNode("view",{class:"seaBtn",onClick:a[2]||(a[2]=(...e)=>s.goSearch&&s.goSearch(...e))},"搜索")]),e.createElementVNode("ul",{class:"termBox"},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(n.termList,((t,l)=>(e.openBlock(),e.createElementBlock("li",{style:{width:"33%"}},[e.createElementVNode("view",{onClick:a[3]||(a[3]=(...e)=>s.chaTopTerm&&s.chaTopTerm(...e)),class:e.normalizeClass(t.name!=t.oname?"red":""),"data-index":l},[e.createElementVNode("text",null,e.toDisplayString(t.name),1),n.showTermKey!==l?(e.openBlock(),e.createElementBlock("i",{key:0,class:e.normalizeClass(["iconfont icon-tubiaozhizuo-1",t.name!=t.oname?"red":""])},null,2)):n.showTermKey===l?(e.openBlock(),e.createElementBlock("i",{key:1,class:e.normalizeClass(["iconfont icon-tubiaozhizuo-",t.name!=t.oname?"red":""])},null,2)):e.createCommentVNode("",!0)],10,["data-index"]),n.showTermKey===l?(e.openBlock(),e.createElementBlock("ul",{key:0,class:"nextBox"},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(t.list,((t,o)=>(e.openBlock(),e.createElementBlock("li",{onClick:a[4]||(a[4]=(...e)=>s.chaTerm&&s.chaTerm(...e)),"data-index":l,"data-index2":o},[e.createTextVNode(e.toDisplayString(t.name)+" ",1),n.newSet==t.id?(e.openBlock(),e.createElementBlock("i",{key:0,class:"iconfont icon-xuanzhong"})):e.createCommentVNode("",!0)],8,["data-index","data-index2"])))),256))])):e.createCommentVNode("",!0)])))),256)),e.createElementVNode("li",{style:{width:"33%"}},[e.createElementVNode("view",{onClick:a[5]||(a[5]=(...e)=>s.openSearchInfo&&s.openSearchInfo(...e))},[e.createElementVNode("text",null,[e.createTextVNode(" 其它筛选"),e.createElementVNode("i",{class:"iconfont icon-shaixuan",style:{color:"#333"}})])])])])],4),e.createElementVNode("scroll-view",{class:"infoListBox",id:"infoListBox","scroll-y":"true","scroll-top":n.zhidingNum,onScrolltolower:a[7]||(a[7]=(...e)=>s.sureBom&&s.sureBom(...e)),style:e.normalizeStyle("top:"+(n.boxTop+82)+"px;"),onScroll:a[8]||(a[8]=(...e)=>s.boxscroll&&s.boxscroll(...e)),onScrolltoupper:a[9]||(a[9]=(...e)=>s.sureTop&&s.sureTop(...e)),onTouchstart:a[10]||(a[10]=(...e)=>s.startScroll&&s.startScroll(...e))},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(n.lists,((l,o)=>(e.openBlock(),e.createElementBlock("view",{class:"infoLists yfBox",key:t.apply_num,"data-index":o,onClick:a[6]||(a[6]=(...e)=>s.moreOp&&s.moreOp(...e))},[e.createElementVNode("view",{class:"listsTop"},[e.createElementVNode("view",{class:"listsTopTitle"},e.toDisplayString(l.typeName),1),e.createElementVNode("view",{class:e.normalizeClass(["listsTopMoney",l.statusClass])},[e.createElementVNode("text",null,e.toDisplayString(l.statusTxt),1)],2)]),(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(l.content,((t,a)=>(e.openBlock(),e.createElementBlock("view",{class:"listsContent"},[e.createElementVNode("view",{class:"listsConName"},e.toDisplayString(t.key),1),e.createElementVNode("view",{class:"listsConInfo"},e.toDisplayString(t.value),1)])))),256))],8,["data-index"])))),128)),n.lists.length>0&&0==n.page?(e.openBlock(),e.createElementBlock("view",{key:0,class:"daoDiLe IOSBottom"},"到底了")):e.createCommentVNode("",!0),0==n.lists.length?(e.openBlock(),e.createElementBlock("view",{key:1,class:"noData"},[e.createElementVNode("i",{class:"iconfont icon-kongshuju"}),e.createTextVNode(" 暂无数据 ")])):e.createCommentVNode("",!0)],44,["scroll-top"]),e.createElementVNode("view",{class:"foot IOSBottom"},[e.createElementVNode("view",{class:"footBtn bg-orange-JB",onClick:a[11]||(a[11]=(...e)=>s.apply&&s.apply(...e))},"新增申请")]),n.showBg?(e.openBlock(),e.createElementBlock("view",{key:0,class:"fixBg",onClick:a[12]||(a[12]=(...e)=>s.clearTerm&&s.clearTerm(...e))})):e.createCommentVNode("",!0),e.createElementVNode("view",{class:"rBomOpBox"},[n.currTop>50?(e.openBlock(),e.createElementBlock("view",{key:0,class:"subBtn IOSMGBottom",onClick:a[13]||(a[13]=(...e)=>s.zhidingBtn&&s.zhidingBtn(...e))},[e.createElementVNode("i",{class:"iconfont icon-fanhuidingbu"})])):e.createCommentVNode("",!0)]),1==n.isSetScreen?(e.openBlock(),e.createElementBlock("view",{key:1,class:"blackBg",onClick:a[14]||(a[14]=(...e)=>s.closeSearchInfo&&s.closeSearchInfo(...e))})):e.createCommentVNode("",!0),1==n.isSetScreen?(e.openBlock(),e.createElementBlock("view",{key:2,class:"screenBox IOSBottom"},[e.createElementVNode("view",{class:"screenTitle"},"筛选"),e.createElementVNode("view",{style:{height:"3rem"}}),(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(n.termList,((t,l)=>(e.openBlock(),e.createElementBlock("view",{class:"screenCon"},[e.createElementVNode("view",{class:"screenTips"},e.toDisplayString(t.oname),1),e.createElementVNode("view",{class:"screenSetBox"},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(t.list,((t,o)=>(e.openBlock(),e.createElementBlock("view",{class:e.normalizeClass(["screenSet",n.screenLists[l]==o?"screenSeted":""]),"data-idx":l,"data-idx2":o,onClick:a[15]||(a[15]=(...e)=>s.selScreen&&s.selScreen(...e))},e.toDisplayString(t.name),11,["data-idx","data-idx2"])))),256))])])))),256)),e.createElementVNode("view",{style:{height:"3.6rem"}}),e.createElementVNode("view",{class:"screenBtn IOSBottom"},[e.createElementVNode("view",{class:"screenLBtn bg-orange-JB",onClick:a[16]||(a[16]=(...e)=>s.resetScreen&&s.resetScreen(...e))},"重置"),e.createElementVNode("view",{class:"screenRBtn bg-red-JB",onClick:a[17]||(a[17]=(...e)=>s.sureSeach&&s.sureSeach(...e))},"确定")])])):e.createCommentVNode("",!0)],64)}]]);var Xa,Ya;const Za=n({data:()=>({apply_num:"",content:[],showMultiSelect:!1,optinMultiIdx:"",optinMulti:[],oaType:0,spTypeList:[],spTypeIndex:"",spType:"",default_approve:[],custom_person:[],approve:[],copy_person:[],setType:"",uploadImgMax:3,uploadFileMax:3}),onLoad(e){Xa=getApp();try{a("log","at pages/oaapplyadd/communal.vue:307","FileModule",Ya=t("FileModule"))}catch(l){a("log","at pages/oaapplyadd/communal.vue:310","引入FileModule插件报错")}this.apply_num=e.apply_num?e.apply_num:"",this.oaType=e.type?e.type:"",this.getData()},methods:{getData:function(){let e=this,t={orderid:e.apply_num,oaType:e.oaType,getMrSpr:0};Xa.goPost("Oacommunal/getInitDataForAdd",t,(function(t){uni.setNavigationBarTitle({title:t.title}),e.content=t.content,e.uploadImgMax=t.uploadImgMax,e.uploadFileMax=t.uploadFileMax,a("log","at pages/oaapplyadd/communal.vue:342","res.spTypeList",t.spTypeList),e.spTypeList=t.spTypeList,e.spTypeIndex=t.spTypeIndex,e.spType=t.data.spType,e.default_approve=t.default_approve;let l=t.data.custom_person;l.approve&&(e.approve=l.approve),l.copy_person&&(e.copy_person=l.copy_person)}))},inputChange(e){let t=this;var l=e.detail.value;let o=e.currentTarget.dataset.index,n=t.content[o];a("log","at pages/oaapplyadd/communal.vue:372","value",l),4==n.type&&a("log","at pages/oaapplyadd/communal.vue:377","value2",l=t.toDecimal(l)),n.value="",setTimeout((()=>{n.value=l}),10)},selectChange:function(e){let t=e.detail.value,a=e.currentTarget.dataset.index,l=this.content[a];l.selectIdx=t,l.value=l.option[t]},openMultiSelect:function(e){let t=this,a=t.content[e].option;t.optinMultiIdx=e,t.optinMulti=a,t.showMultiSelect=!0},hideMultiSelect(){this.showMultiSelect=!1,this.optinMultiIdx="",this.optinMulti=[]},chooseMulti(e){let t=this.optinMulti;t[e].select=1==t[e].select?0:1},sureMultiSelect(){let e=this,t=e.content,a=e.optinMultiIdx,l=e.optinMulti,o=[];for(let n=0;n<l.length;n++)1==l[n].select&&o.push(l[n].name);t[a].value=o.join(","),t[a].option=l,e.hideMultiSelect()},selectDate:function(e){let t=e.backKey?e.backKey:"value";this.content[e.backIdx][t]=e.key},btnCancel:function(e){},toDecimal:function(e){return(e=(e=(e=(e=e.replace(/[^\d.]/g,"")).replace(/\.{2,}/g,".")).replace(".","$#$").replace(/\./g,"").replace("$#$",".")).replace(/^(\-)*(\d+)\.(\d\d).*$/,"$1$2.$3")).indexOf(".")<0&&""!=e&&(e=parseFloat(e)),e},chooseImage:function(e){let t=this.content[e].imgLists;a("log","at pages/oaapplyadd/communal.vue:502","idx",e,t);let l=this.uploadImgMax,o=t.length,n=l-o;o>=l?Xa.showMsg("最多"+l+"张图片"):uni.chooseImage({sizeType:["original","compressed"],sourceType:["album","camera"],count:n,success(e){let l=e.tempFilePaths;a("log","at pages/oaapplyadd/communal.vue:519",e),Xa.uploadImgMultiple(l,0,1,l.length,(function(e){t.push({url:e.url,path:e.path}),a("log","at pages/oaapplyadd/communal.vue:527",JSON.stringify(t))}))},fail(e){a("log","at pages/oaapplyadd/communal.vue:531",e)}})},delImg(e){let t=e.currentTarget.dataset.index,a=e.currentTarget.dataset.index2;this.content[t].imgLists.splice(a,1)},selectSpType:function(e){let t=e.detail.value;this.spTypeIndex=t,this.spType=this.spTypeList[t].id,a("log","at pages/oaapplyadd/communal.vue:560","this.spType",this.spType)},goSetCustomPerson(e){let t=this;a("log","at pages/oaapplyadd/communal.vue:569","t",e),t.setType=e;uni.navigateTo({url:"/pages/companysel/companysel?op=chooseStaff",events:{backFun:function(e){a("log","at pages/oaapplyadd/communal.vue:578","data",JSON.stringify(e));let l=e.sid,o=e.sendTxt.split(",");for(let a=0;a<l.length;a++){let e=[{id:l[a],name:o[a],way:1}];e=t.getNewSetPeople(e),1==t.setType?t.approve=t.approve.concat(e):2==t.setType&&(t.copy_person=t.copy_person.concat(e))}}},success:function(e){let a=[];1==t.setType?a=t.approve:2==t.setType&&(a=t.copy_person);let l=a.map((e=>e.id));e.eventChannel.emit("afferent",{sid:l,did:[]})}})},getNewSetPeople(e){let t=this,a=e.map((e=>e.id)),l=[];l=1==t.setType?t.approve.map((e=>e.id)):2==t.setType?t.copy_person.map((e=>e.id)):t.work_person.map((e=>e.id));let o=[];for(var n=0;n<a.length;n++)l.includes(a[n])||o.push(e[n]);return o},movePeople(e,t){let l=this,o=l.approve[t];l.approve.splice(t,1);let n=t-1;2==e&&(n=Number(t)+1),a("log","at pages/oaapplyadd/communal.vue:678",t,n),l.approve.splice(n,0,o)},delPeople(e,t){let a=this;1==e?a.approve.splice(t,1):2==e?a.copy_person.splice(t,1):a.work_person.splice(t,1)},getCustomPeople(){let e={approve:this.approve,copy_person:this.copy_person};return e=JSON.stringify(e),e},getspr(){let e=this,t=e.startTime,l=e.endTime;if(""==t||""==l)return!1;let o=new Date(t),n=new Date(l),s=o.getTime(),i=n.getTime();if(i<s)return Xa.showMsg("开始时间需小于结束时间"),!1;let c=((Number(i)-Number(s))/1e3/86400).toFixed(2);a("log","at pages/oaapplyadd/communal.vue:745","getspr",s,i,c);let r={oaType:e.oaType,qjType:0,day:c};Xa.goPost("oaapply/getspr",r,(function(t){a("log","at pages/oaapplyadd/communal.vue:758",t),e.default_approve=t.approve}))},saveData(){let e=this,t=e.apply_num,l=JSON.stringify(e.content);if(""!=t)return!1;a("log","at pages/oaapplyadd/communal.vue:774","content",l);let o={oaType:e.oaType,spType:e.spType,content:l,custom_person:e.getCustomPeople()};Xa.goPost("Oacommunal/savedata",o,(function(e){}))},submitData:function(){let e=this,t=e.content,l={};for(let n in t)if(l=t[n],a("log","at pages/oaapplyadd/communal.vue:801","item",JSON.stringify(l)),1==l.bt&&""==l.value){if(l.type<=4)return Xa.showMsg("请输入"+l.name),!1;if(l.type>4&&l.type<=7)return Xa.showMsg("请选择"+l.name),!1;if(8==l.type)return Xa.showMsg("请选择"+l.name+"开始时间"),!1}else{if(1==l.bt&&8==l.type&&""==l.value2)return Xa.showMsg("请选择"+l.name+"结束时间"),!1;if(1==l.bt&&9==l.type&&l.imgLists.length<1)return Xa.showMsg("请选择上传"+l.name),!1}let o={oaType:e.oaType,spType:e.spType,orderid:e.apply_num,content:JSON.stringify(t),custom_person:e.getCustomPeople()};Xa.goPost("Oacommunal/add",o,(function(e){setTimeout((function(){uni.navigateBack()}),1500)}),(function(){e.closeSysTips()}))},chooseFile:function(e){let t=this,l=t.content[e].fileLists;a("log","at pages/oaapplyadd/communal.vue:858","idx",e,l);let o=t.uploadFileMax;if(l.length>=o)Xa.showMsg("最多上传"+o+"个附件");else try{Ya.chooseFile("*/*",(function(l){if(a("log","at pages/oaapplyadd/communal.vue:872","res",JSON.stringify(l)),""==l)return void Xa.showMsg("未选择文件");if(!l.path){let e=t.getIosUploadData(l);if(""==e)return void Xa.showMsg("选择文件失败");l=e,a("log","at pages/oaapplyadd/communal.vue:886","res222222222",JSON.stringify(l))}let o={name:l.name,path:l.path};t.uploadFile(e,o)}))}catch(n){uni.chooseFile({count:1,success:function(l){a("log","at pages/oaapplyadd/communal.vue:907","res",JSON.stringify(l));let o={name:"测试文件.png",path:l.tempFilePaths[0]};t.uploadFile(e,o)}})}},uploadFile(e,t){let l=this;var o=t.path,n=decodeURI(t.name),s=n.lastIndexOf(".");let i={ext:s>-1?n.slice(s+1):"",filePath:o};a("log","at pages/oaapplyadd/communal.vue:939","fileName",n),a("log","at pages/oaapplyadd/communal.vue:941","res",JSON.stringify(i)),Xa.uploadCos(i,(function(t){a("log","at pages/oaapplyadd/communal.vue:945","res2",JSON.stringify(t)),l.content[e].fileLists.push({url:t.url,path:t.key,name:n})}))},getIosUploadData(e){var t=e.lastIndexOf("/"),a=t>-1?e.slice(t+1):"",l="";return""!=a&&(l={name:a,path:e}),l},delFile(e){let t=e.currentTarget.dataset.index,a=e.currentTarget.dataset.index2;this.content[t].fileLists.splice(a,1)},backTop:function(){this.closeSysTips(),uni.navigateBack({delta:1})}}},[["render",function(t,a,o,n,s,i){const c=l(e.resolveDynamicComponent("timeSelector"),w);return e.openBlock(),e.createElementBlock(e.Fragment,null,[e.createElementVNode("view",{class:"content tyoaAdd"},[e.createElementVNode("view",{class:"sdFormInfo"},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(s.content,((t,l)=>(e.openBlock(),e.createElementBlock(e.Fragment,{key:l},[11==t.type?(e.openBlock(),e.createElementBlock("view",{key:0,class:"sdFormInputSet noneBg"},[e.createElementVNode("view",{class:"sdFormInlineTipSet"},[e.createElementVNode("text",{class:"iconfont icon-gantan1"}),e.createTextVNode(e.toDisplayString(t.name),1)])])):e.createCommentVNode("",!0),1==t.type||3==t.type||4==t.type?(e.openBlock(),e.createElementBlock("view",{key:1,class:"sdFormInputSet"},[e.createElementVNode("view",{class:"sdFormInlineTitleSet"},[e.createElementVNode("view",{class:"sdFormInlineTitle"},[1==t.bt?(e.openBlock(),e.createElementBlock("text",{key:0,class:"red"},"*")):e.createCommentVNode("",!0),e.createTextVNode(e.toDisplayString(t.name),1)])]),e.createElementVNode("input",{type:t.inpType,class:"sdFormInlineInput",onInput:a[0]||(a[0]=(...e)=>i.inputChange&&i.inputChange(...e)),value:t.value,"data-index":l,"placeholder-style":"color:#999;",placeholder:"请输入"+t.name,maxlength:t.maxlen},null,40,["type","value","data-index","placeholder","maxlength"])])):2==t.type?(e.openBlock(),e.createElementBlock("view",{key:2,class:"sdFormInputSet"},[e.createElementVNode("view",{class:"sdFormInlineTitleSet"},[e.createElementVNode("view",{class:"sdFormInlineTitle"},[1==t.bt?(e.openBlock(),e.createElementBlock("text",{key:0,class:"red"},"*")):e.createCommentVNode("",!0),e.createTextVNode(e.toDisplayString(t.name),1)])]),e.createElementVNode("view",{class:"sdFormBlockInput"},[e.createElementVNode("textarea",{class:"sdFormBlockTextarea sm",maxlength:t.maxlen,"placeholder-style":"color:#999;",placeholder:"请输入"+t.name,value:t.value,"data-index":l,onInput:a[1]||(a[1]=(...e)=>i.inputChange&&i.inputChange(...e))},null,40,["maxlength","placeholder","value","data-index"])])])):5==t.type?(e.openBlock(),e.createElementBlock("view",{key:3,class:"sdFormInputSet"},[e.createElementVNode("view",{class:"sdFormInlineTitleSet"},[e.createElementVNode("view",{class:"sdFormInlineTitle"},[1==t.bt?(e.openBlock(),e.createElementBlock("text",{key:0,class:"red"},"*")):e.createCommentVNode("",!0),e.createTextVNode(e.toDisplayString(t.name),1)])]),e.createElementVNode("view",{class:"sdFormInlineInput"},[e.createElementVNode("picker",{onChange:a[2]||(a[2]=(...e)=>i.selectChange&&i.selectChange(...e)),"data-index":l,value:t.selectIdx,range:t.option,"range-key":"name"},[e.createElementVNode("view",{class:"sdFormInlineName"},e.toDisplayString(""===t.selectIdx?"请选择":t.option[t.selectIdx]),1),e.createElementVNode("view",{class:"sdFormRightJianTou"},[e.createElementVNode("text",{class:"iconfont icon-youbian1"})])],40,["data-index","value","range"])])])):6==t.type?(e.openBlock(),e.createElementBlock("view",{key:4,class:"sdFormInputSet"},[e.createElementVNode("view",{class:"sdFormInlineTitleSet"},[e.createElementVNode("view",{class:"sdFormInlineTitle"},[1==t.bt?(e.openBlock(),e.createElementBlock("text",{key:0,class:"red"},"*")):e.createCommentVNode("",!0),e.createTextVNode(e.toDisplayString(t.name),1)])]),e.createElementVNode("view",{class:"sdFormInlineInput",onClick:e=>i.openMultiSelect(l)},[e.createElementVNode("view",{class:"sdFormInlineName"},e.toDisplayString(""==t.value?"请选择":t.value),1),e.createElementVNode("view",{class:"sdFormRightJianTou"},[e.createElementVNode("text",{class:"iconfont icon-youbian1"})])],8,["onClick"])])):7==t.type?(e.openBlock(),e.createElementBlock("view",{key:5,class:"sdFormInputSet"},[e.createElementVNode("view",{class:"sdFormInlineTitleSet"},[e.createElementVNode("view",{class:"sdFormInlineTitle"},[1==t.bt?(e.openBlock(),e.createElementBlock("text",{key:0,class:"red"},"*")):e.createCommentVNode("",!0),e.createTextVNode(e.toDisplayString(t.name),1)])]),e.createElementVNode("view",{class:"sdFormInlineInput"},[e.createVNode(c,{showType:"date",defaultValue:t.value,backIdx:l,beginDate:t.begin,endDate:t.end,onBtnConfirm:i.selectDate,onBtnCancel:i.btnCancel},{default:e.withCtx((()=>[e.createElementVNode("view",{class:"sdFormInlineName"},e.toDisplayString(""!=t.value?t.value:"请选择"),1),e.createElementVNode("view",{class:"sdFormRightJianTou"},[e.createElementVNode("text",{class:"iconfont icon-youbian1"})])])),_:2},1032,["defaultValue","backIdx","beginDate","endDate","onBtnConfirm","onBtnCancel"])])])):8==t.type?(e.openBlock(),e.createElementBlock("view",{key:6,class:"dateIntervalSelect"},[e.createElementVNode("view",{class:"dateIntervalTitle"},[1==t.bt?(e.openBlock(),e.createElementBlock("text",{key:0,class:"red"},"*")):e.createCommentVNode("",!0),e.createTextVNode(e.toDisplayString(t.name),1)]),e.createElementVNode("view",{class:"sdFormInputSet"},[e.createElementVNode("view",{class:"sdFormInlineTitleSet"},[e.createElementVNode("view",{class:"sdFormInlineTitle"},"开始时间")]),e.createElementVNode("view",{class:"sdFormInlineInput"},[e.createVNode(c,{showType:"date",defaultValue:t.value,backIdx:l,backKey:"value",beginDate:t.begin,endDate:t.end,onBtnConfirm:i.selectDate,onBtnCancel:i.btnCancel},{default:e.withCtx((()=>[e.createElementVNode("view",{class:"sdFormInlineName"},e.toDisplayString(""!=t.value?t.value:"请选择"),1),e.createElementVNode("view",{class:"sdFormRightJianTou"},[e.createElementVNode("text",{class:"iconfont icon-youbian1"})])])),_:2},1032,["defaultValue","backIdx","beginDate","endDate","onBtnConfirm","onBtnCancel"])])]),e.createElementVNode("view",{class:"sdFormInputSet"},[e.createElementVNode("view",{class:"sdFormInlineTitleSet"},[e.createElementVNode("view",{class:"sdFormInlineTitle"},"结束时间")]),e.createElementVNode("view",{class:"sdFormInlineInput"},[e.createVNode(c,{showType:"date",defaultValue:t.value,backIdx:l,backKey:"value2",beginDate:t.begin,endDate:t.end,onBtnConfirm:i.selectDate,onBtnCancel:i.btnCancel},{default:e.withCtx((()=>[e.createElementVNode("view",{class:"sdFormInlineName"},e.toDisplayString(""!=t.value2?t.value2:"请选择"),1),e.createElementVNode("view",{class:"sdFormRightJianTou"},[e.createElementVNode("text",{class:"iconfont icon-youbian1"})])])),_:2},1032,["defaultValue","backIdx","beginDate","endDate","onBtnConfirm","onBtnCancel"])])])])):9==t.type?(e.openBlock(),e.createElementBlock("view",{key:7,class:"sdFormManyPicSet"},[e.createElementVNode("view",{class:"sdFormManyPicTitleSet"},[e.createElementVNode("view",{class:"sdFormManyPicTitle"},[1==t.bt?(e.openBlock(),e.createElementBlock("text",{key:0,class:"red"},"*")):e.createCommentVNode("",!0),e.createTextVNode(e.toDisplayString(t.name),1)]),e.createElementVNode("text",{class:"sdFormManyPicSubTips"},"最多"+e.toDisplayString(s.uploadImgMax)+"张",1)]),e.createElementVNode("view",{class:"sdFormManyPicBox fl"},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(t.imgLists,((t,o)=>(e.openBlock(),e.createElementBlock("view",{class:"sdFormManyPicImg fl"},[e.createElementVNode("image",{src:t.url},null,8,["src"]),e.createElementVNode("view",{class:"sdFormManyPicImgDel","data-index":l,"data-index2":o,onClick:a[3]||(a[3]=(...e)=>i.delImg&&i.delImg(...e))},[e.createElementVNode("text",{class:"iconfont icon-guanbi"})],8,["data-index","data-index2"])])))),256)),t.imgLists.length<s.uploadImgMax?(e.openBlock(),e.createElementBlock("view",{key:0,class:"sdFormManyPicAdd fl",onClick:e=>i.chooseImage(l)},[e.createElementVNode("text",{class:"iconfont icon-xiangce"})],8,["onClick"])):e.createCommentVNode("",!0)]),e.createElementVNode("view",{class:"clearfix"}),e.createElementVNode("view",{class:"sdFormManyPicTips gray"})])):10==t.type?(e.openBlock(),e.createElementBlock("view",{key:8,class:"sdFormInputSet"},[e.createElementVNode("view",{class:"sdFormManyFjTitleSet"},[e.createElementVNode("view",{class:"sdFormInlineTitle"},[1==t.bt?(e.openBlock(),e.createElementBlock("text",{key:0,class:"red"},"*")):e.createCommentVNode("",!0),e.createTextVNode(e.toDisplayString(t.name),1),e.createElementVNode("text",{class:"max"},"(最多"+e.toDisplayString(s.uploadFileMax)+"个)",1)]),t.fileLists.length<s.uploadFileMax?(e.openBlock(),e.createElementBlock("view",{key:0,class:"upFj",onClick:e=>i.chooseFile(l)},[e.createElementVNode("text",{class:"iconfont icon-54"})],8,["onClick"])):e.createCommentVNode("",!0)]),t.fileLists.length>0?(e.openBlock(),e.createElementBlock("view",{key:0,class:"fjLists"},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(t.fileLists,((t,o)=>(e.openBlock(),e.createElementBlock("view",{class:"fj"},[e.createElementVNode("view",{class:"mz"},[e.createElementVNode("text",{class:"iconfont icon-fujian"}),e.createTextVNode(e.toDisplayString(t.name),1)]),e.createElementVNode("view",{class:"del","data-index":l,"data-index2":o,onClick:a[4]||(a[4]=(...e)=>i.delFile&&i.delFile(...e))},[e.createElementVNode("text",{class:"iconfont icon-shanchuxuanze"})],8,["data-index","data-index2"])])))),256))])):e.createCommentVNode("",!0)])):e.createCommentVNode("",!0)],64)))),128))]),e.createElementVNode("view",{class:"sdFormInfo",style:{"padding-bottom":"65px"}},[e.createElementVNode("view",{class:"sdFormInputSet"},[e.createElementVNode("view",{class:"sdFormInlineTitleSet"},[e.createElementVNode("view",{class:"sdFormInlineTitle"},[e.createElementVNode("text",{class:"red"},"*"),e.createTextVNode("审批类型")])]),e.createElementVNode("view",{class:"sdFormInlineInput"},[e.createElementVNode("picker",{onChange:a[5]||(a[5]=(...e)=>i.selectSpType&&i.selectSpType(...e)),value:s.spTypeIndex,range:s.spTypeList,"range-key":"name"},[e.createElementVNode("view",{class:"sdFormInlineName"},e.toDisplayString(""===s.spTypeIndex||0==s.spTypeList.length?"请选择":s.spTypeList[s.spTypeIndex].name),1),e.createElementVNode("view",{class:"sdFormRightJianTou"},[e.createElementVNode("text",{class:"iconfont icon-youbian1"})])],40,["value","range"])])]),1==s.spType?(e.openBlock(),e.createElementBlock("view",{key:0,class:"sdFormInputSet"},[e.createElementVNode("view",{class:"sprTitle"},"审批人"),e.createElementVNode("view",{class:"mrSpr"},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(s.default_approve,((t,a)=>(e.openBlock(),e.createElementBlock("view",{class:"peo"},[e.createElementVNode("text",{class:"n"},e.toDisplayString(t.node),1),e.createTextVNode(e.toDisplayString(t.name),1)])))),256)),s.default_approve.length<1?(e.openBlock(),e.createElementBlock("view",{key:0,class:"tips"}," 管理员暂未设置审批流，自动审批通过 ")):e.createCommentVNode("",!0)])])):e.createCommentVNode("",!0),2==s.spType?(e.openBlock(),e.createElementBlock("view",{key:1,class:"sdFormInputSet"},[e.createElementVNode("view",{class:"sprTitle"},[e.createElementVNode("text",{class:"txt"},"审批人"),e.createElementVNode("text",{class:"add iconfont icon-54",onClick:a[6]||(a[6]=e=>i.goSetCustomPerson(1))})]),e.createElementVNode("view",{class:"mrSpr"},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(s.approve,((t,a)=>(e.openBlock(),e.createElementBlock("view",{class:"peo"},[e.createElementVNode("text",{class:"n"},e.toDisplayString(a+1),1),e.createElementVNode("text",{class:"na"},e.toDisplayString(t.name),1),e.createElementVNode("text",{class:"set",onClick:e=>i.delPeople(1,a)},[e.createElementVNode("i",{class:"iconfont icon-guanbi"})],8,["onClick"]),a+1<s.approve.length?(e.openBlock(),e.createElementBlock("text",{key:0,class:"set",onClick:e=>i.movePeople(2,a)},[e.createElementVNode("i",{class:"iconfont icon-xiangxiayidong"})],8,["onClick"])):e.createCommentVNode("",!0),a>0?(e.openBlock(),e.createElementBlock("text",{key:1,class:"set",onClick:e=>i.movePeople(1,a)},[e.createElementVNode("i",{class:"iconfont icon-xiangshangyidong"})],8,["onClick"])):e.createCommentVNode("",!0)])))),256))]),e.createElementVNode("view",{class:"sprTitle"},[e.createElementVNode("text",{class:"txt"},"抄送人"),e.createElementVNode("text",{class:"add iconfont icon-54",onClick:a[7]||(a[7]=e=>i.goSetCustomPerson(2))})]),e.createElementVNode("view",{class:"mrSpr"},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(s.copy_person,((t,a)=>(e.openBlock(),e.createElementBlock("view",{class:"peo"},[e.createElementVNode("text",{class:"na"},e.toDisplayString(t.name),1),e.createElementVNode("text",{class:"set",onClick:e=>i.delPeople(2,a)},[e.createElementVNode("i",{class:"iconfont icon-guanbi"})],8,["onClick"])])))),256))])])):e.createCommentVNode("",!0)]),e.createElementVNode("view",{class:"foot IOSBottom"},[e.createElementVNode("view",{class:e.normalizeClass(["footBtn half",""==s.apply_num?"bg-orange-JB":"bg-grey-JB"]),onClick:a[8]||(a[8]=(...e)=>i.saveData&&i.saveData(...e))},"暂存",2),e.createElementVNode("view",{class:"footBtn half bg-reds-JB",onClick:a[9]||(a[9]=(...e)=>i.submitData&&i.submitData(...e))},"提交")])]),s.showMultiSelect?(e.openBlock(),e.createElementBlock("view",{key:0,class:"openBox"},[e.createElementVNode("view",{class:"bg",onClick:a[10]||(a[10]=(...e)=>i.hideMultiSelect&&i.hideMultiSelect(...e))}),e.createElementVNode("view",{class:"xzBox"},[e.createElementVNode("view",{class:"top"},[e.createElementVNode("text",{class:"t fl",onClick:a[11]||(a[11]=(...e)=>i.hideMultiSelect&&i.hideMultiSelect(...e))},"取消"),e.createElementVNode("text",{class:"t fr",onClick:a[12]||(a[12]=(...e)=>i.sureMultiSelect&&i.sureMultiSelect(...e))},"确定")]),e.createElementVNode("view",{class:"lists"},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(s.optinMulti,((t,a)=>(e.openBlock(),e.createElementBlock("text",{class:e.normalizeClass(["peo",1==t.select?"peo2":""]),onClick:e=>i.chooseMulti(a)},e.toDisplayString(t.name),11,["onClick"])))),256))])])])):e.createCommentVNode("",!0)],64)}]]);var Qa;const el=n({data:()=>({noReadNum:0,remarkBox:!1,exportBox:!1,exportPdfBool:!0,isExport:!1,apply_num:"",oa_type:"",addStaffType:"",isApproval:!1,showUnred:!0,data:[],reatList:[],csData:"",reply:"",status:1,turnPeople:"",imgLists:[],isUploadImg:!1}),onLoad(e){Qa=getApp(),this.apply_num=e.apply_num?e.apply_num:"",this.oa_type=e.oa_type?e.oa_type:"",this.getData()},onShow(){},methods:{chaIsImg(e){this.isUploadImg=e.detail.value.length>0},getData(){let e=this,t={apply_num:e.apply_num,oa_type:e.oa_type};Qa.goPost("oaapply/oaDetail",t,(function(t){e.isApproval=t.isApproval,e.data=t.data,e.reatList=t.reatList,e.csData=t.csData,e.addStaffType=t.addStaffType,e.noReadNum=t.noReadNum,e.showUnred=t.showUnred,e.email=t.email,e.isExport=t.isExport,Qa.readNotice(e.apply_num),uni.setNavigationBarTitle({title:t.data.typeName})}))},ask(e){let t=this,a=e.currentTarget.dataset.status;t.status=a,t.reply=1==a?"同意":"拒绝",t.remarkBox=!0},showExport(e){this.exportBox=!0},closeAsk(){this.remarkBox=!1,this.isUploadImg=!1,this.exportBox=!1,this.imgLists=[]},verify(){let e=this,t=e.reply,a=e.imgLists;e.isUploadImg;let l="";a.length>0&&e.isUploadImg&&a.forEach(((e,t)=>{l+=l?","+e.path:e.path}));let o={apply_num:e.apply_num,status:e.status,reply:t,picurl:l};""!=t?Qa.goPost("oaapply/verify",o,(function(t){e.closeAsk(),setTimeout((function(){e.getData()}),1e3)})):Qa.showMsg("拒绝请输入审批意见")},exportPdf(){let e=this,t=e.email,l={orderid:e.apply_num,type:e.oa_type,email:t};if(""==t||null==t)return a("log","at pages/oadetail/communal.vue:325","7777"),void Qa.showMsg("请输入邮箱地址");Qa.goPost("oaapply/exportPdf",l,(function(t){e.closeAsk(),e.getData()}))},showImg(e,t){let l=this.data.content[e].value;if(l.length>0){let e=[],o=l[t].urlMax;for(let t in l)e[t]=l[t].urlMax;a("log","at pages/oadetail/communal.vue:356","urls",JSON.stringify(e)),a("log","at pages/oadetail/communal.vue:357","current",JSON.stringify(o)),uni.previewImage({current:o,urls:e})}},showApproveImg(e,t,l){let o=this.reatList[e].list[t].picurl;if(o.length>0){let e=[],t=o[l];a("log","at pages/oadetail/communal.vue:377",l);for(let a in o)e[a]=o[a];a("log","at pages/oadetail/communal.vue:383","urls",e),a("log","at pages/oadetail/communal.vue:384","current",t),uni.previewImage({current:t,urls:e})}},onCopy(e){Qa.copyText(e)},imgError:function(e){this.data.oaStatusImg="/static/images/oa/oa_error.png"},turnSp(){let e=this;uni.navigateTo({url:"/pages/companysel/companysel?op=chooseStaff&onlyOne=1",events:{backFun:function(t){a("log","at pages/oadetail/communal.vue:417","data",JSON.stringify(t)),e.turnPeople=t.sid[0];let l=t.sendTxt;uni.showModal({title:"温馨提示",content:"确定要转交给“"+l+"”审批吗",success:function(t){if(t.confirm){let t="oaapply/addturn",a={applyNum:e.data.apply_num,staff_id:e.turnPeople};Qa.goPost(t,a,(function(t){setTimeout((function(){e.getData()}),1e3)}))}}})}},success:function(e){e.eventChannel.emit("afferent",{sid:[],did:[]})}})},downPDF(){},previewImage(e){let t=e.currentTarget.dataset.index,a=this.imgLists,l=a[t].url,o=[];for(let n in a)o.push(a[n].url);uni.previewImage({current:l,urls:o})},delImg(e){let t=e.currentTarget.dataset.index;this.imgLists.splice(t,1)},chooseImage:function(e){let t=this,l=t.imgLists.length;l>=5?Qa.showMsg("最多5张图片"):uni.chooseImage({sizeType:["original","compressed"],sourceType:["album","camera"],count:9,success(e){let o=e.tempFilePaths;o.length+l>5?Qa.showMsg("最多5张图片"):Qa.uploadImgMultiple(o,0,1,o.length,(function(e){t.imgLists.push({url:e.url,path:e.path}),a("log","at pages/oadetail/communal.vue:520",t.imgLists)}))},fail(e){a("log","at pages/oadetail/communal.vue:524",e)}})},downFile(e,t){let l=this.data.content[e].value[t].url;a("log","at pages/oadetail/communal.vue:538","url",l),Qa.openFile(l)}}},[["render",function(t,a,l,o,n,s){const i=e.resolveComponent("veiw");return e.openBlock(),e.createElementBlock(e.Fragment,null,[e.createElementVNode("view",{class:"content"},[e.createElementVNode("view",{class:"rowBox"},[e.createElementVNode("view",{class:"row"},[e.createElementVNode("text",{class:"label"},"审批单号"),e.createElementVNode("view",{class:"txt orderid",onLongpress:a[0]||(a[0]=e=>s.onCopy(n.data.apply_num))},e.toDisplayString(n.data.apply_num),33)]),e.createElementVNode("view",{class:"row"},[e.createElementVNode("text",{class:"label"},e.toDisplayString(n.addStaffType),1),e.createElementVNode("view",{class:"txt"},e.toDisplayString(n.data.addStaffName),1)]),e.createElementVNode("view",{class:"row"},[e.createElementVNode("text",{class:"label"},"申请时间"),e.createElementVNode("view",{class:"txt"},e.toDisplayString(n.data.addtime),1)]),e.createElementVNode("image",{src:n.data.oaStatusImg,onError:a[1]||(a[1]=(...e)=>s.imgError&&s.imgError(...e)),class:"statusImg",alt:""},null,40,["src"])]),e.createElementVNode("view",{class:"rowBox"},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(n.data.content,((t,a)=>(e.openBlock(),e.createElementBlock("view",{class:"row"},[e.createElementVNode("text",{class:"label"},e.toDisplayString(t.key),1),9==t.type?(e.openBlock(),e.createElementBlock("view",{key:0,class:"imgLists"},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(t.value,((t,l)=>(e.openBlock(),e.createElementBlock("image",{class:"img",src:t.url,onClick:e=>s.showImg(a,l),mode:"aspectFill"},null,8,["src","onClick"])))),256)),e.createTextVNode("   ")])):10==t.type?(e.openBlock(),e.createElementBlock("view",{key:1,class:"fileLists"},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(t.value,((t,l)=>(e.openBlock(),e.createElementBlock("view",{class:"fj",onClick:e=>s.downFile(a,l)},e.toDisplayString(t.name),9,["onClick"])))),256))])):(e.openBlock(),e.createElementBlock("view",{key:2,class:"txt"},e.toDisplayString(t.value),1))])))),256))]),e.createElementVNode("view",{class:"rowBox"},[e.createElementVNode("view",{class:"title"},"审批人"),e.createElementVNode("view",{class:"approve"},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(n.reatList,((t,a)=>(e.openBlock(),e.createElementBlock("view",{class:"item"},[e.createElementVNode("text",{class:"icon"},e.toDisplayString(t.sp_way_txt),1),(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(t.list,((l,o)=>(e.openBlock(),e.createElementBlock("view",{class:"detail"},[e.createElementVNode("view",{class:"name"},[e.createTextVNode(e.toDisplayString(l.staffName)+" ",1),e.createElementVNode("text",{class:e.normalizeClass(l.status_class)},e.toDisplayString(l.status_txt),3),e.createElementVNode("view",{class:"time"},e.toDisplayString(l.jx_addtime),1)]),""!=l.reply?(e.openBlock(),e.createBlock(i,{key:0,class:"remark"},{default:e.withCtx((()=>[e.createTextVNode(e.toDisplayString(l.reply),1)])),_:2},1024)):e.createCommentVNode("",!0),t.style>0&&l.picurl.length>0?(e.openBlock(),e.createBlock(i,{key:1,class:"picBox"},{default:e.withCtx((()=>[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(l.picurl,((t,l)=>(e.openBlock(),e.createElementBlock("image",{src:t,onClick:e=>s.showApproveImg(a,o,l)},null,8,["src","onClick"])))),256))])),_:2},1024)):e.createCommentVNode("",!0),""!=t.otherName?(e.openBlock(),e.createBlock(i,{key:2,class:"oaOther"},{default:e.withCtx((()=>[e.createTextVNode(e.toDisplayString(t.otherName),1)])),_:2},1024)):e.createCommentVNode("",!0)])))),256))])))),256))])]),e.createElementVNode("view",{class:"rowBox no-border"},[n.csData.length>0?(e.openBlock(),e.createElementBlock("view",{key:0,class:"title"},[e.createTextVNode("抄送人 "),n.showUnred?(e.openBlock(),e.createElementBlock("text",{key:0,class:e.normalizeClass(["rtxt",n.noReadNum>0?"red":"blue"])},e.toDisplayString(n.noReadNum>0?n.noReadNum+"人未读":"全部已读"),3)):e.createCommentVNode("",!0),e.createElementVNode("view",{class:"csBox"},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(n.csData,((t,a)=>(e.openBlock(),e.createElementBlock("text",{class:e.normalizeClass(["csName",1==t.isRead?"":"red"]),style:e.normalizeStyle(1==t.isRead?"border-color=red":"")},e.toDisplayString(t.name),7)))),256))])])):e.createCommentVNode("",!0)]),n.isApproval?(e.openBlock(),e.createElementBlock("view",{key:0,class:"foot IOSBottom"},[e.createElementVNode("view",{class:"footBtn bg-reds-JB",onClick:a[2]||(a[2]=(...e)=>s.ask&&s.ask(...e)),"data-status":"2"},"拒绝"),e.createElementVNode("view",{class:"footBtn bg-orange-JB",onClick:a[3]||(a[3]=(...e)=>s.ask&&s.ask(...e)),"data-status":"1"},"同意")])):e.createCommentVNode("",!0)]),e.createElementVNode("ul",{class:"flxRigBth"},[n.isApproval?(e.openBlock(),e.createElementBlock("li",{key:0,class:"btn",onClick:a[4]||(a[4]=(...e)=>s.turnSp&&s.turnSp(...e))},"转交")):e.createCommentVNode("",!0),n.isExport?(e.openBlock(),e.createElementBlock("li",{key:1,class:"btn downBtn",onClick:a[5]||(a[5]=(...e)=>s.showExport&&s.showExport(...e))},[e.createElementVNode("i",{class:"iconfont icon-xiazai"})])):e.createCommentVNode("",!0)]),n.remarkBox?(e.openBlock(),e.createElementBlock("view",{key:0,class:"openBox"},[e.createElementVNode("view",{class:"bg",onClick:a[6]||(a[6]=(...e)=>s.closeAsk&&s.closeAsk(...e))}),e.createElementVNode("view",{class:"cenOpen alertBox"},[e.createElementVNode("view",{class:"content"},[e.createElementVNode("view",{class:"title"},"审批意见"),e.createElementVNode("view",{class:"openList optBox"},[e.createElementVNode("view",{class:"show-box"},[e.createElementVNode("view",{class:"input"},[e.withDirectives(e.createElementVNode("textarea",{placeholder:"请输入",class:"seaCon","onUpdate:modelValue":a[7]||(a[7]=e=>n.reply=e),"ccursor-spacing":"100"},null,512),[[e.vModelText,n.reply]])])]),e.createElementVNode("checkbox-group",{class:"isFileImgBtn",onChange:a[8]||(a[8]=(...e)=>s.chaIsImg&&s.chaIsImg(...e))},[e.createElementVNode("label",null,[e.createElementVNode("checkbox",{checked:n.isUploadImg,class:"sdFormCheckbox",color:"#fff",value:"1"},null,8,["checked"]),e.createTextVNode("上传图片（最多5张） ")])],32),n.isUploadImg?(e.openBlock(),e.createElementBlock("view",{key:0,class:"approveImg clearfix"},[e.createElementVNode("view",{class:"sdFormAllPicBox fl"},[n.imgLists.length<5?(e.openBlock(),e.createElementBlock("view",{key:0,class:"sdFormAllPicAdd fl"},[e.createElementVNode("text",{class:"iconfont icon-shangchuantupian",onClick:a[9]||(a[9]=(...e)=>s.chooseImage&&s.chooseImage(...e))})])):e.createCommentVNode("",!0),(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(n.imgLists,((t,l)=>(e.openBlock(),e.createElementBlock("view",{class:"sdFormAllPicImg fl"},[e.createElementVNode("image",{class:"filled-image",mode:"aspectFill",src:t.url,"data-index":l,onClick:a[10]||(a[10]=(...e)=>s.previewImage&&s.previewImage(...e))},null,8,["src","data-index"]),e.createElementVNode("view",{class:"sdFormAllPicImgDel","data-index":l,onClick:a[11]||(a[11]=e.withModifiers(((...e)=>s.delImg&&s.delImg(...e)),["prevent"]))},[e.createElementVNode("text",{class:"iconfont icon-guanbi"})],8,["data-index"])])))),256))])])):e.createCommentVNode("",!0)]),e.createElementVNode("view",{class:"orderFoot"},[e.createElementVNode("text",{class:"btn fl",onClick:a[12]||(a[12]=(...e)=>s.closeAsk&&s.closeAsk(...e))},"取消"),e.createElementVNode("text",{class:"btn fr",onClick:a[13]||(a[13]=(...e)=>s.verify&&s.verify(...e))},"确定")])])])])):e.createCommentVNode("",!0),n.exportBox?(e.openBlock(),e.createElementBlock("view",{key:1,class:"openBox exportBox"},[e.createElementVNode("view",{class:"bg",onClick:a[14]||(a[14]=(...e)=>s.closeAsk&&s.closeAsk(...e))}),e.createElementVNode("view",{class:"cenOpen alertBox"},[e.createElementVNode("view",{class:"content"},[e.createElementVNode("view",{class:"title"},"OA审批单下载"),e.createElementVNode("view",{class:"subTitle"},"*输入邮箱后确定发送，在邮箱中查看下载文件"),e.createElementVNode("view",{class:"openList optBox"},[e.createElementVNode("view",{class:"show-box"},[e.withDirectives(e.createElementVNode("input",{type:"text",placeholder:"请输入邮箱","onUpdate:modelValue":a[15]||(a[15]=e=>t.email=e)},null,512),[[e.vModelText,t.email]])])]),e.createElementVNode("view",{class:"orderFoot"},[e.createElementVNode("text",{class:"btn fl",onClick:a[16]||(a[16]=(...e)=>s.closeAsk&&s.closeAsk(...e))},"取消"),e.createElementVNode("text",{class:"btn fr",onClick:a[17]||(a[17]=(...e)=>s.exportPdf&&s.exportPdf(...e))},"确定")])])])])):e.createCommentVNode("",!0)],64)}]]);var tl;const al=n({data:()=>({hideBomBox:!1,hideTimeBox:!1,hideRoomBox:!1,bomBoxTitle:"",jobNum:"",typeItems:[{value:"0",name:"留牌",checked:"true"},{value:"2",name:"不留牌"}],lpCurrent:2,startTime:"",lpTime:5,lpTimeItem:[],lpTimeIdx:0,phone:"",note:"",room:"",roomName:"",roomItem:[],roomIdx:"",getRoomId:"",getJsNum:"",setGoods:[],serTypeList:[],sysTipsConfig:{},chaTxt:"",jsList:[],jsIndex:0,hidejsBox:!1}),components:{timeSelector:w},onLoad(e){tl=getApp(),this.sysTipsConfig=tl.getInitSysTipsConfig(),a("log","at pages/projecttx/projecttx.vue:272",tl.getPageUrl(!0));let t=5,l=[];for(let a=0;a<20;a++)t=5*(a+1),l.push(t);this.lpTimeItem=l,this.getRoomId=this.room=e.roomId?e.roomId:"",this.getDetail(),this.getRoomList()},methods:{openBomBox:function(e){1==e?(this.bomBoxTitle="留牌时间",this.hideTimeBox=!0):2==e?(this.getRoomList(),this.bomBoxTitle="房间列表",this.hideRoomBox=!0):(this.bomBoxTitle="技师列表",this.hidejsBox=!0),this.hideBomBox=!0},getRoomList(){let e=this,t={roomName:e.chaTxt};tl.goPost("dingdan/getRoomlist",t,(function(t){e.roomItem=t.list,e.room>0&&""==e.roomName&&t.list.forEach(((t,a)=>{e.room==t.id&&(e.roomName=t.title)}))}))},radioChangeTime(e){let t=e.detail.value,a=this.roomItem;if(this.id==t)return!1;for(let o in a)if(a[o].id==t){this.roomName=a[o].name;break}let l=e.detail.value;this.lpTimeIdx=l,this.lpTime=this.lpTimeItem[l],this.closeBox()},radioChangeRoom(e){let t=e.detail.value,a=this.roomItem;if(this.id==t)return!1;for(let l in a)if(a[l].id==t){this.roomName=a[l].name;break}this.room=t,this.closeBox()},searchData:function(e){1==e?this.jobNumInput():this.getRoomList()},clearSearch:function(e){this.chaTxt="",1==e?this.jobNumInput():this.getRoomList()},closeBox:function(){this.hideBomBox=!1,this.hideTimeBox=!1,this.hideRoomBox=!1,this.hidejsBox=!1,this.roomItem=[],this.chaTxt=""},lpTypeChange:function(e){this.lpCurrent=e.detail.value},sureSubmit:function(e){let t=this,a=t.setGoods,l={};if(a.length<1)return tl.showMsg("请选择项目"),!1;for(let n in a)l[n]={ser_job:a[n].ser_no,ser_type:a[n].ser_type,p_id:a[n].id};if(!l[0].p_id)return tl.showMsg("请选择项目"),!1;let o={type:t.lpCurrent,time:t.startTime,duration:t.lpTime,name:"",phone:t.phone,roomId:t.room,remark:t.note,project:JSON.stringify(l)};tl.goPost("yuyue/add",o,(function(e){t.openSysTips()}))},btnConfirm(e){this.startTime=e.key},btnCancel(e){a("log","at pages/projecttx/projecttx.vue:469","取消时间")},onKeyInput:function(e){this[e.target.dataset.key]=e.detail.value},getDetail(){let e=this;e.getRoomId;tl.goPost("dingdan/getdataser",{addyuye:1},(function(t){e.serTypeList=t.serTypeList,e.jobNum=t.staffInfo.staffName}))},openProject:function(){let e=this;tl.copyObject(e.setGoods);uni.navigateTo({url:"/pages/roomitem/roomitem?seltype=2430",events:{getGoods:function(t){let l=[];a("log","at pages/projecttx/projecttx.vue:501",t);for(let e in t)if(!(t[e].id<=0))if(0===t[e].ser_type&&(t[e].ser_type=3),2430==t[e].project_type&&t[e].num>1){let a=t[e].num;for(let o=0;o<a;o++)t[e].num=1,l.push(tl.copyObject(t[e]))}else l.push(t[e]);l.length>0&&(l[0].ser_no=e.getJsNum),a("log","at pages/projecttx/projecttx.vue:530",l),e.setGoods=l}},success:function(t){let a=e.setGoods,l={};for(let e in a){let t="p_"+a[e].id;l.hasOwnProperty(t)&&(a[e].num=l[t].num+1),l[t]=a[e]}t.eventChannel.emit("postGoods",l)}})},ser_type:function(e,t){let a=this.setGoods;a[t],a[t].ser_type=e},ser_grade:function(e,t){this.setGoods[t].ser_grade=e},ser_sex:function(e,t){this.setGoods[t].ser_sex=e},jobInput:function(e){this.setGoods[e.currentTarget.dataset.index].ser_no=e.detail.value},delGoods:function(e){let t=this.setGoods,a=e.currentTarget.dataset.index;if(t.length<=1)return tl.showMsg("最少一个项目"),!1;t.splice(a,1)},openSysTips:function(){let e=this.setGoods,t="";for(let l in e)t+=e[l].ser_no+",";t=t.substring(0,t.lastIndexOf(","));var a=this.sysTipsConfig;a.Bg="",a.Box="",a.iconCss="green",a.iconFont="icon-xuanze",a.title=t+"技师,预约成功",a.tips="",a.bindLeftBtnCss="bg-orange-JB",a.leftBtn="查看预约",a.bindRightBtnCss="bg-red-JB",a.rightBtn="我知道了",this.sysTipsConfig=a},closeSysTips:function(){var e=this.sysTipsConfig;e.Bg="hide",e.Box="hide",this.sysTipsConfig=e},backTop:function(){this.closeSysTips(),uni.navigateBack({delta:1})},jumpYuyue:function(){this.closeSysTips(),uni.navigateTo({url:"/pages/yuyue/yuyue"})},ser_jobNum:function(e){var t=this,a={ser_type:t.setGoods[e].ser_type,pid:t.setGoods[e].id};tl.goPost("Staffinfo/getJsInfo",a,(function(e,a){t.jsList=e})),t.jsIndex=e,t.openBomBox(3)},radioChangeJs:function(e){var t=this.jsIndex,a=e.detail.value;this.setGoods[t].ser_no=a,this.closeBox()},jobNumInput:function(){var e=this,t=e.jsList,a=e.chaTxt;for(var l in t){-1!=t[l].job_num.indexOf(a)?t[l].is_show=!0:t[l].is_show=!1}e.jsList=t}}},[["render",function(t,a,o,n,i,c){const r=l(e.resolveDynamicComponent("ydSystemTips"),s);return e.openBlock(),e.createElementBlock(e.Fragment,null,[e.createElementVNode("view",{class:"content"},[e.createElementVNode("view",{class:"itemList"},[e.createElementVNode("view",{class:"item"},[e.createElementVNode("view",{class:"left"},"房间"),e.createElementVNode("view",{class:"right",onClick:a[0]||(a[0]=e=>c.openBomBox(2))},[e.createElementVNode("text",{class:"select"},[e.createTextVNode(e.toDisplayString(i.roomName?i.roomName:"请选择")+" ",1),e.createElementVNode("i",{class:"iconfont icon-jinrujiantou"})])])]),e.createElementVNode("view",{class:"item items"},[e.createElementVNode("view",{class:"left"},"项目"),e.createElementVNode("view",{class:"right"},[e.createElementVNode("text",{class:"select red",onClick:a[1]||(a[1]=(...e)=>c.openProject&&c.openProject(...e))},[e.createTextVNode(" 选择项目 "),e.createElementVNode("i",{class:"iconfont icon-jinrujiantou"})])])])]),e.createElementVNode("scroll-view",{"scroll-y":"true",class:"allModelBox orderBox pb70"},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(i.setGoods,((t,l)=>(e.openBlock(),e.createElementBlock("view",null,[2438!=t.project_type?(e.openBlock(),e.createElementBlock("view",{key:0,class:"item"},[e.createElementVNode("view",{class:"title"},[e.createElementVNode("text",null,e.toDisplayString(t.title),1),e.createElementVNode("i",{class:"iconfont icon-shanchuxuanze",onClick:a[2]||(a[2]=(...e)=>c.delGoods&&c.delGoods(...e)),"data-index":l},null,8,["data-index"])]),e.createElementVNode("view",{class:"item-box"},[e.createElementVNode("ul",{class:"work-type"},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(i.serTypeList,(a=>(e.openBlock(),e.createElementBlock("li",{key:a.id,onClick:e=>c.ser_type(a.id,l),class:e.normalizeClass(t.ser_type==a.id?"on":"")},e.toDisplayString(a.name),11,["onClick"])))),128))]),e.createElementVNode("view",{class:"job_num"},[e.createElementVNode("text",{class:"js"},"技师"),e.createElementVNode("input",{class:"job_num-input",type:"number",onInput:a[3]||(a[3]=(...e)=>c.jobInput&&c.jobInput(...e)),"data-index":l,value:t.ser_no,placeholder:"请输入工号"},null,40,["data-index","value"]),2==t.ser_type?(e.openBlock(),e.createElementBlock("view",{key:0,class:"job_num_sel",onClick:e=>c.ser_jobNum(l,"setGoods")},"选择",8,["onClick"])):e.createCommentVNode("",!0)])])])):e.createCommentVNode("",!0)])))),256))]),e.createElementVNode("view",{class:"footBox IOSBottom"},[e.createElementVNode("view",{class:"item-left"},[e.createElementVNode("view",{class:"num"},e.toDisplayString(i.jobNum),1),e.createElementVNode("view",{class:"txt"},"当前技师人员")]),e.createElementVNode("view",{class:"item-right",onClick:a[4]||(a[4]=(...e)=>c.sureSubmit&&c.sureSubmit(...e))},[e.createElementVNode("text",{class:"btn"},"确定预约")])])]),i.hideBomBox?(e.openBlock(),e.createElementBlock("view",{key:0,class:"openBox"},[e.createElementVNode("view",{class:"bg",onClick:a[5]||(a[5]=(...e)=>c.closeBox&&c.closeBox(...e))}),e.createElementVNode("view",{class:"cenOpen MeunBox"},[e.createElementVNode("view",{class:"title"},[e.createElementVNode("text",{class:"s-top sel_suo"},e.toDisplayString(i.bomBoxTitle),1),e.createElementVNode("i",{onClick:a[6]||(a[6]=(...e)=>c.closeBox&&c.closeBox(...e)),class:"iconfont icon-shanchuxuanze"})]),i.hideTimeBox?(e.openBlock(),e.createElementBlock("view",{key:0,class:"meunList timeBox"},[e.createElementVNode("radio-group",{class:"menuTypeBox minTop",onChange:a[7]||(a[7]=(...e)=>c.radioChangeTime&&c.radioChangeTime(...e))},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(i.lpTimeItem,((t,a)=>(e.openBlock(),e.createElementBlock("label",{key:t},[e.createElementVNode("view",{class:e.normalizeClass(i.lpTimeIdx==a?"li sel_suo":"li")},[e.createElementVNode("radio",{value:a,class:"radioBtn",style:{transform:"scale(0.7)"},color:"#ff8100",checked:i.lpTimeIdx==a},null,8,["value","checked"]),e.createElementVNode("text",null,e.toDisplayString(t)+"分钟",1)],2)])))),128)),0==i.lpTimeItem.length?(e.openBlock(),e.createElementBlock("view",{key:0,class:"noData"},[e.createElementVNode("i",{class:"iconfont icon-kongshuju"}),e.createTextVNode(" 暂无留牌时间 ")])):e.createCommentVNode("",!0)],32)])):e.createCommentVNode("",!0),i.hideRoomBox?(e.openBlock(),e.createElementBlock("view",{key:1,class:"meunList roomBox"},[e.createElementVNode("view",{class:"searchBox"},[e.createElementVNode("input",{class:"queryTxt",onInput:a[8]||(a[8]=(...e)=>c.onKeyInput&&c.onKeyInput(...e)),value:i.chaTxt,"data-key":"chaTxt",placeholder:"请输入房间号"},null,40,["value"]),i.chaTxt.length>0?(e.openBlock(),e.createElementBlock("i",{key:0,class:"iconfont icon-shanchuxuanze clearSearch",onClick:a[9]||(a[9]=e=>c.clearSearch(2))})):e.createCommentVNode("",!0),e.createElementVNode("view",{class:"queryBtn",onClick:a[10]||(a[10]=e=>c.searchData(2))},"查询")]),e.createElementVNode("radio-group",{class:"menuTypeBox",onChange:a[11]||(a[11]=(...e)=>c.radioChangeRoom&&c.radioChangeRoom(...e))},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(i.roomItem,((t,a)=>(e.openBlock(),e.createElementBlock("label",{key:t.id},[e.createElementVNode("view",{class:e.normalizeClass(i.room==t.id?"li sel_suo":"li")},[e.createElementVNode("radio",{value:t.id,class:"radioBtn",style:{transform:"scale(0.7)"},color:"#ff8100",checked:i.room==t.id},null,8,["value","checked"]),e.createElementVNode("text",null,e.toDisplayString(t.title),1)],2)])))),128)),0==i.roomItem.length?(e.openBlock(),e.createElementBlock("view",{key:0,class:"noData"},[e.createElementVNode("i",{class:"iconfont icon-kongshuju"}),e.createTextVNode(" 暂无房间 ")])):e.createCommentVNode("",!0)],32)])):e.createCommentVNode("",!0),i.hidejsBox?(e.openBlock(),e.createElementBlock("view",{key:2,class:"meunList jsBox"},[e.createElementVNode("view",{class:"searchBox"},[e.createElementVNode("input",{class:"queryTxt",onInput:a[12]||(a[12]=(...e)=>c.onKeyInput&&c.onKeyInput(...e)),value:i.chaTxt,"data-key":"chaTxt",placeholder:"请输入工号"},null,40,["value"]),i.chaTxt.length>0?(e.openBlock(),e.createElementBlock("i",{key:0,class:"iconfont icon-shanchuxuanze clearSearch",onClick:a[13]||(a[13]=e=>c.clearSearch(1))})):e.createCommentVNode("",!0),e.createElementVNode("view",{class:"queryBtn",onClick:a[14]||(a[14]=e=>c.searchData(1))},"查询")]),e.createElementVNode("radio-group",{class:"menuTypeBox",onChange:a[15]||(a[15]=(...e)=>c.radioChangeJs&&c.radioChangeJs(...e))},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(i.jsList,((t,a)=>(e.openBlock(),e.createElementBlock("label",{key:t.id},[e.createElementVNode("view",{class:e.normalizeClass(t.is_show?"li":"li hide")},[e.createElementVNode("radio",{value:t.job_num,class:"radioBtn",style:{transform:"scale(0.7)"},color:"#ff8100"},null,8,["value"]),e.createElementVNode("text",null,e.toDisplayString(t.job_num)+"("+e.toDisplayString(t.work_status)+")",1)],2)])))),128)),0==i.jsList.length?(e.openBlock(),e.createElementBlock("view",{key:0,class:"noData"},[e.createElementVNode("i",{class:"iconfont icon-kongshuju"}),e.createTextVNode(" 暂无技师 ")])):e.createCommentVNode("",!0)],32)])):e.createCommentVNode("",!0)])])):e.createCommentVNode("",!0),e.createVNode(r,{config:i.sysTipsConfig,onBtnSure:c.backTop,onBtnClose:c.jumpYuyue,onBtnBgClose:c.closeSysTips},null,8,["config","onBtnSure","onBtnClose","onBtnBgClose"])],64)}]]);__definePage("pages/index/index",d),__definePage("pages/my/my",h),__definePage("pages/login/login",y),__definePage("pages/staffinfoedit/staffinfoedit",E),__definePage("pages/web/web_uni",f),__definePage("pages/agreement/agreement",x),__definePage("pages/daka/daka",S),__definePage("pages/lookkaoqin/lookkaoqin",D),__definePage("pages/work/work",A),__definePage("pages/room/room",U),__definePage("pages/lcard/lcard",J),__definePage("pages/roominfo/roominfo",K),__definePage("pages/roomopen/roomopen",$),__definePage("pages/roomstatus/roomstatus",Y),__definePage("pages/budan/budan",Q),__definePage("pages/lcardmerge/lcardmerge",te),__definePage("pages/jishi/jishi",le),__definePage("pages/leaveapply/leaveapply",ne),__definePage("pages/addyuyue/addyuyue",ie),__definePage("pages/yuyue/yuyue",re),__definePage("pages/roommerge/roommerge",me),__definePage("pages/roomitemadd/roomitemadd",pe),__definePage("pages/roomitemsel/roomitemsel",ve),__definePage("pages/roomitem/roomitem",Ne),__definePage("pages/staffleave/staffleave",be),__definePage("pages/settings/settings",Te),__definePage("pages/sound/sound",De),__definePage("pages/news/news",Le),__definePage("pages/newsdetails/newsdetails",Pe),__definePage("pages/noticedetail/noticedetail",Oe),__definePage("pages/renLian/renLian",je),__definePage("pages/oaapplylists/leave",Re),__definePage("pages/oaapplyadd/leave",He),__definePage("pages/noticelist/noticelist",We),__definePage("pages/noticeinfo/noticeinfo",Ge),__definePage("pages/stockwarn/stockwarn",qe),__definePage("pages/oadetail/oadetail",Ye),__definePage("pages/connect/connect",et),__definePage("pages/yuancheng/yuancheng",lt),__definePage("pages/servicetel/servicetel",st),__definePage("pages/appset/appset",dt),__definePage("pages/companysel/companysel",ht),__definePage("pages/auth/auth",yt),__definePage("pages/error/error",Nt),__definePage("pages/apptest/apptest",ft),__definePage("pages/phoneprod/phoneprod",Vt),__definePage("pages/pushtest/pushtest",Dt),__definePage("pages/xinzijiesuan/xinzijiesuan",Lt),__definePage("pages/ranking/ranking",Pt),__definePage("pages/ticheng/ticheng",Ot),__definePage("pages/servicestandard/servicestandard",Mt),__definePage("pages/servicestandardinfo/servicestandardinfo",ta),__definePage("pages/oaapplylists/repair",la),__definePage("pages/oaapplyadd/repair",na),__definePage("pages/oaapplyadd/repairreceive",ia),__definePage("pages/oaapplyadd/repairend",ra),__definePage("pages/oadetail/repairdetail",ma),__definePage("pages/jiezhang/jiezhang",pa),__definePage("pages/jiezhangsure/jiezhangsure",ga),__definePage("pages/table/table",va),__definePage("pages/fwpingjia/theme",wa),__definePage("pages/staffjoin/staffjoin",Ba),__definePage("pages/staffjoindetail/staffjoindetail",xa),__definePage("pages/fwpingjia/ranking",Ta),__definePage("pages/busculture/busculture",Ca),__definePage("pages/buscultureinfo/buscultureinfo",Ia),__definePage("pages/opinion/opinion",_a),__definePage("pages/opinionadd/opinionadd",Fa),__definePage("pages/opiniondetails/opiniondetails",Aa),__definePage("pages/massageChair/massageChair",Ra),__definePage("pages/oaapplylists/evection",Ha),__definePage("pages/oaapplyadd/evection",Wa),__definePage("pages/kefu/kefu",Ga),__definePage("pages/oaapplylists/communal",qa),__definePage("pages/oaapplyadd/communal",Za),__definePage("pages/oadetail/communal",el),__definePage("pages/projecttx/projecttx",al);let ll={};var ol,nl,sl=sl||function(e,t){var a={},l=a.lib={},o=function(){},n=l.Base={extend:function(e){o.prototype=this;var t=new o;return e&&t.mixIn(e),t.hasOwnProperty("init")||(t.init=function(){t.$super.init.apply(this,arguments)}),t.init.prototype=t,t.$super=this,t},create:function(){var e=this.extend();return e.init.apply(e,arguments),e},init:function(){},mixIn:function(e){for(var t in e)e.hasOwnProperty(t)&&(this[t]=e[t]);e.hasOwnProperty("toString")&&(this.toString=e.toString)},clone:function(){return this.init.prototype.extend(this)}},s=l.WordArray=n.extend({init:function(e,t){e=this.words=e||[],this.sigBytes=null!=t?t:4*e.length},toString:function(e){return(e||c).stringify(this)},concat:function(e){var t=this.words,a=e.words,l=this.sigBytes;if(e=e.sigBytes,this.clamp(),l%4)for(var o=0;o<e;o++)t[l+o>>>2]|=(a[o>>>2]>>>24-o%4*8&255)<<24-(l+o)%4*8;else if(65535<a.length)for(o=0;o<e;o+=4)t[l+o>>>2]=a[o>>>2];else t.push.apply(t,a);return this.sigBytes+=e,this},clamp:function(){var t=this.words,a=this.sigBytes;t[a>>>2]&=4294967295<<32-a%4*8,t.length=e.ceil(a/4)},clone:function(){var e=n.clone.call(this);return e.words=this.words.slice(0),e},random:function(t){for(var a=[],l=0;l<t;l+=4)a.push(4294967296*e.random()|0);return new s.init(a,t)}}),i=a.enc={},c=i.Hex={stringify:function(e){var t=e.words;e=e.sigBytes;for(var a=[],l=0;l<e;l++){var o=t[l>>>2]>>>24-l%4*8&255;a.push((o>>>4).toString(16)),a.push((15&o).toString(16))}return a.join("")},parse:function(e){for(var t=e.length,a=[],l=0;l<t;l+=2)a[l>>>3]|=parseInt(e.substr(l,2),16)<<24-l%8*4;return new s.init(a,t/2)}},r=i.Latin1={stringify:function(e){var t=e.words;e=e.sigBytes;for(var a=[],l=0;l<e;l++)a.push(String.fromCharCode(t[l>>>2]>>>24-l%4*8&255));return a.join("")},parse:function(e){for(var t=e.length,a=[],l=0;l<t;l++)a[l>>>2]|=(255&e.charCodeAt(l))<<24-l%4*8;return new s.init(a,t)}},d=i.Utf8={stringify:function(e){try{return decodeURIComponent(escape(r.stringify(e)))}catch(t){throw Error("Malformed UTF-8 data")}},parse:function(e){return r.parse(unescape(encodeURIComponent(e)))}},m=l.BufferedBlockAlgorithm=n.extend({reset:function(){this._data=new s.init,this._nDataBytes=0},_append:function(e){"string"==typeof e&&(e=d.parse(e)),this._data.concat(e),this._nDataBytes+=e.sigBytes},_process:function(t){var a=this._data,l=a.words,o=a.sigBytes,n=this.blockSize,i=o/(4*n);if(t=(i=t?e.ceil(i):e.max((0|i)-this._minBufferSize,0))*n,o=e.min(4*t,o),t){for(var c=0;c<t;c+=n)this._doProcessBlock(l,c);c=l.splice(0,t),a.sigBytes-=o}return new s.init(c,o)},clone:function(){var e=n.clone.call(this);return e._data=this._data.clone(),e},_minBufferSize:0});l.Hasher=m.extend({cfg:n.extend(),init:function(e){this.cfg=this.cfg.extend(e),this.reset()},reset:function(){m.reset.call(this),this._doReset()},update:function(e){return this._append(e),this._process(),this},finalize:function(e){return e&&this._append(e),this._doFinalize()},blockSize:16,_createHelper:function(e){return function(t,a){return new e.init(a).finalize(t)}},_createHmacHelper:function(e){return function(t,a){return new u.HMAC.init(e,a).finalize(t)}}});var u=a.algo={};return a}(Math);nl=(ol=sl).lib.WordArray,ol.enc.Base64={stringify:function(e){var t=e.words,a=e.sigBytes,l=this._map;e.clamp(),e=[];for(var o=0;o<a;o+=3)for(var n=(t[o>>>2]>>>24-o%4*8&255)<<16|(t[o+1>>>2]>>>24-(o+1)%4*8&255)<<8|t[o+2>>>2]>>>24-(o+2)%4*8&255,s=0;4>s&&o+.75*s<a;s++)e.push(l.charAt(n>>>6*(3-s)&63));if(t=l.charAt(64))for(;e.length%4;)e.push(t);return e.join("")},parse:function(e){var t=e.length,a=this._map;(l=a.charAt(64))&&-1!=(l=e.indexOf(l))&&(t=l);for(var l=[],o=0,n=0;n<t;n++)if(n%4){var s=a.indexOf(e.charAt(n-1))<<n%4*2,i=a.indexOf(e.charAt(n))>>>6-n%4*2;l[o>>>2]|=(s|i)<<24-o%4*8,o++}return nl.create(l,o)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="},function(e){function t(e,t,a,l,o,n,s){return((e=e+(t&a|~t&l)+o+s)<<n|e>>>32-n)+t}function a(e,t,a,l,o,n,s){return((e=e+(t&l|a&~l)+o+s)<<n|e>>>32-n)+t}function l(e,t,a,l,o,n,s){return((e=e+(t^a^l)+o+s)<<n|e>>>32-n)+t}function o(e,t,a,l,o,n,s){return((e=e+(a^(t|~l))+o+s)<<n|e>>>32-n)+t}for(var n=sl,s=(c=n.lib).WordArray,i=c.Hasher,c=n.algo,r=[],d=0;64>d;d++)r[d]=4294967296*e.abs(e.sin(d+1))|0;c=c.MD5=i.extend({_doReset:function(){this._hash=new s.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(e,n){for(var s=0;16>s;s++){var i=e[c=n+s];e[c]=16711935&(i<<8|i>>>24)|4278255360&(i<<24|i>>>8)}s=this._hash.words;var c=e[n+0],d=(i=e[n+1],e[n+2]),m=e[n+3],u=e[n+4],p=e[n+5],h=e[n+6],g=e[n+7],v=e[n+8],y=e[n+9],k=e[n+10],N=e[n+11],w=e[n+12],b=e[n+13],B=e[n+14],E=e[n+15],f=t(f=s[0],T=s[1],V=s[2],x=s[3],c,7,r[0]),x=t(x,f,T,V,i,12,r[1]),V=t(V,x,f,T,d,17,r[2]),T=t(T,V,x,f,m,22,r[3]);f=t(f,T,V,x,u,7,r[4]),x=t(x,f,T,V,p,12,r[5]),V=t(V,x,f,T,h,17,r[6]),T=t(T,V,x,f,g,22,r[7]),f=t(f,T,V,x,v,7,r[8]),x=t(x,f,T,V,y,12,r[9]),V=t(V,x,f,T,k,17,r[10]),T=t(T,V,x,f,N,22,r[11]),f=t(f,T,V,x,w,7,r[12]),x=t(x,f,T,V,b,12,r[13]),V=t(V,x,f,T,B,17,r[14]),f=a(f,T=t(T,V,x,f,E,22,r[15]),V,x,i,5,r[16]),x=a(x,f,T,V,h,9,r[17]),V=a(V,x,f,T,N,14,r[18]),T=a(T,V,x,f,c,20,r[19]),f=a(f,T,V,x,p,5,r[20]),x=a(x,f,T,V,k,9,r[21]),V=a(V,x,f,T,E,14,r[22]),T=a(T,V,x,f,u,20,r[23]),f=a(f,T,V,x,y,5,r[24]),x=a(x,f,T,V,B,9,r[25]),V=a(V,x,f,T,m,14,r[26]),T=a(T,V,x,f,v,20,r[27]),f=a(f,T,V,x,b,5,r[28]),x=a(x,f,T,V,d,9,r[29]),V=a(V,x,f,T,g,14,r[30]),f=l(f,T=a(T,V,x,f,w,20,r[31]),V,x,p,4,r[32]),x=l(x,f,T,V,v,11,r[33]),V=l(V,x,f,T,N,16,r[34]),T=l(T,V,x,f,B,23,r[35]),f=l(f,T,V,x,i,4,r[36]),x=l(x,f,T,V,u,11,r[37]),V=l(V,x,f,T,g,16,r[38]),T=l(T,V,x,f,k,23,r[39]),f=l(f,T,V,x,b,4,r[40]),x=l(x,f,T,V,c,11,r[41]),V=l(V,x,f,T,m,16,r[42]),T=l(T,V,x,f,h,23,r[43]),f=l(f,T,V,x,y,4,r[44]),x=l(x,f,T,V,w,11,r[45]),V=l(V,x,f,T,E,16,r[46]),f=o(f,T=l(T,V,x,f,d,23,r[47]),V,x,c,6,r[48]),x=o(x,f,T,V,g,10,r[49]),V=o(V,x,f,T,B,15,r[50]),T=o(T,V,x,f,p,21,r[51]),f=o(f,T,V,x,w,6,r[52]),x=o(x,f,T,V,m,10,r[53]),V=o(V,x,f,T,k,15,r[54]),T=o(T,V,x,f,i,21,r[55]),f=o(f,T,V,x,v,6,r[56]),x=o(x,f,T,V,E,10,r[57]),V=o(V,x,f,T,h,15,r[58]),T=o(T,V,x,f,b,21,r[59]),f=o(f,T,V,x,u,6,r[60]),x=o(x,f,T,V,N,10,r[61]),V=o(V,x,f,T,d,15,r[62]),T=o(T,V,x,f,y,21,r[63]);s[0]=s[0]+f|0,s[1]=s[1]+T|0,s[2]=s[2]+V|0,s[3]=s[3]+x|0},_doFinalize:function(){var t=this._data,a=t.words,l=8*this._nDataBytes,o=8*t.sigBytes;a[o>>>5]|=128<<24-o%32;var n=e.floor(l/4294967296);for(a[15+(o+64>>>9<<4)]=16711935&(n<<8|n>>>24)|4278255360&(n<<24|n>>>8),a[14+(o+64>>>9<<4)]=16711935&(l<<8|l>>>24)|4278255360&(l<<24|l>>>8),t.sigBytes=4*(a.length+1),this._process(),a=(t=this._hash).words,l=0;4>l;l++)o=a[l],a[l]=16711935&(o<<8|o>>>24)|4278255360&(o<<24|o>>>8);return t},clone:function(){var e=i.clone.call(this);return e._hash=this._hash.clone(),e}}),n.MD5=i._createHelper(c),n.HmacMD5=i._createHmacHelper(c)}(Math),function(){var e,t=sl,a=(e=t.lib).Base,l=e.WordArray,o=(e=t.algo).EvpKDF=a.extend({cfg:a.extend({keySize:4,hasher:e.MD5,iterations:1}),init:function(e){this.cfg=this.cfg.extend(e)},compute:function(e,t){for(var a=(i=this.cfg).hasher.create(),o=l.create(),n=o.words,s=i.keySize,i=i.iterations;n.length<s;){c&&a.update(c);var c=a.update(e).finalize(t);a.reset();for(var r=1;r<i;r++)c=a.finalize(c),a.reset();o.concat(c)}return o.sigBytes=4*s,o}});t.EvpKDF=function(e,t,a){return o.create(a).compute(e,t)}}(),sl.lib.Cipher||function(e){var t=(p=sl).lib,a=t.Base,l=t.WordArray,o=t.BufferedBlockAlgorithm,n=p.enc.Base64,s=p.algo.EvpKDF,i=t.Cipher=o.extend({cfg:a.extend(),createEncryptor:function(e,t){return this.create(this._ENC_XFORM_MODE,e,t)},createDecryptor:function(e,t){return this.create(this._DEC_XFORM_MODE,e,t)},init:function(e,t,a){this.cfg=this.cfg.extend(a),this._xformMode=e,this._key=t,this.reset()},reset:function(){o.reset.call(this),this._doReset()},process:function(e){return this._append(e),this._process()},finalize:function(e){return e&&this._append(e),this._doFinalize()},keySize:4,ivSize:4,_ENC_XFORM_MODE:1,_DEC_XFORM_MODE:2,_createHelper:function(e){return{encrypt:function(t,a,l){return("string"==typeof a?h:u).encrypt(e,t,a,l)},decrypt:function(t,a,l){return("string"==typeof a?h:u).decrypt(e,t,a,l)}}}});t.StreamCipher=i.extend({_doFinalize:function(){return this._process(!0)},blockSize:1});var c=p.mode={},r=function(e,t,a){var l=this._iv;l?this._iv=undefined:l=this._prevBlock;for(var o=0;o<a;o++)e[t+o]^=l[o]},d=(t.BlockCipherMode=a.extend({createEncryptor:function(e,t){return this.Encryptor.create(e,t)},createDecryptor:function(e,t){return this.Decryptor.create(e,t)},init:function(e,t){this._cipher=e,this._iv=t}})).extend();d.Encryptor=d.extend({processBlock:function(e,t){var a=this._cipher,l=a.blockSize;r.call(this,e,t,l),a.encryptBlock(e,t),this._prevBlock=e.slice(t,t+l)}}),d.Decryptor=d.extend({processBlock:function(e,t){var a=this._cipher,l=a.blockSize,o=e.slice(t,t+l);a.decryptBlock(e,t),r.call(this,e,t,l),this._prevBlock=o}}),c=c.CBC=d,d=(p.pad={}).Pkcs7={pad:function(e,t){for(var a,o=(a=(a=4*t)-e.sigBytes%a)<<24|a<<16|a<<8|a,n=[],s=0;s<a;s+=4)n.push(o);a=l.create(n,a),e.concat(a)},unpad:function(e){e.sigBytes-=255&e.words[e.sigBytes-1>>>2]}},t.BlockCipher=i.extend({cfg:i.cfg.extend({mode:c,padding:d}),reset:function(){i.reset.call(this);var e=(t=this.cfg).iv,t=t.mode;if(this._xformMode==this._ENC_XFORM_MODE)var a=t.createEncryptor;else a=t.createDecryptor,this._minBufferSize=1;this._mode=a.call(t,this,e&&e.words)},_doProcessBlock:function(e,t){this._mode.processBlock(e,t)},_doFinalize:function(){var e=this.cfg.padding;if(this._xformMode==this._ENC_XFORM_MODE){e.pad(this._data,this.blockSize);var t=this._process(!0)}else t=this._process(!0),e.unpad(t);return t},blockSize:4});var m=t.CipherParams=a.extend({init:function(e){this.mixIn(e)},toString:function(e){return(e||this.formatter).stringify(this)}}),u=(c=(p.format={}).OpenSSL={stringify:function(e){var t=e.ciphertext;return((e=e.salt)?l.create([1398893684,1701076831]).concat(e).concat(t):t).toString(n)},parse:function(e){var t=(e=n.parse(e)).words;if(1398893684==t[0]&&1701076831==t[1]){var a=l.create(t.slice(2,4));t.splice(0,4),e.sigBytes-=16}return m.create({ciphertext:e,salt:a})}},t.SerializableCipher=a.extend({cfg:a.extend({format:c}),encrypt:function(e,t,a,l){l=this.cfg.extend(l);var o=e.createEncryptor(a,l);return t=o.finalize(t),o=o.cfg,m.create({ciphertext:t,key:a,iv:o.iv,algorithm:e,mode:o.mode,padding:o.padding,blockSize:e.blockSize,formatter:l.format})},decrypt:function(e,t,a,l){return l=this.cfg.extend(l),t=this._parse(t,l.format),e.createDecryptor(a,l).finalize(t.ciphertext)},_parse:function(e,t){return"string"==typeof e?t.parse(e,this):e}})),p=(p.kdf={}).OpenSSL={execute:function(e,t,a,o){return o||(o=l.random(8)),e=s.create({keySize:t+a}).compute(e,o),a=l.create(e.words.slice(t),4*a),e.sigBytes=4*t,m.create({key:e,iv:a,salt:o})}},h=t.PasswordBasedCipher=u.extend({cfg:u.cfg.extend({kdf:p}),encrypt:function(e,t,a,l){return a=(l=this.cfg.extend(l)).kdf.execute(a,e.keySize,e.ivSize),l.iv=a.iv,(e=u.encrypt.call(this,e,t,a.key,l)).mixIn(a),e},decrypt:function(e,t,a,l){return l=this.cfg.extend(l),t=this._parse(t,l.format),a=l.kdf.execute(a,e.keySize,e.ivSize,t.salt),l.iv=a.iv,u.decrypt.call(this,e,t,a.key,l)}})}(),function(){for(var e=sl,t=e.lib.BlockCipher,a=e.algo,l=[],o=[],n=[],s=[],i=[],c=[],r=[],d=[],m=[],u=[],p=[],h=0;256>h;h++)p[h]=128>h?h<<1:h<<1^283;var g=0,v=0;for(h=0;256>h;h++){var y=(y=v^v<<1^v<<2^v<<3^v<<4)>>>8^255&y^99;l[g]=y,o[y]=g;var k=p[g],N=p[k],w=p[N],b=257*p[y]^16843008*y;n[g]=b<<24|b>>>8,s[g]=b<<16|b>>>16,i[g]=b<<8|b>>>24,c[g]=b,b=16843009*w^65537*N^257*k^16843008*g,r[y]=b<<24|b>>>8,d[y]=b<<16|b>>>16,m[y]=b<<8|b>>>24,u[y]=b,g?(g=k^p[p[p[w^k]]],v^=p[p[v]]):g=v=1}var B=[0,1,2,4,8,16,32,64,128,27,54];a=a.AES=t.extend({_doReset:function(){for(var e=(a=this._key).words,t=a.sigBytes/4,a=4*((this._nRounds=t+6)+1),o=this._keySchedule=[],n=0;n<a;n++)if(n<t)o[n]=e[n];else{var s=o[n-1];n%t?6<t&&4==n%t&&(s=l[s>>>24]<<24|l[s>>>16&255]<<16|l[s>>>8&255]<<8|l[255&s]):(s=l[(s=s<<8|s>>>24)>>>24]<<24|l[s>>>16&255]<<16|l[s>>>8&255]<<8|l[255&s],s^=B[n/t|0]<<24),o[n]=o[n-t]^s}for(e=this._invKeySchedule=[],t=0;t<a;t++)n=a-t,s=t%4?o[n]:o[n-4],e[t]=4>t||4>=n?s:r[l[s>>>24]]^d[l[s>>>16&255]]^m[l[s>>>8&255]]^u[l[255&s]]},encryptBlock:function(e,t){this._doCryptBlock(e,t,this._keySchedule,n,s,i,c,l)},decryptBlock:function(e,t){var a=e[t+1];e[t+1]=e[t+3],e[t+3]=a,this._doCryptBlock(e,t,this._invKeySchedule,r,d,m,u,o),a=e[t+1],e[t+1]=e[t+3],e[t+3]=a},_doCryptBlock:function(e,t,a,l,o,n,s,i){for(var c=this._nRounds,r=e[t]^a[0],d=e[t+1]^a[1],m=e[t+2]^a[2],u=e[t+3]^a[3],p=4,h=1;h<c;h++){var g=l[r>>>24]^o[d>>>16&255]^n[m>>>8&255]^s[255&u]^a[p++],v=l[d>>>24]^o[m>>>16&255]^n[u>>>8&255]^s[255&r]^a[p++],y=l[m>>>24]^o[u>>>16&255]^n[r>>>8&255]^s[255&d]^a[p++];u=l[u>>>24]^o[r>>>16&255]^n[d>>>8&255]^s[255&m]^a[p++],r=g,d=v,m=y}g=(i[r>>>24]<<24|i[d>>>16&255]<<16|i[m>>>8&255]<<8|i[255&u])^a[p++],v=(i[d>>>24]<<24|i[m>>>16&255]<<16|i[u>>>8&255]<<8|i[255&r])^a[p++],y=(i[m>>>24]<<24|i[u>>>16&255]<<16|i[r>>>8&255]<<8|i[255&d])^a[p++],u=(i[u>>>24]<<24|i[r>>>16&255]<<16|i[d>>>8&255]<<8|i[255&m])^a[p++],e[t]=g,e[t+1]=v,e[t+2]=y,e[t+3]=u},keySize:8});e.AES=t._createHelper(a)}();var il=sl.enc.Utf8.parse("6CE32BCC90578829"),cl=sl.enc.Utf8.parse("D1501DFEA4094DDA");ll.decrypt=function(e){return function(e){return sl.AES.decrypt(e,il,{iv:cl,mode:sl.mode.CBC,padding:sl.pad.Pkcs7}).toString(sl.enc.Utf8).toString()}(e)},ll.encrypt=function(e){return function(e){var t=sl.enc.Utf8.parse(e);return sl.AES.encrypt(t,il,{iv:cl,mode:sl.mode.CBC,padding:sl.pad.Pkcs7}).toString()}(e)};let rl={};function dl(e,t){function a(e,t){return e<<t|e>>>32-t}function l(e,t){var a,l,o,n,s;return o=2147483648&e,n=2147483648&t,s=(1073741823&e)+(1073741823&t),(a=1073741824&e)&(l=1073741824&t)?2147483648^s^o^n:a|l?1073741824&s?3221225472^s^o^n:1073741824^s^o^n:s^o^n}function o(e,t,o,n,s,i,c){return e=l(e,l(l(function(e,t,a){return e&t|~e&a}(t,o,n),s),c)),l(a(e,i),t)}function n(e,t,o,n,s,i,c){return e=l(e,l(l(function(e,t,a){return e&a|t&~a}(t,o,n),s),c)),l(a(e,i),t)}function s(e,t,o,n,s,i,c){return e=l(e,l(l(function(e,t,a){return e^t^a}(t,o,n),s),c)),l(a(e,i),t)}function i(e,t,o,n,s,i,c){return e=l(e,l(l(function(e,t,a){return t^(e|~a)}(t,o,n),s),c)),l(a(e,i),t)}function c(e){var t,a="",l="";for(t=0;t<=3;t++)a+=(l="0"+(e>>>8*t&255).toString(16)).substr(l.length-2,2);return a}var r,d,m,u,p,h,g,v,y,k=Array();for(k=function(e){for(var t,a=e.length,l=a+8,o=16*((l-l%64)/64+1),n=Array(o-1),s=0,i=0;i<a;)s=i%4*8,n[t=(i-i%4)/4]=n[t]|e.charCodeAt(i)<<s,i++;return s=i%4*8,n[t=(i-i%4)/4]=n[t]|128<<s,n[o-2]=a<<3,n[o-1]=a>>>29,n}(e=function(e){e=e.replace(/\r\n/g,"\n");for(var t="",a=0;a<e.length;a++){var l=e.charCodeAt(a);l<128?t+=String.fromCharCode(l):l>127&&l<2048?(t+=String.fromCharCode(l>>6|192),t+=String.fromCharCode(63&l|128)):(t+=String.fromCharCode(l>>12|224),t+=String.fromCharCode(l>>6&63|128),t+=String.fromCharCode(63&l|128))}return t}(e)),h=1732584193,g=4023233417,v=2562383102,y=271733878,r=0;r<k.length;r+=16)d=h,m=g,u=v,p=y,h=o(h,g,v,y,k[r+0],7,3614090360),y=o(y,h,g,v,k[r+1],12,3905402710),v=o(v,y,h,g,k[r+2],17,606105819),g=o(g,v,y,h,k[r+3],22,3250441966),h=o(h,g,v,y,k[r+4],7,4118548399),y=o(y,h,g,v,k[r+5],12,1200080426),v=o(v,y,h,g,k[r+6],17,2821735955),g=o(g,v,y,h,k[r+7],22,4249261313),h=o(h,g,v,y,k[r+8],7,1770035416),y=o(y,h,g,v,k[r+9],12,2336552879),v=o(v,y,h,g,k[r+10],17,4294925233),g=o(g,v,y,h,k[r+11],22,2304563134),h=o(h,g,v,y,k[r+12],7,1804603682),y=o(y,h,g,v,k[r+13],12,4254626195),v=o(v,y,h,g,k[r+14],17,2792965006),h=n(h,g=o(g,v,y,h,k[r+15],22,1236535329),v,y,k[r+1],5,4129170786),y=n(y,h,g,v,k[r+6],9,3225465664),v=n(v,y,h,g,k[r+11],14,643717713),g=n(g,v,y,h,k[r+0],20,3921069994),h=n(h,g,v,y,k[r+5],5,3593408605),y=n(y,h,g,v,k[r+10],9,38016083),v=n(v,y,h,g,k[r+15],14,3634488961),g=n(g,v,y,h,k[r+4],20,3889429448),h=n(h,g,v,y,k[r+9],5,568446438),y=n(y,h,g,v,k[r+14],9,3275163606),v=n(v,y,h,g,k[r+3],14,4107603335),g=n(g,v,y,h,k[r+8],20,1163531501),h=n(h,g,v,y,k[r+13],5,2850285829),y=n(y,h,g,v,k[r+2],9,4243563512),v=n(v,y,h,g,k[r+7],14,1735328473),h=s(h,g=n(g,v,y,h,k[r+12],20,2368359562),v,y,k[r+5],4,4294588738),y=s(y,h,g,v,k[r+8],11,2272392833),v=s(v,y,h,g,k[r+11],16,1839030562),g=s(g,v,y,h,k[r+14],23,4259657740),h=s(h,g,v,y,k[r+1],4,2763975236),y=s(y,h,g,v,k[r+4],11,1272893353),v=s(v,y,h,g,k[r+7],16,4139469664),g=s(g,v,y,h,k[r+10],23,3200236656),h=s(h,g,v,y,k[r+13],4,681279174),y=s(y,h,g,v,k[r+0],11,3936430074),v=s(v,y,h,g,k[r+3],16,3572445317),g=s(g,v,y,h,k[r+6],23,76029189),h=s(h,g,v,y,k[r+9],4,3654602809),y=s(y,h,g,v,k[r+12],11,3873151461),v=s(v,y,h,g,k[r+15],16,530742520),h=i(h,g=s(g,v,y,h,k[r+2],23,3299628645),v,y,k[r+0],6,4096336452),y=i(y,h,g,v,k[r+7],10,1126891415),v=i(v,y,h,g,k[r+14],15,2878612391),g=i(g,v,y,h,k[r+5],21,4237533241),h=i(h,g,v,y,k[r+12],6,1700485571),y=i(y,h,g,v,k[r+3],10,2399980690),v=i(v,y,h,g,k[r+10],15,4293915773),g=i(g,v,y,h,k[r+1],21,2240044497),h=i(h,g,v,y,k[r+8],6,1873313359),y=i(y,h,g,v,k[r+15],10,4264355552),v=i(v,y,h,g,k[r+6],15,2734768916),g=i(g,v,y,h,k[r+13],21,1309151649),h=i(h,g,v,y,k[r+4],6,4149444226),y=i(y,h,g,v,k[r+11],10,3174756917),v=i(v,y,h,g,k[r+2],15,718787259),g=i(g,v,y,h,k[r+9],21,3951481745),h=l(h,d),g=l(g,m),v=l(v,u),y=l(y,p);return 32==t?(c(h)+c(g)+c(v)+c(y)).toLowerCase():(c(g)+c(v)).toLowerCase()}var ml;function ul(e){let t=0;return t=0===e?null:3==e?1:0,t}async function pl(){var e=0,t=plus.ios.import("PHPhotoLibrary"),l=t.authorizationStatus();return a("log","at static/js/permission.js:38","permission album:",e=ul(l)),null===e&&(await new Promise(((e,t)=>{plus.ios.invoke("PHPhotoLibrary","requestAuthorization:",(t=>{e()}))})),a("log","at static/js/permission.js:45","request permission album:",e=ul(l=t.authorizationStatus()))),plus.ios.deleteObject(t),e}async function hl(){var e=0,t=plus.ios.import("AVCaptureDevice"),l=t.authorizationStatusForMediaType("vide");return a("log","at static/js/permission.js:73","permission camera:",e=ul(l)),null===e&&(await new Promise(((e,t)=>{plus.ios.invoke("AVCaptureDevice","requestAccessForMediaType:completionHandler:","vide",(t=>{e()}))})),a("log","at static/js/permission.js:80","request permission camera:",e=ul(l=t.authorizationStatusForMediaType("vide")))),plus.ios.deleteObject(t),e}async function gl(){let e=0,t=plus.ios.import("CNContactStore"),l=t.authorizationStatusForEntityType(0);return e=ul(l),a("log","at static/js/permission.js:194","permission contact:",e),null===e&&(await new Promise(((e,t)=>{let a=plus.ios.newObject("CNContactStore");plus.ios.invoke(a,"requestAccessForEntityType:completionHandler:",0,(t=>{e()}))})),l=t.authorizationStatusForEntityType(0),e=ul(l),a("log","at static/js/permission.js:201","request permission contact:",e)),plus.ios.deleteObject(t),e}async function vl(){var e=null,t=plus.ios.import("AVAudioSession"),l=t.sharedInstance(),o=l.recordPermission();let n=function(e){let t=null;return t=1970168948===e?null:1735552628===e?1:0,t};return a("log","at static/js/permission.js:260","permission record:",e=n(o)),null===e&&(await new Promise(((e,t)=>{let a=plus.ios.newObject("AVAudioSession");plus.ios.invoke(a,"requestRecordPermission:",(t=>{e()}))})),a("log","at static/js/permission.js:267","request permission record:",e=n(o=l.recordPermission()))),plus.ios.deleteObject(t),e}rl.hex_md5_16=function(e){return dl(e,16)},rl.hex_md5_16Upper=function(e){return dl(e,16).toUpperCase()},rl.hex_md5_32=function(e){return dl(e,32)},rl.hex_md5_32Upper=function(e){return dl(e,32).toUpperCase()};const yl={get isIOS(){return"boolean"==typeof ml?ml:ml="ios"===uni.getSystemInfoSync().platform},requestIOS:function(e){return new Promise(((t,l)=>{switch(e){case"push":t(function(){var e=0,t=plus.ios.import("UIApplication"),l=t.sharedApplication();if(l.currentUserNotificationSettings){var o=l.currentUserNotificationSettings();0==o.plusGetAttribute("types")?(e=0,a("log","at static/js/permission.js:163","推送权限没有开启")):(e=1,a("log","at static/js/permission.js:167","已经开启推送功能!")),plus.ios.deleteObject(o)}else 0==l.enabledRemoteNotificationTypes()?(e=3,a("log","at static/js/permission.js:175","推送权限没有开启!")):(e=4,a("log","at static/js/permission.js:179","已经开启推送功能!"));return plus.ios.deleteObject(l),plus.ios.deleteObject(t),e}());break;case"location":t((o=0,n=plus.ios.import("CLLocationManager"),s=n.locationServicesEnabled(),i=n.authorizationStatus(),o=s?0===i?null:4===i||3===i?1:0:2,plus.ios.deleteObject(n),o));break;case"record":t(vl());break;case"camera":t(hl());break;case"album":t(pl());break;case"contact":t(gl());break;case"calendar":t(function(){var e=null,t=plus.ios.import("EKEventStore");return 3==t.authorizationStatusForEntityType(0)?(e=1,a("log","at static/js/permission.js:296","日历权限已经开启")):a("log","at static/js/permission.js:299","日历权限没有开启"),plus.ios.deleteObject(t),e}());break;case"memo":t(function(){var e=null,t=plus.ios.import("EKEventStore");return 3==t.authorizationStatusForEntityType(1)?(e=1,a("log","at static/js/permission.js:311","备忘录权限已经开启")):a("log","at static/js/permission.js:314","备忘录权限没有开启"),plus.ios.deleteObject(t),e}());break;default:t(0)}var o,n,s,i}))},requestAndroid:function(e){return new Promise(((t,l)=>{plus.android.requestPermissions([e],(function(e){for(var l=0,o=0;o<e.granted.length;o++){a("log","at static/js/permission.js:363","已获取的权限："+e.granted[o]),l=1}for(o=0;o<e.deniedPresent.length;o++){a("log","at static/js/permission.js:368","拒绝本次申请的权限："+e.deniedPresent[o]),l=0}for(o=0;o<e.deniedAlways.length;o++){a("log","at static/js/permission.js:373","永久拒绝申请的权限："+e.deniedAlways[o]),l=-1}t(l)}),(function(e){a("log","at static/js/permission.js:379","result error: "+e.message),t({code:e.code,message:e.message})}))}))},gotoAppSetting:function(){if(yl.isIOS){var e=plus.ios.import("UIApplication").sharedApplication(),t=plus.ios.import("NSURL"),a=t.URLWithString("app-settings:");e.openURL(a),plus.ios.deleteObject(a),plus.ios.deleteObject(t),plus.ios.deleteObject(e)}else{var l=plus.android.importClass("android.content.Intent"),o=plus.android.importClass("android.provider.Settings"),n=plus.android.importClass("android.net.Uri"),s=plus.android.runtimeMainActivity(),i=new l;i.setAction(o.ACTION_APPLICATION_DETAILS_SETTINGS);var c=n.fromParts("package",s.getPackageName(),null);i.setData(c),s.startActivity(i)}}};var kl,Nl,wl,bl,Bl=new class{constructor(){this.id="showModal",this.params={},this.showModal=this.showModal.bind(this),this.success=this.success.bind(this)}init(){uni.$on("showModalSuccess",this.success)}showModal(e){this.params=e;uni.getSubNVueById(this.id).show("fade-in",300,(function(){uni.$emit("showModalShow",e)}))}success(e){let t=this.params.hasOwnProperty("success")?this.params.success:null;"function"==typeof t&&t(e)}},El="develop",fl="";try{kl=t("AppModule"),Nl=t("globalEvent"),wl=t("ScreenFlashModule"),a("log","at App.vue:20","app BleModule",bl=t("BleModule")),kl.hasOwnProperty("appFlavor")?a("log","at App.vue:24","加载appFlavor",El=kl.appFlavor()):a("log","at App.vue:27","加载appFlavor失败，方法不存在")}catch(Cl){}const xl={onLaunch:function(){var e=this;a("log","at App.vue:40","env-----",El),a("log","at App.vue:43","deviceId-----",fl=e.getDeviceId());let t=uni.getDeviceInfo();a("log","at App.vue:46","DeviceInfo-----",JSON.stringify(t));let l=uni.getSystemInfoSync();a("log","at App.vue:49","systemInfo-----",JSON.stringify(l));try{uni.sendNativeEvent("onFirstInit")}catch(Cl){}var o="develop"==El?"test":"",n="develop"==El?"appapi_dev.php":"appapi.php";e.globalData.originApiUrl="https://zuyu"+o+".console.dingkeyun.cn/"+n+"?s=";var s=kl?0:53;e.globalData.env=El,e.globalData.apiFile=n;var i=this.getApiUrl();a("log","at App.vue:70","apiUrl",i);var c=this.getH5Url();a("log","at App.vue:73","h5Url",c),e.globalData.apiUrl=i,e.globalData.h5Url=c,e.globalData.platform=t.platform,e.globalData.osVersion=l.osVersion,e.globalData.deviceId=fl,e.globalData.statusBarHeight=l.statusBarHeight,e.globalData.topTitleHeight=s,e.globalData.appVersion=l.appVersion,e.globalData.appVersionCode=l.appVersionCode,e.globalData.screenHeight=l.screenHeight,e.globalData.screenWidth=l.screenWidth,e.globalData.os=l.osName,e.globalData.deviceBrand=t.deviceBrand,e.globalData.deviceModel=t.deviceModel,e.initAppEventListen(),e.initNetworkTypeChangeListen(),e.initXiPingListen(),e.registerXiPing(),Bl.init(),e.initBluetoothChangeListen(),bl&&e.setCurrentBuleTooth(""),kl?e.pushInitLogin():e.globalData.appError=1,plus.nativeUI.setUIStyle("light")},onShow:function(){""!=this.getReqToken()&&(kl&&(this.checkUpdate(),"ios"==this.globalData.os&&this.updateWav(),this.checkRecordVoice()),1==this.globalData.checkLoginComplete&&this.updateAuth()),this.stopVibrate(),this.setFlash(-1)},onHide:function(){},onExit:function(){a("log","at App.vue:159","on exit"),this.cancelXiPing(),this.cancelXiPingListen()},globalData:{os:"",deviceBrand:"",deviceModel:"",appVersion:"",appVersionCode:"",env:"",apiUrl:"",h5Url:"",originApiUrl:"",apiKey:"49AF9BB31182ECF1",deviceId:"",deviceToken:"",platform:"",statusBarHeight:0,topTitleHeight:"",appError:0,appType:1,updateAppType:15,iosAppType:2,isWifiUse:!1,lastCheckWifiUseTime:0,isConnectWifi:0,checkUpdateComplete:0,isApproveApp:1,nativeViewTimer:null,nativeViewObj:null,checkLoginComplete:1,sysTipsConfig:{Bg:"hide",Box:"hide",iconCss:"",iconFont:"",title:"",tips:"",tips2:"",tips3:"",otherTips:[],tipsAlign:"",showLeftBtn:!0,bindLeftBtnCss:"",leftBtn:"",showRightBtn:!0,rightBtn:"",bindRightBtnCss:"",showRtClose:!1},isWifiCuePlay:0,wifiTipsNumber:0,wifiNoticeBssidArr:[],tabBar:[],tabBarTime:"",vibrate:{timer:null,maxTimes:40,nowTimes:0},shangZhongVibrate:0,shangZhongXiPing:0,xiPingTimer:null,xiPingReceiver:null,lastPingTime:0,pingFailTimes:0,notPingTime:0,bleStatus:!1,bleUuid:{serviceUUID:"0000ff26-0000-1000-8000-00805f9b34fb",sendUUID:"0000ff68-0000-1000-8000-00805f9b34fb",notifyUUID:"0000ff69-0000-1000-8000-00805f9b34fb"},isUploadRecordVoice:0},methods:{checkUpdate(){let e=this,t="uniapp/versioncheck",a={type:e.globalData.updateAppType,versionCode:e.globalData.appVersionCode,hideLoading:1};e.globalData.checkUpdateComplete=0,"ios"==e.globalData.os?e.goPost("appversion/updateios",{type:e.globalData.iosAppType},(function(l){1==l.status?e.updateIosApp((function(){e.goPost(t,a,(function(t){e.globalData.appVersionCode!=t.versionCode?e.doUpdate(t):e.globalData.checkUpdateComplete=1}))})):e.globalData.checkUpdateComplete=1})):e.updateAndroidApp((function(){e.goPost(t,a,(function(t){e.globalData.appVersionCode!=t.versionCode?e.doUpdate(t):e.globalData.checkUpdateComplete=1}))}))},updateAndroidApp(e=null){let t=this,l="";try{l=kl.appVersionCode()}catch(Cl){a("log","at App.vue:338","AppModule.appVersion fail:",Cl)}let o={appVersion:l,type:t.globalData.appType};t.goPost("appversion/updateandroidapp",o,(function(l){1==l.isUpdate?1==l.updateLater?uni.showModal({title:"APP更新提示",content:"当前APP安卓版本有更新，请更新后再使用",confirmText:"立即更新",cancelText:"取消",cancelColor:"#999999",success(e){if(e.confirm)t.downApp(l.versionDownload);else{let e="uniapp/updatelater",l={type:2};t.goPost(e,l,(function(e){a("log","at App.vue:367",e)}))}}}):uni.showModal({title:"APP更新提示",content:"当前APP安卓版本有更新，请更新后再使用",confirmText:"立即更新",showCancel:!1,success(e){t.downApp(l.versionDownload)}}):"function"==typeof e&&e()}))},downApp(e){let t=this;if(""==e)return t.showMsg("APP下载链接失效"),!1;let l=plus.nativeUI.showWaiting("正在下载 - 0%");uni.downloadFile({url:e,success:e=>{if(plus.nativeUI.closeWaiting(),a("log","at App.vue:416","app下载：",e),200===e.statusCode)return t.showMsg("app下载成功，即将安装"),plus.runtime.install(e.tempFilePath),!1;t.showMsg("app下载失败，请稍候重试")},fail:e=>{plus.nativeUI.closeWaiting(),a("log","at App.vue:434","下载失败：",e),t.showMsg("app下载失败，请稍候重试")}}).onProgressUpdate((e=>{a("log","at App.vue:443","下载进度"+e.progress),l.setTitle("正在下载 - "+e.progress+"%")}))},updateIosApp(e=null){let t=this,l="";try{l=kl.appVersion()}catch(Cl){a("log","at App.vue:462","AppModule.appVersion fail:",Cl)}let o={appVersion:l,hideLoading:1};t.goPost("appversion/updateiosapp",o,(function(l){if(1==l.isUpdate){let e=l.appId;1==l.updateLater?uni.showModal({title:"APP更新提示",content:"当前APP版本有更新，请更新后再使用",confirmText:"立即更新",cancelText:"取消",cancelColor:"#999999",success(l){if(l.confirm)plus.runtime.launchApplication({action:`itms-apps://itunes.apple.com/cn/app/id${e}?mt=8`},(function(e){a("log","at App.vue:488","ios app update fail: ",e)}));else{let e="uniapp/updatelater",l={type:3};t.goPost(e,l,(function(e){a("log","at App.vue:496",e)}))}}}):uni.showModal({title:"APP更新提示",content:"当前APP版本有更新，请更新后再使用",showCancel:!1,confirmText:"立即更新",success:t=>{plus.runtime.launchApplication({action:`itms-apps://itunes.apple.com/cn/app/id${e}?mt=8`},(function(e){a("log","at App.vue:519","ios app update fail: ",e)}))}})}else"function"==typeof e&&e()}))},doUpdate(e){let t=this;e.updateLater,uni.showModal({title:"更新提示",content:"当前版本有更新，是否重启应用？",cancelText:"取消",cancelColor:"#999999",success(l){if(l.confirm)kl.updateMP(e.link),t.globalData.wifiNoticeBssidArr=[],plus.runtime.quit();else if(1==e.updateLater){let e="uniapp/updatelater",l={type:1};t.goPost(e,l,(function(e){a("log","at App.vue:569",e)}))}else uni.showModal({title:"温馨提示",content:"本次版本更新涉及到新的功能添加，旧版本无法正常访问",showCancel:!1,confirmText:"确定更新",success:function(a){kl.updateMP(e.link),t.globalData.wifiNoticeBssidArr=[],plus.runtime.quit()}})}})},async goPost(e,t,l,o){let n=this;if(1==n.globalData.appError)return uni.reLaunch({url:"/pages/error/error"}),!1;t.hideLoading||n.showMsg("请稍等","loading");let s=n.getReqData(t);l=l||"",o=o||"";let i=t.hasOwnProperty("isGoLan")?t.isGoLan:0,c=await n.getReqApiUrl(i)+e;uni.request({method:"POST",url:c,data:s,header:{"content-type":"application/x-www-form-urlencoded"},success:e=>{if(t.hideLoading||uni.hideToast(),!e.data.code)return void n.showMsg("出错了，请稍后重试");let a=e.data.code,s=e.data.msg,i=e.data.param;i||(i=e.data.data),200!=e.statusCode?n.showMsg("网络异常，请重试"):101==a?(""!=s&&n.showMsg(s),""!==o&&"function"==typeof o&&o(i,a)):102==a?n.goToLogin():100==a?(""!=s&&n.showMsg(s,"success"),""!==l&&"function"==typeof l&&l(i,a)):110==a?""!==o&&"function"==typeof o&&o(i,a,s):(""!=s&&n.showMsg(s),""!==o&&"function"==typeof o&&o(i,a))},fail:e=>{if(n.globalData.lastPingTime=0,"timeout"===e&&a("log","at App.vue:718","请求超时~"),a("log","at App.vue:721","request fail",e),"object"==typeof e&&e.hasOwnProperty("errMsg")&&e.errMsg.indexOf("Unable to resolve host")>-1)return n.showMsg("当前网络异常，请检查手机网络是否可用："+e.errMsg),!1;n.showMsg("执行请求失败："+JSON.stringify(e))}})},saomaCode(e=null){let t=this;if(kl)try{t.getDeviceAuth({permissionID:"CAMERA",sucBack:function(){kl.scanQR((function(l){if(a("log","at App.vue:751","AppModule.scanQR:",l),!l)return setTimeout((function(){t.showMsg("扫码识别失败")}),300),!1;"function"==typeof e&&e(l)}),(function(e){a("log","at App.vue:765","AppModule.scanQR识别失败:",e)}))},failBack:function(){uni.showModal({title:"温馨提示",content:"当前功能需要相机/相册权限，请开启后再操作",cancelText:"我知道了",confirmText:"去设置",success(e){e.confirm&&t.goToApp("appSetting")}})}})}catch(Cl){a("log","at App.vue:788","AppModule.scanQR失败:",Cl),t.showMsg("扫码模块出错")}else uni.scanCode({scanType:["qrCode","barCode"],success:function(t){"function"==typeof e&&e(t.result)}})},saveLoginToken:function(e){if(e){var t={token:e,exptime:this.getTimestamp()+2592e3};uni.setStorageSync("token",t)}else a("log","at App.vue:811","token empty")},getReqToken:function(){var e=uni.getStorageSync("token");if(""==e)return"";var t=e.token;if(e.exptime<this.getTimestamp()){uni.setStorageSync("token","");t=""}return t},saveApiUrl(e){uni.setStorageSync("apiUrl",e)},getApiUrl(){let e=uni.getStorageSync("apiUrl");return""!=e&&null!=e&&void 0!==e||(e=this.globalData.originApiUrl),e},getReqApiUrl(e=0){let t=this;return new Promise((a=>{let l=uni.getStorageSync("apiUrl");""!=l&&null!=l&&void 0!==l||(l=t.globalData.originApiUrl);let o=t.getLanConfig();if((o.lanTrue||1==e)&&""!=o.lanHost)return t.ping({ip:o.lanHost,timeout:500,success:e=>{if(1==e){let e=t.getLanApiUrl(o.lanHost,o.appPortNei,o.xcxPortNei);l=e.apiUrl}a(l)}}),!1;a(l)}))},saveH5Url(e){uni.setStorageSync("h5Url",e)},getH5Url(){let e=this.getLanConfig();if(e.lanTrue){return this.getLanApiUrl(e.lanHost,e.appPortNei,e.xcxPortNei).h5Url}let t=uni.getStorageSync("h5Url");return""!=t&&null!=t&&void 0!==t||(t=""),t},getDeviceId(){let e=uni.getStorageSync("deviceId");if(""!=e&&null!=e&&void 0!==e||(e=""),""!=e)return e;if(kl&&kl.hasOwnProperty("pushDeviceId")&&(a("log","at App.vue:964","AppModule.pushDeviceId",kl.pushDeviceId()),e=kl.pushDeviceId()),""==e){e=uni.getDeviceInfo().deviceId.substr(0,16)}return uni.setStorageSync("deviceId",e),e},rand:(e,t)=>(e=Math.ceil(e),t=Math.floor(t),Math.floor(Math.random()*(t-e+1))+e),getMqttTopic(){let e=uni.getStorageSync("mqttTopic");return""!=e&&null!=e&&void 0!==e||(e=""),e},saveMqttTopic(e){if(""==e||!e)return!1;uni.setStorageSync("mqttTopic",e)},getDeviceToken(){if("ios"!=this.globalData.os)return"";let e=uni.getStorageSync("deviceToken");if(""!=e&&null!=e&&void 0!==e||(e=""),""==e&&kl)try{e=kl.pushBindAlias(""),a("log","at App.vue:1024","IOS deviceToken",e)}catch(Cl){a("log","at App.vue:1027","IOS deviceToken失败",Cl)}return this.globalData.deviceToken=e,uni.setStorageSync("deviceToken",e),e},getReqData:function(e){let t=this;delete e.hideLoading;var a=t.getReqToken(),l=t.globalData.deviceId;e.accessToken=a,e.timeStamp=t.getTimestamp(),e.noncestr=t.getUuid(),e.deviceId=l,e.deviceSource=t.globalData.platform,e.deviceBrand=t.globalData.deviceBrand,e.deviceModel=t.globalData.deviceModel,e.appType=t.globalData.appType,"ios"==t.globalData.os&&(e.deviceToken=t.getDeviceToken()),e=t.kSort(e);let o={},n="";for(let i in e){let a=e[i];"string"==typeof a&&(a=a.replace(/[\u{1F600}-\u{1F64F}]/gu,"[emoji]")),o[i]=t.encrypt(a),"file"!=i&&(n+=i+"="+a+"&")}n=n.substring(0,n.length-1),n=t.URLEncode(n),n+=t.globalData.apiKey,n=t.md5(n);let s=n.toUpperCase();return o.accessSign=s,o},showMsg:function(e,t,a){var l="loading"==t||"success"==t;a||(a="loading"==t?3e4:1800),uni.showToast({title:e,icon:t||"none",mask:l,duration:a})},AppModule:function(){a("log","at App.vue:1121","AppModule----",kl)},goToLogin(e="logout"){let t=this;if(1==t.globalData.isLogging)return!1;setTimeout((function(){t.globalData.isLogging=0}),3e3),t.globalData.isLogging=1;t.goPost("login/loginout",{opType:e},(function(e){let l=t.getMqttTopic();if(uni.setStorageSync("token",""),uni.setStorageSync("apiUrl",""),uni.setStorageSync("h5Url",""),uni.setStorageSync("mqttTopic",""),uni.setStorageSync("deviceToken",""),kl)try{a("log","at App.vue:1156","AppModule.pushUnBindAlias",kl.pushUnBindAlias(l))}catch(Cl){a("log","at App.vue:1159","退出登录，回调app失败",Cl)}t.globalData.apiUrl=t.globalData.originApiUrl,t.globalData.checkLoginComplete=0,uni.reLaunch({url:"/pages/login/login"})}))},md5:function(e){return rl.hex_md5_32(e)},encrypt:function(e){return ll.encrypt(e)},decrypt:function(e){return ll.decrypt(e)},arrayDecrypt(e){for(let t in e)"object"==typeof e[t]?e[t]=this.arrayDecrypt(e[t]):e[t]=ll.decrypt(e[t]);return e},getDatetime:function(e){var t=new Date,a=t.getFullYear(),l=t.getMonth()+1,o=t.getDate(),n=t.getHours(),s=t.getMinutes(),i=t.getSeconds();l<10&&(l="0"+l),o<10&&(o="0"+o),n<10&&(n="0"+n),s<10&&(s="0"+s),i<10&&(i="0"+i);let c=" "+n+":"+s+":"+i;return e&&(c=""),a+"-"+l+"-"+o+c},getTimestamp(e){e=e||"";let t=Date.parse(new Date);return""!=e&&(t=Date.parse(new Date(e))),t/1e3},jsDate(e,t){if(t=t||getTimestamp(),/^\d{10}$/.test(t))t*=1e3;else{if(!/^\d{13}$/.test(t))return"";t=parseInt(t)}let a=new Date(t),l=a.getFullYear(),o=a.getMonth()+1>9&&a.getMonth()+1||"0"+(a.getMonth()+1),n=a.getDate()>9&&a.getDate()||"0"+a.getDate(),s=a.getHours()>9&&a.getHours()||"0"+a.getHours(),i=a.getMinutes()>9&&a.getMinutes()||"0"+a.getMinutes(),c=a.getSeconds()>9&&a.getSeconds()||"0"+a.getSeconds(),r=e.replace(/Y/g,l);return r=r.replace(/m/g,o),r=r.replace(/d/g,n),r=r.replace(/H/g,s),r=r.replace(/i/g,i),r=r.replace(/s/g,c),r},kSort:function(e){try{let t={},a=Object.keys(e).sort();return a.map(((l,o)=>{t[l]=e[a[o]]})),t}catch(t){return e}},getUuid:function(){for(var e=[],t="defabc0123456789",a=0;a<36;a++)e[a]=t.substr(Math.floor(16*Math.random()),1);return e[14]="4",e[19]=t.substr(3&e[19]|8,1),e[8]=e[13]=e[18]=e[23],e.join("")},URLEncode:function(e){var t="",a=0;e=function(e){var t,a,l,o;for(t="",l=e.length,a=0;a<l;a++)(o=e.charCodeAt(a))>=1&&o<=127?t+=e.charAt(a):o>2047?(t+=String.fromCharCode(224|o>>12&15),t+=String.fromCharCode(128|o>>6&63),t+=String.fromCharCode(128|o>>0&63)):(t+=String.fromCharCode(192|o>>6&31),t+=String.fromCharCode(128|o>>0&63));return t}(e.toString());for(var l=/(^[a-zA-Z0-9-_.]*)/;a<e.length;){var o=l.exec(e.substr(a));if(null!=o&&o.length>1&&""!=o[1])t+=o[1],a+=o[1].length;else{if(" "==e[a])t+="+";else{var n=e.charCodeAt(a).toString(16);t+="%"+(n.length<2?"0":"")+n.toUpperCase()}a++}}return t},getPageUrl:function(e){return M.getPageUrl()},checkPhone:function(e){return!!/^1[0-9]{10}$/.test(e)},arrayColumn:function(e,t){return"object"!=typeof e?e:e.map((e=>e[t]))},getInitSysTipsConfig(){return this.copyObject(this.globalData.sysTipsConfig)},copyObject:function(e){return JSON.parse(JSON.stringify(e))},copyText:function(e,t){t=t||"内容已复制",a("log","at App.vue:1427","复制",e),uni.setClipboardData({data:e,success:function(e){uni.getClipboardData({success:function(e){uni.showToast({title:t,icon:"success",duration:1e3,mask:!0})}})}})},copyTextHidden:function(e){uni.setClipboardData({data:e,success:function(t){uni.getClipboardData({success:function(t){a("log","at App.vue:1455","复制成功",e)}})}})},round:function(e,t){return Number(parseFloat(e).toFixed(t))},async uploadFile(e,t,l,o){let n=this;t.type||n.showMsg("文件类型错误"),e&&""!=e||n.showMsg("请选择上传文件"),l=l||"";let s=!t.hasOwnProperty("hideLoading");s&&n.showMsg("上传中","loading");let i=n.getReqData(t);l=l||"",a("log","at App.vue:1491","filePath",e);let c=await n.getReqApiUrl()+"upload/upload";kl||(c="/upload");let r=[{uri:e}];uni.uploadFile({type:"POST",url:c,files:r,name:"file",formData:i,header:{"Content-Transfer-Encoding":"binary"},success(e){uni.hideToast();var t=JSON.parse(e.data);if(!t.code)return void n.showMsg("出错了，请稍后重试");let a=t.code,o=t.msg,i=t.param,c=t.token;n.saveLoginToken(c),200!=e.statusCode?n.showMsg("网络异常，请重试"):101==a?n.showMsg(o):102==a?n.goToLogin():(""!=o&&s&&n.showMsg(o,"success"),""!==l&&"function"==typeof l&&l(i))},fail:function(e){uni.hideLoading(),a("log","at App.vue:1563","上传失败，请重试，"+e),n.showMsg("上传失败，请重试，"+e)}}).onProgressUpdate((function(e){""!==o&&"function"==typeof o&&o(e),e.progress>=100&&uni.hideToast()}))},async uploadImgMultiple(e,t,l,o,n=null){let s=this;if(l>o)return uni.hideLoading(),!1;uni.showLoading({title:"正在上传（"+l+"/"+o+"）"});let i=e[l-1];l++;let c=s.getReqData({type:1});a("log","at App.vue:1610","filePath",i);let r=await s.getReqApiUrl()+"upload/upload&type=1";kl||(r="/upload"),uni.uploadFile({url:r,filePath:i,name:"file",formData:c,header:{"Content-Transfer-Encoding":"binary"},success(a){let i=JSON.parse(a.data);if(!i.code)return s.showMsg("出错了，请稍后重试"),!1;let c=i.code;i.msg;let r=i.param,d=i.token;s.saveLoginToken(d),200!=a.statusCode?s.showMsg("网络异常，请重试"):100==c&&(""!==n&&"function"==typeof n&&n(r),t++),s.uploadImgMultiple(e,t,l,o,n)},fail:function(e){uni.hideLoading(),a("log","at App.vue:1662","上传失败，请重试，"+e),s.showMsg("上传失败，请重试，"+e)}})},async updateAuth(e=null){let t=this,l=await t.getReqApiUrl();t.goPost("index/getuserauthids",{hideLoading:1},(function(o){if(uni.setStorageSync("sysAuthArr",o.authIds),t.globalData.isWifiUse=o.isWifiUse,t.globalData.tabBar=o.tabBar,t.globalData.shangZhongVibrate=o.shangZhongVibrate,t.globalData.shangZhongXiPing=o.shangZhongXiPing,o.tabBar.forEach((function(e,t){uni.setTabBarItem(e)})),"function"==typeof e&&e(),t.globalData.isWifiUse&&t.checkWifiUse(),o.hasOwnProperty("lanConfig")){let e=o.lanConfig;if(a("log","at App.vue:1705","newLanConfig",e),e.hasOwnProperty("lanHost")&&""!=e.lanHost){let a=t.getLanConfig();t.saveLanConfig(e.lanHost,e.appPortNei,e.xcxPortNei,a.lanTrue)}}if(kl&&"ios"==t.globalData.os&&o.hasOwnProperty("order")){let e=o.order;a("log","at App.vue:1722","当前技师正在上钟，开始录音",o.order);try{kl.recordStart({duration:e.duration,timeUrl:l+"apprecord/isstop",uploadUrl:l+"apprecord/upload",bid:e.bid,sid:e.sid,orderid:e.orderid,time:e.time},(function(e){a("log","at App.vue:1734","AppModule.recordStart",e)}))}catch(n){a("log","at App.vue:1738","AppModule.recordStart error",n)}}}))},goToH5(e){let t="/pages/web/web_uni";"android"==this.globalData.os&&(t="/pages/web/web"),uni.navigateTo({url:t,success(t){t.eventChannel.emit("postPageData",e)}})},initAppEventListen(){let e=this;kl&&uni.onNativeEventReceive((function(t,l){a("log","at App.vue:1781","onNativeEventReceive",t,l),"onReceiveMessageData"==t?(e.onReceiveMessageData(l),e.upTabBarIcon(l)):"onReceiveClientId"==t?e.onReceiveClientId(l):"onReceiveOnlineState"==t?e.onReceiveOnlineState(l):"onRecordComplete"==t&&e.onRecordComplete(l)}))},upTabBarIcon(e){let t=this,a=t.copyObject(t.globalData.tabBar),l=!1;e=JSON.parse(e),[3].includes(e.type)&&(l=!0),a.forEach((function(e,a){if("服务"==e.text)if(l){let e="index/cheStaffOrder",l={hideLoading:1};t.goPost(e,l,(function(e){let l=JSON.stringify({index:a,bool:!0});uni.setStorageSync("serverbadge",l),t.changeTabbadge()}),(function(e){let l=JSON.stringify({index:a,bool:!1});uni.setStorageSync("serverbadge",l),t.changeTabbadge()}))}else{let e=JSON.stringify({index:a,bool:!1});uni.setStorageSync("serverbadge",e),t.changeTabbadge()}else uni.hideTabBarRedDot({index:a})}))},changeTabbadge(){let e=uni.getStorageSync("serverbadge");if(e){e=JSON.parse(e);let t=e.index;e.bool?uni.setTabBarBadge({index:t,text:"新"}):uni.hideTabBarRedDot({index:t})}},onReceiveMessageData(e){let t=this;try{let a=(e=JSON.parse(e)).hasOwnProperty("type")?e.type:null,l=e.hasOwnProperty("orderid")?e.orderid:null,o=e.hasOwnProperty("nextOrderId")?e.nextOrderId:null,n=e.hasOwnProperty("isTest")?e.isTest:null;if(3==a&&1!=n&&(""!=l&&this.saveShangZhongTuiSong(e.orderid),1==t.globalData.shangZhongVibrate&&t.vibrateLong()),7==a&&t.vibrateOnce(4e3),(4==a||6==a||7==a||18==a)&&"android"==t.globalData.os&&1==t.globalData.shangZhongXiPing){let e=0;6==a?e=2:7==a&&(e=1),t.setFlash(e)}e.hasOwnProperty("content")&&""!=e.content&&28!=a&&uni.showModal({content:e.content,showCancel:!1,confirmText:"好的",success(e){5!=a||o||t.notShangZhongTuiSongTips(),t.stopVibrate(),t.setFlash(-1)}}),uni.$emit("onPush",e)}catch(Cl){a("log","at App.vue:1976","推送弹窗失败",Cl)}},vibrateLong(e=null){let t=this;t.globalData.vibrate.timer=setInterval((function(){uni.vibrateLong({success:()=>{"function"==typeof e&&e()}}),t.globalData.vibrate.nowTimes++,t.globalData.vibrate.nowTimes>=t.globalData.vibrate.maxTimes&&t.stopVibrate()}),500)},vibrateOnce(e=500){plus.device.vibrate(e)},stopVibrate(){clearInterval(this.globalData.vibrate.timer),this.globalData.vibrate.timer=null,this.globalData.vibrate.nowTimes=0},onReceiveClientId(){let e=this.getMqttTopic();if(null==e||!e||""==e)return!1;let t=kl.pushBindAlias(e);return a("log","at App.vue:2031","AppModule.pushBindAlias",t),t},onReceiveOnlineState(e){a("log","at App.vue:2040","onReceiveOnlineState",e),e||this.pushInitLogin},pushInitLogin(){try{kl.pushInit()}catch(Cl){a("log","at App.vue:2058","执行推送登录初始化失败",Cl)}},onRecordComplete(e){uni.$emit("onRecordComplete",e)},wifiWeakSignal(e){let l,o=this;Nl&&Nl.addEventListener("onNetworkChanged",(function(e){let n=e.wifiRSSI,s=e.isWiFi,i=e.bssid?e.bssid:0,c=o.globalData.wifiNoticeBssidArr,r="当前Wifi网络差，请更换wifi或使用数据网络";a("log","at App.vue:2092","onNetworkChanged:",e),a("log","at App.vue:2093","wifiRssi:"+n);let d=o.getLanConfig();if(o.globalData.wifiTipsNumber>0||1!=o.globalData.isWifiCuePlay||!s||n>-80||d.lanTrue)return!1;o.goPost("index/newIsWorkTime",{hideLoading:1},(function(e){if(o.globalData.wifiTipsNumber=10,uni.showModal({content:r,showCancel:!0,cancelText:"关闭",confirmText:"选择Wifi",success(e){let n;if(l=setInterval((function(){o.globalData.wifiTipsNumber-=1,o.globalData.wifiTipsNumber<=0&&clearInterval(l)}),1e3),e.confirm)try{n=t("WiFiModule"),n.closeWiFi()}catch(Cl){a("log","at App.vue:2137","WiFiModulevError:"+Cl)}}}),-1===c.indexOf(i)){c.push(i),o.globalData.wifiNoticeBssidArr=c;let e=JSON.stringify({text:r,percent:-1,flush:!1});kl.ttsSpeak(e)}plus.device.vibrate(250)}))}))},getDeviceAuth(e){e.hasOwnProperty("permissionID")&&e.permissionID;let t=e.hasOwnProperty("sucBack")?e.sucBack:null;if(!kl)return"function"==typeof t&&t(),!1;"android"==this.globalData.os?this.getDeviceAuthForAndroid(e):this.getDeviceAuthForIos(e)},getDeviceAuthForAndroid(e){let t=this,l=e.hasOwnProperty("permissionID")?e.permissionID:"",o=l;l=t.parsePermissionID(l);let n=e.hasOwnProperty("sucBack")?e.sucBack:null,s=e.hasOwnProperty("failBack")?e.failBack:null,i=e.hasOwnProperty("redoBack")?e.redoBack:null;1==t.globalData.isApproveApp&&(t.globalData.nativeViewTimer=setTimeout((function(){t.showTopAuthTips(o)}),300)),plus.android.requestPermissions(l,(function(e){a("log","at App.vue:2234",l,e),1==t.globalData.isApproveApp&&(clearTimeout(t.globalData.nativeViewTimer),t.closeTopAuthTips()),e.deniedAlways.length>0?"function"==typeof s&&s():e.deniedPresent.length>0?"function"==typeof i&&i():e.granted.length>0&&"function"==typeof n&&n()}),(function(e){a("log","at App.vue:2266","Request Permissions error:"+JSON.stringify(e)),t.showMsg("授权失败~")}))},async getDeviceAuthForIos(e){let t=e.hasOwnProperty("permissionID")?e.permissionID:"",l=e.hasOwnProperty("sucBack")?e.sucBack:null,o=e.hasOwnProperty("failBack")?e.failBack:null,n=e.hasOwnProperty("switchBack")?e.switchBack:null,s=e.hasOwnProperty("requestBack")?e.requestBack:null;if("CALL"==t)return l(),!1;t=this.parsePermissionID(t);let i=await yl.requestIOS(t);a("log","at App.vue:2300",t,i),1===i?"function"==typeof l&&l():null===i?"function"==typeof s&&s():0===i?"function"==typeof o&&o():"function"==typeof n?n():"function"==typeof o&&o()},parsePermissionID(e){if("android"==this.globalData.os)switch(e){case"CAMERA":e=["android.permission.CAMERA"];break;case"LOCATION":e=["android.permission.ACCESS_COARSE_LOCATION","android.permission.ACCESS_FINE_LOCATION"];break;case"RECORD":e=["android.permission.RECORD_AUDIO"];break;case"CONTACTS":e=["android.permission.READ_CONTACTS","android.permission.WRITE_CONTACTS"];break;case"STORAGE":e=["android.permission.READ_EXTERNAL_STORAGE","android.permission.WRITE_EXTERNAL_STORAGE"];break;case"ALERT":e=["android.permission.SYSTEM_ALERT_WINDOW"];break;case"CALL":e=["android.permission.CALL_PHONE"];break;case"BLUETOOTH":e=["android.permission.BLUETOOTH_SCAN","android.permission.BLUETOOTH_CONNECT"];break;default:e=[e]}else switch(e){case"CAMERA":e="camera";break;case"LOCATION":e="location";break;case"RECORD":e="record";break;case"CONTACTS":e="contact";break;case"STORAGE":e="album"}return e},showTopAuthTips(e){let t=this.getAuthTipsText(e),a=this.globalData.statusBarHeight+30;this.globalData.nativeViewObj=new plus.nativeObj.View("authTips",{top:a+"px",left:"5%",width:"90%",height:"130px"}),this.globalData.nativeViewObj.drawRect({color:"#FFFFFF",radius:"20px",borderWidth:"1px",borderColor:"#000000"},{top:"0px",left:"0px",width:"100%",height:"100%"}),this.globalData.nativeViewObj.drawText(t.tips1,{top:"28px",left:"50px",height:"30px"},{size:"20px",align:"left",color:"#000000"}),this.globalData.nativeViewObj.drawText(t.tips2,{top:"68px",left:"50px",height:"30px"},{size:"20px",align:"left",color:"#000000"}),this.globalData.nativeViewObj.show()},closeTopAuthTips(){null!==this.globalData.nativeViewObj&&(this.globalData.nativeViewObj.close(),this.globalData.nativeViewObj=null)},getAuthTipsText(e){let t="设备权限使用说明：",a="用于图片上传、使用WIFI打卡等场景";switch(e){case"CAMERA":t="相机/相册权限使用说明：",a="用于图片上传功能";break;case"LOCATION":t="定位权限使用说明：",a="用于使用WIFI打卡功能";break;case"RECORD":t="录音权限使用说明：",a="用于发送语音消息";break;case"CONTACTS":t="通讯录权限使用说明：",a="用于保存联系人到通讯录";break;case"STORAGE":t="存储权限使用说明：",a="用于保存图片到本地";break;case"ALERT":t="悬浮窗权限使用说明：",a="用于息屏显示时钟";break;case"CALL":t="电话呼叫权限使用说明：",a="用于拨打电话";break;case"BLUETOOTH":t="蓝牙权限使用说明：",a="用于连接外设"}return{tips1:t,tips2:a}},goToApp(e){"ios"==this.globalData.os?this.goToAppByIos(e):this.goToAppByAndroid(e)},goToAppByAndroid(e){switch(e){case"appSetting":kl.jumpAppSetting();break;case"systemSetting":kl.jumpSystemSetting();break;case"locationSetting":kl.jumpLocationSetting();break;case"wifiSetting":t("WiFiModule").jumpWifiSetting();break;case"notificationSetting":t("NotificationModule").jumpNotificationSetting();break;case"keepAliveSetting":kl.jumpKeepAliveSetting()}},goToAppByIos(e){uni.openAppAuthorizeSetting()},saveLanConfig(e,t,a,l){let o={lanHost:e,appPortNei:t,xcxPortNei:a,lanTrue:l};uni.setStorageSync("lanConfig",o)},getLanConfig(){let e=uni.getStorageSync("lanConfig");return"object"!=typeof e&&(e={lanHost:"",appPortNei:"",xcxPortNei:"",lanTrue:!1}),e},getLanApiUrl(e,t,a){return{apiUrl:"http://"+e+":"+t+"/"+this.globalData.apiFile+"?s=",h5Url:"http://"+e+":"+a+"/"}},resetApiUrl(){this.globalData.apiUrl=this.getApiUrl(),this.globalData.h5Url=this.getH5Url(),a("log","at App.vue:2613","reset apiUrl",this.globalData.apiUrl),a("log","at App.vue:2614","reset h5Url",this.globalData.h5Url)},updateWav(){let e=this;try{let t=kl.getPushWavVersion();a("log","at App.vue:2628","wav now version:",t);let l="wav/sendtypewav";e.goPost(l,{type:"14",hideLoading:1},(function(e){if(e.version!=t){let t={url:e.link,ver:e.version};kl.downPushWavZip(JSON.stringify(t))}}))}catch(Cl){a("log","at App.vue:2649","更新wav失败",Cl)}},readNotice(e){let t={applyNum:e,hideLoading:1};this.goPost("oanotify/read",t,(function(e){}))},showActionSheetParams(e){return e.hasOwnProperty("title")||kl&&"ios"==this.globalData.os&&(e.title=!1),e},changeNumMoneyToChinese(e){let t,a,l,o=["零","壹","贰","叁","肆","伍","陆","柒","捌","玖"],n=["","拾","佰","仟"],s=["","万","亿","兆"],i=["角","分","毫","厘"],c="",r="";if(""==e)return"";if((e=parseFloat(e))>=1e15)return"";if(0==e)return c=o[0]+"元整",c;if(e<0&&(e=-e,r="负 "),-1==(e=e.toString()).indexOf(".")?(t=e,a=""):(l=e.split("."),t=l[0],a=l[1].substr(0,4)),parseInt(t,10)>0){let e=0,a=t.length;for(let l=0;l<a;l++){let i=t.substr(l,1),r=a-l-1,d=r/4,m=r%4;"0"==i?e++:(e>0&&(c+=o[0]),e=0,c+=o[parseInt(i)]+n[m]),0==m&&e<4&&(c+=s[d])}c+="元"}if(""!=a){let e=a.length;for(let t=0;t<e;t++){let e=a.substr(t,1);"0"!=e&&(c+=o[Number(e)]+i[t])}}return""==c?c+=o[0]+"元整":""==a&&(c+="整"),c=r+c,c},uploadCos(e,t){let l=this;e.filePath&&""!=e.filePath||l.showMsg("请选择文件"),e.ext&&""!=e.ext||l.showMsg("文件后缀不能为空");let o={ext:e.ext,pathType:e.pathType?e.pathType:2};a("log","at App.vue:2809","uploadCos:",JSON.stringify(o)),l.goPost("upload/getCosData",o,(function(a){var o={key:a.cosKey,policy:a.policy,success_action_status:200,"q-sign-algorithm":a.qSignAlgorithm,"q-ak":a.qAk,"q-key-time":a.qKeyTime,"q-signature":a.qSignature},n=a.cosHost;kl||(n="/cosUpload"),l.showMsg("上传中","loading"),uni.uploadFile({url:n,filePath:e.filePath,name:"file",formData:o,header:{"Content-Transfer-Encoding":"binary"},success(e){uni.hideToast(),l.showMsg("上传成功","success"),t({key:a.cosKey,url:a.fileUrl})},error(e){l.showMsg("上传失败，请重试")}})}))},async checkWifiUse(){a("log","at App.vue:2871","check wifi use start");let e=this,t=e.getTimestamp();if(!kl)return a("log","at App.vue:2877","check wifi use fail: AppModule not found"),!1;if(!e.globalData.isWifiUse)return a("log","at App.vue:2882","check wifi use fail: isWifiUse is false"),!1;if(1==e.globalData.isConnectWifi)return a("log","at App.vue:2887","check wifi use fail: is connect wifi"),!1;if(1!=e.globalData.checkUpdateComplete)return a("log","at App.vue:2894","check wifi use fail: wait update"),setTimeout((function(){e.checkWifiUse()}),2e3),!1;if(0!=e.globalData.lastCheckWifiUseTime)return a("log","at App.vue:2908","check wifi use fail: is checking",e.globalData.lastCheckWifiUseTime),!1;e.globalData.lastCheckWifiUseTime=t;let l=await e.checkNetworkType();if(a("log","at App.vue:2918","checkNetworkType:",l),!l)return e.checkWifiUseTips("需要连接打卡WIFI，才能使用当前App",(function(){e.goToApp("wifiSetting")})),!1;if(l=await e.checkLocationAuth(),a("log","at App.vue:2930","checkLocationAuth:",l),0==l)return e.checkWifiUseTips("使用当前App，需要定位权限",(function(){e.goToApp("appSetting")})),!1;if(2==l)return e.checkWifiUseTips("使用当前App，需要开启定位",(function(){e.goToApp("appSetting")})),!1;if(3==l){if(1!=await e.requestLocationAuth())return e.checkWifiUseTips("使用当前App，需要定位权限",(function(){e.goToApp("appSetting")})),!1}else if(4==l)return e.checkWifiUse(),!1;if(l=await e.checkLocationSwitch(),a("log","at App.vue:2967","checkLocationSwitch:",l),0==l)return e.checkWifiUseTips("使用当前App，需要开启定位",(function(){e.goToApp("appSetting")})),!1;let o=await e.getConnectedWifi(),n={ssid:o.ssid,bssid:o.bssid,hideLoading:1};return e.goPost("index/checkwifiuse",n,(function(t){a("log","at App.vue:2989","check wifi use result:",n,t),1!=t.status?e.checkWifiUseTips("当前APP需要连接商家配置的WIFI才能使用，请正确连接后再操作",(function(){e.goToApp("wifiSetting")})):setTimeout((function(){e.globalData.lastCheckWifiUseTime=0}),3e3)})),o},checkNetworkType:()=>new Promise((e=>{uni.getNetworkType({success:function(t){a("log","at App.vue:3020","uni.getNetworkType:",t);let l="wifi"==t.networkType?1:0;e(l)}})})),checkLocationAuth(){let e=this;return new Promise((t=>{let a=function(){t(1)},l=function(){t(0)},o=function(){t(4)},n=function(){t(2)},s=function(){t(3)};"android"==e.globalData.os?e.getDeviceAuth({permissionID:"LOCATION",sucBack:a,failBack:l,redoBack:o}):e.getDeviceAuth({permissionID:"LOCATION",sucBack:a,failBack:l,switchBack:n,requestBack:s})}))},checkWifiUseTips(e,t=null){let a=M.getPageUrl(!0);return uni.reLaunch({url:"/pages/connect/connect?p="+encodeURIComponent(a)}),!1},checkLocationSwitch(){let e=this;return new Promise((t=>{if("ios"==e.globalData.os)return t(1),!1;a("log","at App.vue:3113","locationEnabled",kl.locationEnabled()),kl.locationEnabled()||t(0),t(1)}))},requestLocationAuth:()=>new Promise((e=>{try{kl.requestLocationAuth((t=>{a("log","at App.vue:3133","IOS requestLocationAuth",t),e(3==t||4==t?1:0)}))}catch(Cl){a("log","at App.vue:3148","ios 请求定位权限失败",Cl),e(0)}})),getConnectedWifi:()=>new Promise((e=>{let l={ssid:"",bssid:""};try{t("WiFiModule").getConnectedWifi((function(t){a("log","at App.vue:3176","getConnectedWifi:",t),l.ssid=t.currentWiFi.ssid,l.bssid=t.currentWiFi.bssid,e(l)}),(function(t){a("log","at App.vue:3185","getConnectedWifi fail:",t),e(l)}))}catch(Cl){a("log","at App.vue:3193","getConnectedWifi error:",Cl),e(l)}})),initNetworkTypeChangeListen(){let e=this;uni.onNetworkStatusChange((function(t){a("log","at App.vue:3209","uni.onNetworkStatusChange:",t),e.checkWifiUse(),e.globalData.lastPingTime=0,e.checkRecordVoice()}))},async checkCameraAuth(){return await this.checkDeviceAuth("CAMERA")},async checkRecordAuth(){return await this.checkDeviceAuth("RECORD")},checkDeviceAuth(e){let t=this;return new Promise((a=>{t.getDeviceAuth({permissionID:e,sucBack:function(){a(1)},failBack:function(){a(0)},redoBack:function(){a(4)}})}))},saveShangZhongTuiSong(e){let t=this.getShangZhongTuiSong();t.list.indexOf(e)<0&&(t.list.push(e),t.time=this.getTimestamp()),uni.setStorageSync("shangZhongTuiSong",t),a("log","at App.vue:3281","saveShangZhongTuiSong：",t)},getShangZhongTuiSong(){let e=uni.getStorageSync("shangZhongTuiSong");return e&&""!=e&&null!=e||(e={list:[],time:this.getTimestamp()}),this.getTimestamp()-e.time>18e3&&(uni.setStorageSync("shangZhongTuiSong",""),e.list=[],e.time=this.getTimestamp()),e},checkShangZhongTuiSong(e){let t=this.getShangZhongTuiSong(),l=this.getNotShangZhongTuiSong();t.list.indexOf(e)<0?l+=1:l=0,uni.setStorageSync("notShangZhongTuiSongNums",l),a("log","at App.vue:3325","checkShangZhongTuiSong：",e,t,l)},getNotShangZhongTuiSong(){let e=uni.getStorageSync("notShangZhongTuiSongNums");return e&&""!=e&&null!=e||(e=0),e},notShangZhongTuiSongTips(){let e=this,t=e.getNotShangZhongTuiSong();a("log","at App.vue:3345","getNotShangZhongTuiSong：",t),t>=2&&uni.showModal({content:"检测到近两次上钟没语音提醒，建议前往设置",cancelText:"我知道了",confirmText:"立即前往",success:t=>{t.confirm&&("ios"==e.globalData.os?e.goToApp("notificationSetting"):uni.navigateTo({url:"/pages/appset/appset"}))}})},initXiPingListen(){let e=this;if("ios"==e.globalData.os)return!1;Nl&&Nl.addEventListener("onScreenFlash",(function(t){a("log","at App.vue:3387","onScreenFlash",t),"onCreate"==t.state&&(e.updateXiPing(),clearInterval(e.globalData.xiPingTimer),e.globalData.xiPingTimer=setInterval((function(){e.updateXiPing()}),3e4))}));let t=plus.android.runtimeMainActivity();e.globalData.xiPingReceiver=plus.android.implements("io.dcloud.feature.internal.reflect.BroadcastReceiver",{onReceive:function(t,l){var o=plus.android.importClass("android.content.Intent");l.getAction()==o.ACTION_SCREEN_ON?a("log","at App.vue:3418","开屏"):l.getAction()==o.ACTION_SCREEN_OFF?(a("log","at App.vue:3422","锁屏"),1==e.globalData.shangZhongXiPing&&e.startXiPing()):l.getAction()==o.ACTION_USER_PRESENT&&(a("log","at App.vue:3430","解锁"),clearInterval(e.globalData.xiPingTimer))}});let l=plus.android.importClass("android.content.IntentFilter"),o=plus.android.importClass("android.content.Intent"),n=new l;n.addAction(o.ACTION_SCREEN_ON),n.addAction(o.ACTION_SCREEN_OFF),n.addAction(o.ACTION_USER_PRESENT),t.registerReceiver(e.globalData.xiPingReceiver,n)},cancelXiPingListen(){plus.android.runtimeMainActivity().unregisterReceiver(this.globalData.xiPingReceiver)},registerXiPing(){try{wl.register()}catch(Cl){a("log","at App.vue:3458","ScreenFlashModule.unregister fail:",Cl)}},startXiPing(){a("log","at App.vue:3464","start xi ping");let e=this.getReqToken();if("ios"==this.globalData.os)return a("log","at App.vue:3470","start xi ping error: ios not support"),!1;if(""==e)return a("log","at App.vue:3475","start xi ping error: accessToken is empty"),!1;this.goPost("order/getremaintime",{hideLoading:1},(function(e){if(a("log","at App.vue:3487","startXiPing:",e),1!=e.status)return!1;try{wl.startScreenFlash(e.remainTime,-1)}catch(Cl){a("log","at App.vue:3497","ScreenFlashModule.startScreenFlash fail:",Cl)}}))},cancelXiPing(){try{wl.unregister()}catch(Cl){a("log","at App.vue:3511","ScreenFlashModule.unregister fail:",Cl)}},updateXiPing(){this.goPost("order/getremaintime",{hideLoading:1},(function(e){a("log","at App.vue:3526","ScreenFlashModule.setTime:",e.remainTime);try{wl.setTime(e.remainTime)}catch(Cl){a("log","at App.vue:3532","ScreenFlashModule.updateTime fail:",Cl)}}))},setFlash(e){try{wl.setFlash(e)}catch(Cl){a("log","at App.vue:3546","ScreenFlashModule.setFlash fail:",e,Cl)}},playVoice:function(e){if(a("log","at App.vue:3558","text",e),""!=e){var t=new SpeechSynthesisUtterance;t.text=e,t.lang="zh",t.volume=1e3,t.rate=.7,t.pitch=1,speechSynthesis.speak(t)}else a("log","at App.vue:3560","播放内容为空")},ping(e){let l=this,o=l.getTimestamp(),n=0,s=e.hasOwnProperty("success")?e.success:null,i=e.hasOwnProperty("surePing")?e.surePing:0;if(o-l.globalData.lastPingTime<30&&0==i)return"function"==typeof s&&s(1),!1;if(l.globalData.notPingTime>o&&0==i)return"function"==typeof s&&s(0),!1;try{let c=t("NetworkModule"),r={ip:e.ip,timeout:e.timeout};a("log","at App.vue:3627","NetworkModule.ping start"),c.ping(r,(function(t){a("log","at App.vue:3630","NetworkModule.ping",e.ip,t),"ios"==l.globalData.os?t[0].indexOf(1)>-1?(a("log","at App.vue:3635","可以访问"),n=1):a("log","at App.vue:3639","不可以访问"):t.includes("ttl")?(a("log","at App.vue:3646","可以访问"),n=1):a("log","at App.vue:3650","不可以访问"),1==n?(l.globalData.lastPingTime=o,l.globalData.pingFailTimes=0,l.globalData.notPingTime=0):(l.globalData.pingFailTimes++,l.globalData.pingFailTimes>=3&&0==i&&(0==l.globalData.notPingTime&&l.showModal({title:"温馨提示",content:"当前内网不可访问，已为你切换到公网模式，60秒后将尝试切回内网模式",showCancel:!1,confirmText:"我知道了",autoCancel:!0,success(e){}}),l.globalData.pingFailTimes=0,l.globalData.notPingTime=o+62)),"function"==typeof s&&s(n)}))}catch(Cl){a("log","at App.vue:3694","NetworkModule.ping fail:",Cl),"function"==typeof s&&s(n)}},showModal(e){Bl.showModal(e)},getLocationAccuracy:()=>uni.getAppAuthorizeSetting().locationAccuracy,initBluetoothChangeListen(){let e=this;if("ios"==e.globalData.os)return!1;Nl&&(a("log","at App.vue:3727","initBluetoothChangeListen"),Nl.addEventListener("bluetoothState",(function(t){a("log","at App.vue:3731","app-bluetoothState-----",t);let l=!0;"STATE_OFF"==t.state&&(l=!1,e.setCurrentBuleTooth(""),uni.$emit("bleStatusChange",l)),"STATE_TURNING_OFF"==t.state&&(l=!1,e.setCurrentBuleTooth(""),uni.$emit("bleStatusChange",l)),"ACTION_ACL_DISCONNECTED"==t.state&&(l=!1,e.setCurrentBuleTooth(""),uni.$emit("bleStatusChange",l)),a("log","at App.vue:3750","app-state-----",l),e.globalData.bleStatus=l})))},getCurrentBuleTooth:function(e,t){var a=uni.getStorageSync("currentBuleTooth");return a&&""!=a||(a={mac:"",name:""}),a},setCurrentBuleTooth:function(e){e=""!=e?e:{mac:"",name:""};uni.setStorageSync("currentBuleTooth",e)},disBleConnect(){bl.disconnect(),this.setCurrentBuleTooth("")},getBleStatus(){let e=!1;return bl&&(e=bl.isEnabled()),a("log","at App.vue:3806","app-getBleStatus-----",e),this.globalData.bleStatus=e,e},goBleWarn(){this.setCurrentBuleTooth(""),uni.navigateTo({url:"/pages/bluetooth/warn"})},getBleUuid(){return this.globalData.bleUuid},async checkRecordVoice(){let e=this;if(1!=e.globalData.checkUpdateComplete)return a("log","at App.vue:3848","上传录音错误: 等待更新"),setTimeout((function(){e.checkRecordVoice()}),2e3),!1;if(1==e.globalData.isUploadRecordVoice)return!1;if(e.globalData.isUploadRecordVoice=1,a("log","at App.vue:3865","开始检查是否有录音文件需要上传"),1!=await e.checkNetworkType())return a("log","at App.vue:3871","当前非WIFI下，不执行录音上传"),e.globalData.isUploadRecordVoice=0,!1;let t=[];if(t="ios"==e.globalData.os?await e.getRecordFileListIos():await e.getRecordFileList(),a("log","at App.vue:3886","录音文件列表",t),t.length<1)return a("log","at App.vue:3889","没有需要上传的录音文件"),e.globalData.isUploadRecordVoice=0,!1;let l=5*t.length;a("log","at App.vue:3896",l+"秒后释放上传录音锁"),setTimeout((function(){e.globalData.isUploadRecordVoice=0}),1e3*l);try{e.uploadRecordVoice(t)}catch(o){a("log","at App.vue:3907","uploadRecordVoice error",o)}},getRecordFileList(){let e=this;return new Promise((t=>{uni.getSavedFileList({success:function(l){a("log","at App.vue:3921","uni.getSavedFileList: ",l);let o=[];if(!l||!l.hasOwnProperty("fileList")||l.fileList.length<1)return t(o),!1;let n=l.fileList;for(let t in n){let a=e.getRecordVoiceData(n[t].filePath);""!=a&&o.push(a)}t(o)}})}))},getRecordFileListIos(){let e=this;return new Promise((t=>{let l=[],o=plus.io.convertLocalFileSystemURL("_documents");a("log","at App.vue:3958","documentsDir:",o);let n=o+"/upclock/";plus.io.resolveLocalFileSystemURL(n,(function(o){if(o.isDirectory){o.createReader().readEntries((function(o){o.forEach((function(o){a("log","at App.vue:3974","文件名：",o.name);let s=e.getFileExtension(o.name).toLowerCase();if(a("log","at App.vue:3978","文件后缀：",s),"aac"==s||"wav"==s){let e=o.name.split(".")[0];e=e.split("_"),a("log","at App.vue:3986","文件名切割：",e),4==e.length&&l.push({name:o.name,path:n+o.name,bid:e[0],sid:e[1],orderid:e[2],time:e[3]})}t(l)}))}),(function(e){a("error","at App.vue:4006","读取目录失败："+JSON.stringify(e)),t(l)}))}else a("error","at App.vue:4011",n+" 不是一个目录"),t(l)}),(function(e){a("error","at App.vue:4016","解析目录失败："+JSON.stringify(e)),t(l)}))}))},getRecordVoiceData(e){let t=this.getFileName(e),a=uni.getStorageSync(t);return""!=a&&null!=a&&void 0!==a||(a=""),a},getFileExtension(e){let t=e.split(".");return t[t.length-1]},uploadRecordVoice(e){let t=this;if(e.length<1)return a("log","at App.vue:4048","上传录音执行完毕"),!1;let l=e.shift();a("log","at App.vue:4054","上传录音：",l),t.uploadFile(l.path,{type:2,hideLoading:1},(function(o){a("log","at App.vue:4058","录音文件上传成功",o);let n={bid:l.bid,sid:l.sid,orderid:l.orderid,addtime:l.time,path:o.path,hideLoading:1};t.goPost("recordvoice/add",n,(function(o){a("log","at App.vue:4073","录音文件保存成功",o),t.removeLocalFile(l.path),l.hasOwnProperty("key")&&""!=l.key&&uni.removeStorageSync(l.key),t.uploadRecordVoice(e)}))}))},removeLocalFile(e){uni.removeSavedFile({filePath:e,complete:function(t){a("log","at App.vue:4098","删除文件：",e)}})},getFileName(e){let t=e.lastIndexOf("/"),a=e.lastIndexOf("\\"),l=Math.max(t,a);return l<0?e:e.substring(l+1)}}};"android"==uni.getSystemInfoSync().platform&&(uni.showModalReset=uni.showModal,uni.showModal=function({title:e,content:t,showCancel:a,cancelText:l,cancelColor:o,confirmText:n,confirmColor:s,editable:i,placeholderText:c,success:r,fail:d,complete:m}){let u=0;if(!1!==a){u=1;let e=n||"确定";n=l||"取消",l=e;let t=s||"";s=o||"",o=t}uni.showModalReset({title:e,content:t,showCancel:a,cancelText:l||"取消",cancelColor:o||"",confirmText:n||"确定",confirmColor:s||"",editable:i,placeholderText:c,success:e=>{let t={};1==u&&(e.confirm?t.cancel=1:t.confirm=1),r&&r(t)},fail:e=>{d&&d(e)},complete:e=>{m&&m(e)}})});const{app:Vl,Vuex:Tl,Pinia:Sl}=function(){const t=e.createVueApp(xl);return t.config.globalProperties.menuPerm=z.menuPerm,t.config.globalProperties.arraySearch=z.arraySearch,{app:t}}();uni.Vuex=Tl,uni.Pinia=Sl,Vl.provide("__globalStyles",__uniConfig.styles),Vl._component.mpType="app",Vl._component.render=()=>{},Vl.mount("#app")}(Vue);
